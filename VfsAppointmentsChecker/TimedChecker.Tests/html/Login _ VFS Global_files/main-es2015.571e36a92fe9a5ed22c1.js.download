(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,a){e.exports=a("zUnb")},1:function(e,t){},2:function(e,t){},"2XTe":function(e){e.exports=JSON.parse('{"login":{"id":1,"displayName":"Login","logicalName":"login","routeUrl":"login","displayPosition":1,"formLayoutType":{"online":"type-1","backoffice":"type-1"},"apis":{"online":null,"backoffice":null},"controls":[{"row":3,"fields":[{"displayName":"onBoarding.formLabel.label1","logicalName":"username","fieldType":"email","placeholder":"commonSections.formLabel.label4","readOnly":false,"hidden":false,"onChangeEvent":[{"functionName":null,"param1":null}],"defaultValueLookup":null,"defaultValueOptionSet":null,"validations":{"regex":{"message":"commonSections.messages.patternMessages.message1","value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$"},"minValue":null,"maxValue":null,"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4},"mandatory":{"message":"commonSections.messages.requiredMessages.message1","value":true},"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"emailExists":{"message":"onBoarding.messages.errorMessages.message1","value":false}},"referenceEntity":null,"applicableValuesTwoOptions":null,"dateTimeFormat":null,"decimalPrecision":null,"currencyPrecision":null}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"mandatory":false,"bundleLabel":null,"bundleName":null,"row":1,"fields":[{"displayName":"onBoarding.formLabel.label7","logicalName":"password","referenceEntity":null,"defaultValueLookup":null,"applicableValuesTwoOptions":null,"defaultValueOptionSet":null,"dateTimeFormat":null,"hidden":false,"readOnly":false,"decimalPrecision":null,"currencyPrecision":null,"onChangeEvent":[],"fieldType":"password-toggle","placeholder":"commonSections.formLabel.label5","validations":{"mandatory":{"message":"commonSections.messages.requiredMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}}}]},{"mandatory":false,"bundleLabel":null,"bundleName":null,"row":5,"fields":[{"fieldType":"button","displayName":"commonSections.buttons.button6","logicalName":"login","referenceEntity":null,"defaultValueLookup":null,"applicableValuesTwoOptions":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"","onClickEvent":[{"functionName":"loginUser","url":"/user/login","params":[]}]}]}]},"forgotPassword":{"id":1,"displayName":"Forgot Password","logicalName":"forgotPassword","routeUrl":"forgot-password","displayPosition":1,"formLayoutType":{"online":"type-1","backoffice":"type-1"},"apis":{"online":null,"backoffice":null},"controls":[{"row":3,"fields":[{"displayName":"onBoarding.formLabel.label1","logicalName":"username","fieldType":"email","placeholder":"commonSections.formLabel.label2","readOnly":false,"hidden":false,"onChangeEvent":[{"functionName":null,"param1":null}],"defaultValueLookup":null,"defaultValueOptionSet":null,"validations":{"regex":{"message":"commonSections.messages.patternMessages.message1","value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$"},"minValue":null,"maxValue":null,"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4},"mandatory":{"message":"commonSections.messages.requiredMessages.message1","value":true},"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"emailExists":{"message":"onBoarding.messages.errorMessages.message1","value":false}},"referenceEntity":null,"applicableValuesTwoOptions":null,"dateTimeFormat":null,"decimalPrecision":null,"currencyPrecision":null}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"mandatory":false,"bundleLabel":null,"bundleName":null,"row":5,"fields":[{"fieldType":"button","displayName":"commonSections.buttons.button29","logicalName":"login","referenceEntity":null,"defaultValueLookup":null,"applicableValuesTwoOptions":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"","onClickEvent":[{"functionName":"forgotUser","url":"/user/forgotpassword","params":[]}]}]}]},"onBoarding":{"id":1,"displayName":"On Boarding","logicalName":"onBoarding","routeUrl":"on-boarding","displayPosition":1,"formLayoutType":{"online":"type-1","backoffice":"type-1"},"apis":{"online":null,"backoffice":null},"controls":[{"row":3,"fields":[{"displayName":"onBoarding.formLabel.label1","logicalName":"emailid","fieldType":"email","placeholder":"commonSections.formLabel.label2","readOnly":false,"hidden":false,"onChangeEvent":[{"functionName":null,"param1":null}],"defaultValueLookup":null,"defaultValueOptionSet":null,"validations":{"regex":{"message":"commonSections.messages.patternMessages.message1","value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$"},"minValue":null,"maxValue":null,"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4},"mandatory":{"message":"commonSections.messages.requiredMessages.message1","value":true},"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"emailExists":{"message":"onBoarding.messages.errorMessages.message1","value":false}},"referenceEntity":null,"applicableValuesTwoOptions":null,"dateTimeFormat":null,"decimalPrecision":null,"currencyPrecision":null}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"mandatory":false,"bundleLabel":null,"bundleName":null,"row":1,"fields":[{"displayName":"onBoarding.formLabel.label7","logicalName":"password","referenceEntity":null,"defaultValueLookup":null,"applicableValuesTwoOptions":null,"defaultValueOptionSet":null,"dateTimeFormat":null,"hidden":false,"readOnly":false,"decimalPrecision":null,"currencyPrecision":null,"onChangeEvent":[],"fieldType":"password-toggle","placeholder":"commonSections.formLabel.label2","validations":{"mandatory":{"message":"commonSections.messages.requiredMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1},"regex":{"message":"commonSections.messages.patternMessages.message8","value":"^[A-Za-z\\\\d@$%*&!#\\"\\\\\',.?|~`+\\\\-_\\\\=\\\\(\\\\)\\\\{\\\\}\\\\[\\\\]\\\\\\\\/:;<>\\\\^]{8,20}$"}}}]},{"mandatory":false,"bundleLabel":null,"bundleName":null,"row":2,"fields":[{"fieldType":"password-toggle","displayName":"onBoarding.formLabel.label8","logicalName":"confirmPassword","referenceEntity":null,"defaultValueLookup":null,"applicableValuesTwoOptions":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"dateTimeFormat":null,"decimalPrecision":null,"currencyPrecision":null,"onChangeEvent":[{"functionName":"validatePassword","params":"password"}],"changeEmitterFields":[{"targetFieldLogicalName":"password","functionName":"validatePassword","params":"password"}],"placeholder":"commonSections.formLabel.label2","validations":{"regex":{"message":"commonSections.messages.patternMessages.message4","value":"^[A-Za-z\\\\d@$%*&!#\\"\\\\\',.?|~`+\\\\-_\\\\=\\\\(\\\\)\\\\{\\\\}\\\\[\\\\]\\\\\\\\/:;<>\\\\^]{8,20}$"},"mandatory":{"message":"commonSections.messages.requiredMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}}}]},{"row":12,"fields":[{"displayName":"<span>I allow VFS Worldwide Group to process my personal data so that I can use the visa application services offered by them. For more details see <a class=\'c-brand-orange text-decoration-underline\' target=\'_blank\' href=\'register-privacy-policy\'>Privacy Policy</a>","logicalName":"instructionAgreed","referenceEntity":null,"mandatory":false,"defaultValueLookup":false,"applicableValuesTwoOptions":null,"readOnly":false,"placeholder":"","fieldType":"checkbox","hidden":false,"value":false,"onChangeEvent":[{"functionName":"tncChanged","params":[]}],"visaCategory":["1"],"accessibility":"ALL"}]},{"mandatory":false,"bundleLabel":null,"bundleName":null,"row":5,"fields":[{"fieldType":"button","displayName":"commonSections.buttons.button30","logicalName":"login","referenceEntity":null,"defaultValueLookup":null,"applicableValuesTwoOptions":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"","onClickEvent":[{"functionName":"registerUser","url":"/user/registration","params":[]}]}]}]},"schema_default":{"tenent":"nld","secretKey":"@#$nbknknk!@#$MKKK()_^12","dashboardTitle":"dashboard.headerLabel.label1","description":"LIFT","filter":{"module":{"key":"visaTypeId"},"field":{"key":"visaCategoryId"}},"modules":[{"id":1,"displayName":"header.headerLabel.label12","logicalName":"eligibilityCriteria","routeUrl":"application-detail","displayPosition":1,"apis":{"online":[{"url":"/application/get-eligibility","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"centerCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label1","defaultValueLookup":[{"type":"SESSION","value":"curr_app_cntr_code"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label1","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/center","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true}],"displayKey":"centerName","valueKey":"isoCode"},"backoffice":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"nationalityId"}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"selectedSubvisaCategory","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label2","defaultValueLookup":[{"type":"SESSION","value":"curr_app_visa_type"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label2","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/visacategory","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true}],"displayKey":"name","valueKey":"code"},"backoffice":{}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"changeEmitterFields":[{"targetFieldLogicalName":"centerCode","functionName":"updateListenerDropdownField","params":["centerCode"]}]}]},{"row":3,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":4,"fields":[{"readOnly":false,"logicalName":"visaCategoryCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label3","defaultValueLookup":[{"type":"SESSION","value":"cur_app_visa_sub_category"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label3","onChangeEvent":[{"functionName":"isSlotAvailiable","params":[]}],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"visaCategoryCode","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true}],"url":"/master/subvisacategory","displayKey":"name","valueKey":"code"},"backoffice":{}},"changeEmitterFields":[{"targetFieldLogicalName":"selectedSubvisaCategory","functionName":"updateListenerDropdownField","params":["selectedSubvisaCategory"]}],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":5,"fields":[{"readOnly":true,"logicalName":"btnSaveAndContinue","fieldType":"button","hidden":false,"displayName":"commonSections.buttons.button19","defaultValueLookup":"","defaultValueOptionSet":[],"onChangeEvent":[],"placeholder":"","validations":{"regex":{"message":"","value":""},"mandatory":{"message":"","value":""},"minValue":null,"maxValue":{"message":"","value":""},"minLength":{"message":"","value":""},"validateDateTime":{"parentField":"","compareDateWith":"","compareTimeWith":"","comparisonType":"","message":""}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"mandatory":false,"titleText":"","subText1":"","subText2":"","disableOnValues":[],"toggleDisableField":[],"cssClass":"","onClickEvent":[{"functionName":"saveToSession","url":"","params":[{"key":"curr_app_cntr_code","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"curr_app_visa_type","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true},{"key":"cur_app_visa_sub_category","type":"FORM_VALUE","value":"visaCategoryCode","mandatory":true}]},{"functionName":"saveAndContinue","url":"/application/submit-eligibility","params":[{"key":"routeId","type":"SESSION","value":"route_id","mandatory":true},{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":false},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":false},{"key":"documentIdentifierId","type":"SESSION","value":"document_identifier","mandatory":false}]}],"toggleHideShow":[]}],"mandatory":false}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}},{"id":2,"displayName":"header.headerLabel.label4","logicalName":"applicantInformation","routeUrl":"your-details","displayPosition":2,"apis":{"online":[{"url":"/applicant-details/get-applicant-details","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label23","logicalName":"nationalId","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label17","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message40","value":true},"regex":{"value":"^[A-Z0-9]+$","message":"applicantInformation.messages.errorMessages.message41"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"isnationalIdEnabled","type":"STATIC","value":"isnationalIdEnabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label24","logicalName":"VisaToken","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label18","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message42","value":true},"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message43"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"isVisaTokenEnabled","type":"STATIC","value":"isVisaTokenEnabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":1,"fields":[{"displayName":"applicantInformation.formLabel.label14","logicalName":"referenceNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label9","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message19","key":"setRefNoValidation","type":"FUNCTION"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message18","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableReferenceNumber","type":"STATIC","value":"enableReferenceNumber"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":1,"fields":[{"displayName":"applicantInformation.formLabel.label14","logicalName":"referenceNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"Enter refrence number in IRL12345578 format","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message19","key":"setRefNoValidation","type":"FUNCTION"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message18","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableIRLNumber","type":"STATIC","value":"enableIRLNumber"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":1,"fields":[{"displayName":"VLN Number","logicalName":"vlnNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label16","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message32","type":"SESSION","value":"vln_regex"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message31","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"isVLNEnabled","type":"STATIC","value":"isVLNEnabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":1,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label1","logicalName":"firstName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label1","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message1","value":true},"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message13"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isFirstNameDisabled","type":"STATIC","value":"isFirstNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"fields":[{"displayName":"applicantInformation.formLabel.label2","logicalName":"lastName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.messages.errorMessages.message2","fieldType":"textbox","validations":{"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message14"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isLastNameDisabled","type":"STATIC","value":"isLastNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":3,"fields":[{"displayName":"applicantInformation.formLabel.label3","logicalName":"gender","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{},"mandatory":{"message":"applicantInformation.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isGenderDisabled","type":"STATIC","value":"isGenderDisabled"}]}],"optionsListApi":{"online":{"url":"/master/gender","type":"GET","params":[],"displayKey":"langaugeName","valueKey":"id"},"backoffice":{"url":"/master/maritalStatus","type":"GET","params":[],"displayKey":"displayName","valueKey":"id"}}},{"displayName":"applicantInformation.formLabel.label4","logicalName":"dateOfBirth","defaultValueLookup":"","readOnly":false,"placeholder":"applicantInformation.placeholder.label4","fieldType":"datepicker","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message4","value":true},"minValue":null,"maxValue":{"isActive":false,"message":"applicantInformation.messages.errorMessages.message27","type":"CURRENT","value":null,"params":[],"boundaryValue":"-1"},"maxLength":null,"minLength":null,"invalid":"commonSections.messages.errorMessages.message21"},"changeEmitterFields":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isDOBDisabled","type":"STATIC","value":"isDOBDisabled"}]}],"hidden":false,"onChangeEvent":[],"isInputDisabled":true,"disableOnValues":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":true},{"row":4,"fields":[{"displayName":"applicantInformation.formLabel.label5","logicalName":"nationalityCode","defaultValueLookup":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{"value":"^[a-zA-Z0-9]+$","message":""},"mandatory":{"message":"applicantInformation.messages.errorMessages.message5","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"defaultValueOptionSet":null,"optionsListApi":{"online":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"isoCode"},"backoffice":{"url":"/master/residency","type":"GET","params":[],"displayKey":"name","valueKey":"id"}}}],"mandatory":false},{"row":5,"fields":[{"displayName":"applicantInformation.formLabel.label6","logicalName":"passportNumber","defaultValueLookup":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label5","validations":{"regex":{"value":"^[a-zA-Z0-9][a-zA-Z0-9]+$","message":"commonSections.messages.patternMessages.message29"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message6","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1},"customError":[{"code":"passportNoMissmatchTest","message":"applicantInformation.messages.errorMessages.message44"}]},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportNoDisabled","type":"STATIC","value":"isPassportNoDisabled"}]}],"defaultValueOptionSet":null},{"displayName":"applicantInformation.formLabel.label7","logicalName":"passportExpirtyDate","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message7","value":true},"maxValue":null,"minValue":{"isActive":false,"message":"commonSections.messages.errorMessages.message15","type":"CURRENT","value":null,"params":[],"boundaryValue":"1"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message7","customError":[{"code":"passportExpiryMissmatchTest","message":"applicantInformation.messages.errorMessages.message45"}]},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportExpiryDateDisabled","type":"STATIC","value":"isPassportExpiryDateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[]}],"mandatory":true},{"row":6,"fields":[{"displayName":"applicantInformation.formLabel.label12","logicalName":"dateOfDeparture","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","cssClass":"col-12 col-sm-6","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message16","value":true},"minValue":{"isActive":true,"message":"commonSections.messages.errorMessages.message22","type":"CURRENT","value":null,"params":[],"boundaryValue":"0"},"maxValue":{"isActive":true,"key":"mx_alwd_dt_of_departure","message":"applicantInformation.messages.errorMessages.message16","type":"SESSION","value":"mx_alwd_dt_of_departure","params":[{"type":"FUNCTION","key":"mx_alwd_dt_of_departure","value":"0"}],"boundaryValue":"0"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message28"},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableDateOfDeperature","type":"STATIC","value":"enableDateOfDeperature"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[],"displayInfo":{"visible":true,"value":null,"type":"FUNCTION","key":"getDisplayInfo"}}],"mandatory":true},{"row":7,"fields":[{"displayName":"","logicalName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"readOnly":false,"fieldType":"hr","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"","validations":{"regex":null,"mandatory":null,"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"optionsListApi":{"online":null,"backoffice":null}}],"mandatory":false},{"row":8,"fields":[{"displayName":"applicantInformation.formLabel.label10","logicalName":"dialCode","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"44","validations":{"regex":{"value":"^[0-9]+$","message":"applicantInformation.messages.errorMessages.message11"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message8","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":3},"minLength":null},"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}],"optionsListApi":{"online":{},"backoffice":{}}},{"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"input","displayName":"applicantInformation.formLabel.label11","logicalName":"contactNumber","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"onChangeEvent":[],"placeholder":"applicantInformation.placeholder.label7","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message12","value":"^[0-9]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message9","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":15},"minLength":{"message":"commonSections.messages.patternMessages.message27","value":7}},"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}]}],"mandatory":true,"bundleLabel":"applicantInformation.formLabel.label8","bundleName":"contact"},{"row":9,"fields":[{"displayName":"applicantInformation.formLabel.label9","logicalName":"emailId","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"email","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label6","validations":{"regex":{"value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$","message":"commonSections.messages.patternMessages.message1"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message10","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4}},"onChangeEvent":[]}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"row":11,"fields":[{"displayName":"applicantInformation.formLabel.label13","logicalName":"addressline1","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label8","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message17","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine1Disabled","type":"STATIC","value":"isAddressLine1Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":12,"fields":[{"displayName":"applicantInformation.formLabel.label15","logicalName":"addressline2","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label12","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message22","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine2Disabled","type":"STATIC","value":"isAddressLine2Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":13,"fields":[{"displayName":"applicantInformation.formLabel.label16","logicalName":"state","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label11","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message20","value":"^[a-zA-Z ]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message23","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isStateDisabled","type":"STATIC","value":"isStateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":14,"fields":[{"displayName":"applicantInformation.formLabel.label17","logicalName":"city","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label13","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message21","value":"^[a-zA-Z][a-zA-Z\\\\s]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message24","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isCityDisabled","type":"STATIC","value":"isCityDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":15,"fields":[{"displayName":"applicantInformation.formLabel.label18","logicalName":"pincode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label14","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message25","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPinCodeDisabled","type":"STATIC","value":"isPinCodeDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":16,"fields":[{"displayName":"commonSections.buttons.button3","logicalName":"goBack","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"button","hidden":false,"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"cssClass":"btn mat-btn-lg btn-block btn-outline-brand-orange","onClickEvent":[{"functionName":"routePrevious","params":[]}],"matDirective":"mat-stroked-button"},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button16","logicalName":"saveAndContinue","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"saveAndContinue","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":true,"params":[]}]},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button36","logicalName":"updateApplicant","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"updateApplicant","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":false,"params":[]}]}],"mandatory":false,"bundleLabel":null,"bundleName":"multi-button"}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":3,"displayName":"header.headerLabel.label5","logicalName":"bookAppointment","routeUrl":"book-appointment","displayPosition":3,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":4,"displayName":"header.headerLabel.label6","logicalName":"services","routeUrl":"services","displayPosition":4,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":5,"displayName":"header.headerLabel.label16","logicalName":"insurance","routeUrl":"insurance","displayPosition":5,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":6,"displayName":"header.headerLabel.label7","logicalName":"disclaimer","routeUrl":"review-pay","displayPosition":6,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}}]},"schema_default_pt":{"tenent":"nld","secretKey":"@#$nbknknk!@#$MKKK()_^12","dashboardTitle":"dashboard.headerLabel.label1","description":"LIFT","filter":{"module":{"key":"visaTypeId"},"field":{"key":"visaCategoryId"}},"modules":[{"id":1,"displayName":"header.headerLabel.label4","logicalName":"applicantInformation","routeUrl":"your-details","displayPosition":1,"apis":{"online":[{"url":"/applicant-details/get-applicant-details","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"fields":[{"displayName":"applicantInformation.formLabel.label14","logicalName":"referenceNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label9","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message19","key":"setRefNoValidation","type":"FUNCTION"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message18","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableReferenceNumber","type":"STATIC","value":"enableReferenceNumber"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":1,"fields":[{"displayName":"VLN Number","logicalName":"vlnNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label16","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message32","type":"SESSION","value":"vln_regex"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message31","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"isVLNEnabled","type":"STATIC","value":"isVLNEnabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":1,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label1","logicalName":"firstName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label1","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message1","value":true},"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message13"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isFirstNameDisabled","type":"STATIC","value":"isFirstNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"fields":[{"displayName":"applicantInformation.formLabel.label2","logicalName":"lastName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.messages.errorMessages.message2","fieldType":"textbox","validations":{"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message14"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isLastNameDisabled","type":"STATIC","value":"isLastNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":3,"fields":[{"displayName":"applicantInformation.formLabel.label3","logicalName":"gender","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{},"mandatory":{"message":"applicantInformation.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isGenderDisabled","type":"STATIC","value":"isGenderDisabled"}]}],"optionsListApi":{"online":{"url":"/master/gender","type":"GET","params":[],"displayKey":"langaugeName","valueKey":"id"},"backoffice":{"url":"/master/maritalStatus","type":"GET","params":[],"displayKey":"displayName","valueKey":"id"}}},{"displayName":"applicantInformation.formLabel.label4","logicalName":"dateOfBirth","defaultValueLookup":"","readOnly":false,"placeholder":"applicantInformation.placeholder.label4","fieldType":"datepicker","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message4","value":true},"minValue":null,"maxValue":{"isActive":false,"message":"applicantInformation.messages.errorMessages.message27","type":"CURRENT","value":null,"params":[],"boundaryValue":"-1"},"maxLength":null,"minLength":null,"invalid":"commonSections.messages.errorMessages.message21"},"changeEmitterFields":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isDOBDisabled","type":"STATIC","value":"isDOBDisabled"}]}],"hidden":false,"onChangeEvent":[],"isInputDisabled":true,"disableOnValues":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":true},{"row":4,"fields":[{"displayName":"applicantInformation.formLabel.label5","logicalName":"nationalityCode","defaultValueLookup":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{"value":"^[a-zA-Z0-9]+$","message":""},"mandatory":{"message":"applicantInformation.messages.errorMessages.message5","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"defaultValueOptionSet":null,"optionsListApi":{"online":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"isoCode"},"backoffice":{"url":"/master/residency","type":"GET","params":[],"displayKey":"name","valueKey":"id"}}}],"mandatory":false},{"row":5,"fields":[{"displayName":"applicantInformation.formLabel.label6","logicalName":"passportNumber","defaultValueLookup":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label5","validations":{"regex":{"value":"^[a-zA-Z0-9][a-zA-Z0-9]+$","message":"commonSections.messages.patternMessages.message29"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message6","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportNoDisabled","type":"STATIC","value":"isPassportNoDisabled"}]}],"defaultValueOptionSet":null},{"displayName":"applicantInformation.formLabel.label7","logicalName":"passportExpirtyDate","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message7","value":true},"maxValue":null,"minValue":{"isActive":false,"message":"commonSections.messages.errorMessages.message15","type":"CURRENT","value":null,"params":[],"boundaryValue":"1"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message7"},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportExpiryDateDisabled","type":"STATIC","value":"isPassportExpiryDateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[]}],"mandatory":true},{"row":6,"fields":[{"displayName":"applicantInformation.formLabel.label12","logicalName":"dateOfDeparture","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","cssClass":"col-12 col-sm-6","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message16","value":true},"minValue":{"isActive":true,"message":"commonSections.messages.errorMessages.message22","type":"CURRENT","value":null,"params":[],"boundaryValue":"0"},"maxValue":{"isActive":true,"key":"mx_alwd_dt_of_departure","message":"applicantInformation.messages.errorMessages.message16","type":"SESSION","value":"mx_alwd_dt_of_departure","params":[{"type":"FUNCTION","key":"mx_alwd_dt_of_departure","value":"0"}],"boundaryValue":"0"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message28"},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableDateOfDeperature","type":"STATIC","value":"enableDateOfDeperature"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[],"displayInfo":{"visible":true,"value":null,"type":"FUNCTION","key":"getDisplayInfo"}}],"mandatory":true},{"row":7,"fields":[{"displayName":"","logicalName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"readOnly":false,"fieldType":"hr","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"","validations":{"regex":null,"mandatory":null,"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"optionsListApi":{"online":null,"backoffice":null}}],"mandatory":false},{"row":8,"fields":[{"displayName":"applicantInformation.formLabel.label10","logicalName":"dialCode","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"44","validations":{"regex":{"value":"^[0-9]+$","message":"applicantInformation.messages.errorMessages.message11"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message8","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":3},"minLength":null},"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}],"optionsListApi":{"online":{},"backoffice":{}}},{"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"input","displayName":"applicantInformation.formLabel.label11","logicalName":"contactNumber","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"onChangeEvent":[],"placeholder":"applicantInformation.placeholder.label7","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message12","value":"^[0-9]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message9","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":15},"minLength":{"message":"commonSections.messages.patternMessages.message27","value":7}},"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}]}],"mandatory":true,"bundleLabel":"applicantInformation.formLabel.label8","bundleName":"contact"},{"row":9,"fields":[{"displayName":"applicantInformation.formLabel.label9","logicalName":"emailId","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"email","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label6","validations":{"regex":{"value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$","message":"commonSections.messages.patternMessages.message1"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message10","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4}},"onChangeEvent":[]}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"row":11,"fields":[{"displayName":"applicantInformation.formLabel.label13","logicalName":"addressline1","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label8","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message17","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine1Disabled","type":"STATIC","value":"isAddressLine1Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":12,"fields":[{"displayName":"applicantInformation.formLabel.label15","logicalName":"addressline2","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label12","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message22","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine2Disabled","type":"STATIC","value":"isAddressLine2Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":13,"fields":[{"displayName":"applicantInformation.formLabel.label16","logicalName":"state","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label11","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message20","value":"^[a-zA-Z ]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message23","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isStateDisabled","type":"STATIC","value":"isStateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":14,"fields":[{"displayName":"applicantInformation.formLabel.label17","logicalName":"city","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label13","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message21","value":"^[a-zA-Z][a-zA-Z\\\\s]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message24","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isCityDisabled","type":"STATIC","value":"isCityDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":15,"fields":[{"displayName":"applicantInformation.formLabel.label18","logicalName":"pincode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label14","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message25","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPinCodeDisabled","type":"STATIC","value":"isPinCodeDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":16,"fields":[{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button16","logicalName":"saveAndContinue","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"saveAndContinue","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":true,"params":[]}]},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button36","logicalName":"updateApplicant","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"updateApplicant","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":false,"params":[]}]}],"mandatory":false,"bundleLabel":null,"bundleName":"multi-button"}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":2,"displayName":"header.headerLabel.label12","logicalName":"eligibilityCriteria","routeUrl":"applicationdetails","displayPosition":2,"apis":{"online":[{"url":"/application/get-eligibility","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"centerCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label1","defaultValueLookup":[{"type":"SESSION","value":"curr_app_cntr_code"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label1","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/center","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true}],"displayKey":"centerName","valueKey":"isoCode"},"backoffice":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"nationalityId"}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"selectedSubvisaCategory","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label2","defaultValueLookup":[{"type":"SESSION","value":"curr_app_visa_type"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label2","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/visacategory","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true}],"displayKey":"name","valueKey":"code"},"backoffice":{}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"changeEmitterFields":[{"targetFieldLogicalName":"centerCode","functionName":"updateListenerDropdownField","params":["centerCode"]}]}]},{"row":3,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":4,"fields":[{"readOnly":false,"logicalName":"visaCategoryCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label3","defaultValueLookup":[{"type":"SESSION","value":"cur_app_visa_sub_category"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label3","onChangeEvent":[{"functionName":"isSlotAvailiable","params":[]}],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"visaCategoryCode","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true}],"url":"/master/subvisacategory","displayKey":"name","valueKey":"code"},"backoffice":{}},"changeEmitterFields":[{"targetFieldLogicalName":"selectedSubvisaCategory","functionName":"updateListenerDropdownField","params":["selectedSubvisaCategory"]}],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":5,"fields":[{"readOnly":true,"logicalName":"btnSaveAndContinue","fieldType":"button","hidden":false,"displayName":"commonSections.buttons.button19","defaultValueLookup":"","defaultValueOptionSet":[],"onChangeEvent":[],"placeholder":"","validations":{"regex":{"message":"","value":""},"mandatory":{"message":"","value":""},"minValue":null,"maxValue":{"message":"","value":""},"minLength":{"message":"","value":""},"validateDateTime":{"parentField":"","compareDateWith":"","compareTimeWith":"","comparisonType":"","message":""}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"mandatory":false,"titleText":"","subText1":"","subText2":"","disableOnValues":[],"toggleDisableField":[],"cssClass":"","onClickEvent":[{"functionName":"saveToSession","url":"","params":[{"key":"curr_app_cntr_code","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"curr_app_visa_type","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true},{"key":"cur_app_visa_sub_category","type":"FORM_VALUE","value":"visaCategoryCode","mandatory":true}]},{"functionName":"saveAndContinue","url":"/application/submit-eligibility","params":[{"key":"routeId","type":"SESSION","value":"route_id","mandatory":true},{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":false},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":false},{"key":"documentIdentifierId","type":"SESSION","value":"document_identifier","mandatory":false}]}],"toggleHideShow":[]}],"mandatory":false}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}},{"id":3,"displayName":"header.headerLabel.label5","logicalName":"bookAppointment","routeUrl":"book-appointment","displayPosition":3,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":4,"displayName":"header.headerLabel.label6","logicalName":"services","routeUrl":"services","displayPosition":4,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":5,"displayName":"header.headerLabel.label7","logicalName":"disclaimer","routeUrl":"review-pay","displayPosition":5,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}}]},"schema_ihc":{"tenent":"ihc","secretKey":"@#$nbknknk!@#$MKKK()_^12","dashboardTitle":"dashboard.headerLabel.label1","description":"LIFT","filter":{"module":{"key":"visaTypeId"},"field":{"key":"visaCategoryId"}},"modules":[{"id":1,"displayName":"header.headerLabel.label12","logicalName":"eligibilityCriteria","routeUrl":"application-detail","displayPosition":1,"apis":{"online":[{"url":"/application/get-eligibility","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"centerCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label1","defaultValueLookup":[{"type":"SESSION","value":"curr_app_cntr_code"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label1","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/center","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true}],"displayKey":"centerName","valueKey":"isoCode"},"backoffice":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"nationalityId"}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"selectedSubvisaCategory","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label2","defaultValueLookup":[{"type":"SESSION","value":"curr_app_visa_type"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label2","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/visacategory","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true}],"displayKey":"name","valueKey":"code"},"backoffice":{}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"changeEmitterFields":[{"targetFieldLogicalName":"centerCode","functionName":"updateListenerDropdownField","params":["centerCode"]}]}]},{"row":3,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":4,"fields":[{"readOnly":false,"logicalName":"visaCategoryCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label3","defaultValueLookup":[{"type":"SESSION","value":"cur_app_visa_sub_category"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label3","onChangeEvent":[{"functionName":"isSlotAvailiable","params":[]}],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"visaCategoryCode","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true}],"url":"/master/subvisacategory","displayKey":"name","valueKey":"code"},"backoffice":{}},"changeEmitterFields":[{"targetFieldLogicalName":"selectedSubvisaCategory","functionName":"updateListenerDropdownField","params":["selectedSubvisaCategory"]}],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":5,"fields":[{"readOnly":true,"logicalName":"btnSaveAndContinue","fieldType":"button","hidden":false,"displayName":"commonSections.buttons.button19","defaultValueLookup":"","defaultValueOptionSet":[],"onChangeEvent":[],"placeholder":"","validations":{"regex":{"message":"","value":""},"mandatory":{"message":"","value":""},"minValue":null,"maxValue":{"message":"","value":""},"minLength":{"message":"","value":""},"validateDateTime":{"parentField":"","compareDateWith":"","compareTimeWith":"","comparisonType":"","message":""}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"mandatory":false,"titleText":"","subText1":"","subText2":"","disableOnValues":[],"toggleDisableField":[],"cssClass":"","onClickEvent":[{"functionName":"saveToSession","url":"","params":[{"key":"curr_app_cntr_code","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"curr_app_visa_type","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true},{"key":"cur_app_visa_sub_category","type":"FORM_VALUE","value":"visaCategoryCode","mandatory":true}]},{"functionName":"saveAndContinue","url":"/application/submit-eligibility","params":[{"key":"routeId","type":"SESSION","value":"route_id","mandatory":true},{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":false},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":false},{"key":"documentIdentifierId","type":"SESSION","value":"document_identifier","mandatory":false}]}],"toggleHideShow":[]}],"mandatory":false}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}},{"id":2,"displayName":"header.headerLabel.label4","logicalName":"applicantInformation","routeUrl":"your-details","displayPosition":2,"apis":{"online":[{"url":"/applicant-details/get-applicant-details","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"fields":[{"displayName":"applicantInformation.formLabel.label14","logicalName":"centreCodeForRefenceNumber","defaultValueLookup":[{"type":"SESSION","value":"curr_app_cntr_code"}],"readOnly":false,"fieldType":"textbox","cssClass":"col-4","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label9","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message19","value":"([a-zA-Z]){4}$","key":"","type":"STATIC"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message18","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableReferenceNumber","type":"STATIC","value":"enableReferenceNumber"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[]},{"displayName":"applicantInformation.formLabel.label14","logicalName":"referenceNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"col-8","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label9","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message19","value":"centerCode","key":"setGovtRefNoValidation","type":"FUNCTION"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message18","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableReferenceNumber","type":"STATIC","value":"enableReferenceNumber"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true,"bundleName":"contact","bundleLabel":"applicantInformation.formLabel.label14","displayInfo":{"visible":true,"value":"applicantInformation.messages.infoMessages.message4","type":"STATIC","key":null}},{"row":1,"fields":[{"displayName":"applicantInformation.formLabel.label1","logicalName":"firstName","defaultValueLookup":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label1","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message13","value":"^[a-zA-Z][a-zA-Z ]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message1","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isFirstNameDisabled","type":"STATIC","value":"isFirstNameDisabled"}]}],"defaultValueOptionSet":null}],"mandatory":false},{"row":1,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label19","logicalName":"middleName","defaultValueLookup":"","readOnly":false,"placeholder":"applicantInformation.placeholder.label15","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message29","value":false},"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message30"},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null,"invalid":""},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"cssClass":"","toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableMiddleName","type":"STATIC","value":"enableMiddleName"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}]},{"row":2,"fields":[{"displayName":"applicantInformation.formLabel.label2","logicalName":"lastName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label2","fieldType":"textbox","validations":{"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message14"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message2","value":false},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isLastNameDisabled","type":"STATIC","value":"isLastNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":3,"fields":[{"displayName":"applicantInformation.formLabel.label3","logicalName":"gender","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{},"mandatory":{"message":"applicantInformation.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isGenderDisabled","type":"STATIC","value":"isGenderDisabled"}]}],"optionsListApi":{"online":{"url":"/master/gender","type":"GET","params":[],"displayKey":"langaugeName","valueKey":"id"},"backoffice":{"url":"/master/maritalStatus","type":"GET","params":[],"displayKey":"displayName","valueKey":"id"}}},{"displayName":"applicantInformation.formLabel.label4","logicalName":"dateOfBirth","defaultValueLookup":"","readOnly":false,"placeholder":"applicantInformation.placeholder.label4","fieldType":"datepicker","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message4","value":true},"minValue":null,"maxValue":{"isActive":false,"message":"applicantInformation.messages.errorMessages.message27","type":"CURRENT","value":null,"params":[],"boundaryValue":"-1"},"maxLength":null,"minLength":null,"invalid":"commonSections.messages.errorMessages.message21"},"changeEmitterFields":[],"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"isInputDisabled":true,"disableOnValues":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":true},{"row":4,"fields":[{"displayName":"applicantInformation.formLabel.label21","logicalName":"passportType","defaultValueLookup":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{"value":"^[a-zA-Z0-9]+$","message":""},"mandatory":{"message":"applicantInformation.messages.errorMessages.message5","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"defaultValueOptionSet":null,"optionsListApi":{"online":{"url":"/master/passporttype","type":"GET","params":[],"displayKey":"name","valueKey":"code"},"backoffice":null}}],"mandatory":false},{"row":5,"fields":[{"displayName":"applicantInformation.formLabel.label6","logicalName":"passportNumber","defaultValueLookup":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label5","validations":{"regex":{"value":"^[a-zA-Z0-9][a-zA-Z0-9]+$","message":"commonSections.messages.patternMessages.message29"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message6","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportNoDisabled","type":"STATIC","value":"isPassportNoDisabled"}]}],"defaultValueOptionSet":null},{"displayName":"applicantInformation.formLabel.label7","logicalName":"passportExpirtyDate","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message7","value":true},"maxValue":null,"minValue":{"isActive":false,"message":"commonSections.messages.errorMessages.message15","type":"CURRENT","value":null,"params":[],"boundaryValue":"180"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message7"},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportExpiryDateDisabled","type":"STATIC","value":"isPassportExpiryDateDisabled"}]}],"toggleDisableField":[],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[]}],"mandatory":true},{"row":6,"fields":[{"displayName":"applicantInformation.formLabel.label12","logicalName":"dateOfDeparture","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","cssClass":"col-12 col-sm-6","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message16","value":true},"minValue":{"isActive":true,"message":"commonSections.messages.errorMessages.message22","type":"CURRENT","value":null,"params":[],"boundaryValue":"0"},"maxValue":{"isActive":true,"key":"mx_alwd_dt_of_departure","message":"applicantInformation.messages.errorMessages.message16","type":"SESSION","value":"mx_alwd_dt_of_departure","params":[{"type":"FUNCTION","key":"mx_alwd_dt_of_departure","value":"0"}],"boundaryValue":"0"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message28"},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableDateOfDeperature","type":"STATIC","value":"enableDateOfDeperature"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[],"displayInfo":{"visible":true,"value":null,"type":"FUNCTION","key":"getDisplayInfo"}}],"mandatory":true},{"row":7,"fields":[{"displayName":"","logicalName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"readOnly":false,"fieldType":"hr","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"","validations":{"regex":null,"mandatory":null,"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"optionsListApi":{"online":null,"backoffice":null}}],"mandatory":false},{"row":8,"fields":[{"displayName":"applicantInformation.formLabel.label10","logicalName":"dialCode","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"44","validations":{"regex":{"value":"^[0-9]+$","message":"applicantInformation.messages.errorMessages.message11"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message8","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}],"optionsListApi":{"online":{},"backoffice":{}}},{"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"input","displayName":"applicantInformation.formLabel.label11","logicalName":"contactNumber","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"onChangeEvent":[],"placeholder":"applicantInformation.placeholder.label7","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message12","value":"^[0-9]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message9","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":15},"minLength":{"message":"commonSections.messages.patternMessages.message27","value":7}},"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}]}],"mandatory":true,"bundleLabel":"applicantInformation.formLabel.label8","bundleName":"contact","displayInfo":{"visible":true,"value":"applicantInformation.messages.infoMessages.message5","type":"STATIC","key":null}},{"row":9,"fields":[{"displayName":"applicantInformation.formLabel.label9","logicalName":"emailId","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"email","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label6","validations":{"regex":{"value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$","message":"commonSections.messages.patternMessages.message1"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message10","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4}},"onChangeEvent":[]}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"row":11,"fields":[{"displayName":"applicantInformation.formLabel.label13","logicalName":"addressline1","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label8","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message17","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine1Disabled","type":"STATIC","value":"isAddressLine1Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":12,"fields":[{"displayName":"applicantInformation.formLabel.label15","logicalName":"addressline2","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label12","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message22","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine2Disabled","type":"STATIC","value":"isAddressLine2Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":13,"fields":[{"displayName":"applicantInformation.formLabel.label16","logicalName":"stateCode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label11","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message20","value":"^[a-zA-Z]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message23","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isStateDisabled","type":"STATIC","value":"isStateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":14,"fields":[{"displayName":"applicantInformation.formLabel.label17","logicalName":"cityCode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label13","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message21","value":"^[a-zA-Z][a-zA-Z\\\\s]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message24","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isCityDisabled","type":"STATIC","value":"isCityDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":15,"fields":[{"displayName":"applicantInformation.formLabel.label18","logicalName":"pincode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label14","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message25","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPinCodeDisabled","type":"STATIC","value":"isPinCodeDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":16,"fields":[{"displayName":"commonSections.buttons.button3","logicalName":"goBack","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"button","hidden":false,"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"cssClass":"btn mat-btn-lg btn-block btn-outline-brand-orange","onClickEvent":[{"functionName":"routePrevious","params":[]}],"matDirective":"mat-stroked-button"},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button16","logicalName":"saveAndContinue","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"saveAndContinue","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":true,"params":[]}]},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button36","logicalName":"updateApplicant","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"updateApplicant","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":false,"params":[]}]}],"mandatory":false,"bundleLabel":null,"bundleName":"multi-button"}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":3,"displayName":"header.headerLabel.label5","logicalName":"bookAppointment","routeUrl":"book-appointment","displayPosition":3,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":3,"displayName":"header.headerLabel.label14","logicalName":"postalInformation","routeUrl":"postal-information","displayPosition":3,"apis":{"online":[],"backoffice":[]},"controls":[{"row":1,"mandatory":false,"fields":[{"displayName":"postalInformation.formLabel.label8","logicalName":"courierType","defaultValueLookup":null,"defaultValueOptionSet":[],"readOnly":false,"placeholder":"commonSections.formLabel.label1","fieldType":"dropdown","validations":{"regex":null,"mandatory":{"message":"commonSections.messages.requiredMessages.message1","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/couriertype","type":"GET","params":[],"displayKey":"name","valueKey":"code"},"backoffice":{}},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":1,"fields":[{"displayName":"postalInformation.formLabel.label1","logicalName":"pincode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"postalInformation.placeholder.label1","validations":{"regex":{"message":"commonSections.messages.patternMessages.message21","value":"^[0-9]*$"},"mandatory":{"message":"commonSections.messages.patternMessages.message21","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message21","value":5},"minLength":{"message":"commonSections.messages.patternMessages.message21","value":5},"customError":[{"code":"invalidPostalCode","message":"commonSections.messages.patternMessages.message21"}],"invalid":""},"onChangeEvent":[{"functionName":"updateListenerTextField","params":[{"key":"postalCode","type":"FORM_VALUE","value":"pincode"}],"url":"/courier/validatepostalcode","type":"POST"}],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["PPD"]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":2,"fields":[{"displayName":"postalInformation.formLabel.label2","logicalName":"addressline1","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label8","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message17","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["PPD"]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":3,"fields":[{"displayName":"postalInformation.formLabel.label3","logicalName":"addressline2","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label12","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message22","value":false},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["PPD"]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":false},{"row":4,"fields":[{"displayName":"postalInformation.formLabel.label4","logicalName":"state","defaultValueLookup":[],"readOnly":false,"fieldType":"dropdown","cssClass":"","optionsListApi":{"online":{"url":"/master/state","type":"GET","getParamsType":"slash","displayKey":"stateName","valueKey":"isoCode","params":[{"key":"countryCode","type":"SESSION","value":"countrycode","mandatory":true}]},"backoffice":{}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label11","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message23","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["PPD"]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":5,"fields":[{"displayName":"postalInformation.formLabel.label5","logicalName":"city","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label13","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message21","value":"^[a-zA-Z ]*[a-zA-Z]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message24","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["PPD"]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":6,"fields":[{"displayName":"postalInformation.formLabel.label6","logicalName":"countryCode","defaultValueLookup":[{"type":"STATIC","value":"USA"}],"readOnly":false,"fieldType":"dropdown","cssClass":"","hidden":false,"placeholder":"commonSections.formLabel.label1","validations":{"regex":null,"mandatory":{"message":"postalInformation.messages.errorMessages.message3","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["PPD"]}],"isInputDisabled":false,"disableOnValues":[],"optionsListApi":{"online":{"url":"/master/nationality","type":"GET","getParamsType":"queryParam","params":[{"key":"serviceType","type":"SESSION","value":"cur_app_servicetype","mandatory":true}],"displayKey":"nationalityName","valueKey":"isoCode"},"backoffice":{}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":true},{"row":1,"fields":[{"displayName":"postalInformation.formLabel.label11","logicalName":"courierServiceProvider","defaultValueOptionSet":[],"readOnly":false,"fieldType":"dropdown","cssClass":"","hidden":false,"placeholder":"commonSections.formLabel.label1","validations":{"regex":null,"mandatory":{"message":"postalInformation.messages.errorMessages.message5","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["VFSC"]}],"isInputDisabled":false,"disableOnValues":[],"optionsListApi":{"online":{"url":"/master/courierserviceprovider","type":"GET","params":[],"displayKey":"name","valueKey":"code"},"backoffice":{}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":true},{"row":2,"fields":[{"displayName":"postalInformation.formLabel.label12","logicalName":"incomingAWBNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"postalInformation.placeholder.label3","validations":{"regex":{"message":"postalInformation.messages.errorMessages.message8","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"postalInformation.messages.errorMessages.message6","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["VFSC"]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":3,"fields":[{"displayName":"postalInformation.formLabel.label13","logicalName":"outgoingAWBNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"postalInformation.placeholder.label4","validations":{"regex":{"message":"postalInformation.messages.errorMessages.message9","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"postalInformation.messages.errorMessages.message7","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["VFSC"]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":7,"fields":[{"displayName":"commonSections.buttons.button3","logicalName":"goBack","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"button","hidden":false,"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"cssClass":"btn mat-btn-lg btn-block btn-outline-brand-orange","onClickEvent":[{"functionName":"routePrevious","params":[]}],"matDirective":"mat-stroked-button"},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button16","logicalName":"saveAndContinue","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"saveAndContinue","url":"","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":true,"params":[]}]},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button36","logicalName":"updatePostal","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"updatePostal","url":"","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":false,"params":[]}]}],"mandatory":false,"bundleLabel":null,"bundleName":"multi-button"}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":4,"displayName":"header.headerLabel.label6","logicalName":"services","routeUrl":"services","displayPosition":4,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":5,"displayName":"header.headerLabel.label7","logicalName":"disclaimer","routeUrl":"review-pay","displayPosition":5,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}}]},"schema_ind_fra":{"tenent":"fra","secretKey":"@#$nbknknk!@#$MKKK()_^12","dashboardTitle":"dashboard.headerLabel.label1","description":"LIFT","filter":{"module":{"key":"visaTypeId"},"field":{"key":"visaCategoryId"}},"modules":[{"id":1,"displayName":"header.headerLabel.label12","logicalName":"eligibilityCriteria","routeUrl":"application-detail","displayPosition":1,"apis":{"online":[{"url":"/application/get-eligibility","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"centerCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label1","defaultValueLookup":[{"type":"SESSION","value":"curr_app_cntr_code"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label1","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/center","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true}],"displayKey":"centerName","valueKey":"isoCode"},"backoffice":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"nationalityId"}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"selectedSubvisaCategory","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label2","defaultValueLookup":[{"type":"SESSION","value":"curr_app_visa_type"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label2","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/visacategory","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true}],"displayKey":"name","valueKey":"code"},"backoffice":{}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"changeEmitterFields":[{"targetFieldLogicalName":"centerCode","functionName":"updateListenerDropdownField","params":["centerCode"]}]}]},{"row":3,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":4,"fields":[{"readOnly":false,"logicalName":"visaCategoryCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label3","defaultValueLookup":[{"type":"SESSION","value":"cur_app_visa_sub_category"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label3","onChangeEvent":[{"functionName":"isSlotAvailiable","params":[]}],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"visaCategoryCode","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true}],"url":"/master/subvisacategory","displayKey":"name","valueKey":"code"},"backoffice":{}},"changeEmitterFields":[{"targetFieldLogicalName":"selectedSubvisaCategory","functionName":"updateListenerDropdownField","params":["selectedSubvisaCategory"]}],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":5,"fields":[{"readOnly":true,"logicalName":"btnSaveAndContinue","fieldType":"button","hidden":false,"displayName":"commonSections.buttons.button19","defaultValueLookup":"","defaultValueOptionSet":[],"onChangeEvent":[],"placeholder":"","validations":{"regex":{"message":"","value":""},"mandatory":{"message":"","value":""},"minValue":null,"maxValue":{"message":"","value":""},"minLength":{"message":"","value":""},"validateDateTime":{"parentField":"","compareDateWith":"","compareTimeWith":"","comparisonType":"","message":""}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"mandatory":false,"titleText":"","subText1":"","subText2":"","disableOnValues":[],"toggleDisableField":[],"cssClass":"","onClickEvent":[{"functionName":"saveToSession","url":"","params":[{"key":"curr_app_cntr_code","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"curr_app_visa_type","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true},{"key":"cur_app_visa_sub_category","type":"FORM_VALUE","value":"visaCategoryCode","mandatory":true}]},{"functionName":"saveAndContinue","url":"/application/submit-eligibility","params":[{"key":"routeId","type":"SESSION","value":"route_id","mandatory":true},{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":false},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":false},{"key":"documentIdentifierId","type":"SESSION","value":"document_identifier","mandatory":false}]}],"toggleHideShow":[]}],"mandatory":false}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}},{"id":2,"displayName":"header.headerLabel.label4","logicalName":"applicantInformation","routeUrl":"your-details","displayPosition":2,"apis":{"online":[{"url":"/applicant-details/get-applicant-details","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"fields":[{"displayName":"applicantInformation.formLabel.label14","logicalName":"referenceNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label9","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message19","value":"^FRA([A-Z0-9]){14}$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message18","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableReferenceNumber","type":"STATIC","value":"enableReferenceNumber"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[],"displayInfo":{"visible":true,"value":"applicantInformation.messages.infoMessages.message3","type":"STATIC","key":null}}],"mandatory":true},{"row":1,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label1","logicalName":"firstName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label1","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message1","value":true},"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message13"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isFirstNameDisabled","type":"STATIC","value":"isFirstNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"fields":[{"displayName":"applicantInformation.formLabel.label2","logicalName":"lastName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.messages.errorMessages.message2","fieldType":"textbox","validations":{"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message14"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isLastNameDisabled","type":"STATIC","value":"isLastNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":3,"fields":[{"displayName":"applicantInformation.formLabel.label3","logicalName":"gender","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{},"mandatory":{"message":"applicantInformation.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isGenderDisabled","type":"STATIC","value":"isGenderDisabled"}]}],"optionsListApi":{"online":{"url":"/master/gender","type":"GET","params":[],"displayKey":"langaugeName","valueKey":"id"},"backoffice":{"url":"/master/maritalStatus","type":"GET","params":[],"displayKey":"displayName","valueKey":"id"}}},{"displayName":"applicantInformation.formLabel.label4","logicalName":"dateOfBirth","defaultValueLookup":"","readOnly":false,"placeholder":"applicantInformation.placeholder.label4","fieldType":"datepicker","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message4","value":true},"minValue":null,"maxValue":{"isActive":false,"message":"applicantInformation.messages.errorMessages.message27","type":"CURRENT","value":null,"params":[],"boundaryValue":"-1"},"maxLength":null,"minLength":null,"invalid":"commonSections.messages.errorMessages.message21"},"changeEmitterFields":[],"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"isInputDisabled":true,"disableOnValues":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":true},{"row":4,"fields":[{"displayName":"applicantInformation.formLabel.label5","logicalName":"nationalityCode","defaultValueLookup":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{"value":"^[a-zA-Z0-9]+$","message":""},"mandatory":{"message":"applicantInformation.messages.errorMessages.message5","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"defaultValueOptionSet":null,"optionsListApi":{"online":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"isoCode"},"backoffice":{"url":"/master/residency","type":"GET","params":[],"displayKey":"name","valueKey":"id"}}}],"mandatory":false},{"row":5,"fields":[{"displayName":"applicantInformation.formLabel.label6","logicalName":"passportNumber","defaultValueLookup":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label5","validations":{"regex":{"value":"^[a-zA-Z0-9][a-zA-Z0-9]+$","message":"commonSections.messages.patternMessages.message29"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message6","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportNoDisabled","type":"STATIC","value":"isPassportNoDisabled"}]}],"defaultValueOptionSet":null},{"displayName":"applicantInformation.formLabel.label7","logicalName":"passportExpirtyDate","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message7","value":true},"maxValue":null,"minValue":{"isActive":false,"message":"commonSections.messages.errorMessages.message15","type":"CURRENT","value":null,"params":[],"boundaryValue":"1"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message7"},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportExpiryDateDisabled","type":"STATIC","value":"isPassportExpiryDateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[]}],"mandatory":true},{"row":6,"fields":[{"displayName":"applicantInformation.formLabel.label12","logicalName":"dateOfDeparture","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","cssClass":"col-12 col-sm-6","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message16","value":true},"minValue":{"isActive":true,"message":"commonSections.messages.errorMessages.message22","type":"CURRENT","value":null,"params":[],"boundaryValue":"0"},"maxValue":{"isActive":true,"key":"mx_alwd_dt_of_departure","message":"applicantInformation.messages.errorMessages.message16","type":"SESSION","value":"mx_alwd_dt_of_departure","params":[{"type":"FUNCTION","key":"mx_alwd_dt_of_departure","value":"0"}],"boundaryValue":"0"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message28"},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableDateOfDeperature","type":"STATIC","value":"enableDateOfDeperature"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[],"displayInfo":{"visible":true,"value":null,"type":"FUNCTION","key":"getDisplayInfo"}}],"mandatory":true},{"row":7,"fields":[{"displayName":"","logicalName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"readOnly":false,"fieldType":"hr","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"","validations":{"regex":null,"mandatory":null,"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"optionsListApi":{"online":null,"backoffice":null}}],"mandatory":false},{"row":8,"fields":[{"displayName":"applicantInformation.formLabel.label10","logicalName":"dialCode","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"44","validations":{"regex":{"value":"^[0-9]+$","message":"applicantInformation.messages.errorMessages.message11"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message8","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}],"optionsListApi":{"online":{},"backoffice":{}}},{"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"input","displayName":"applicantInformation.formLabel.label11","logicalName":"contactNumber","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"onChangeEvent":[],"placeholder":"applicantInformation.placeholder.label7","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message12","value":"^[0-9]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message9","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":15},"minLength":{"message":"commonSections.messages.patternMessages.message27","value":7}},"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}]}],"mandatory":true,"bundleLabel":"applicantInformation.formLabel.label8","bundleName":"contact"},{"row":9,"fields":[{"displayName":"applicantInformation.formLabel.label9","logicalName":"emailId","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"email","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label6","validations":{"regex":{"value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$","message":"commonSections.messages.patternMessages.message1"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message10","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4}},"onChangeEvent":[]}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"row":11,"fields":[{"displayName":"applicantInformation.formLabel.label13","logicalName":"addressline1","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label8","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message17","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine1Disabled","type":"STATIC","value":"isAddressLine1Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":12,"fields":[{"displayName":"applicantInformation.formLabel.label15","logicalName":"addressline2","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label12","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":null,"value":false},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine2Disabled","type":"STATIC","value":"isAddressLine2Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":13,"fields":[{"displayName":"applicantInformation.formLabel.label16","logicalName":"stateCode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label11","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message20","value":"^[a-zA-Z]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message23","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isStateDisabled","type":"STATIC","value":"isStateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":14,"fields":[{"displayName":"applicantInformation.formLabel.label17","logicalName":"cityCode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label13","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message21","value":"^[a-zA-Z][a-zA-Z\\\\s]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message24","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isCityDisabled","type":"STATIC","value":"isCityDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":15,"fields":[{"displayName":"applicantInformation.formLabel.label18","logicalName":"pincode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label14","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message25","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPinCodeDisabled","type":"STATIC","value":"isPinCodeDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":16,"fields":[{"displayName":"commonSections.buttons.button3","logicalName":"goBack","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"button","hidden":false,"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"cssClass":"btn mat-btn-lg btn-block btn-outline-brand-orange","onClickEvent":[{"functionName":"routePrevious","params":[]}],"matDirective":"mat-stroked-button"},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button16","logicalName":"saveAndContinue","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"saveAndContinue","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":true,"params":[]}]},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button36","logicalName":"updateApplicant","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"updateApplicant","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":false,"params":[]}]}],"mandatory":false,"bundleLabel":null,"bundleName":"multi-button"}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":3,"displayName":"header.headerLabel.label5","logicalName":"bookAppointment","routeUrl":"book-appointment","displayPosition":3,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":4,"displayName":"header.headerLabel.label6","logicalName":"services","routeUrl":"services","displayPosition":4,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":5,"displayName":"header.headerLabel.label7","logicalName":"disclaimer","routeUrl":"review-pay","displayPosition":5,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}}]},"schema_ind_ita":{"tenent":"ita","secretKey":"@#$nbknknk!@#$MKKK()_^12","dashboardTitle":"dashboard.headerLabel.label1","description":"LIFT","filter":{"module":{"key":"visaTypeId"},"field":{"key":"visaCategoryId"}},"modules":[{"id":1,"displayName":"header.headerLabel.label12","logicalName":"eligibilityCriteria","routeUrl":"application-detail","displayPosition":1,"apis":{"online":[{"url":"/application/get-eligibility","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"centerCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label1","defaultValueLookup":[{"type":"SESSION","value":"curr_app_cntr_code"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label1","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/center","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true}],"displayKey":"centerName","valueKey":"isoCode"},"backoffice":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"nationalityId"}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"selectedSubvisaCategory","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label2","defaultValueLookup":[{"type":"SESSION","value":"curr_app_visa_type"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label2","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/visacategory","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true}],"displayKey":"name","valueKey":"code"},"backoffice":{}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"changeEmitterFields":[{"targetFieldLogicalName":"centerCode","functionName":"updateListenerDropdownField","params":["centerCode"]}]}]},{"row":3,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":4,"fields":[{"readOnly":false,"logicalName":"visaCategoryCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label3","defaultValueLookup":[{"type":"SESSION","value":"cur_app_visa_sub_category"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label3","onChangeEvent":[{"functionName":"isSlotAvailiable","params":[]}],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"visaCategoryCode","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true}],"url":"/master/subvisacategory","displayKey":"name","valueKey":"code"},"backoffice":{}},"changeEmitterFields":[{"targetFieldLogicalName":"selectedSubvisaCategory","functionName":"updateListenerDropdownField","params":["selectedSubvisaCategory"]}],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":5,"fields":[{"readOnly":true,"logicalName":"btnSaveAndContinue","fieldType":"button","hidden":false,"displayName":"commonSections.buttons.button19","defaultValueLookup":"","defaultValueOptionSet":[],"onChangeEvent":[],"placeholder":"","validations":{"regex":{"message":"","value":""},"mandatory":{"message":"","value":""},"minValue":null,"maxValue":{"message":"","value":""},"minLength":{"message":"","value":""},"validateDateTime":{"parentField":"","compareDateWith":"","compareTimeWith":"","comparisonType":"","message":""}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"mandatory":false,"titleText":"","subText1":"","subText2":"","disableOnValues":[],"toggleDisableField":[],"cssClass":"","onClickEvent":[{"functionName":"saveToSession","url":"","params":[{"key":"curr_app_cntr_code","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"curr_app_visa_type","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true},{"key":"cur_app_visa_sub_category","type":"FORM_VALUE","value":"visaCategoryCode","mandatory":true}]},{"functionName":"saveAndContinue","url":"/application/submit-eligibility","params":[{"key":"routeId","type":"SESSION","value":"route_id","mandatory":true},{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":false},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":false},{"key":"documentIdentifierId","type":"SESSION","value":"document_identifier","mandatory":false}]}],"toggleHideShow":[]}],"mandatory":false}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}},{"id":2,"displayName":"header.headerLabel.label4","logicalName":"applicantInformation","routeUrl":"your-details","displayPosition":2,"apis":{"online":[{"url":"/applicant-details/get-applicant-details","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"fields":[{"displayName":"applicantInformation.formLabel.label14","logicalName":"referenceNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label9","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message19","value":"^FRA([a-zA-Z0-9]){14}$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message18","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableReferenceNumber","type":"STATIC","value":"enableReferenceNumber"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[],"displayInfo":{"visible":true,"value":"applicantInformation.messages.infoMessages.message3","type":"STATIC","key":null}}],"mandatory":true},{"row":1,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label1","logicalName":"firstName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label1","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message1","value":true},"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message13"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isFirstNameDisabled","type":"STATIC","value":"isFirstNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"fields":[{"displayName":"applicantInformation.formLabel.label2","logicalName":"lastName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.messages.errorMessages.message2","fieldType":"textbox","validations":{"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message14"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isLastNameDisabled","type":"STATIC","value":"isLastNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":3,"fields":[{"displayName":"applicantInformation.formLabel.label3","logicalName":"gender","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{},"mandatory":{"message":"applicantInformation.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isGenderDisabled","type":"STATIC","value":"isGenderDisabled"}]}],"optionsListApi":{"online":{"url":"/master/gender","type":"GET","params":[],"displayKey":"langaugeName","valueKey":"id"},"backoffice":{"url":"/master/maritalStatus","type":"GET","params":[],"displayKey":"displayName","valueKey":"id"}}},{"displayName":"applicantInformation.formLabel.label4","logicalName":"dateOfBirth","defaultValueLookup":"","readOnly":false,"placeholder":"applicantInformation.placeholder.label4","fieldType":"datepicker","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message4","value":true},"minValue":null,"maxValue":{"isActive":false,"message":"applicantInformation.messages.errorMessages.message27","type":"CURRENT","value":null,"params":[],"boundaryValue":"-1"},"maxLength":null,"minLength":null,"invalid":"commonSections.messages.errorMessages.message21"},"changeEmitterFields":[],"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"isInputDisabled":true,"disableOnValues":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":true},{"row":4,"fields":[{"displayName":"applicantInformation.formLabel.label5","logicalName":"nationalityCode","defaultValueLookup":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{"value":"^[a-zA-Z0-9]+$","message":""},"mandatory":{"message":"applicantInformation.messages.errorMessages.message5","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"defaultValueOptionSet":null,"optionsListApi":{"online":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"isoCode"},"backoffice":{"url":"/master/residency","type":"GET","params":[],"displayKey":"name","valueKey":"id"}}}],"mandatory":false},{"row":5,"fields":[{"displayName":"applicantInformation.formLabel.label6","logicalName":"passportNumber","defaultValueLookup":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label5","validations":{"regex":{"value":"^[a-zA-Z0-9][a-zA-Z0-9]+$","message":"commonSections.messages.patternMessages.message29"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message6","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportNoDisabled","type":"STATIC","value":"isPassportNoDisabled"}]}],"defaultValueOptionSet":null},{"displayName":"applicantInformation.formLabel.label7","logicalName":"passportExpirtyDate","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message7","value":true},"maxValue":null,"minValue":{"isActive":false,"message":"commonSections.messages.errorMessages.message15","type":"CURRENT","value":null,"params":[],"boundaryValue":"1"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message7"},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportExpiryDateDisabled","type":"STATIC","value":"isPassportExpiryDateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[],"displayInfo":{"visible":true,"value":"applicantInformation.messages.infoMessages.message4","type":"STATIC","key":null}}],"mandatory":true},{"row":6,"fields":[{"displayName":"applicantInformation.formLabel.label12","logicalName":"dateOfDeparture","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","cssClass":"col-12 col-sm-6","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message16","value":true},"minValue":{"isActive":true,"message":"commonSections.messages.errorMessages.message22","type":"CURRENT","value":null,"params":[],"boundaryValue":"0"},"maxValue":{"isActive":true,"key":"mx_alwd_dt_of_departure","message":"applicantInformation.messages.errorMessages.message16","type":"SESSION","value":"mx_alwd_dt_of_departure","params":[{"type":"FUNCTION","key":"mx_alwd_dt_of_departure","value":"0"}],"boundaryValue":"0"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message28"},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableDateOfDeperature","type":"STATIC","value":"enableDateOfDeperature"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[],"displayInfo":{"visible":true,"value":null,"type":"FUNCTION","key":"getDisplayInfo"}}],"mandatory":true},{"row":7,"fields":[{"displayName":"","logicalName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"readOnly":false,"fieldType":"hr","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"","validations":{"regex":null,"mandatory":null,"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"optionsListApi":{"online":null,"backoffice":null}}],"mandatory":false},{"row":8,"fields":[{"displayName":"applicantInformation.formLabel.label10","logicalName":"dialCode","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"44","validations":{"regex":{"value":"^[0-9]+$","message":"applicantInformation.messages.errorMessages.message11"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message8","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}],"optionsListApi":{"online":{},"backoffice":{}}},{"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"input","displayName":"applicantInformation.formLabel.label11","logicalName":"contactNumber","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"onChangeEvent":[],"placeholder":"applicantInformation.placeholder.label7","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message12","value":"^[0-9]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message9","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":15},"minLength":{"message":"commonSections.messages.patternMessages.message27","value":7}},"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}]}],"mandatory":true,"bundleLabel":"applicantInformation.formLabel.label8","bundleName":"contact"},{"row":9,"fields":[{"displayName":"applicantInformation.formLabel.label9","logicalName":"emailId","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"email","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label6","validations":{"regex":{"value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$","message":"commonSections.messages.patternMessages.message1"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message10","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4}},"onChangeEvent":[]}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"row":11,"fields":[{"displayName":"applicantInformation.formLabel.label13","logicalName":"addressline1","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label8","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message17","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine1Disabled","type":"STATIC","value":"isAddressLine1Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":12,"fields":[{"displayName":"applicantInformation.formLabel.label15","logicalName":"addressline2","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label12","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message22","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine2Disabled","type":"STATIC","value":"isAddressLine2Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":13,"fields":[{"displayName":"applicantInformation.formLabel.label16","logicalName":"stateCode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label11","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message20","value":"^[a-zA-Z]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message23","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isStateDisabled","type":"STATIC","value":"isStateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":14,"fields":[{"displayName":"applicantInformation.formLabel.label17","logicalName":"cityCode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label13","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message21","value":"^[a-zA-Z][a-zA-Z\\\\s]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message24","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isCityDisabled","type":"STATIC","value":"isCityDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":15,"fields":[{"displayName":"applicantInformation.formLabel.label18","logicalName":"pincode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label14","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message25","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPinCodeDisabled","type":"STATIC","value":"isPinCodeDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":16,"fields":[{"displayName":"commonSections.buttons.button3","logicalName":"goBack","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"button","hidden":false,"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"cssClass":"btn mat-btn-lg btn-block btn-outline-brand-orange","onClickEvent":[{"functionName":"routePrevious","params":[]}],"matDirective":"mat-stroked-button"},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button16","logicalName":"saveAndContinue","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"saveAndContinue","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":true,"params":[]}]},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button36","logicalName":"updateApplicant","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"updateApplicant","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":false,"params":[]}]}],"mandatory":false,"bundleLabel":null,"bundleName":"multi-button"}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":3,"displayName":"header.headerLabel.label5","logicalName":"bookAppointment","routeUrl":"book-appointment","displayPosition":3,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":4,"displayName":"header.headerLabel.label6","logicalName":"services","routeUrl":"services","displayPosition":4,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":5,"displayName":"header.headerLabel.label7","logicalName":"disclaimer","routeUrl":"review-pay","displayPosition":5,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}}]},"schema_eoi_usa":{"tenent":"nld","secretKey":"@#$nbknknk!@#$MKKK()_^12","dashboardTitle":"dashboard.headerLabel.label1","description":"LIFT","filter":{"module":{"key":"visaTypeId"},"field":{"key":"visaCategoryId"}},"modules":[{"id":1,"displayName":"header.headerLabel.label12","logicalName":"eligibilityCriteria","routeUrl":"application-detail","displayPosition":1,"apis":{"online":[{"url":"/application/get-eligibility","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"centerCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label1","defaultValueLookup":[{"type":"SESSION","value":"curr_app_cntr_code"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label1","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/center","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true}],"displayKey":"centerName","valueKey":"isoCode"},"backoffice":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"nationalityId"}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"selectedSubvisaCategory","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label2","defaultValueLookup":[{"type":"SESSION","value":"curr_app_visa_type"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label2","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/visacategory","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true}],"displayKey":"name","valueKey":"code"},"backoffice":{}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"changeEmitterFields":[{"targetFieldLogicalName":"centerCode","functionName":"updateListenerDropdownField","params":["centerCode"]}]}]},{"row":3,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":4,"fields":[{"readOnly":false,"logicalName":"visaCategoryCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label3","defaultValueLookup":[{"type":"SESSION","value":"cur_app_visa_sub_category"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label3","onChangeEvent":[{"functionName":"isSlotAvailiable","params":[]}],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"visaCategoryCode","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true}],"url":"/master/subvisacategory","displayKey":"name","valueKey":"code"},"backoffice":{}},"changeEmitterFields":[{"targetFieldLogicalName":"selectedSubvisaCategory","functionName":"updateListenerDropdownField","params":["selectedSubvisaCategory"]}],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":5,"fields":[{"readOnly":true,"logicalName":"btnSaveAndContinue","fieldType":"button","hidden":false,"displayName":"commonSections.buttons.button19","defaultValueLookup":"","defaultValueOptionSet":[],"onChangeEvent":[],"placeholder":"","validations":{"regex":{"message":"","value":""},"mandatory":{"message":"","value":""},"minValue":null,"maxValue":{"message":"","value":""},"minLength":{"message":"","value":""},"validateDateTime":{"parentField":"","compareDateWith":"","compareTimeWith":"","comparisonType":"","message":""}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"mandatory":false,"titleText":"","subText1":"","subText2":"","disableOnValues":[],"toggleDisableField":[],"cssClass":"","onClickEvent":[{"functionName":"saveToSession","url":"","params":[{"key":"curr_app_cntr_code","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"curr_app_visa_type","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true},{"key":"cur_app_visa_sub_category","type":"FORM_VALUE","value":"visaCategoryCode","mandatory":true}]},{"functionName":"saveAndContinue","url":"/application/submit-eligibility","params":[{"key":"routeId","type":"SESSION","value":"route_id","mandatory":true},{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":false},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":false},{"key":"documentIdentifierId","type":"SESSION","value":"document_identifier","mandatory":false}]}],"toggleHideShow":[]}],"mandatory":false}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}},{"id":2,"displayName":"header.headerLabel.label4","logicalName":"applicantInformation","routeUrl":"your-details","displayPosition":2,"apis":{"online":[{"url":"/applicant-details/get-applicant-details","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"fields":[{"displayName":"applicantInformation.formLabel.label14","logicalName":"referenceNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label9","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message19","value":"^([a-zA-Z0-9]{12,14})+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message18","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"displayInfo":{"value":"applicantInformation.messages.infoMessages.message18","visible":"true","type":"STATIC","key":"null"},"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableReferenceNumber","type":"STATIC","value":"enableReferenceNumber"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":1,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label1","logicalName":"firstName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label1","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message1","value":true},"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message13"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isFirstNameDisabled","type":"STATIC","value":"isFirstNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"fields":[{"displayName":"applicantInformation.formLabel.label2","logicalName":"lastName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.messages.errorMessages.message2","fieldType":"textbox","validations":{"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message14"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isLastNameDisabled","type":"STATIC","value":"isLastNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"displayInfo":{"value":"applicantInformation.messages.infoMessages.message14","visible":"true","type":"STATIC","key":"null"}}],"mandatory":false},{"row":3,"fields":[{"displayName":"applicantInformation.formLabel.label3","logicalName":"gender","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{},"mandatory":{"message":"applicantInformation.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isGenderDisabled","type":"STATIC","value":"isGenderDisabled"}]}],"optionsListApi":{"online":{"url":"/master/gender","type":"GET","params":[],"displayKey":"langaugeName","valueKey":"id"},"backoffice":{"url":"/master/maritalStatus","type":"GET","params":[],"displayKey":"displayName","valueKey":"id"}}},{"displayName":"applicantInformation.formLabel.label4","logicalName":"dateOfBirth","defaultValueLookup":"","readOnly":false,"placeholder":"applicantInformation.placeholder.label4","fieldType":"datepicker","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message4","value":true},"minValue":null,"maxValue":{"isActive":false,"message":"applicantInformation.messages.errorMessages.message27","type":"CURRENT","value":null,"params":[],"boundaryValue":"-1"},"maxLength":null,"minLength":null,"invalid":"commonSections.messages.errorMessages.message21"},"changeEmitterFields":[],"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"isInputDisabled":true,"disableOnValues":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":true},{"row":4,"fields":[{"displayName":"applicantInformation.formLabel.label5","logicalName":"nationalityCode","defaultValueLookup":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{"value":"^[a-zA-Z0-9]+$","message":""},"mandatory":{"message":"applicantInformation.messages.errorMessages.message5","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"defaultValueOptionSet":null,"optionsListApi":{"online":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"isoCode"},"backoffice":{"url":"/master/residency","type":"GET","params":[],"displayKey":"name","valueKey":"id"}}}],"mandatory":false},{"row":5,"fields":[{"displayName":"applicantInformation.formLabel.label6","logicalName":"passportNumber","defaultValueLookup":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label5","validations":{"regex":{"value":"^[a-zA-Z0-9][a-zA-Z0-9]+$","message":"commonSections.messages.patternMessages.message29"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message6","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportNoDisabled","type":"STATIC","value":"isPassportNoDisabled"}]}],"defaultValueOptionSet":null},{"displayName":"applicantInformation.formLabel.label7","logicalName":"passportExpirtyDate","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message7","value":true},"maxValue":null,"minValue":{"isActive":false,"message":"commonSections.messages.errorMessages.message15","type":"CURRENT","value":null,"params":[],"boundaryValue":"1"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message7"},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportExpiryDateDisabled","type":"STATIC","value":"isPassportExpiryDateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[],"displayInfo":{"value":"applicantInformation.messages.infoMessages.message6","visible":true,"type":"STATIC","key":null}}],"mandatory":true},{"row":6,"fields":[{"displayName":"applicantInformation.formLabel.label12","logicalName":"dateOfDeparture","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","cssClass":"col-12 col-sm-6","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message16","value":true},"minValue":{"isActive":true,"message":"commonSections.messages.errorMessages.message22","type":"CURRENT","value":null,"params":[],"boundaryValue":"0"},"maxValue":{"isActive":true,"key":"mx_alwd_dt_of_departure","message":"applicantInformation.messages.errorMessages.message16","type":"SESSION","value":"mx_alwd_dt_of_departure","params":[{"type":"FUNCTION","key":"mx_alwd_dt_of_departure","value":"0"}],"boundaryValue":"0"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message28"},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableDateOfDeperature","type":"STATIC","value":"enableDateOfDeperature"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[],"displayInfo":{"visible":true,"value":null,"type":"FUNCTION","key":"getDisplayInfo"}}],"mandatory":true},{"row":7,"fields":[{"displayName":"","logicalName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"readOnly":false,"fieldType":"hr","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"","validations":{"regex":null,"mandatory":null,"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"optionsListApi":{"online":null,"backoffice":null}}],"mandatory":false},{"row":8,"fields":[{"displayName":"applicantInformation.formLabel.label10","logicalName":"dialCode","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"44","validations":{"regex":{"value":"^[0-9]+$","message":"applicantInformation.messages.errorMessages.message11"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message8","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}],"optionsListApi":{"online":{},"backoffice":{}}},{"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"input","displayName":"applicantInformation.formLabel.label11","logicalName":"contactNumber","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"onChangeEvent":[],"placeholder":"applicantInformation.placeholder.label7","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message12","value":"^[0-9]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message9","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":15},"minLength":{"message":"commonSections.messages.patternMessages.message27","value":7}},"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}]}],"mandatory":true,"bundleLabel":"applicantInformation.formLabel.label8","bundleName":"contact"},{"row":9,"fields":[{"displayName":"applicantInformation.formLabel.label9","logicalName":"emailId","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"email","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label6","validations":{"regex":{"value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$","message":"commonSections.messages.patternMessages.message1"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message10","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4}},"onChangeEvent":[]}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"row":11,"fields":[{"displayName":"applicantInformation.formLabel.label13","logicalName":"addressline1","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label8","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message17","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine1Disabled","type":"STATIC","value":"isAddressLine1Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":12,"fields":[{"displayName":"applicantInformation.formLabel.label15","logicalName":"addressline2","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label12","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message22","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine2Disabled","type":"STATIC","value":"isAddressLine2Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":13,"fields":[{"displayName":"applicantInformation.formLabel.label16","logicalName":"stateCode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label11","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message20","value":"^[a-zA-Z ]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message23","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isStateDisabled","type":"STATIC","value":"isStateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":14,"fields":[{"displayName":"applicantInformation.formLabel.label17","logicalName":"cityCode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label13","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message21","value":"^[a-zA-Z][a-zA-Z\\\\s]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message24","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isCityDisabled","type":"STATIC","value":"isCityDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":15,"fields":[{"displayName":"applicantInformation.formLabel.label18","logicalName":"pincode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label14","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message25","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPinCodeDisabled","type":"STATIC","value":"isPinCodeDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":16,"fields":[{"displayName":"commonSections.buttons.button3","logicalName":"goBack","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"button","hidden":false,"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"cssClass":"btn mat-btn-lg btn-block btn-outline-brand-orange","onClickEvent":[{"functionName":"routePrevious","params":[]}],"matDirective":"mat-stroked-button"},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button16","logicalName":"saveAndContinue","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"saveAndContinue","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":true,"params":[]}]},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button36","logicalName":"updateApplicant","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"updateApplicant","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":false,"params":[]}]}],"mandatory":false,"bundleLabel":null,"bundleName":"multi-button"}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":3,"displayName":"header.headerLabel.label5","logicalName":"bookAppointment","routeUrl":"book-appointment","displayPosition":3,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":4,"displayName":"header.headerLabel.label6","logicalName":"services","routeUrl":"services","displayPosition":4,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":5,"displayName":"header.headerLabel.label7","logicalName":"disclaimer","routeUrl":"review-pay","displayPosition":5,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}}]},"schema_pol":{"tenent":"nld","secretKey":"@#$nbknknk!@#$MKKK()_^12","dashboardTitle":"dashboard.headerLabel.label1","description":"LIFT","filter":{"module":{"key":"visaTypeId"},"field":{"key":"visaCategoryId"}},"modules":[{"id":1,"displayName":"header.headerLabel.label12","logicalName":"eligibilityCriteria","routeUrl":"application-detail","displayPosition":1,"apis":{"online":[{"url":"/application/get-eligibility","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"centerCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label1","defaultValueLookup":[{"type":"SESSION","value":"curr_app_cntr_code"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label1","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/center","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true}],"displayKey":"centerName","valueKey":"isoCode"},"backoffice":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"nationalityId"}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"selectedSubvisaCategory","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label2","defaultValueLookup":[{"type":"SESSION","value":"curr_app_visa_type"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label2","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/visacategory","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true}],"displayKey":"name","valueKey":"code"},"backoffice":{}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"changeEmitterFields":[{"targetFieldLogicalName":"centerCode","functionName":"updateListenerDropdownField","params":["centerCode"]}]}]},{"row":3,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":4,"fields":[{"readOnly":false,"logicalName":"visaCategoryCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label3","defaultValueLookup":[{"type":"SESSION","value":"cur_app_visa_sub_category"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label3","onChangeEvent":[{"functionName":"isSlotAvailiable","params":[]}],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"visaCategoryCode","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true}],"url":"/master/subvisacategory","displayKey":"name","valueKey":"code"},"backoffice":{}},"changeEmitterFields":[{"targetFieldLogicalName":"selectedSubvisaCategory","functionName":"updateListenerDropdownField","params":["selectedSubvisaCategory"]}],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":5,"fields":[{"readOnly":true,"logicalName":"btnSaveAndContinue","fieldType":"button","hidden":false,"displayName":"commonSections.buttons.button19","defaultValueLookup":"","defaultValueOptionSet":[],"onChangeEvent":[],"placeholder":"","validations":{"regex":{"message":"","value":""},"mandatory":{"message":"","value":""},"minValue":null,"maxValue":{"message":"","value":""},"minLength":{"message":"","value":""},"validateDateTime":{"parentField":"","compareDateWith":"","compareTimeWith":"","comparisonType":"","message":""}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"mandatory":false,"titleText":"","subText1":"","subText2":"","disableOnValues":[],"toggleDisableField":[],"cssClass":"","onClickEvent":[{"functionName":"saveToSession","url":"","params":[{"key":"curr_app_cntr_code","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"curr_app_visa_type","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true},{"key":"cur_app_visa_sub_category","type":"FORM_VALUE","value":"visaCategoryCode","mandatory":true}]},{"functionName":"saveAndContinue","url":"/application/submit-eligibility","params":[{"key":"routeId","type":"SESSION","value":"route_id","mandatory":true},{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":false},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":false},{"key":"documentIdentifierId","type":"SESSION","value":"document_identifier","mandatory":false}]}],"toggleHideShow":[]}],"mandatory":false}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}},{"id":2,"displayName":"header.headerLabel.label4","logicalName":"applicantInformation","routeUrl":"your-details","displayPosition":2,"apis":{"online":[{"url":"/applicant-details/get-applicant-details","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"fields":[{"displayName":"applicantInformation.formLabel.label14","logicalName":"referenceNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label9","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message19","key":"setRefNoValidation","type":"FUNCTION"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message18","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableReferenceNumber","type":"STATIC","value":"enableReferenceNumber"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":1,"fields":[{"displayName":"applicantInformation.formLabel.label14","logicalName":"referenceNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"Enter refrence number in IRL12345578 format","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message19","key":"setRefNoValidation","type":"FUNCTION"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message18","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableIRLNumber","type":"STATIC","value":"enableIRLNumber"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":1,"fields":[{"displayName":"VLN Number","logicalName":"vlnNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label16","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message32","type":"SESSION","value":"vln_regex"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message31","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"isVLNEnabled","type":"STATIC","value":"isVLNEnabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":1,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label23","logicalName":"nationalId","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label17","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message40","value":true},"regex":{"value":"^[A-Z0-9]+$","message":"applicantInformation.messages.errorMessages.message41"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label24","logicalName":"VisaToken","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label18","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message42","value":true},"regex":{"message":"applicantInformation.messages.errorMessages.message50","key":"setVisaTokenRegExpression","type":"FUNCTION"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"isVisaTokenEnabled","type":"STATIC","value":"isVisaTokenEnabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":1,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label1","logicalName":"firstName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label1","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message1","value":true},"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message13"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isFirstNameDisabled","type":"STATIC","value":"isFirstNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"fields":[{"displayName":"applicantInformation.formLabel.label2","logicalName":"lastName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.messages.errorMessages.message2","fieldType":"textbox","validations":{"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message14"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isLastNameDisabled","type":"STATIC","value":"isLastNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":3,"fields":[{"displayName":"applicantInformation.formLabel.label3","logicalName":"gender","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{},"mandatory":{"message":"applicantInformation.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isGenderDisabled","type":"STATIC","value":"isGenderDisabled"}]}],"optionsListApi":{"online":{"url":"/master/gender","type":"GET","params":[],"displayKey":"langaugeName","valueKey":"id"},"backoffice":{"url":"/master/maritalStatus","type":"GET","params":[],"displayKey":"displayName","valueKey":"id"}}},{"displayName":"applicantInformation.formLabel.label4","logicalName":"dateOfBirth","defaultValueLookup":"","readOnly":false,"placeholder":"applicantInformation.placeholder.label4","fieldType":"datepicker","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message4","value":true},"minValue":null,"maxValue":{"isActive":false,"message":"applicantInformation.messages.errorMessages.message27","type":"CURRENT","value":null,"params":[],"boundaryValue":"-1"},"maxLength":null,"minLength":null,"invalid":"commonSections.messages.errorMessages.message21"},"changeEmitterFields":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isDOBDisabled","type":"STATIC","value":"isDOBDisabled"}]}],"hidden":false,"onChangeEvent":[],"isInputDisabled":true,"disableOnValues":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":true},{"row":4,"fields":[{"displayName":"applicantInformation.formLabel.label5","logicalName":"nationalityCode","defaultValueLookup":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{"value":"^[a-zA-Z0-9]+$","message":""},"mandatory":{"message":"applicantInformation.messages.errorMessages.message5","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"defaultValueOptionSet":null,"optionsListApi":{"online":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"isoCode"},"backoffice":{"url":"/master/residency","type":"GET","params":[],"displayKey":"name","valueKey":"id"}}}],"mandatory":false},{"row":5,"fields":[{"displayName":"applicantInformation.formLabel.label6","logicalName":"passportNumber","defaultValueLookup":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label5","validations":{"regex":{"value":"^[a-zA-Z0-9][a-zA-Z0-9]+$","message":"commonSections.messages.patternMessages.message29"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message6","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportNoDisabled","type":"STATIC","value":"isPassportNoDisabled"}]}],"defaultValueOptionSet":null},{"displayName":"applicantInformation.formLabel.label7","logicalName":"passportExpirtyDate","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message7","value":true},"maxValue":null,"minValue":{"isActive":false,"message":"commonSections.messages.errorMessages.message15","type":"CURRENT","value":null,"params":[],"boundaryValue":"1"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message7"},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportExpiryDateDisabled","type":"STATIC","value":"isPassportExpiryDateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[]}],"mandatory":true},{"row":6,"fields":[{"displayName":"applicantInformation.formLabel.label12","logicalName":"dateOfDeparture","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","cssClass":"col-12 col-sm-6","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message16","value":true},"minValue":{"isActive":true,"message":"commonSections.messages.errorMessages.message22","type":"CURRENT","value":null,"params":[],"boundaryValue":"0"},"maxValue":{"isActive":true,"key":"mx_alwd_dt_of_departure","message":"applicantInformation.messages.errorMessages.message16","type":"SESSION","value":"mx_alwd_dt_of_departure","params":[{"type":"FUNCTION","key":"mx_alwd_dt_of_departure","value":"0"}],"boundaryValue":"0"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message28"},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableDateOfDeperature","type":"STATIC","value":"enableDateOfDeperature"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[],"displayInfo":{"visible":true,"value":null,"type":"FUNCTION","key":"getDisplayInfo"}}],"mandatory":true},{"row":7,"fields":[{"displayName":"","logicalName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"readOnly":false,"fieldType":"hr","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"","validations":{"regex":null,"mandatory":null,"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"optionsListApi":{"online":null,"backoffice":null}}],"mandatory":false},{"row":8,"fields":[{"displayName":"applicantInformation.formLabel.label10","logicalName":"dialCode","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"44","validations":{"regex":{"value":"^[0-9]+$","message":"applicantInformation.messages.errorMessages.message11"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message8","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":3},"minLength":null},"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}],"optionsListApi":{"online":{},"backoffice":{}}},{"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"input","displayName":"applicantInformation.formLabel.label11","logicalName":"contactNumber","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"onChangeEvent":[],"placeholder":"applicantInformation.placeholder.label7","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message12","value":"^[0-9]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message9","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":15},"minLength":{"message":"commonSections.messages.patternMessages.message27","value":7}},"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}]}],"mandatory":true,"bundleLabel":"applicantInformation.formLabel.label8","bundleName":"contact"},{"row":9,"fields":[{"displayName":"applicantInformation.formLabel.label9","logicalName":"emailId","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"email","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label6","validations":{"regex":{"value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$","message":"commonSections.messages.patternMessages.message1"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message10","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4}},"onChangeEvent":[]}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"row":11,"fields":[{"displayName":"applicantInformation.formLabel.label13","logicalName":"addressline1","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label8","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message17","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine1Disabled","type":"STATIC","value":"isAddressLine1Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":12,"fields":[{"displayName":"applicantInformation.formLabel.label15","logicalName":"addressline2","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label12","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message22","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine2Disabled","type":"STATIC","value":"isAddressLine2Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":13,"fields":[{"displayName":"applicantInformation.formLabel.label16","logicalName":"state","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label11","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message20","value":"^[a-zA-Z ]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message23","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isStateDisabled","type":"STATIC","value":"isStateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":14,"fields":[{"displayName":"applicantInformation.formLabel.label17","logicalName":"city","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label13","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message21","value":"^[a-zA-Z][a-zA-Z\\\\s]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message24","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isCityDisabled","type":"STATIC","value":"isCityDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":15,"fields":[{"displayName":"applicantInformation.formLabel.label18","logicalName":"pincode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label14","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message25","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPinCodeDisabled","type":"STATIC","value":"isPinCodeDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":16,"fields":[{"displayName":"commonSections.buttons.button3","logicalName":"goBack","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"button","hidden":false,"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"cssClass":"btn mat-btn-lg btn-block btn-outline-brand-orange","onClickEvent":[{"functionName":"routePrevious","params":[]}],"matDirective":"mat-stroked-button"},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button16","logicalName":"saveAndContinue","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"saveAndContinue","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":true,"params":[]}]},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button36","logicalName":"updateApplicant","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"updateApplicant","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":false,"params":[]}]}],"mandatory":false,"bundleLabel":null,"bundleName":"multi-button"}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":3,"displayName":"header.headerLabel.label5","logicalName":"bookAppointment","routeUrl":"book-appointment","displayPosition":3,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":4,"displayName":"header.headerLabel.label6","logicalName":"services","routeUrl":"services","displayPosition":4,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":5,"displayName":"header.headerLabel.label16","logicalName":"insurance","routeUrl":"insurance","displayPosition":5,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":6,"displayName":"header.headerLabel.label7","logicalName":"disclaimer","routeUrl":"review-pay","displayPosition":6,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}}]}}')},"3N+h":function(e,t,a){"use strict";a.d(t,"a",function(){return c});var i=a("tk/3"),o=a("AytR"),n=a("QrD/"),s=a("fXoL"),l=a("cT3p");const r=o.a.apiEndPoint;let c=(()=>{class e{constructor(e,t){this.http=e,this.sessionService=t}doGet(e,t){return t?this.http.get(r+e,{params:t}):this.http.get(r+e)}slashParamsDoGet(e,t,a){let i=e;return t&&(i=e+"/"+Object.values(t).reduce((e,t)=>e+"/"+t)),i+=a||"",this.http.get(r+i)}getLamdaData(e,t){const a={headers:(new i.f).set("Authorization",this.sessionService.getJWT()||"").set("Content-Type","application/json;charset=utf-8")},o=t?this.convertParam("get",t):"";return this.http.get(r+e+o,a)}externalGet(e){return this.http.get(e)}convertParam(e="post",t,a){return"post"===e?t:0===Object.keys(t).length?"":"param"===a?"string"==typeof t?"/"+t:Object.keys(t).map(e=>"/"+encodeURIComponent(t[e])).join(""):"string"==typeof t?"?"+t:"?"+Object.keys(t).map(e=>encodeURIComponent(e)+"="+encodeURIComponent(t[e])).join("&")}doPost(e,t){let a=new i.g;Object.keys(t).forEach(e=>{a=a.set(e,t[e])});const o={headers:(new i.f).set("Content-Type","application/x-www-form-urlencoded")};return this.http.post(r+e,a,o)}doOTPPost(e,t){const a=this.sessionService.getJWT()||"",o={headers:(new i.f).set("authorize",a).set("Content-Type","application/json;charset=utf-8").set("datacenter","GERMANY")};return this.http.post(r+e,t,o)}doPut(e,t){return this.http.put(e,t)}payloadPost(e,t,a){const n=this.sessionService.getJWT()||"",s={headers:(new i.f).set("authorize",n).set("Content-Type","application/json;charset=utf-8")};return this.http.post((a?o.a.apiEndPoint2:r)+e,t,s)}basicPayload(e,t,a){const n=o.a.production?"bGlmdHByb2R2ZnM6bGlmdHByb2R2ZnNAMjAyMg==":"VmZzVUFUOlZmc1VBVEBQYXNzd29yZA==",s={headers:(new i.f).set("authorization","Basic "+n).set("Content-Type","application/json;charset=utf-8")};return this.http.post((a?o.a.apiEndPoint2:r)+e,t,s)}payloadWithoutTokenPost(e,t){const a={headers:(new i.f).set("Content-Type","application/json;charset=utf-8")};return this.http.post(r+e,t,a)}doCheck(e,t){let a={};switch(e.type){case"GET":if(t){const s=new i.g({fromObject:t});a=(null==o.a?void 0:o.a.getParamsType)===n.c.SLASH&&(null==e?void 0:e.getParamsType)===n.c.SLASH?this.slashParamsDoGet(e.url,t):this.doGet(e.url,s)}else a=this.doGet(e.url);break;case"POST":a=this.doPost(e.url,t)}return a}}return e.\u0275fac=function(t){return new(t||e)(s.dc(i.c),s.dc(l.a))},e.\u0275prov=s.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"4h0v":function(e,t,a){"use strict";a.d(t,"a",function(){return n});var i=a("rIfo"),o=a("fXoL");let n=(()=>{class e{constructor(){this.subs=new i.a}ngOnDestroy(){var e;null===(e=this.subs)||void 0===e||e.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Kb({type:e,selectors:[["ng-component"]],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})()},"8ajC":function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return ye});var i=a("mrSG"),o=a("0IaG"),n=a("TCge"),s=a("C+1A"),l=a("KD1d"),r=a("AytR"),c=a("fXoL"),d=a("ofXK"),u=a("z+xu"),m=a("3Pt+"),p=a("Wp6s"),b=a("bTqV"),g=a("7EHt"),f=a("bSwM"),h=a("QibW"),v=a("kmnG"),y=a("d3UM"),S=a("FKr1"),C=a("sYmb");const D=["captchaContainer"];function I(e,t){if(1&e&&(c.Wb(0,"div",5),c.Oc(1),c.mc(2,"translate"),c.Rb(3,"countdown",6,7),c.Vb()),2&e){const e=c.lc();c.Db(1),c.Qc(" ",c.nc(2,2,"header.headerLabel.label17"),""),c.Db(2),c.tc("config",e.config)}}function V(e,t){if(1&e&&(c.Ub(0),c.Wb(1,"div",18),c.Wb(2,"div",19),c.Rb(3,"i",20),c.Wb(4,"div"),c.Oc(5),c.Vb(),c.Vb(),c.Vb(),c.Tb()),2&e){const e=c.lc(3);c.Db(5),c.Pc(e.proceedFailMsg)}}function A(e,t){if(1&e){const e=c.Xb();c.Wb(0,"div",32),c.Wb(1,"span",33),c.hc("click",function(){c.Fc(e);const t=c.lc(4);return t.route(t.constants.modules.ELIGIBILITY_CRITERIA)}),c.Oc(2),c.mc(3,"translate"),c.Vb(),c.Vb()}2&e&&(c.Db(2),c.Pc(c.nc(3,1,"reviewAndPayment.buttons.button1")))}function O(e,t){if(1&e&&(c.Wb(0,"li",27),c.Wb(1,"div",12),c.Oc(2),c.mc(3,"translate"),c.Vb(),c.Wb(4,"div",28),c.Oc(5),c.Vb(),c.Vb()),2&e){const e=c.lc(4);c.Db(2),c.Pc(c.nc(3,2,"reviewAndPayment.formLabel.label24")),c.Db(3),c.Pc(null==e.reviewPaymentData?null:e.reviewPaymentData.serviceType)}}function T(e,t){if(1&e&&(c.Wb(0,"li",27),c.Wb(1,"div",12),c.Oc(2),c.mc(3,"translate"),c.Vb(),c.Wb(4,"div",28),c.Oc(5),c.Vb(),c.Vb()),2&e){const e=c.lc(4);c.Db(2),c.Pc(c.nc(3,2,"eligibilityCriteria.formLabel.label15")),c.Db(3),c.Pc(null==e.reviewPaymentData?null:e.reviewPaymentData.nationalityName)}}function L(e,t){if(1&e&&(c.Wb(0,"li",27),c.Wb(1,"div",12),c.Oc(2),c.mc(3,"translate"),c.Vb(),c.Wb(4,"div",28),c.Oc(5),c.Vb(),c.Vb()),2&e){const e=c.lc(4);c.Db(2),c.Pc(c.nc(3,2,"eligibilityCriteria.formLabel.label14")),c.Db(3),c.Pc(null==e.reviewPaymentData?null:e.reviewPaymentData.entryType)}}function N(e,t){if(1&e&&(c.Wb(0,"li",27),c.Wb(1,"div",12),c.Oc(2),c.mc(3,"translate"),c.Vb(),c.Wb(4,"div",28),c.Oc(5),c.Vb(),c.Vb()),2&e){const e=c.lc(4);c.Db(2),c.Pc(c.nc(3,2,"eligibilityCriteria.formLabel.label13")),c.Db(3),c.Pc(null==e.reviewPaymentData?null:e.reviewPaymentData.visaType)}}function M(e,t){if(1&e&&(c.Wb(0,"li",27),c.Wb(1,"div",12),c.Oc(2),c.mc(3,"translate"),c.Vb(),c.Wb(4,"div",28),c.Oc(5),c.Vb(),c.Vb()),2&e){const e=c.lc(4);c.Db(2),c.Pc(c.nc(3,2,"eligibilityCriteria.formLabel.label12")),c.Db(3),c.Pc(null==e.reviewPaymentData?null:e.reviewPaymentData.applicationType)}}function E(e,t){if(1&e){const e=c.Xb();c.Wb(0,"tr"),c.Wb(1,"td",43),c.Wb(2,"span",33),c.hc("click",function(){c.Fc(e);const t=c.lc().index;return c.lc(5).editYourDetails(t)}),c.Oc(3),c.mc(4,"translate"),c.Vb(),c.Vb(),c.Vb()}2&e&&(c.Db(3),c.Pc(c.nc(4,1,"reviewAndPayment.buttons.button1")))}function W(e,t){if(1&e&&(c.Wb(0,"tr"),c.Wb(1,"td",41),c.Oc(2),c.mc(3,"translate"),c.Vb(),c.Wb(4,"td",42),c.Oc(5),c.Vb(),c.Vb()),2&e){const e=c.lc().$implicit,t=c.lc(5);c.Db(2),c.Qc("",c.nc(3,2,"applicantInformation.formLabel.label4")," :"),c.Db(3),c.Pc(t.utilityService.momentInstance(null==e?null:e.dob,"DD/MM/YYYY").format(t.dateFormat.toUpperCase()))}}function P(e,t){if(1&e&&(c.Wb(0,"tr"),c.Wb(1,"td",41),c.Oc(2),c.mc(3,"translate"),c.Vb(),c.Wb(4,"td",42),c.Oc(5),c.Vb(),c.Vb()),2&e){const e=c.lc().$implicit;c.Db(2),c.Qc("",c.nc(3,2,"applicantInformation.formLabel.label6")," :"),c.Db(3),c.Pc(null==e?null:e.passportNumber)}}function k(e,t){if(1&e&&(c.Wb(0,"tr"),c.Wb(1,"td",41),c.Oc(2),c.mc(3,"translate"),c.Vb(),c.Wb(4,"td",42),c.Oc(5),c.Vb(),c.Vb()),2&e){const e=c.lc().$implicit;c.Db(2),c.Qc("",c.nc(3,2,"applicantInformation.formLabel.label7")," :"),c.Db(3),c.Pc(null==e?null:e.passportExpiry)}}function w(e,t){if(1&e&&(c.Wb(0,"tr"),c.Wb(1,"td",41),c.Oc(2),c.mc(3,"translate"),c.Vb(),c.Wb(4,"td",42),c.Oc(5),c.Vb(),c.Vb()),2&e){const e=c.lc().$implicit;c.Db(2),c.Qc("",c.nc(3,2,"postalInformation.formLabel.label8")," :"),c.Db(3),c.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].courierType)}}function F(e,t){if(1&e&&(c.Ub(0),c.Wb(1,"tr"),c.Wb(2,"td",41),c.Oc(3),c.mc(4,"translate"),c.Vb(),c.Wb(5,"td",42),c.Oc(6),c.Vb(),c.Vb(),c.Wb(7,"tr"),c.Wb(8,"td",41),c.Oc(9),c.mc(10,"translate"),c.Vb(),c.Wb(11,"td",42),c.Oc(12),c.Vb(),c.Vb(),c.Wb(13,"tr"),c.Wb(14,"td",41),c.Oc(15),c.mc(16,"translate"),c.Vb(),c.Wb(17,"td",42),c.Oc(18),c.Vb(),c.Vb(),c.Wb(19,"tr"),c.Wb(20,"td",41),c.Oc(21),c.mc(22,"translate"),c.Vb(),c.Wb(23,"td",42),c.Oc(24),c.Vb(),c.Vb(),c.Wb(25,"tr"),c.Wb(26,"td",41),c.Oc(27),c.mc(28,"translate"),c.Vb(),c.Wb(29,"td",42),c.Oc(30),c.Vb(),c.Vb(),c.Wb(31,"tr"),c.Wb(32,"td",41),c.Oc(33),c.mc(34,"translate"),c.Vb(),c.Wb(35,"td",42),c.Oc(36),c.Vb(),c.Vb(),c.Tb()),2&e){const e=c.lc().$implicit;c.Db(3),c.Qc("",c.nc(4,12,"postalInformation.formLabel.label1")," :"),c.Db(3),c.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].pincode),c.Db(3),c.Qc("",c.nc(10,14,"postalInformation.formLabel.label2")," :"),c.Db(3),c.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].addressline1),c.Db(3),c.Qc("",c.nc(16,16,"postalInformation.formLabel.label3")," :"),c.Db(3),c.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].addressline2),c.Db(3),c.Qc("",c.nc(22,18,"postalInformation.formLabel.label4")," :"),c.Db(3),c.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].state),c.Db(3),c.Qc("",c.nc(28,20,"postalInformation.formLabel.label5")," :"),c.Db(3),c.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].city),c.Db(3),c.Qc("",c.nc(34,22,"postalInformation.formLabel.label6")," :"),c.Db(3),c.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].countryCode)}}function _(e,t){if(1&e&&(c.Ub(0),c.Wb(1,"tr"),c.Wb(2,"td",41),c.Oc(3),c.mc(4,"translate"),c.Vb(),c.Wb(5,"td",42),c.Oc(6),c.Vb(),c.Vb(),c.Wb(7,"tr"),c.Wb(8,"td",41),c.Oc(9),c.mc(10,"translate"),c.Vb(),c.Wb(11,"td",42),c.Oc(12),c.Vb(),c.Vb(),c.Wb(13,"tr"),c.Wb(14,"td",41),c.Oc(15),c.mc(16,"translate"),c.Vb(),c.Wb(17,"td",42),c.Oc(18),c.Vb(),c.Vb(),c.Tb()),2&e){const e=c.lc().$implicit;c.Db(3),c.Qc("",c.nc(4,6,"postalInformation.formLabel.label11")," :"),c.Db(3),c.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].courierServiceProvider),c.Db(3),c.Qc("",c.nc(10,8,"postalInformation.formLabel.label12")," :"),c.Db(3),c.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].incomingAWBNumber),c.Db(3),c.Qc("",c.nc(16,10,"postalInformation.formLabel.label13")," :"),c.Db(3),c.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].outgoingAWBNumber)}}function x(e,t){if(1&e){const e=c.Xb();c.Wb(0,"tr"),c.Wb(1,"td",44),c.Wb(2,"span",33),c.hc("click",function(){c.Fc(e);const t=c.lc().index;return c.lc(5).openDialog(t)}),c.Oc(3),c.mc(4,"translate"),c.Vb(),c.Vb(),c.Vb()}2&e&&(c.Db(3),c.Pc(c.nc(4,1,"reviewAndPayment.formLabel.label13")))}function G(e,t){if(1&e&&(c.Wb(0,"mat-expansion-panel"),c.Wb(1,"mat-expansion-panel-header",36),c.Wb(2,"div",37),c.Wb(3,"div",38),c.Oc(4),c.mc(5,"translate"),c.Vb(),c.Wb(6,"div",39),c.Oc(7),c.Vb(),c.Vb(),c.Vb(),c.Wb(8,"table",40),c.Mc(9,E,5,3,"tr",2),c.Mc(10,W,6,4,"tr",2),c.Wb(11,"tr"),c.Wb(12,"td",41),c.Oc(13),c.mc(14,"translate"),c.Vb(),c.Wb(15,"td",42),c.Oc(16),c.Vb(),c.Vb(),c.Mc(17,P,6,4,"tr",2),c.Mc(18,k,6,4,"tr",2),c.Wb(19,"tr"),c.Wb(20,"td",41),c.Oc(21),c.mc(22,"translate"),c.Vb(),c.Wb(23,"td",42),c.Oc(24),c.Vb(),c.Vb(),c.Wb(25,"tr"),c.Wb(26,"td",41),c.Oc(27),c.mc(28,"translate"),c.Vb(),c.Wb(29,"td",42),c.Oc(30),c.Vb(),c.Vb(),c.Mc(31,w,6,4,"tr",2),c.Mc(32,F,37,24,"ng-container",2),c.Mc(33,_,19,12,"ng-container",2),c.Mc(34,x,5,3,"tr",2),c.Vb(),c.Vb()),2&e){const e=t.$implicit,a=t.index,i=c.lc(5);c.Db(1),c.tc("@.disabled",!0),c.Db(3),c.Rc("",c.nc(5,19,"reviewAndPayment.formLabel.label6")," ",a+1,""),c.Db(3),c.Rc("",null==e?null:e.firstName," ",null==e?null:e.lastName,""),c.Db(2),c.tc("ngIf",!i.isPtFlow||!i.isDocumentUploadEnabled),c.Db(1),c.tc("ngIf",!(null!=i.configuration&&i.configuration.isDOBDisabled)),c.Db(3),c.Qc("",c.nc(14,21,"applicantInformation.formLabel.label5")," :"),c.Db(3),c.Pc(null==e?null:e.countryName),c.Db(1),c.tc("ngIf",!(null!=i.configuration&&i.configuration.isPassportNoDisabled)),c.Db(1),c.tc("ngIf",!(null!=i.configuration&&i.configuration.isPassportExpiryDateDisabled)),c.Db(3),c.Qc("",c.nc(22,23,"applicantInformation.formLabel.label11")," :"),c.Db(3),c.Pc(null==e?null:e.contactNumber),c.Db(3),c.Qc("",c.nc(28,25,"applicantInformation.formLabel.label9")," :"),c.Db(3),c.Pc(null==e?null:e.emailId),c.Db(1),c.tc("ngIf",i.commonService.checkIfPostal(i.applicationType)),c.Db(1),c.tc("ngIf",i.commonService.checkIfPostal(i.applicationType)&&!i.commonService.checkIfPrepaidCourier(null==e||null==e.postalList[0]?null:e.postalList[0].courierType)),c.Db(1),c.tc("ngIf",i.commonService.checkIfPostal(i.applicationType)&&i.commonService.checkIfPrepaidCourier(null==e||null==e.postalList[0]?null:e.postalList[0].courierType)),c.Db(1),c.tc("ngIf",!i.tmiEnabled&&!i.isPtFlow)}}function R(e,t){if(1&e&&(c.Wb(0,"mat-accordion",34),c.Mc(1,G,35,27,"mat-expansion-panel",35),c.Vb()),2&e){const e=c.lc(4);c.Db(1),c.tc("ngForOf",null==e.reviewPaymentData?null:e.reviewPaymentData.yourDetail)("ngForTrackBy",e.trackByFn)}}function U(e,t){if(1&e&&(c.Ub(0),c.Wb(1,"div",21),c.Wb(2,"div",22),c.Wb(3,"h2",23),c.Oc(4),c.mc(5,"translate"),c.Vb(),c.Vb(),c.Mc(6,A,4,3,"div",24),c.Vb(),c.Wb(7,"div",25),c.Wb(8,"ul",26),c.Wb(9,"li",27),c.Wb(10,"div",12),c.Oc(11),c.mc(12,"translate"),c.Vb(),c.Wb(13,"div",28),c.Oc(14),c.Vb(),c.Vb(),c.Wb(15,"li",27),c.Wb(16,"div",12),c.Oc(17),c.mc(18,"translate"),c.Vb(),c.Wb(19,"div",28),c.Oc(20),c.Vb(),c.Vb(),c.Wb(21,"li",27),c.Wb(22,"div",12),c.Oc(23),c.mc(24,"translate"),c.Vb(),c.Wb(25,"div",28),c.Oc(26),c.Vb(),c.Vb(),c.Mc(27,O,6,4,"li",29),c.Wb(28,"li",27),c.Wb(29,"div",12),c.Oc(30),c.mc(31,"translate"),c.Vb(),c.Wb(32,"div",28),c.Oc(33),c.Vb(),c.Vb(),c.Wb(34,"li",27),c.Wb(35,"div",12),c.Oc(36),c.mc(37,"translate"),c.Vb(),c.Wb(38,"div",28),c.Oc(39),c.Vb(),c.Vb(),c.Mc(40,T,6,4,"li",29),c.Mc(41,L,6,4,"li",29),c.Mc(42,N,6,4,"li",29),c.Mc(43,M,6,4,"li",29),c.Vb(),c.Vb(),c.Wb(44,"h2",30),c.Oc(45),c.mc(46,"translate"),c.Vb(),c.Mc(47,R,2,2,"mat-accordion",31),c.Tb()),2&e){const e=c.lc(3);c.Db(4),c.Pc(c.nc(5,19,"reviewAndPayment.headerLabel.label2")),c.Db(2),c.tc("ngIf",e.isPtFlow),c.Db(5),c.Pc(c.nc(12,21,"eligibilityCriteria.formLabel.label4")),c.Db(3),c.Pc(null==e.reviewPaymentData?null:e.reviewPaymentData.countryName),c.Db(3),c.Pc(c.nc(18,23,"eligibilityCriteria.formLabel.label5")),c.Db(3),c.Pc(null==e.reviewPaymentData?null:e.reviewPaymentData.missionName),c.Db(3),c.Pc(c.nc(24,25,"reviewAndPayment.formLabel.label3")),c.Db(3),c.Pc(null==e.reviewPaymentData?null:e.reviewPaymentData.vacCodeName),c.Db(1),c.tc("ngIf",null==e.reviewPaymentData?null:e.reviewPaymentData.serviceType),c.Db(3),c.Pc(c.nc(31,27,"reviewAndPayment.formLabel.label4")),c.Db(3),c.Pc(null==e.reviewPaymentData?null:e.reviewPaymentData.visaCategoryName),c.Db(3),c.Pc(c.nc(37,29,"reviewAndPayment.formLabel.label5")),c.Db(3),c.Pc(null==e.reviewPaymentData?null:e.reviewPaymentData.visaSubCategoryName),c.Db(1),c.tc("ngIf",null==e.reviewPaymentData?null:e.reviewPaymentData.nationalityName),c.Db(1),c.tc("ngIf",null==e.reviewPaymentData?null:e.reviewPaymentData.entryType),c.Db(1),c.tc("ngIf",null==e.reviewPaymentData?null:e.reviewPaymentData.visaType),c.Db(1),c.tc("ngIf",null==e.reviewPaymentData?null:e.reviewPaymentData.applicationType),c.Db(2),c.Pc(c.nc(46,31,"reviewAndPayment.headerLabel.label3")),c.Db(2),c.tc("ngIf",null==e.reviewPaymentData?null:e.reviewPaymentData.yourDetail)}}function B(e,t){if(1&e){const e=c.Xb();c.Wb(0,"div",32),c.Wb(1,"span",33),c.hc("click",function(){c.Fc(e);const t=c.lc(4);return t.route(t.constants.modules.BOOK_APPOINTMENT)}),c.Oc(2),c.mc(3,"translate"),c.Vb(),c.Vb()}2&e&&(c.Db(2),c.Pc(c.nc(3,1,"reviewAndPayment.buttons.button1")))}function j(e,t){if(1&e&&(c.Ub(0),c.Wb(1,"div",21),c.Wb(2,"div",22),c.Wb(3,"h2",23),c.Oc(4),c.mc(5,"translate"),c.Vb(),c.Vb(),c.Mc(6,B,4,3,"div",24),c.Vb(),c.Wb(7,"div",25),c.Wb(8,"ul",26),c.Wb(9,"li",27),c.Wb(10,"div",12),c.Oc(11),c.mc(12,"translate"),c.Vb(),c.Wb(13,"div",28),c.Oc(14),c.mc(15,"translate"),c.Vb(),c.Vb(),c.Wb(16,"li",27),c.Wb(17,"div",12),c.Oc(18),c.mc(19,"translate"),c.Vb(),c.Wb(20,"div",28),c.Oc(21),c.mc(22,"date"),c.Vb(),c.Vb(),c.Wb(23,"li",27),c.Wb(24,"div",12),c.Oc(25),c.mc(26,"translate"),c.Vb(),c.Wb(27,"div",28),c.Oc(28),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Tb()),2&e){const e=c.lc(3);c.Db(4),c.Pc(c.nc(5,8,"reviewAndPayment.headerLabel.label4")),c.Db(2),c.tc("ngIf",!e.isRescheduleAptmntMode),c.Db(5),c.Pc(c.nc(12,10,"reviewAndPayment.formLabel.label14")),c.Db(3),c.Pc(c.nc(15,12,null==e.reviewPaymentData||null==e.reviewPaymentData.bookAppointment?null:e.reviewPaymentData.bookAppointment.slotTypeName)),c.Db(4),c.Pc(c.nc(19,14,"reviewAndPayment.formLabel.label15")),c.Db(3),c.Pc(c.oc(22,16,null==e.reviewPaymentData||null==e.reviewPaymentData.bookAppointment?null:e.reviewPaymentData.bookAppointment.date,e.dateFormat)),c.Db(4),c.Pc(c.nc(26,19,"reviewAndPayment.formLabel.label16")),c.Db(3),c.Pc(null==e.reviewPaymentData||null==e.reviewPaymentData.bookAppointment?null:e.reviewPaymentData.bookAppointment.allocationSlot)}}function Y(e,t){if(1&e){const e=c.Xb();c.Wb(0,"span",33),c.hc("click",function(){c.Fc(e);const t=c.lc(4);return t.route(t.constants.modules.SERVICES)}),c.Oc(1),c.mc(2,"translate"),c.Vb()}2&e&&(c.Db(1),c.Pc(c.nc(2,1,"reviewAndPayment.buttons.button1")))}function Q(e,t){if(1&e&&(c.Wb(0,"div",59),c.Wb(1,"div",52),c.Oc(2),c.Vb(),c.Oc(3),c.mc(4,"number"),c.Vb()),2&e){const e=c.lc().$implicit,t=c.lc(4);c.Db(2),c.Pc(t.currencyCode),c.Db(1),c.Qc(" ",c.oc(4,2,(null==e?null:e.unit)*(null==e?null:e.amount),"1.2-2")," ")}}function $(e,t){if(1&e&&(c.Wb(0,"div",59),c.Wb(1,"div",52),c.Oc(2),c.Vb(),c.Oc(3),c.mc(4,"number"),c.Vb()),2&e){const e=c.lc().$implicit,t=c.lc(4);c.Db(2),c.Pc(t.currencyCode),c.Db(1),c.Qc(" ",c.oc(4,2,null==e?null:e.amount,"1.2-2")," ")}}function q(e,t){if(1&e&&(c.Wb(0,"div",53),c.Wb(1,"div",54),c.Wb(2,"div",55),c.Oc(3),c.Vb(),c.Wb(4,"div",56),c.Wb(5,"div",52),c.Oc(6),c.Vb(),c.Oc(7),c.mc(8,"translate"),c.Vb(),c.Mc(9,Q,5,5,"div",57),c.Mc(10,$,5,5,"ng-template",null,58,c.Nc),c.Vb(),c.Vb()),2&e){const e=t.$implicit,a=c.Bc(11),i=c.lc(4);c.Db(3),c.Pc((null==e||null==e.contentful?null:e.contentful.heading)||(null==e?null:e.name)),c.Db(3),c.Pc(null==e?null:e.unit),c.Db(1),c.Qc(" ",c.nc(8,5,"reviewAndPayment.formLabel.label19")," "),c.Db(2),c.tc("ngIf",!i.isTmiService(e))("ngIfElse",a)}}function H(e,t){if(1&e&&(c.Ub(0),c.Wb(1,"div",21),c.Wb(2,"div",22),c.Wb(3,"h2",23),c.Oc(4),c.mc(5,"translate"),c.Vb(),c.Vb(),c.Wb(6,"div",32),c.Mc(7,Y,3,3,"span",45),c.Vb(),c.Vb(),c.Wb(8,"div",46),c.Wb(9,"div",47),c.Mc(10,q,12,7,"div",48),c.Wb(11,"div",49),c.Wb(12,"div",50),c.Wb(13,"div",22),c.Oc(14),c.mc(15,"translate"),c.Vb(),c.Wb(16,"div",51),c.Wb(17,"div",52),c.Oc(18),c.Vb(),c.Oc(19),c.mc(20,"number"),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Tb()),2&e){const e=c.lc(3);c.Db(4),c.Pc(c.nc(5,7,"reviewAndPayment.headerLabel.label6")),c.Db(3),c.tc("ngIf",!e.isRescheduleAptmntMode),c.Db(3),c.tc("ngForOf",null==e.reviewPaymentData?null:e.reviewPaymentData.services)("ngForTrackBy",e.trackByFn),c.Db(4),c.Pc(c.nc(15,9,"reviewAndPayment.formLabel.label17")),c.Db(4),c.Pc(e.currencyCode),c.Db(1),c.Qc(" ",c.oc(20,11,null==e.reviewPaymentData?null:e.reviewPaymentData.servicesTotal,"1.2-2")," ")}}function K(e,t){if(1&e&&(c.Wb(0,"div",65),c.Wb(1,"div",14),c.Wb(2,"div",66),c.Oc(3),c.Vb(),c.Rb(4,"div",67),c.Wb(5,"div",68),c.Oc(6),c.mc(7,"number"),c.Vb(),c.Vb(),c.Vb()),2&e){const e=c.lc().$implicit,t=c.lc(4);c.Db(3),c.Pc(null==e?null:e.feeName),c.Db(3),c.Rc("",t.currencyCode," ",c.oc(7,3,null==e?null:e.feeAmount,"1.2-2"),"")}}function z(e,t){if(1&e&&(c.Ub(0),c.Mc(1,K,8,6,"div",64),c.Tb()),2&e){const e=t.$implicit,a=c.lc(4);c.Db(1),c.tc("ngIf",(null==e?null:e.feeAmount)>0&&(null==e?null:e.feeTypeCode)!==a.constants.FEE_TYPE_CODES.CVFEE)}}function Z(e,t){if(1&e&&(c.Wb(0,"div",65),c.Wb(1,"div",14),c.Wb(2,"div",66),c.Oc(3),c.Vb(),c.Rb(4,"div",67),c.Wb(5,"div",68),c.Oc(6),c.mc(7,"number"),c.Vb(),c.Vb(),c.Vb()),2&e){const e=c.lc().$implicit,t=c.lc(4);c.Db(3),c.Pc(null==e?null:e.feeName),c.Db(3),c.Rc("",t.currencyCode," ",c.oc(7,3,null==e?null:e.feeAmount,"1.2-2"),"")}}function J(e,t){if(1&e&&(c.Ub(0),c.Mc(1,Z,8,6,"div",64),c.Tb()),2&e){const e=t.$implicit,a=c.lc(4);c.Db(1),c.tc("ngIf",(null==e?null:e.feeTypeCode)===a.constants.FEE_TYPE_CODES.CVFEE&&(null==e?null:e.feeAmount)>0)}}function X(e,t){if(1&e&&(c.Wb(0,"div",65),c.Wb(1,"div",14),c.Wb(2,"div",66),c.Oc(3),c.Vb(),c.Rb(4,"div",67),c.Wb(5,"div",68),c.Oc(6),c.mc(7,"number"),c.Vb(),c.Vb(),c.Vb()),2&e){const e=c.lc().$implicit,t=c.lc(4);c.Db(3),c.Qc(" ",null==e?null:e.title," "),c.Db(3),c.Rc("",t.currencyCode," ",c.oc(7,3,null==e?null:e.value,"1.2-2"),"")}}function ee(e,t){if(1&e&&(c.Ub(0),c.Mc(1,X,8,6,"div",64),c.Tb()),2&e){const e=t.$implicit;c.Db(1),c.tc("ngIf",(null==e?null:e.value)>0)}}function te(e,t){if(1&e&&(c.Wb(0,"div",14),c.Wb(1,"div",69),c.Oc(2),c.mc(3,"translate"),c.mc(4,"number"),c.Vb(),c.Vb()),2&e){const e=c.lc(4);c.Db(2),c.Sc(" ",c.nc(3,3,"reviewAndPayment.pageDetails.para3")," ",e.currencyCode," ",c.oc(4,5,null==e.reviewPaymentData?null:e.reviewPaymentData.serviceFeeTax,e.sessionService.decimalConfiguration)," ")}}const ae=function(){return[]};function ie(e,t){if(1&e&&(c.Ub(0),c.Wb(1,"h2",30),c.Oc(2),c.mc(3,"translate"),c.Vb(),c.Wb(4,"div",46),c.Wb(5,"div",47),c.Mc(6,z,2,1,"ng-container",35),c.Wb(7,"div",60),c.Wb(8,"div",14),c.Wb(9,"div",22),c.Oc(10),c.mc(11,"translate"),c.Vb(),c.Wb(12,"div",51),c.Oc(13),c.Oc(14),c.mc(15,"number"),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Mc(16,J,2,1,"ng-container",35),c.Wb(17,"div",61),c.Wb(18,"div",22),c.Wb(19,"h2",23),c.Oc(20),c.mc(21,"translate"),c.Vb(),c.Vb(),c.Vb(),c.Wb(22,"div",62),c.Wb(23,"div",47),c.Mc(24,ee,2,1,"ng-container",35),c.Wb(25,"div",60),c.Wb(26,"div",14),c.Wb(27,"div",22),c.Oc(28),c.mc(29,"translate"),c.Vb(),c.Wb(30,"div",51),c.Oc(31),c.mc(32,"number"),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Wb(33,"div",53),c.Wb(34,"div",14),c.Wb(35,"div",22),c.Oc(36),c.mc(37,"translate"),c.Vb(),c.Wb(38,"div",51),c.Oc(39),c.mc(40,"number"),c.Vb(),c.Vb(),c.Mc(41,te,5,8,"div",63),c.Vb(),c.Vb(),c.Tb()),2&e){const e=c.lc(3);c.Db(2),c.Pc(c.nc(3,18,"reviewAndPayment.headerLabel.label5")),c.Db(4),c.tc("ngForOf",(null==e.reviewPaymentData?null:e.reviewPaymentData.fees)||c.wc(37,ae))("ngForTrackBy",e.trackByFn),c.Db(4),c.Pc(c.nc(11,20,"reviewAndPayment.formLabel.label17")),c.Db(3),c.Qc(" ",e.currencyCode," "),c.Db(1),c.Qc(" ",c.oc(15,22,e.calFeesTotal,"1.2-2")," "),c.Db(2),c.tc("ngForOf",(null==e.reviewPaymentData?null:e.reviewPaymentData.fees)||c.wc(38,ae))("ngForTrackBy",e.trackByFn),c.Db(4),c.Pc(c.nc(21,25,"reviewAndPayment.headerLabel.label8")),c.Db(4),c.tc("ngForOf",null==e.reviewPaymentData?null:e.reviewPaymentData.additionalFee)("ngForTrackBy",e.trackByFn),c.Db(4),c.Pc(c.nc(29,27,"reviewAndPayment.formLabel.label17")),c.Db(3),c.Rc(" ",e.currencyCode," ",c.oc(32,29,null==e.reviewPaymentData?null:e.reviewPaymentData.additionalFeeTotal,"1.2-2")," "),c.Db(5),c.Pc(c.nc(37,32,"reviewAndPayment.formLabel.label20")),c.Db(3),c.Rc(" ",e.currencyCode," ",c.oc(40,34,null==e.reviewPaymentData?null:e.reviewPaymentData.overallTotal,"1.2-2")," "),c.Db(2),c.tc("ngIf",(null==e.reviewPaymentData?null:e.reviewPaymentData.serviceFeeTax)>0)}}const oe=function(){return{standalone:!0}};function ne(e,t){if(1&e){const e=c.Xb();c.Wb(0,"div",76),c.Wb(1,"mat-checkbox",77),c.hc("ngModelChange",function(t){return c.Fc(e),c.lc(4).agreeToWaitlistConfirmation=t}),c.Wb(2,"span",78),c.Oc(3),c.mc(4,"translate"),c.Vb(),c.Vb(),c.Vb()}if(2&e){const e=c.lc(4);c.Db(1),c.tc("ngModel",e.agreeToWaitlistConfirmation)("ngModelOptions",c.wc(5,oe)),c.Db(2),c.Pc(c.nc(4,3,"reviewAndPayment.formLabel.label24"))}}function se(e,t){if(1&e){const e=c.Xb();c.Ub(0),c.Wb(1,"div",70),c.Wb(2,"div",71),c.Wb(3,"mat-checkbox",72),c.hc("ngModelChange",function(t){return c.Fc(e),c.lc(3).agreeToTermsAndCondition=t}),c.Wb(4,"span",73),c.Oc(5),c.mc(6,"translate"),c.Vb(),c.Vb(),c.Wb(7,"a",74),c.Wb(8,"span",75),c.Oc(9),c.mc(10,"translate"),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Wb(11,"div",76),c.Wb(12,"mat-checkbox",77),c.hc("ngModelChange",function(t){return c.Fc(e),c.lc(3).canVFSReachoutToApplicant=t}),c.Wb(13,"span",78),c.Oc(14),c.mc(15,"translate"),c.Vb(),c.Vb(),c.Vb(),c.Mc(16,ne,5,6,"div",79),c.Tb()}if(2&e){const e=c.lc(3);c.Db(3),c.tc("ngModel",e.agreeToTermsAndCondition)("ngModelOptions",c.wc(15,oe)),c.Db(2),c.Pc(c.nc(6,9,"reviewAndPayment.formLabel.label21")),c.Db(2),c.tc("href",e.termCondition,c.Hc),c.Db(2),c.Pc(c.nc(10,11,"reviewAndPayment.formLabel.label22")),c.Db(3),c.tc("ngModel",e.canVFSReachoutToApplicant)("ngModelOptions",c.wc(16,oe)),c.Db(2),c.Pc(c.nc(15,13,"reviewAndPayment.formLabel.label23")),c.Db(2),c.tc("ngIf",e.isWaitListJourney)}}function le(e,t){if(1&e&&(c.Wb(0,"div",86),c.Wb(1,"mat-radio-button",87),c.Wb(2,"span",78),c.Oc(3),c.mc(4,"translate"),c.Vb(),c.Vb(),c.Vb()),2&e){const e=t.$implicit;c.Db(1),c.tc("value",e.name),c.Db(2),c.Pc(c.nc(4,2,e.label))}}function re(e,t){if(1&e){const e=c.Xb();c.Wb(0,"div"),c.Wb(1,"div",80),c.Wb(2,"h2",81),c.Oc(3),c.mc(4,"translate"),c.Vb(),c.Wb(5,"p",82),c.Oc(6),c.mc(7,"translate"),c.Vb(),c.Vb(),c.Wb(8,"div",83),c.Wb(9,"a",74),c.Wb(10,"span",75),c.Oc(11),c.mc(12,"translate"),c.Vb(),c.Vb(),c.Vb(),c.Rb(13,"br"),c.Wb(14,"div",83),c.Wb(15,"a",74),c.Wb(16,"span",75),c.Oc(17),c.mc(18,"translate"),c.Vb(),c.Vb(),c.Vb(),c.Wb(19,"div",80),c.Wb(20,"p",82),c.Oc(21),c.mc(22,"translate"),c.Vb(),c.Vb(),c.Wb(23,"mat-radio-group",84),c.hc("ngModelChange",function(t){return c.Fc(e),c.lc(3).ptRemindingType=t})("change",function(t){return c.Fc(e),c.lc(3).radioChange(t)}),c.Mc(24,le,5,4,"div",85),c.Vb(),c.Vb()}if(2&e){const e=c.lc(3);c.Db(3),c.Pc(c.nc(4,10,"polandTurkey.pageDetails.para6")),c.Db(3),c.Pc(c.nc(7,12,"polandTurkey.pageDetails.para12")),c.Db(3),c.tc("href",e.rescheduleAppointment,c.Hc),c.Db(2),c.Pc(c.nc(12,14,"polandTurkey.pageDetails.para13")),c.Db(4),c.tc("href",e.ptRefundServiceFee,c.Hc),c.Db(2),c.Qc(" ",c.nc(18,16,"polandTurkey.pageDetails.para14"),""),c.Db(4),c.Pc(c.nc(22,18,"polandTurkey.pageDetails.para15")),c.Db(2),c.tc("ngModel",e.ptRemindingType)("ngModelOptions",c.wc(20,oe)),c.Db(1),c.tc("ngForOf",e.notificationType)}}function ce(e,t){1&e&&c.Sb(0)}function de(e,t){if(1&e){const e=c.Xb();c.Wb(0,"form",9),c.hc("ngSubmit",function(){return c.Fc(e),c.lc(2).submitCaptcha()}),c.Wb(1,"mat-card",10),c.Mc(2,V,6,1,"ng-container",2),c.Wb(3,"h1",11),c.Oc(4),c.mc(5,"translate"),c.Vb(),c.Wb(6,"p",12),c.Oc(7),c.mc(8,"translate"),c.Vb(),c.Mc(9,U,48,33,"ng-container",2),c.Mc(10,j,29,21,"ng-container",2),c.Mc(11,H,21,14,"ng-container",2),c.Mc(12,ie,42,39,"ng-container",2),c.Mc(13,se,17,17,"ng-container",2),c.Mc(14,re,25,21,"div",2),c.Vb(),c.Wb(15,"mat-card",13),c.Wb(16,"div",14),c.Wb(17,"div",15),c.Wb(18,"button",16),c.hc("click",function(){return c.Fc(e),c.lc(2).routePrevious()}),c.Oc(19),c.mc(20,"translate"),c.Vb(),c.Vb(),c.Wb(21,"div",15),c.Mc(22,ce,1,0,"ng-container",17),c.Vb(),c.Vb(),c.Vb(),c.Vb()}if(2&e){const e=c.lc(2),t=c.Bc(8),a=c.Bc(6);c.Eb("data-ot-cp-id",e.dataOtCpId),c.Db(2),c.tc("ngIf",e.proceedFailMsg),c.Db(2),c.Pc(c.nc(5,12,"reviewAndPayment.headerLabel.label1")),c.Db(3),c.Pc(c.nc(8,14,"reviewAndPayment.pageDetails.para1")),c.Db(2),c.tc("ngIf",!(e.isRescheduleAptmntMode||e.iswaitlistScheduleMode)),c.Db(1),c.tc("ngIf",!e.commonService.checkIfPostal(e.applicationType)&&!e.commonService.checkIfOWA(e.applicationType)&&!e.iswaitlistConfirmMode),c.Db(1),c.tc("ngIf",!e.isRescheduleAptmntMode&&!e.iswaitlistConfirmMode),c.Db(1),c.tc("ngIf",!e.isRescheduleAptmntMode),c.Db(1),c.tc("ngIf",!e.isRescheduleAptmntMode),c.Db(1),c.tc("ngIf",e.isPtFlow),c.Db(5),c.Qc(" ",c.nc(20,16,"commonSections.buttons.button8")," "),c.Db(3),c.tc("ngTemplateOutlet",(null==e.selectedSevices?null:e.selectedSevices.length)>0?t:a)}}function ue(e,t){if(1&e&&(c.Ub(0),c.Mc(1,de,23,18,"form",8),c.Tb()),2&e){const e=c.lc();c.Db(1),c.tc("ngIf",e.reviewPaymentData)}}function me(e,t){if(1&e&&(c.Ub(0),c.Wb(1,"div",18),c.Wb(2,"div",19),c.Rb(3,"i",20),c.Wb(4,"div"),c.Oc(5),c.Vb(),c.Vb(),c.Vb(),c.Tb()),2&e){const e=c.lc(2);c.Db(5),c.Pc(e.proceedFailMsg)}}function pe(e,t){if(1&e){const e=c.Xb();c.Ub(0),c.Wb(1,"mat-card"),c.Mc(2,me,6,1,"ng-container",2),c.Wb(3,"h1",11),c.Oc(4),c.mc(5,"translate"),c.Vb(),c.Wb(6,"p",12),c.Oc(7),c.mc(8,"translate"),c.Vb(),c.Wb(9,"div"),c.Wb(10,"h2",23),c.Wb(11,"b"),c.Oc(12),c.mc(13,"translate"),c.Vb(),c.Vb(),c.Wb(14,"p",28),c.Oc(15),c.mc(16,"translate"),c.Vb(),c.Wb(17,"p",28),c.Oc(18),c.mc(19,"translate"),c.Vb(),c.Wb(20,"p",28),c.Oc(21),c.mc(22,"translate"),c.Vb(),c.Wb(23,"h2",23),c.Wb(24,"b"),c.Oc(25),c.mc(26,"translate"),c.Vb(),c.Vb(),c.Wb(27,"p",28),c.Oc(28),c.mc(29,"translate"),c.Vb(),c.Wb(30,"h2",23),c.Wb(31,"b"),c.Oc(32),c.mc(33,"translate"),c.Vb(),c.Vb(),c.Wb(34,"p",28),c.Oc(35),c.mc(36,"translate"),c.Vb(),c.Wb(37,"p",28),c.Oc(38),c.mc(39,"translate"),c.Vb(),c.Wb(40,"p",28),c.Oc(41),c.mc(42,"translate"),c.Vb(),c.Wb(43,"p",28),c.Oc(44),c.mc(45,"translate"),c.Vb(),c.Vb(),c.Wb(46,"div",14),c.Wb(47,"div",15),c.Wb(48,"button",16),c.hc("click",function(){return c.Fc(e),c.lc().goBack()}),c.Oc(49),c.mc(50,"translate"),c.Vb(),c.Vb(),c.Wb(51,"div",15),c.Wb(52,"button",16),c.hc("click",function(){return c.Fc(e),c.lc().proceedToPayment()}),c.Oc(53),c.mc(54,"translate"),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Tb()}if(2&e){const e=c.lc();c.Db(2),c.tc("ngIf",e.proceedFailMsg),c.Db(2),c.Pc(c.nc(5,16,"reviewAndPayment.headerLabel.label9")),c.Db(3),c.Pc(c.nc(8,18,"reviewAndPayment.pageDetails.para4")),c.Db(5),c.Pc(c.nc(13,20,"reviewAndPayment.pageDetails.para5")),c.Db(3),c.Pc(c.nc(16,22,"reviewAndPayment.pageDetails.para6")),c.Db(3),c.Pc(c.nc(19,24,"reviewAndPayment.pageDetails.para7")),c.Db(3),c.Pc(c.nc(22,26,"reviewAndPayment.pageDetails.para8")),c.Db(4),c.Pc(c.nc(26,28,"reviewAndPayment.pageDetails.para9")),c.Db(3),c.Pc(c.nc(29,30,"reviewAndPayment.pageDetails.para10")),c.Db(4),c.Pc(c.nc(33,32,"reviewAndPayment.pageDetails.para11")),c.Db(3),c.Pc(c.nc(36,34,"reviewAndPayment.pageDetails.para12")),c.Db(3),c.Pc(c.nc(39,36,"reviewAndPayment.pageDetails.para13")),c.Db(3),c.Pc(c.nc(42,38,"reviewAndPayment.pageDetails.para14")),c.Db(3),c.Pc(c.nc(45,40,"reviewAndPayment.pageDetails.para15")),c.Db(5),c.Qc(" ",c.nc(50,42,"reviewAndPayment.buttons.button2")," "),c.Db(4),c.Qc(" ",c.nc(54,44,"reviewAndPayment.buttons.button3")," ")}}function be(e,t){if(1&e&&(c.Ub(0),c.Wb(1,"div",18),c.Wb(2,"div",19),c.Rb(3,"i",20),c.Wb(4,"div"),c.Oc(5),c.Vb(),c.Vb(),c.Vb(),c.Tb()),2&e){const e=c.lc(2);c.Db(5),c.Pc(e.proceedFailMsg)}}function ge(e,t){if(1&e&&(c.Wb(0,"mat-option",96),c.Oc(1),c.Vb()),2&e){const e=t.$implicit;c.tc("value",e.code)("disabled",!e.IsActive),c.Db(1),c.Qc(" ",null==e?null:e.name," ")}}function fe(e,t){if(1&e){const e=c.Xb();c.Ub(0),c.Wb(1,"mat-card",10),c.Mc(2,be,6,1,"ng-container",2),c.Wb(3,"h1",88),c.Oc(4),c.mc(5,"translate"),c.Vb(),c.Wb(6,"p",89),c.Oc(7),c.mc(8,"translate"),c.Vb(),c.Wb(9,"div"),c.Oc(10),c.mc(11,"translate"),c.Wb(12,"span",90),c.Oc(13,"*"),c.Vb(),c.Vb(),c.Wb(14,"div",91),c.Wb(15,"mat-form-field",92),c.Wb(16,"mat-select",93),c.hc("ngModelChange",function(t){return c.Fc(e),c.lc().selectPaymentType=t}),c.mc(17,"translate"),c.Mc(18,ge,2,3,"mat-option",94),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Wb(19,"mat-card",13),c.Wb(20,"div",14),c.Wb(21,"div",15),c.Wb(22,"button",16),c.hc("click",function(){return c.Fc(e),c.lc().goBack()}),c.Oc(23),c.mc(24,"translate"),c.Vb(),c.Vb(),c.Wb(25,"div",15),c.Wb(26,"button",95),c.hc("click",function(){return c.Fc(e),c.lc().goForward()}),c.Oc(27),c.mc(28,"translate"),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Tb()}if(2&e){const e=c.lc();c.Db(2),c.tc("ngIf",e.proceedFailMsg),c.Db(2),c.Pc(c.nc(5,10,"polandTurkey.headerLabel.label2")),c.Db(3),c.Pc(c.nc(8,12,"polandTurkey.pageDetails.para26")),c.Db(3),c.Pc(c.nc(11,14,"polandTurkey.formLabel.label8")),c.Db(6),c.uc("placeholder",c.nc(17,16,"polandTurkey.formLabel.label9")),c.tc("ngModel",e.selectPaymentType),c.Db(2),c.tc("ngForOf",e.payOptions),c.Db(5),c.Qc(" ",c.nc(24,18,"commonSections.buttons.button8")," "),c.Db(3),c.tc("disabled",!e.selectPaymentType),c.Db(1),c.Qc(" ",c.nc(28,20,"commonSections.buttons.button19")," ")}}function he(e,t){if(1&e&&(c.Wb(0,"button",97),c.Oc(1),c.mc(2,"translate"),c.Vb()),2&e){const e=c.lc();c.tc("disabled",!e.termsAndConditionFlag),c.Db(1),c.Qc(" ",c.nc(2,2,e.finalButtonText)," ")}}function ve(e,t){if(1&e&&(c.Rb(0,"input",98),c.Rb(1,"input",99),c.Wb(2,"button",100),c.Oc(3),c.mc(4,"translate"),c.Vb()),2&e){const e=c.lc();c.tc("value",e.loggedInUser),c.Db(2),c.tc("disabled",!e.termsAndConditionFlag),c.Db(1),c.Qc(" ",c.nc(4,3,e.finalButtonText)," ")}}let ye=(()=>{class t extends l.a{constructor(e){var t,a;super(),this.dialog=e,this.constants=n.c,this.submitAttempt=!1,this.optedOutTmi=!1,this.tmiServicesAvailable=!0,this.agreeTmiProdConditions=!0,this.dataOtCpId=r.a.oneTrustPortal.dataOtCpId,this.loggedInUser="",this.payOptions=[],this.isPtFlowPaymentOption=!1,this.notificationType=[],this.initBaseForm(n.c.modules.REVIEW_PAYMENT),this.proceedFailMsg="",this.subVisaCategoryCode=[],this.configuration={},this.currencyCode="",this.visaCategoryCode=[],this.nationalityList=[],this.vacList=[],this.providerList=[],this.courierList=[],this.stateList=[],this.allowedCaptcha=!1,this.splitPayment=null===(t=this.sessionService)||void 0===t?void 0:t.splitEnabled,this.currentCaptcha=this.captchaVersionConst.default,this.agreeToTermsAndCondition=!1,this.canVFSReachoutToApplicant=!1,this.agreeToWaitlistConfirmation=!1,this.isWaitListJourney=this.iswaitlistConfirmMode,this.tmiEnabled=null===(a=this.sessionService)||void 0===a?void 0:a.tmiEnabled,this.loggedInUser=this.sessionService.getLoggedEmail(),this.isPtFlowPaymentOption=!!this.isPtFlow,this.pgDisclaimer=!1,this.isPaymentOptionsPage=!1,this.notificationType=[{name:"email",label:"polandTurkey.pageDetails.para16"},{name:"sms",label:"polandTurkey.pageDetails.para17"},{name:"none",label:"polandTurkey.pageDetails.para18"}]}ngOnInit(){var e,t;this.currentCaptcha=this.captchaVersionConst.default,this.captchaToken="",this.allowedCaptcha=!0;const a={dl_category:"pageview",dl_action:"pageview- review page",dl_label:this.utilityService.countrynameByIso(window.location.pathname.split("/")[1]),value:void 0,ecommerce:void 0};if(this.timeLeft=String(600),this.isPtFlow&&!this.isRescheduleAptmntMode&&this.start(),this.utilityService.fireCustomEvent(a),this.currencyCode=this.sessionService.currencyCode||"",this.configuration=this.sessionService.applicationConfiguration,this.isRescheduleAptmntMode){this.reviewPaymentData=[];const e=this.sessionService.getAppointmentDetails();this.reviewPaymentData.bookAppointment=e}else this.loadReviewPaymentData(),(null===(t=null===(e=this.sessionService)||void 0===e?void 0:e.tmiVas)||void 0===t?void 0:t.length)>0&&this.InitiateCreateTMIPolicy();this.optedOutTmi=this.sessionService.optOutTmi,this.tmiServicesAvailable=this.sessionService.isTmiProductsAvailable,this.selectedSevices=this.sessionService.tmiVas}getCaptchaValue(){return new Promise((e,t)=>{this.utilityService.executeCapctha(n.c.captcha_action.SCHEDULE).then(t=>{this.captchaToken=t,e(!0)})})}start(){this.config={leftTime:this.timeLeft,format:"mm:ss",demand:!1},this.commonService.autoLogout(600)}checkCaptchaAllowed(){this.subs.sink=this.dataShareService.captchaAllowedRoutes.subscribe(e=>Object(i.b)(this,void 0,void 0,function*(){e?(this.allowedCaptcha=e.indexOf(n.q.REVIEW_AND_PAY)>-1,this.allowedCaptcha&&this.getCaptchaValue()):this.allowedCaptcha=!1}))}getSubvisaCategoryCode(){return Object(i.b)(this,void 0,void 0,function*(){try{const e=this.sessionService.centerCode,t=this.sessionService.eligibilityDetails,a=null==t?void 0:t.selectedSubvisaCategory,i=yield this.commonService.getSubVisaCategories(e,a);this.subVisaCategoryCode=i}catch(e){console.log(`Error Status: ${e.status}\nMessage: ${e.message} : ${e.error.data}`)}})}getVisaCategoryCode(){return Object(i.b)(this,void 0,void 0,function*(){try{const e=this.sessionService.centerCode,t=yield this.commonService.getVisaCategories(e);this.visaCategoryCode=t}catch(e){console.log(`Error Status: ${e.status}\nMessage: ${e.message} : ${e.error.data}`)}})}loadNationality(){return Object(i.b)(this,void 0,void 0,function*(){this.nationalityList=yield this.commonService.loadNationality()})}loadServiceProvider(){return Object(i.b)(this,void 0,void 0,function*(){this.providerList=yield this.commonService.loadMasterData(n.c.api.masterCourierSercProvider)})}loadCourier(){return Object(i.b)(this,void 0,void 0,function*(){this.courierList=yield this.commonService.loadMasterData(n.c.api.masterCourierType)})}loadStates(){return Object(i.b)(this,void 0,void 0,function*(){this.stateList=yield this.httpService.slashParamsDoGet(n.c.api.masterState,{countryCode:this.sessionService.countryCode}).toPromise()})}getApplicationData(){var e;return Object(i.b)(this,void 0,void 0,function*(){const t=yield this.commonService.getVacCenters(null===(e=this.sessionService)||void 0===e?void 0:e.appCultureCode);t&&(this.vacList=t,this.sessionService.appCenterCode=t)})}feesApplied(){return Object(i.b)(this,void 0,void 0,function*(){const e=yield this.utilityService.loadFees();return(null==e?void 0:e.feeDetails)&&(this.sessionService.vacFees=null==e?void 0:e.feeDetails),this.sessionService.additionalFees=(null==e?void 0:e.additionalFee)||[],e})}loadYourDetails(){var e,t;try{return null===(t=null===(e=this.sessionService)||void 0===e?void 0:e.applicationDetailValue)||void 0===t?void 0:t.applicantList.map(e=>{var t,a,i,o;return e.countryName=this.utilityService.getnationalityName(this.nationalityList,e.nationalityCode),this.commonService.checkIfPostal(this.applicationType)&&(e.postalList[0].courierType=this.utilityService.getNameFromCode(this.courierList,e.postalList[0].courierType),this.commonService.checkIfPrepaidCourier(null===(t=null==e?void 0:e.postalList[0])||void 0===t?void 0:t.courierType)?e.postalList[0].courierServiceProvider=this.utilityService.getNameFromCode(this.providerList,null===(a=null==e?void 0:e.postalList[0])||void 0===a?void 0:a.courierServiceProvider):(e.postalList[0].countryCode=this.utilityService.getnationalityName(this.nationalityList,null===(i=null==e?void 0:e.postalList[0])||void 0===i?void 0:i.countryCode),e.postalList[0].state=this.utilityService.getStateNameFromISOcode(this.stateList,null===(o=null==e?void 0:e.postalList[0])||void 0===o?void 0:o.state))),e.dob=e.dateOfBirth.day+"/"+e.dateOfBirth.month+"/"+e.dateOfBirth.year,e.passportExpiry=e.passportExpirtyDate.day+"/"+e.passportExpirtyDate.month+"/"+e.passportExpirtyDate.year,e})}catch(a){console.log(a)}}loadReviewPaymentData(){var e,t,a,o,n,s,l,r,c,d,u;return Object(i.b)(this,void 0,void 0,function*(){this.utilityService.startNgxUiSpinner();const i=this.isRescheduleAptmntMode||this.iswaitlistScheduleMode?this.sessionService.applicationDetailValue:this.sessionService.eligibilityDetails,m=[this.loadNationality(),this.getApplicationData(),yield this.getVisaCategoryCode(),this.getSubvisaCategoryCode()];let p,b,g,f;if((null===(e=this.configuration)||void 0===e?void 0:e.enableEntryType)?(p=this.commonService.loadEntryType(),m.push(p)):m.push(void 0),(null===(t=this.configuration)||void 0===t?void 0:t.enableServiceType)?(b=this.commonService.loadServiceType(),m.push(b)):m.push(void 0),(null===(a=this.configuration)||void 0===a?void 0:a.enableVisaType)&&(null===(o=this.configuration)||void 0===o?void 0:o.enableServiceType)?(g=this.commonService.loadEOIVisaType(),m.push(g)):m.push(void 0),null===(n=this.configuration)||void 0===n?void 0:n.enableApplicationType)if(f=this.commonService.loadSubmissionType(),m.push(f),this.applicationType=i.applicationType?i.applicationType:null,this.commonService.checkIfPostal(this.applicationType)){const e=this.loadServiceProvider(),t=this.loadCourier(),a=this.loadStates();m.push(e,t,a)}else m.push(void 0,void 0,void 0);else m.push(void 0,void 0,void 0,void 0);const h=yield Promise.all(m),v=[this.utilityService.getnationalityName(this.nationalityList,this.sessionService.countryCode),this.utilityService.getnationalityName(this.nationalityList,this.sessionService.tenent),this.utilityService.filterVacFromCode(this.vacList,i.centerCode,"centerName"),this.utilityService.getNameFromCode(this.visaCategoryCode,i.selectedSubvisaCategory),this.utilityService.getNameFromCode(this.subVisaCategoryCode,i.visaCategoryCode),this.feesApplied()];let y,S,C,D,I;(null===(s=this.configuration)||void 0===s?void 0:s.enableEntryType)&&i.entryType?(y=this.utilityService.getCodeName(h[4].entryTypes,i.entryType),v.push(y)):v.push(void 0),(null===(l=this.configuration)||void 0===l?void 0:l.enableServiceType)&&i.serviceType?(S=this.utilityService.getCodeName(h[5],i.serviceType),v.push(S)):v.push(void 0),(null===(r=this.configuration)||void 0===r?void 0:r.enableVisaType)&&(null===(c=this.configuration)||void 0===c?void 0:c.enableServiceType)&&i.visaType?(C=this.utilityService.getCodeName(h[6].eoiVisaTypes,i.visaType),v.push(C)):v.push(void 0),(null===(d=this.configuration)||void 0===d?void 0:d.enableApplicationType)&&i.applicationType?(D=this.utilityService.getCodeName(h[7],i.applicationType),v.push(D)):v.push(void 0),(null===(u=this.configuration)||void 0===u?void 0:u.enableNationalityFilterForVisaCategory)&&i.nationalityCode?(I=this.utilityService.getnationalityName(this.nationalityList,i.nationalityCode),v.push(I)):v.push(void 0);const V=yield Promise.all(v);this.utilityService.stopNgxUiSpinner();const A=this.loadYourDetails(),O=this.sessionService.getAppointmentDetails(),T=V[5],L=this.sessionService.applicantService;this.reviewPaymentData={},this.reviewPaymentData.nationalityName=V[10],this.reviewPaymentData.entryType=V[6],this.reviewPaymentData.serviceType=V[7],this.reviewPaymentData.visaType=V[8],this.reviewPaymentData.applicationType=V[9],this.sessionService.calculatedCodeData=this.reviewPaymentData,this.reviewPaymentData.countryName=V[0],this.reviewPaymentData.missionName=V[1],this.reviewPaymentData.vacCodeName=V[2],this.reviewPaymentData.visaCategoryName=V[3],this.reviewPaymentData.visaSubCategoryName=V[4],this.reviewPaymentData.yourDetail=A,this.reviewPaymentData.bookAppointment=O,this.reviewPaymentData.fees=null==T?void 0:T.feeDetails,this.reviewPaymentData.feesTotal=(null==T?void 0:T.feeDetails)?null==T?void 0:T.feeDetails.reduce((e,t)=>e+t.feeAmount,0):0,this.reviewPaymentData.additionalFee=(null==T?void 0:T.additionalFee)||[],this.reviewPaymentData.additionalFeeTotal=(null==T?void 0:T.additionalFee)?null==T?void 0:T.additionalFee.reduce((e,t)=>e+t.value,0):0,this.reviewPaymentData.services=L,this.reviewPaymentData.servicesTotal=(null==T?void 0:T.servicesFee)?T.servicesFee.reduce((e,t)=>e+(t.totalamount||0),0):0,this.reviewPaymentData.overallTotal=(null==T?void 0:T.totalamount)?null==T?void 0:T.totalamount:0,this.reviewPaymentData.serviceFeeTax=(null==T?void 0:T.servicesFee)?null==T?void 0:T.servicesFee.reduce((e,t)=>{var a;return t.taxes.length>0?e+(null===(a=t.taxes[0])||void 0===a?void 0:a.taxAmount):e+0},0):0,this.sessionService.serviceTax=this.reviewPaymentData.serviceFeeTax,this.utilityService.updateTotalFees(this.reviewPaymentData.feesTotal),this.sessionService.feeAmount=this.reviewPaymentData.feesTotal,this.loadScript(),this.currencyCode=this.sessionService.currencyCode||""})}get calFeesTotal(){var e,t,a,i,o;const s=null===(t=null===(e=this.reviewPaymentData)||void 0===e?void 0:e.fees)||void 0===t?void 0:t.filter(e=>e.feeTypeCode===n.c.FEE_TYPE_CODES.CVFEE);return s&&s.length>0?(null===(a=this.reviewPaymentData)||void 0===a?void 0:a.feesTotal)-(null===(i=s[0])||void 0===i?void 0:i.feeAmount):null===(o=this.reviewPaymentData)||void 0===o?void 0:o.feesTotal}get termCondition(){return this.utilityService.externalUrlAppend("termsandconditions")}get termsAndConditionFlag(){return this.isWaitListJourney?(this.agreeToTermsAndCondition&&this.agreeToWaitlistConfirmation||this.isRescheduleAptmntMode)&&(!this.tmiProductsView||this.optedOutTmi||this.agreeTmiProdConditions||!this.tmiServicesAvailable):this.isPtFlow?(this.agreeToTermsAndCondition||this.isRescheduleAptmntMode)&&(!this.tmiProductsView||this.optedOutTmi||this.agreeTmiProdConditions||!this.tmiServicesAvailable)&&this.ptRemindingType:(this.agreeToTermsAndCondition||this.isRescheduleAptmntMode)&&(!this.tmiProductsView||this.optedOutTmi||this.agreeTmiProdConditions||!this.tmiServicesAvailable)}submitCaptcha(){var e,t,a,i;this.utilityService.fireCustomEvent({dl_category:"Form Submission",dl_action:"Form Submission - Confirm and Pay",dl_label:void 0,value:0});const o=this.sessionService.applicantService;o&&(null==o?void 0:o.length)>0&&this.utilityService.onCheckout(o),this.utilityService.fireCustomEvent({dl_category:"Form Submission",dl_action:"Form Submission - Confirm and Pay",dl_label:"ReviewandPayClick",value:0});const n=this.sessionService.tmiDetails||[],s={event:"pay_online",dl_category:"pay_online",dl_action:"cta_click",visa_type:null===(e=this.reviewPaymentData)||void 0===e?void 0:e.visaCategoryName,appointment_type:null===(t=this.reviewPaymentData.bookAppointment)||void 0===t?void 0:t.slotType,coverage_type:null==n?void 0:n.coveragetype,coverage_level:null==n?void 0:n.coveragelevel,extreme_sports:null==n?void 0:n.extremesports,travel_insurance_added:(null===(a=this.sessionService.tmiVas)||void 0===a?void 0:a.length)>0};this.utilityService.gaForTMI(s),this.isPtFlowPaymentOption&&!this.isPaymentOptionsPage&&this.reviewPaymentData.overallTotal>0?this.loadPaymentOptionsView():this.reviewPaymentData.overallTotal>0&&(null===(i=this.configuration)||void 0===i?void 0:i.payOnlineEnabled)?(this.pgDisclaimer=!0,this.utilityService.pushDataLayerGA({dl_event:"review_application",dl_category:"Review Application",dl_action:"Pay Online",dl_label:"Success"})):(this.utilityService.pushDataLayerGA({dl_event:"review_application",dl_category:"Review Application",dl_action:"Confirm",dl_label:"Success"}),this.proceedToPayment())}proceedToPayment(){var e,t,a,o,s,l,c,d,u;return Object(i.b)(this,void 0,void 0,function*(){try{if(this.submitAttempt=!0,this.allowedCaptcha&&!this.captchaToken&&this.captchaVersionConst.alternate===this.currentCaptcha)return;if(!this.agreeToTermsAndCondition&&!this.isRescheduleAptmntMode)return;if(this.isWaitListJourney&&!this.agreeToWaitlistConfirmation)return;const i=this.sessionService.paymentDetails;let r=null;const m=null===(e=this.sessionService.applicantService)||void 0===e?void 0:e.find(e=>"TMIPS"===e.code);r={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,cultureCode:this.sessionService.appCultureCode,centerCode:this.sessionService.centerCode,loginUser:this.sessionService.getLoggedEmail(),urn:this.sessionService.urn,notificationType:this.ptRemindingType||"none",paymentdetails:{paymentmode:this.configuration.payAtBankEnabled||this.isPayAtBankSelected?"Bank":(null===(t=this.configuration)||void 0===t?void 0:t.payOnlineEnabled)||this.isPayOnlineSelected?"Online":"Vac",RequestRefNo:i&&i.requestrefno?i.requestrefno.toString():"",clientId:"",merchantId:"",amount:this.reviewPaymentData.overallTotal,currency:this.sessionService.currencyCode}},this.allowedCaptcha&&this.captchaVersionConst.alternate===this.currentCaptcha&&(r.paymentdetails.api_captcha_mapvas=this.captchaToken,r.paymentdetails.captcha_version=this.captchaVersionConst.alternate),m&&(r.SplitPay=[{SplitAmount:m?null==m?void 0:m.amount:0,SubMerchantId:"43712-1"}]),this.commonService.checkIfPostal(this.applicationType)||this.commonService.checkIfOWA(this.applicationType)||this.iswaitlistConfirmMode||(r.allocationId=this.sessionService.isRescheduleAptmntMode?Number(null===(a=this.reviewPaymentData.bookAppointment)||void 0===a?void 0:a.allocationId):String(null===(o=this.reviewPaymentData.bookAppointment)||void 0===o?void 0:o.allocationId)),this.iswaitlistConfirmMode&&delete r.paymentdetails;const p=this.commonService.checkIfPostal(this.applicationType)||this.commonService.checkIfOWA(this.applicationType)?n.c.api.paymentInitiate:this.iswaitlistConfirmMode?n.c.api.confirmWaitlist:this.sessionService.isRescheduleAptmntMode?n.c.api.apptReschedule:n.c.api.apptSchedule;this.sessionService.isRescheduleAptmntMode||this.commonService.checkIfPostal(this.applicationType)||this.commonService.checkIfOWA(this.applicationType)||(r.CanVFSReachoutToApplicant=this.canVFSReachoutToApplicant);const b=yield this.httpService.payloadPost(p,r,"Schedule").toPromise().catch(e=>{throw e}).then(e=>e);(null===(s=this.sessionService)||void 0===s?void 0:s.resourceGroupDataTemp)||(this.sessionService.resourceGroupDataTemp=null===(l=this.sessionService)||void 0===l?void 0:l.resourceGroupData);const g=this.utilityService.convertKeystoLowercase(b);if(this.isRescheduleAptmntMode&&(null==g?void 0:g.isappointmentrescheduled))return this.dataShareService.rescheduledData=b,void this.commonService.routeToDashboard();if(!(null==g?void 0:g.error)&&(null==g?void 0:g.isconfirmed)&&this.sessionService.waitlistJourney)return this.sessionService.paymentDetails=g,this.sessionService.paymentData=null==r?void 0:r.paymentdetails,void this.commonService.routeToPostLoginModule(n.q.PAYMENT_CONFIRMATION);if(!(null==g?void 0:g.error)&&this.isPayAtBankSelected)return this.sessionService.paymentDetails=g,this.isPtFlow&&this.commonService.stopTimeOut(),this.sessionService.paymentData=null==r?void 0:r.paymentdetails,this.sessionService.isPayAtBankSelected=!0,void this.commonService.routeToPostLoginModule(n.q.PAYMENT_CONFIRMATION);if((null==g?void 0:g.error)||!(null==g?void 0:g.isappointmentbooked)||(null==g?void 0:g.ispaymentrequired)||(null==g?void 0:g.url))if(g&&!g.error&&(null==g?void 0:g.isappointmentbooked)&&g.ispaymentrequired&&g.url){this.isPtFlow&&this.commonService.stopTimeOut(),this.sessionService.paymentDetails=g,this.sessionService.paymentData=null==r?void 0:r.paymentdetails;const e=`${g.url}?RequestRefNo=${g.requestrefno}&Email=${this.sessionService.getLoggedEmail()}&Currency=${this.sessionService.currencyCode}&Culture=${this.sessionService.appCultureCode}&Amount=${this.reviewPaymentData.overallTotal}&DigitalSignature=${g.digitalsignature}&RedirectURL=`;window.open(e,"_self")}else if(g&&!g.error&&(this.commonService.checkIfPostal(this.applicationType)||this.commonService.checkIfOWA(this.applicationType))&&g.ispaymentrequired&&g.url){this.sessionService.paymentDetails=g,this.sessionService.paymentData=null==r?void 0:r.paymentdetails;const e=`${g.url}?RequestRefNo=${g.requestrefno}&Currency=${this.sessionService.currencyCode}&Culture=${this.sessionService.appCultureCode}&Amount=${this.reviewPaymentData.overallTotal}&DigitalSignature=${g.digitalsignature}&RedirectURL=`;window.open(e,"_self")}else{let e;document.body.scrollTop=document.documentElement.scrollTop=0,1035===(null===(c=null==g?void 0:g.error)||void 0===c?void 0:c.code)&&this.sessionService.appCultureCode.indexOf("zh-CN")>-1?this.subs.sink=this.translateService.get("reviewAndPayment.messages.errorMessages.message1").subscribe(t=>e=t):e=null===(d=null==g?void 0:g.error)||void 0===d?void 0:d.description,e=e.replace(" X ",` ${null===(u=this.configuration)||void 0===u?void 0:u.allowRescheduleXDaysPriorToAppointment} `);const t=e.match(/\[([^)]+)\]/);let a;t&&(a=t[1]),JSON.parse(JSON.stringify(this.configuration)),this.proceedFailMsg=e.replace(" X ",` ${this.configuration.allowRescheduleXDaysPriorToAppointment} `),setTimeout(()=>{this.proceedFailMsg=""},5e3)}else this.isPtFlow&&this.commonService.stopTimeOut(),this.sessionService.paymentDetails=g,this.sessionService.paymentData=null==r?void 0:r.paymentdetails,this.commonService.routeToPostLoginModule(n.q.PAYMENT_CONFIRMATION)}catch(i){if(this.logger.error(i),!this.allowedCaptcha)return;if(r.a.captchaFallbackEnabled)this.captchaToken="",this.currentCaptcha=this.captchaVersionConst.alternate,this.captchaToken="",this.utilityService.resetCaptcha();else{const e=yield this.captchaContainer.generateToken();this.captchaToken=e}}})}InitiateCreateTMIPolicy(){var e,t,a,o,s;return Object(i.b)(this,void 0,void 0,function*(){const i=null===(t=null===(e=this.sessionService)||void 0===e?void 0:e.applicationDetailValue)||void 0===t?void 0:t.applicantList,l=null===(a=this.sessionService)||void 0===a?void 0:a.tmiDetails;l.startDate=this.utilityService.convertJSONInDate(null==l?void 0:l.startdate);const r=null===(o=this.sessionService)||void 0===o?void 0:o.tmiVas,c=[];i.forEach(e=>{(null==e?void 0:e.isTmiApplicant)&&c.push({arn:e.arn,firstName:null==e?void 0:e.firstName,lastName:null==e?void 0:e.lastName,age:null==e?void 0:e.age,dateOfBirth:this.utilityService.convertJSONInDate(null==e?void 0:e.dateOfBirth),emailId:null==e?void 0:e.emailId,dialCode:null==e?void 0:e.dialCode,contactNumber:null==e?void 0:e.contactNumber})});const d=null==i?void 0:i.filter(e=>null==e?void 0:e.isTmiApplicant).map(e=>Object({addressLine1:e.addressline1,addressLine2:e.addressline2,postalCode:e.pincode,city:e.city,state:e.state,country:e.state,district:e.state})),u={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.centerCode,loginUser:this.sessionService.getLoggedEmail(),URN:this.sessionService.urn,amount:String(null===(s=r[0])||void 0===s?void 0:s.amount),productId:r[0].productId,subProductId:r[0].subProductId||"",companyName:r[0].companyName,productName:r[0].productName,applicants:c,insuranceTravelDetails:{coverageLevel:null==l?void 0:l.coveragelevel,coverageType:null==l?void 0:l.coveragetype,startDate:this.utilityService.convertJSONInDate(null==l?void 0:l.startdate),endDate:this.utilityService.convertJSONInDate(null==l?void 0:l.enddate),firstCountryOfEntry:null==l?void 0:l.countryofentry,isRequiredExtraSports:!!(null==l?void 0:l.extremesports)&&JSON.parse(null==l?void 0:l.extremesports)},productHolderAddress:d[0]};yield this.httpService.payloadPost(n.c.api.createPolicy,u).toPromise().then(e=>e).catch(e=>e)})}route(e){try{this.isPtFlow&&this.commonService.stopTimeOut(),this.commonService.removeTmiProductSelection();const t=this.commonService.getSchemaByModuleName(e);this.commonService.routeToPostLoginModule(t.routeUrl)}catch(t){console.log(t)}}editYourDetails(t){try{this.dataShareService.editYourDetail=!0,this.sessionService.editApplicantDetailsIdx=t;const a=this.sessionService.getAllModulesSchema().find(e=>e.logicalName===n.c.modules.APPLICANT_DETAILS);if(!a)throw new Error(`Error: invalid_module ${e}`);this.commonService.routeToPostLoginModule(a.routeUrl)}catch(a){console.log(a)}}removeApplicant(e){var t;return Object(i.b)(this,void 0,void 0,function*(){try{const a=yield this.commonService.deleteApplicantDetails(e);this.reviewPaymentData.yourDetail=this.loadYourDetails(),this.sessionService.updateFees=!0;const i=yield this.feesApplied(),o=this.sessionService.applicantService;this.reviewPaymentData.fees=null==i?void 0:i.feeDetails,this.reviewPaymentData.feesTotal=(null==i?void 0:i.feeDetails)?null==i?void 0:i.feeDetails.reduce((e,t)=>e+t.feeAmount,0):0,this.reviewPaymentData.services=o,this.reviewPaymentData.servicesTotal=(null==i?void 0:i.servicesFee)?i.servicesFee.reduce((e,t)=>e+(t.totalamount||0),0):0,this.reviewPaymentData.overallTotal=(null==i?void 0:i.totalamount)?null==i?void 0:i.totalamount:0,this.reviewPaymentData.serviceFeeTax=(null==i?void 0:i.servicesFee)?null==i?void 0:i.servicesFee.reduce((e,t)=>{var a;return t.taxes.length>0?e+(null===(a=t.taxes[0])||void 0===a?void 0:a.taxAmount):e+0},0):0,this.sessionService.serviceTax=this.reviewPaymentData.serviceFeeTax,this.utilityService.updateTotalFees(this.reviewPaymentData.feesTotal),0===(null===(t=null==a?void 0:a.applicantList)||void 0===t?void 0:t.length)&&(this.utilityService.clearInProgressApplication(),this.commonService.routeToDashboard())}catch(a){console.log(a)}})}openDialog(e){try{const t=new o.e;t.data={header:"commonSections.headerLabel.label3",translateHeader:!0,dialogDisplay:"small",body:"applicantInformation.messages.infoMessages.message1",translateBody:!0,rightButton:"commonSections.buttons.button37",translateRightButton:!0,leftButton:"commonSections.buttons.button3",translateLeftButton:!0};const a=this.dialog.open(s.a,t);this.subs.sink=a.afterClosed().subscribe(t=>{t&&this.removeApplicant(Number(e))})}catch(t){console.log(t)}}routePrevious(){try{if(this.utilityService.pushDataLayerGA({dl_event:"review_application",dl_category:"Review Application",dl_action:"Go Back",dl_label:"page_url"}),this.isRescheduleAptmntMode){const e=this.commonService.getSchemaByModuleName(n.c.modules.BOOK_APPOINTMENT);this.commonService.routeToPostLoginModule(e.routeUrl)}else super.routePrevious()}catch(e){console.log(e)}}get isRescheduleAptmntMode(){return!0===this.sessionService.isRescheduleAptmntMode}get iswaitlistConfirmMode(){const e=this.sessionService.eligibilityDetails;return!!(null==e?void 0:e.agreeToWaitlist)&&e.agreeToWaitlist}get iswaitlistScheduleMode(){return this.sessionService.iswaitlistScheduleMode}isTmiService(e){return"TMIPS"===(null==e?void 0:e.code)}submitV2Captcha(e){this.captchaToken=e,this.currentCaptcha=this.captchaVersionConst.alternate}get tmiProductsView(){var e;return null===(e=this.sessionService)||void 0===e?void 0:e.tmiProductView}get finalButtonText(){var e,t,a;return 0===(null===(e=this.reviewPaymentData)||void 0===e?void 0:e.overallTotal)||this.isRescheduleAptmntMode||this.iswaitlistConfirmMode?"commonSections.buttons.button4":this.isPtFlowPaymentOption?"commonSections.buttons.button19":(null===(t=this.configuration)||void 0===t?void 0:t.payOnlineEnabled)?"commonSections.buttons.button34":(null===(a=this.configuration)||void 0===a?void 0:a.payAtVACEnabled)?"commonSections.buttons.button39":"commonSections.buttons.button4"}loadScript(){return this.utilityService.appendScriptForConsent(),!0}radioChange(e){}get ptRescheduleAppointmentLink(){return this.utilityService.externalUrlAppend("book-your-appointment")}get ptRefundServiceFee(){return this.utilityService.externalUrlAppend("refund-policy")}get rescheduleAppointment(){return this.utilityService.externalUrlAppend("reschedule-appointment")}goBack(){this.isPaymentOptionsPage?(this.isPaymentOptionsPage=!1,this.pgDisclaimer=!1):this.pgDisclaimer&&(this.isPtFlowPaymentOption?(this.pgDisclaimer=!1,this.isPaymentOptionsPage=!0):this.pgDisclaimer=!1)}goForward(){this.isPayOnlineSelected?(this.pgDisclaimer=!0,this.isPaymentOptionsPage=!1):this.proceedToPayment()}get isPayOnlineSelected(){return!!this.utilityService.strictCompare(this.selectPaymentType,"ONLINE")}get isPayAtBankSelected(){return!!this.utilityService.strictCompare(this.selectPaymentType,"BANK")}loadPaymentOptionsView(){var e,t,a;return Object(i.b)(this,void 0,void 0,function*(){try{const i={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,vacCenter:this.sessionService.centerCode,cultureCode:this.sessionService.appCultureCode,date:this.utilityService.momentInstance(null===(t=null===(e=this.reviewPaymentData)||void 0===e?void 0:e.bookAppointment)||void 0===t?void 0:t.date).format("DD-MM-YYYY")},o=yield this.httpService.slashParamsDoGet(n.c.api.masterPaymentMode,i).toPromise();o.length>0&&null===(null===(a=o[0])||void 0===a?void 0:a.error)&&(this.isPaymentOptionsPage=!0,this.payOptions=o)}catch(i){this.logger.error(i)}})}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(o.b))},t.\u0275cmp=c.Kb({type:t,selectors:[["app-review-and-payment"]],viewQuery:function(e,t){if(1&e&&c.Uc(D,1),2&e){let e;c.Ac(e=c.ic())&&(t.captchaContainer=e.first)}},features:[c.Ab],decls:9,vars:4,consts:[[1,"container","py-15","py-md-30"],["class","form-card timer-css text-right border-0 mb-5",4,"ngIf"],[4,"ngIf"],["continueBtn",""],["submitBtn",""],[1,"form-card","timer-css","text-right","border-0","mb-5"],[3,"config"],["cd",""],["class","ot-form-consent","action","","method","post",3,"ngSubmit",4,"ngIf"],["action","","method","post",1,"ot-form-consent",3,"ngSubmit"],[1,"form-card"],[1,"fs-24","fs-sm-42","mb-30"],[1,"c-brand-grey-para"],[1,"form-card","p-0","border-0","shadow-none"],[1,"row"],[1,"col-12","col-sm-6","mt-20"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange",3,"click"],[4,"ngTemplateOutlet"],[1,"border-info",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-check-circle-o","fs-24","position-absolute","left-15","top-18","mb-0"],[1,"row","mb-20"],[1,"col"],[1,"fs-18","fs-sm-24","mb-0"],["class","col-auto",4,"ngIf"],[1,"card","border-bottom-2","mb-40"],[1,"list-group","list-group-flush"],[1,"list-group-item","p-15","px-md-25"],[1,"fs-18","mt-8"],["class","list-group-item p-15 px-md-25",4,"ngIf"],[1,"fs-18","fs-sm-24","mb-20"],["class","dashboard-accordion card mb-40",4,"ngIf"],[1,"col-auto"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer",3,"click"],[1,"dashboard-accordion","card","mb-40"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"card-header","bg-brand-footer"],[1,"py-2"],[1,"fs-16","c-brand-grey-para"],[1,"fs-18","mt-3","text-overflow"],[1,"c-brand-grey-para","w-100","fs-16","mt-15"],[1,"py-10","w-25"],[1,"py-10"],["colspan","2",1,"py-10","text-right"],["colspan","2",1,"pt-20"],["class","c-brand-orange text-decoration-underline cursor-pointer",3,"click",4,"ngIf"],[1,"card","fs-sm-18","border-0","border-bottom-1","mb-40"],[1,"card"],["class","card-body p-15 px-md-25",4,"ngFor","ngForOf","ngForTrackBy"],[1,"card-body","border-top-1","border-bottom-1","p-15","px-md-25","bg-brand-footer"],[1,"row","align-items-center"],[1,"col-auto","c-brand-green","text-right"],[1,"d-sm-inline-block"],[1,"card-body","p-15","px-md-25"],[1,"row","no-gutters"],[1,"col-7"],[1,"col-2","px-2","c-brand-grey-para"],["class","col-3 text-right",4,"ngIf","ngIfElse"],["tmi",""],[1,"col-3","text-right"],[1,"card-body","p-15","px-md-25","bg-brand-footer","rounded-4"],[1,"row","mb-20","mt-40"],[1,"card","fs-sm-18","border-0","border-bottom-1","mb-0"],["class","row",4,"ngIf"],["class","card-body border-bottom-1 p-15 px-md-25",4,"ngIf"],[1,"card-body","border-bottom-1","p-15","px-md-25"],[1,"col-12","col-sm-7"],[1,"col","c-brand-grey-para"],[1,"col-auto","text-right"],[1,"col","fs-13","text-right"],[1,"form-group","mb-20"],[1,"pl-35"],[1,"mat-checkbox-brand","ml-n35",3,"ngModel","ngModelOptions","ngModelChange"],[1,"fs-sm-18","text-wrap","mr-5"],["target","_blank",3,"href"],[1,"c-brand-orange","fs-sm-18","text-decoration-underline","cursor-pointer"],[1,"form-group","mb-30"],[1,"mat-checkbox-brand",3,"ngModel","ngModelOptions","ngModelChange"],[1,"fs-sm-18","text-wrap"],["class","form-group mb-30",4,"ngIf"],[1,"col-12","mt-30"],[1,"fs-18"],[1,"c-brand-grey-para","fs-sm-18"],[1,"pl-15"],[1,"flex-column","mat-radio-group-brand","mb-10",3,"ngModel","ngModelOptions","ngModelChange","change"],["class","mb-15",4,"ngFor","ngForOf"],[1,"mb-15"],[3,"value"],[1,"fs-24","fs-sm-42","mb-15"],[1,"c-brand-grey-para","mb-30"],[1,"c-brand-error"],[1,"mb-10"],["appearance","outline",1,"mat-form-field-outline-brand"],[3,"ngModel","placeholder","ngModelChange"],[3,"value","disabled",4,"ngFor","ngForOf"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange",3,"disabled","click"],[3,"value","disabled"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled"],["type","email","id","inputEmail","required","",1,"ot-form-control","d-none",3,"value"],["value","The personal details provided by all persons on this form may be shared with VFS' Insurance partners","checked","true","type","checkbox",1,"d-none"],["type","submit","id","trigger","mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled"]],template:function(e,t){1&e&&(c.Wb(0,"section",0),c.Mc(1,I,5,4,"div",1),c.Mc(2,ue,2,1,"ng-container",2),c.Mc(3,pe,55,46,"ng-container",2),c.Mc(4,fe,29,22,"ng-container",2),c.Vb(),c.Mc(5,he,3,4,"ng-template",null,3,c.Nc),c.Mc(7,ve,5,5,"ng-template",null,4,c.Nc)),2&e&&(c.Db(1),c.tc("ngIf",!t.isRescheduleAptmntMode&&t.isPtFlow),c.Db(1),c.tc("ngIf",!t.pgDisclaimer&&!t.isPaymentOptionsPage),c.Db(1),c.tc("ngIf",t.pgDisclaimer&&!t.isPaymentOptionsPage),c.Db(1),c.tc("ngIf",!t.pgDisclaimer&&t.isPaymentOptionsPage))},directives:[d.o,u.a,m.y,m.r,m.s,p.a,b.a,d.t,g.a,d.n,g.c,g.d,f.a,m.q,m.t,h.b,h.a,v.b,y.a,S.j],pipes:[C.d,d.e,d.f],encapsulation:2}),t})()}).call(this,a("3UD+")(e))},"9fxR":function(e){e.exports=JSON.parse('{"modules":{"IGNORE":"ignore","LOGIN":"login","FORGOT_PASSWORD":"forgotPassword","REGISTER":"register","ON_BOARDING":"onBoarding","DOCUMENT_UPLOAD":"documentsUpload","PASSPORT_DETAILS":"passportInformation","FLIGHT_DETAILS":"travelInformation","ACCOMODATION_DETAILS":"accommodationInformation","ADDITIONAL_DETAILS":"vafInformation","REVIEW_PAYMENT":"disclaimer","ELIGIBILITY_CRITERIA":"eligibilityCriteria","TRAVEL_DETAILS":"travelInformation","APPLICANT_DETAILS":"applicantInformation","BOOK_APPOINTMENT":"bookAppointment","SERVICES":"services","TRAVEL_MEDICAL_INSURANCE":"insurance","POSTAL_INFORMATION":"postalInformation","UPDATE_CATEGORY":"update-category","RESEND_EMAIL_ACTIVATION":"resend-email-activation","TMI_OAB_Login":"tmi-oab-login"},"captchaaction":{"LOGIN":"login","SLOT":"slot","APPLICANT":"applicant","SCHEDULE":"schedule","COURIER":"courier","POSTAL":"postal","FEES":"fees","MAPVAS":"mapvas","ACTIVEAPPLICATION":"activeapplication","ELIGIBILITY":"eligibility","ON_BOARDING":"register","FORGOT_PASSWORD":"forgotpassword"},"routes":{"LOGIN":"login","FORGOT_PASSWORD":"forgot-password","ELIGIBILITY_CRITERIA":"eligibility-criteria","ON_BOARDING":"register","BASE_ROUTE":"user","DOCUMENT_UPLOAD":"document-upload","PASSPORT_DETAILS":"passport-details","FLIGHT_DETAILS":"flight-details","ACCOMODATION_DETAILS":"accomodation-details","ADDITIONAL_DETAILS":"additional-details","REVIEW_AND_PAY":"review-pay","DASHBOARD":"dashboard","TRAVEL_DETAILS":"travel-details","APPLICANT_DETAILS":"applicant-details","PAYMENT_CONFIRMATION":"confirmation","PAYMENT_GATEWAY":"payment-gateway","REVIEW_APPLICATION":"review-application","ADDITIONAL_DOCUMENT":"additional-document","TRACK_STATUS":"track-status","ACTIVATE_EMAIL":"activateemail","RESETPASSWORD":"resetpassword","SERVICES":"services","BOOK_APPOINTMENT":"book-appointment","POSTAL_INFORMATION":"postal-information","TRAVEL_MEDICAL_INSURANCE":"insurance","YOUR_DETAILS":"your-details","APPLICATION_DETAIL":"application-detail","APPLICATION_DETAILS":"applicationdetails","NOT_FOUND":"page-not-found","UPDATE_CATEGORY":"update-category","APPOINTMENT_VERIFICATION":"appointment-verification","RESEND_EMAIL_ACTIVATION":"email-activation","COURIER_ADDRESS":"courier-address","TMI_OAB_Login":"tmi-oab-login","VAYD_ADDRESS":"VAYD-Address","FF_INFO":"ff-info","FF_YOUR_DETAILS":"ff-your-details","FF_PAYMENT_CONFIRMATION":"ff-confirmation","FF_VISA_INFO":"ff-visa-info","FF_TRANSACTION_SUMMARY":"ff-transaction-summary"},"errors":{"MODULE_NOT_FOUND":"ERROR: module_not_found","INVALID_RESPONSE":"ERROR: invalid_response","INVALID_FILE":"ERROR: invalid_file","API_NOT_FOUND":"ERROR: api_not_found","FUNCTION_CALL_FAILED":"ERROR: fn_call_failed","ERROR_OCCURED":"ERROR: error_occured","MIN_DATE_VALIDATOR_FAILED":"ERROR: min_date_validator_failed","MAX_DATE_VALIDATOR_FAILED":"ERROR: max_date_validator_failed","MAX_CURR_DATE_VALIDATOR_FAILED":"ERROR: max_curr_date_validator_failed","MIN_CURR_DATE_VALIDATOR_FAILED":"ERROR: min_curr_date_validator_failed","FILE_UPLOAD_FAILED":"ERROR: file_upload_failed","DATETIME_VALIDATOR_FAILED":"ERROR: datetime_validator_failed","BASEFORM_INIT_FAILED":"ERROR: baseform_init_failed","DEP_INJECTION_FAILED":"ERROR: dependency_injection_failed","ROUTE_NEXT_FAILED":"ERROR: route_next_failed","ROUTE_PREV_FAILED":"ERROR: route_prev_failed","NEXT_MODULE_NAME_FETCH_FAILED":"ERROR: next_module_name_fetch_failed","BASE_FORM_INIT_FAILED":"ERROR: base_form_init_failed","TRANSLATION_INIT_FAILED":"ERROR: translation_init_failed","API_CALL_FAILED":"Error: api_call_failed","PAGE_SCHEMA_LOAD_FAILED":"Error: page_schema_load_failed","INVALID_URL":"Errors: invalid_url","FORM_INIT_FAILED":"Errors: form_group_init_failed","EVENT_REGISTRATION_FAILED":"Error: event_reg_failed","INVALID_REGISTRATION_RESPONSE":"Error: invalid_user_reg_response","CHILD_ACTIVATION_FAILED":"Error: child_activation_end_failed","FORM_DATA_LOAD_FAILED":"Error: form_data_load_failed","TEXT_VAL_CHANGE_EVENT_REG_FAILED":"Error: text_val_change_evnt_reg_failed","ONCLICK_EVENT_FAILED":"Error: onclick_event_failed","FUNCTION_NOT_FOUND":"Error: function_not_found","BUCKET_NOT_FOUND":"Error: module_bucket_not_found","NO_BUCKET_PROVIDED":"Error: no_bucket_provided_for_selected_value","NO_BUCKET_FIELD_REF_SCHEMA":"Error: no_bucket_field_ref_in_schema","FILTER_KEY_NOT_FOUND_IN_RESPONSE":"Error: filter_key_not_found_in_response","ROUTE_ID_FETCH_FAILED":"Error: route_id_fetch_failed","VISA_TYPE_CONTROL_NOT_FOUND":"Error: visatype_control_not_found","KEY_NOT_FOUND_IN_STORAGE":"Error: key_not_found_in_browser_storage","INVALID_DATE_FORMAT":"Error: invalid_date_format","INVALID_GOVT_REF_NMBR":"Error: invalid_govt_ref_number"},"urls":{"schema":{"postLogin":"/schema","onBoarding":"/schema/on-boarding","registration":"/schema/registration","documentUpload":"/schema/document-upload","login":"/schema/login","forgotPassword":"/schema/forgot-password"},"api":{"login":"/user/login","documentUpload":"/document-upload","forgotPassword":"/user/forgetpassword","generateOtp":"/user/generateuserotp","resetPassword":"/user/resetpassword","passportDetails":"/passport-details","registration":"/user/registration","status":"/application/get-applicants-list","payment":"/payment","postLoginSchema":"/application/get-schema","verifyOtp":"/auth/verify-otp","applicantStatus":"/dashboard/get-applications-status","logout":"/user/logout","deleteApplication":"/application/delete-application","getApplications":"/dashboard/get-applications","getActiveApplication":"/appointment/application","downloadPdf":"/appointment/downloadpdf","emailPdf":"/appointment/emailpdf","cancelAppointment":"/appointment/cancel","cancelWaitlist":"/appointment/CancelWaitlist","appointmentSlots":"/appointment/slots","appointmentFees":"/appointment/fees","loadNationality":"/master/nationality","loadEntrytype":"/master/entrytype","loadFeeExemptionType":"/master/FeeExemptionType","loadFeeEntrytype":"/master/FeeEntryType","loadFeeExemptionDetails":"/master/FeeExemptionDetails","loadEoiVisaType":"/master/eoivisatype","loadEoiApplicationType":"/master/submissiontype","loadEoiServiceType":"/master/servicetype","saveVAYDAddress":"/appointment/vaydaddress","courierAddress":"/appointment/address","vasByVac":"/vas/vasbyvac","configuration":"/configuration/fields","mapVas":"/vas/mapvas","mapTmiVas":"/vas/MapTMIPartnerService","activateEmail":"/user/activateemail","masterMission":"/master/mission","masterCountry":"/master/country","masterCenter":"/master/center","masterTMIData":"/tmicomponent/gettmipartnermasterdata","masterSubVisaCategory":"/master/subvisacategory","masterVisaCategoryCode":"/master/visacategory","masterLanguage":"/master/language","paymentInitiate":"/payment/initiate","paymentConfirm":"/payment/confirm","apptReschedule":"/appointment/reschedule","apptSchedule":"/appointment/schedule","confirmAppointment":"/payments/confirmappointment","downloadShippingLabel":"/courier/downloadshippinglabel","getAddress":"/courier/getaddress","masterGender":"/master/gender","masterPassportType":"/master/passporttype","mapFee":"/appointment/mapfee","masterCourierType":"/master/couriertype","masterCourierSercProvider":"/master/courierserviceprovider","updatePrepaidCourierInfo":"/courier/updateppcourierinfo","updateVFSCourierInfo":"/courier/updateaddress","masterState":"/master/state","serviceFee":"/appointment/servicefees","appointmentVerify":"/appointment/verify","checkSlotavailiable":"/appointment/CheckIsSlotAvailable","confirmWaitlist":"/appointment/ConfirmWaitlist","applicant":"/appointment/applicants","getTMIProducts":"/tmi/GetTMIProducts","createPolicy":"/tmi/initiatecreatepolicy","updateApplicant":"/appointment/updatewaitlistvisa","createverifyotp":"/appointment/OTP","resendEmailActivation":"/user/resendactivationmail","vss4ReportData":"/appointment/saveuseractionaudit","visaCategoryCodeWithoutCenter":"/master/visacategorywithoutcenter","subVisacategoryWithoutCenter":"/master/subvisacategorywithoutcenter","centerWithSlots":"/master/centerwithslots","serviceFeeswithoutUrn":"/appointment/servicefees","saveCourierAddress":"/appointment/savecourieraddress","uploadDocument":"/appointment/UploadApplicantDocument","masterPaymentMode":"/master/paymentmode","subVisaCategory":"/master/subvisacategoryforservice","serviceApplicants":"/appointment/serviceapplicants","confirmSevicePayment":"/payments/confirmservicepayment","serviceForApplicant":"/vas/serviceforapplicant"},"data":{"passportDetails":"/data/passport-details"}},"schemaValues":{"getModuleData":"GET_MODULE_DATA","saveToSession":"SAVE_TO_SESSION"},"schemaKeys":{"uploadedFiles":"uploadedFiles"},"validations":{"datepicker":{"MIN_CURRENT":"MIN-CURRENT","MAX_CURRENT":"MAX-CURRENT","email_caps_allowed":"^([a-zA-Z0-9_\\\\-\\\\.+]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,24})$","referenceNumber":"^GWF([0-9]){9}$","NO_SPACE_APLHA_NUMERIC":"[a-zA-Z0-9]+$","NUMERIC":"[0-9]+$","ALPHA_NUMERIC_WITH_HYPEN_AND_SPACE":"^(?!\\\\s)[A-Za-z0-9? \\\\-]+$","ALPHA_NUMERIC_WITH_SPACE":"^(?!\\\\s)([a-zA-Z0-9\\\\s])+[^\\\\s]$","ADDRESS_LINE_1":"^(?!\\\\s)[A-Za-z0-9? \\\\-\\\\,\\\\./]+$"},"timepicker":{"POST-TIME":"POST-TIME","PRE-TIME":"PRE-TIME","POST-DATETIME":"POST-DATETIME","PRE-DATETIME":"PRE-DATETIME"},"email":"^[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]+$","email_caps_allowed":"^([a-zA-Z0-9_\\\\-\\\\.+]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,24})$","referenceNumber":"^GWF([0-9]){9}$","NO_SPACE_APLHA_NUMERIC":"[a-zA-Z0-9]+$","NUMERIC":"[0-9]+$","ALPHA_NUMERIC_WITH_HYPEN_AND_SPACE":"^(?!\\\\s)[A-Za-z0-9? \\\\-]+$","ALPHA_NUMERIC_WITH_SPACE":"^(?!\\\\s)([a-zA-Z0-9\\\\s])+[^\\\\s]$","ADDRESS_LINE_1":"^(?!\\\\s)[A-Za-z0-9? \\\\-\\\\,\\\\./]+$","NAME":"[a-zA-Z][a-zA-Z ]+$","EXCEPTZERONUMERIC":"[1-9]+$"},"controls":{"Textbox":"textbox","Password":"password","Email":"email","Number":"number","Button":"button","Datepicker":"datepicker","Timepicker":"timepicker","Dropdown":"dropdown","SearchableDropdown":"searchable-dropdown","Radio":"radio","File_upload_type_1":"type-1","File_upload_type_2":"type-2","Checkbox":"checkbox","List_group_1":"list-group-1","Contact":"contact","Dual_block":"dual-block","Image":"image","Dual_button":"dual-button","Address":"address","Multi_button":"multi-button","Password_toggle":"password-toggle","InputContact":"input-contact","InputAndDatepicker":"input-datepicker","DropdownAndDatepicker":"dropdown-datepicker","ReadOnlyTextbox":"readonly-textbox","Horizontal_Rule":"hr"},"formSchemaType":{"singleColumnSchema":"type-1","doubleColumnSchema":"type-2"},"fileName":{"applicantEvoa":"EVOA_","paymentReceipt":"receipt_"},"assetsPath":{"l18n":"src/_angular/assets/i18n/","globalImages":"_angular/assets/images/global"},"validLanguages":[{"languageCode":"en","cultureCode":"en-US"},{"languageCode":"zh","cultureCode":"zh-CN"},{"languageCode":"fr","cultureCode":"fr-FR"}],"cultureCodeKey":"app_culture_code","courierLabels":{"inLabel":"IN","outLabel":"OUT","bothLabels":"BOTH"}}')},AytR:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var i=a("E3Zs");const o={clientIpEndPoint:"https://api.ipify.org?format=json",localtranslation:!1,localschema:!1,localReload:!1,production:!0,appVersion:a("kiQV").version,apiEndPoint:"https://lift-api.vfsglobal.com",apiEndPoint2:"https://lift.vfsglobal.com/globalappointment/api/v2.0",lambdaEndpoint:"https://iuk8t24f6d.execute-api.us-east-1.amazonaws.com/prod",defaultCultureCode:"en-US",defaultLang:"en",numberOfPassengers:10,pageTitle:"VFS Global | Official partner of the Government",applicationType:"online",externalUrl:"https://visa.vfsglobal.com",activateLink:"https://visa.vfsglobal.com/",gaUAID:"GTM-K3RCXTZ",captchaKey:"6LdJReUUAAAAAPR1hddg-9JUC_TO13OrlKVpukHL",V2_CaptchaKey:"6LfDUY8bAAAAAPU5MWGT_w0x5M-8RdzC29SClOfI",sessionTime:900,getParamsType:"slash",externalPath:"https://liftassets.vfsglobal.com/_angular",cookieScript1:"https://cdn.cookielaw.org/consent/410ea619-00d1-490a-8784-ea1bbb4c4f7e/OtAutoBlock.js",cookieScript2:"https://cdn.cookielaw.org/scripttemplates/otSDKStub.js",cookiedomainKey:"410ea619-00d1-490a-8784-ea1bbb4c4f7e",contentful:{space:"xxg4p8gt3sg6",accessToken:"5YpTBRikGN59YHwM18CyGr5F43bFuaak9U8FSMEDmb8",host:"d2ab400qlgxn2g.cloudfront.net",basePath:"/dev"},disableConsoleLogging:!0,serverLogLevel:i.c.ERROR,slotDuration:3,slotDaysEnabled:180,sessionTimeOut:1200,captchaFallbackEnabled:!1,oneTrustPortal:{url:"https://privacyportal-uatde-cdn.onetrust.com/consent-receipt-scripts/scripts/otconsent-1.0.min.js",dataOtId:"2445c202-727e-46d9-8429-f73cbacccf73",dataOtCpId:"c9ab9950-5dc6-4472-ab13-14c4774224f9-active",scriptId:"consent-receipt-script"},contentForMetaTag:"xDNQW5PIy5neaZIL5abWW-IG-Q5bJES_1MB35OX9g38",websiteVFSGlobal:"https://www.vfsglobal.com/en/individuals/index.html",websiteMissionPoland:"https://www.gov.pl/web/dyplomacja"}},"C+1A":function(e,t,a){"use strict";a.d(t,"a",function(){return O});var i=a("0IaG"),o=a("QvU+"),n=a("fXoL"),s=a("ofXK"),l=a("bTqV"),r=a("sYmb");function c(e,t){if(1&e&&(n.Wb(0,"div",7),n.Wb(1,"button",8),n.Rb(2,"img",9),n.Vb(),n.Vb()),2&e){const e=n.lc();n.Db(2),n.vc("src","",e.getGlobalImagePath,"/close-btn.png",n.Hc)}}function d(e,t){1&e&&n.Rb(0,"div")}function u(e,t){if(1&e&&(n.Rb(0,"div",11),n.mc(1,"translate")),2&e){const e=n.lc(2);n.tc("innerHTML",n.nc(1,1,e.header),n.Gc)}}function m(e,t){if(1&e&&n.Rb(0,"div",11),2&e){const e=n.lc(2);n.tc("innerHTML",e.header,n.Gc)}}function p(e,t){if(1&e&&(n.Wb(0,"div"),n.Mc(1,d,1,0,"div",3),n.Mc(2,u,2,3,"ng-template",null,4,n.Nc),n.Mc(4,m,1,1,"ng-template",null,5,n.Nc),n.Rb(6,"hr",10),n.Vb()),2&e){const e=n.Bc(3),t=n.Bc(5),a=n.lc();n.Db(1),n.tc("ngIf",!!a.data.translateHeader)("ngIfThen",e)("ngIfElse",t)}}function b(e,t){1&e&&n.Rb(0,"div")}function g(e,t){if(1&e&&(n.Rb(0,"div",12),n.mc(1,"translate")),2&e){const e=n.lc();n.tc("innerHTML",n.nc(1,1,e.body),n.Gc)}}function f(e,t){if(1&e&&n.Rb(0,"div",12),2&e){const e=n.lc();n.tc("innerHTML",e.body,n.Gc)}}function h(e,t){1&e&&n.Rb(0,"div")}function v(e,t){if(1&e&&(n.Rb(0,"div",18),n.mc(1,"translate")),2&e){const e=n.lc(3);n.tc("innerHTML",n.nc(1,1,e.leftButton),n.Gc)}}function y(e,t){if(1&e&&n.Rb(0,"div",18),2&e){const e=n.lc(3);n.tc("innerHTML",e.leftButton,n.Gc)}}function S(e,t){if(1&e){const e=n.Xb();n.Wb(0,"div",16),n.Wb(1,"button",17),n.hc("click",function(){return n.Fc(e),n.lc(2).onClick(!1)}),n.Mc(2,h,1,0,"div",3),n.Mc(3,v,2,3,"ng-template",null,4,n.Nc),n.Mc(5,y,1,1,"ng-template",null,5,n.Nc),n.Vb(),n.Vb()}if(2&e){const e=n.Bc(4),t=n.Bc(6),a=n.lc(2);n.Db(2),n.tc("ngIf",!!a.data.translateLeftButton)("ngIfThen",e)("ngIfElse",t)}}function C(e,t){1&e&&n.Rb(0,"div")}function D(e,t){if(1&e&&(n.Rb(0,"div",18),n.mc(1,"translate")),2&e){const e=n.lc(3);n.tc("innerHTML",n.nc(1,1,e.rightButton),n.Gc)}}function I(e,t){if(1&e&&n.Rb(0,"div",18),2&e){const e=n.lc(3);n.tc("innerHTML",e.rightButton,n.Gc)}}function V(e,t){if(1&e){const e=n.Xb();n.Wb(0,"div",16),n.Wb(1,"button",19),n.hc("click",function(){return n.Fc(e),n.lc(2).onClick(!0)}),n.Mc(2,C,1,0,"div",3),n.Mc(3,D,2,3,"ng-template",null,4,n.Nc),n.Mc(5,I,1,1,"ng-template",null,5,n.Nc),n.Vb(),n.Vb()}if(2&e){const e=n.Bc(4),t=n.Bc(6),a=n.lc(2);n.Db(2),n.tc("ngIf",!!a.data.translateRightButton)("ngIfThen",e)("ngIfElse",t)}}function A(e,t){if(1&e&&(n.Wb(0,"mat-dialog-actions",13),n.Wb(1,"div",14),n.Mc(2,S,7,3,"div",15),n.Mc(3,V,7,3,"div",15),n.Vb(),n.Vb()),2&e){const e=n.lc();n.Db(2),n.tc("ngIf",!!e.leftButton),n.Db(1),n.tc("ngIf",!!e.rightButton)}}let O=(()=>{class e extends o.a{constructor(e,t){super(),this.info=e,this.dialogRef=t,this.data=e,this.dialogDisplay=e.dialogDisplay,this.hasCloseButton=e.closeButton,this.header=e.header,this.body=e.body,this.rightButton=e.rightButton,this.leftButton=e.leftButton}onConfirmClick(){this.dialogRef.close(!0)}onClick(e){this.dialogRef.close(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(i.a),n.Qb(i.h))},e.\u0275cmp=n.Kb({type:e,selectors:[["app-common-dialog-box"]],features:[n.Ab],decls:10,vars:7,consts:[[1,"",3,"ngClass"],["class","position-absolute top-10 right-10",4,"ngIf"],[4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],["thenBlock",""],["elseBlock",""],["class","d-block mt-35",4,"ngIf"],[1,"position-absolute","top-10","right-10"],["mat-dialog-close","",1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"my-20"],[1,"fs-24","fs-md-42","mb-10","pr-18",3,"innerHTML"],[1,"c-brand-grey-para","py-5",3,"innerHTML"],[1,"d-block","mt-35"],[1,"row"],["class","col",4,"ngIf"],[1,"col"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange",3,"click"],[3,"innerHTML"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"]],template:function(e,t){if(1&e&&(n.Wb(0,"div",0),n.Mc(1,c,3,1,"div",1),n.Mc(2,p,7,3,"div",2),n.Wb(3,"mat-dialog-content"),n.Mc(4,b,1,0,"div",3),n.Mc(5,g,2,3,"ng-template",null,4,n.Nc),n.Mc(7,f,1,1,"ng-template",null,5,n.Nc),n.Vb(),n.Mc(9,A,4,2,"mat-dialog-actions",6),n.Vb()),2&e){const e=n.Bc(6),a=n.Bc(8);n.tc("ngClass",t.dialogDisplay&&"small"===t.dialogDisplay?"mat-modal-delete-document":"mat-modal-container"),n.Db(1),n.tc("ngIf",!!t.hasCloseButton),n.Db(1),n.tc("ngIf",!!t.header),n.Db(2),n.tc("ngIf",t.data.translateBody)("ngIfThen",e)("ngIfElse",a),n.Db(5),n.tc("ngIf",!!t.leftButton||!!t.rightButton)}},directives:[s.m,s.o,i.f,i.d,i.c,l.a],pipes:[r.d],encapsulation:2}),e})()},IXuf:function(e,t,a){"use strict";a.d(t,"a",function(){return b});var i=a("mrSG"),o=a("AytR"),n=a("VjyN"),s=a("BU3v"),l=a("TCge"),r=a("fXoL"),c=a("cT3p"),d=a("XjvO"),u=a("mS5l"),m=a("tyNb");const p=RegExp("{{\\s*([a-zA-Z-.0-9]+)\\s*}}","g");let b=(()=>{class e{constructor(e,t,a,i){this.sessionService=e,this.utilityService=t,this.dataShareService=a,this.router=i,this.RESOURCE_GROUP_TYPE="resourceGroup",this.cdaClient=Object(n.createClient)(o.a.contentful),this.getResourceGroup()}get allowedLan(){return this.allowedMissionLanguage}getEnteries(e){return Object(i.b)(this,void 0,void 0,function*(){let t={};const a=this.resourceGroups;for(let e=0;e<a.length;e++){const i=a[e].fields;i&&i.resources&&(t=Object.assign({countryResourceSet:t},i.resources))}return this.cdaClient.getEntries(e).then(e=>(e.items.forEach((e,a,i)=>{i[a]=JSON.parse(JSON.stringify(i[a]).replace(p,this.utilityService.replacerFunction.bind(this,t)))}),e))})}get routeParam(){const e=window.location.pathname.split("/");return{tenent:e[3],countryCode:e[1],appLanguageCode:e[2]}}loadCaptchaRoute(){this.cdaClient.getEntries({content_type:"countryCaptchaConfiguration","fields.locale":[`${this.routeParam.tenent} > ${this.routeParam.countryCode} > ${this.routeParam.appLanguageCode}`,`${this.routeParam.tenent} > ${this.routeParam.countryCode}`,`${this.routeParam.tenent} > ${this.routeParam.appLanguageCode}`,this.routeParam.tenent,this.routeParam.appLanguageCode,l.y].join("&"),limit:1}).then(e=>{const t=e.items||[];this.sessionService.captchaConfiguration=t,t.length>0&&this.dataShareService.captchaAllowedRoutes.next(t[0].fields.allowedRoute.allowedRoute)})}loadDecimalAllowed(){this.cdaClient.getEntries({content_type:"decimalConfiguration","fields.locale":[`${this.routeParam.tenent} > ${this.routeParam.countryCode} > ${this.routeParam.appLanguageCode}`,`${this.routeParam.tenent} > ${this.routeParam.countryCode}`,`${this.routeParam.tenent} > ${this.routeParam.appLanguageCode}`,this.routeParam.tenent,this.routeParam.appLanguageCode,l.y].join("&"),limit:1}).then(e=>{const t=e.items||[];if(t.length>0){const{fields:{decimalAllowed:e}}=t[0];this.sessionService.decimalConfiguration=e}else this.sessionService.decimalConfiguration="2"})}getResourceGroup(e){const t=e||this.routeParam.appLanguageCode;this.cdaClient.getEntries({content_type:this.RESOURCE_GROUP_TYPE,"fields.locale":[`${this.routeParam.tenent} > ${this.routeParam.countryCode} > ${t}`,`${this.routeParam.tenent} > ${this.routeParam.countryCode}`,`${this.routeParam.tenent} > ${t}`,this.routeParam.tenent,t,l.y].join("&"),limit:500}).then(e=>{var t,a;this.resourceGroups=e.items;const i=null===(a=null===(t=this.resourceGroups[0])||void 0===t?void 0:t.fields)||void 0===a?void 0:a.resources;this.sessionService.resourceGroupData=i,this.utilityService.strictCompare(null==i?void 0:i.disablevfslogo,"true")?this.sessionService.setIsVFSLogoDisabled(!0):this.sessionService.setIsVFSLogoDisabled(!1)})}getMissionLanguage(){return new Promise(e=>{this.sessionService.clearMissionlanguage();const t=Object.assign({content_type:"mission","fields.isoCode":this.routeParam.tenent});this.cdaClient.getEntries(t).then(t=>{var a,i;if((null===(a=t.items)||void 0===a?void 0:a.length)>0){if((null===(i=t.items[0].fields.locales[this.routeParam.countryCode])||void 0===i?void 0:i.length)>0){const e=[];t.items[0].fields.locales[this.routeParam.countryCode].map(t=>(e.push({code:t,languagename:"tl"==t?"Filipino":s.a.getName(t)}),t)),this.sessionService.appMissionLanguage=e}else this.sessionService.appMissionLanguage=[];e(!0)}else e([])})})}getMockSchema(){return new Promise(e=>{const t=window.location.pathname.split("/"),a=Object.assign({content_type:"dyanmicFormSchema","fields.locale":[`${t[3]} > ${t[1]}`,t[3],l.y].join("&"),limit:1});this.cdaClient.getEntries(a).then(t=>{var a;if((null===(a=t.items)||void 0===a?void 0:a.length)>0){if(t.items[0].fields.schemaJson){const e=t.items[0].fields.schemaJson;this.sessionService.saveFullApplicationSchemaInBrowser(e),this.sessionService.saveApplicationSchemaInBrowser(e)}e(!0)}else e([])}).catch(()=>{e([])})})}getTravelInsurance(){const e=Object.assign({content_type:"travelInsurance","fields.isoCode":`${this.sessionService.tenent}`});return this.cdaClient.getEntries(e).then(e=>{var t,a,i;if((null===(t=null==e?void 0:e.items)||void 0===t?void 0:t.length)>0){const t=null==e?void 0:e.items[0].fields;return!!((null===(a=Object.keys(t))||void 0===a?void 0:a.length)>0&&(null==t?void 0:t.locales[this.sessionService.countryCode])&&(null===(i=null==t?void 0:t.locales[this.sessionService.countryCode])||void 0===i?void 0:i.length)>0)&&"1"===(null==t?void 0:t.locales[this.sessionService.countryCode][0])}return!1})}}return e.\u0275fac=function(t){return new(t||e)(r.dc(c.a),r.dc(d.a),r.dc(u.a),r.dc(m.f))},e.\u0275prov=r.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},KD1d:function(e,t,a){"use strict";a.d(t,"a",function(){return y});var i=a("mrSG"),o=a("TCge"),n=a("suCx"),s=a("Yt5x"),l=a("cT3p"),r=a("tyNb"),c=a("3Pt+"),d=a("psYf"),u=a("mS5l"),m=a("3N+h"),p=a("AytR"),b=a("XjvO"),g=a("E3Zs"),f=a("rIfo"),h=a("sYmb"),v=a("fXoL");let y=(()=>{class e extends n.c{constructor(){super(p.a),this.fields=[],this.subs=new f.a,this.captchaVersionConst=o.b,this.initDependencyInjection(),this.currentModuleName=""}initBaseForm(e){const t=Object.create(null,{initBaseForm:{get:()=>super.initBaseForm}});return Object(i.b)(this,void 0,void 0,function*(){try{t.initBaseForm.call(this,e),this.notifyPageLoadCompleted(!1)}catch(a){console.log(o.d.BASE_FORM_INIT_FAILED,a)}})}get getGlobalImagePath(){return p.a.externalPath+"/assets/images/global"}get isPtFlow(){var e,t;return this.utilityService.strictCompare(null===(e=this.sessionService.resourceGroupData)||void 0===e?void 0:e.isloginConcentRequired,"true")||this.utilityService.strictCompare(null===(t=this.sessionService.resourceGroupDataTemp)||void 0===t?void 0:t.isloginConcentRequired,"true")}initDependencyInjection(){try{const e=s.a.getInjector();return this.coreBaseFormService=e.get(n.a),this.sessionService=e.get(l.a),this.router=e.get(r.f),this.formBuilder=e.get(c.e),this.commonService=e.get(d.a),this.utilityService=e.get(b.a),this.dataShareService=e.get(u.a),this.httpService=e.get(m.a),this.logger=e.get(g.b),void(this.translateService=e.get(h.e))}catch(e){throw e}}routeNext(){return Object(i.b)(this,void 0,void 0,function*(){try{const e=this.getAllModules(),t=this.coreSessionService.currentModule,a=e.findIndex(e=>Number(e.displayPosition)===Number(t.displayPosition));if(a===e.length-1)return;(this.router.url.indexOf(o.q.POSTAL_INFORMATION)>-1||this.router.url.indexOf(o.q.BOOK_APPOINTMENT)>-1)&&(yield this.commonService.addMandatoryService()),this.isPtFlow&&this.commonService.stopTimeOut(),this.sessionService.completedModuleName=t.logicalName,this.commonService.routeToPostLoginModule(e[a+1].routeUrl)}catch(e){console.log(o.d.ROUTE_NEXT_FAILED,e)}})}get isDocumentUploadEnabled(){var e;return null===(e=this.sessionService)||void 0===e?void 0:e.documentUploadEnabled}routePrevious(){try{const e=this.coreSessionService.currentModule,t=this.getAllModules(),a=t.findIndex(t=>Number(t.displayPosition)===Number(e.displayPosition));if(a<=0)return;this.isPtFlow&&this.commonService.stopTimeOut(),this.commonService.routeToPostLoginModule(t[a-1].routeUrl)}catch(e){console.log("ERROR: ",o.d.ROUTE_PREV_FAILED,e)}}getNextModuleName(){try{const e=this.getAllModules(),t=this.coreSessionService.currentModule,a=e.findIndex(e=>Number(e.displayPosition)===Number(t.displayPosition));if(a===e.length-1)return;return e[a+1].logicalName}catch(e){console.log(o.d.NEXT_MODULE_NAME_FETCH_FAILED)}}postPageLoadActivities(e,t){try{this.setFormGroup(e.form),t&&this.checkAndPopulateForm(e.form),this.formMetaData=e,this.formValueChanges(),this.notifyPageLoadCompleted(!0)}catch(a){console.log(a)}}notifyPageLoadCompleted(e){try{this.dataShareService.notifyPageLoadCompleted(e)}catch(t){console.log(t)}}getAllModules(){return this.sessionService.getAllModulesSchema()||[]}setFormGroup(e){return this.currentFormGroup=e,this.dataShareService.currentFormGroup=e,!0}filterModuleOnEligibilitySubmit(e,t){var a,n;return Object(i.b)(this,void 0,void 0,function*(){const i=this.sessionService.getFullApplicationSchema();if(!i)return;let s=[],l=[];if(e){const t=yield this.commonService.loadServices(e),i=t.find(e=>"TMIPS"===e.code);i&&(this.sessionService.tmiVasID=i.id),0!==(null==t?void 0:t.length)&&(null===(a=t.filter(e=>!0===e.isAvailableOnline))||void 0===a?void 0:a.length)>0?l.push(o.c.modules.SERVICES):s.push(o.c.modules.SERVICES)}if(this.sessionService.waitlistJourney?s=s.concat([o.c.modules.SERVICES,o.c.modules.BOOK_APPOINTMENT]):l=l.concat([o.c.modules.BOOK_APPOINTMENT].toString()),(null===(n=this.sessionService)||void 0===n?void 0:n.tmiEnabled)?(l.push(o.c.modules.TRAVEL_MEDICAL_INSURANCE),this.commonService.constructTMIData()):s.push(o.c.modules.TRAVEL_MEDICAL_INSURANCE),t){const e=this.commonService.checkIfOWA(t)?[o.c.modules.POSTAL_INFORMATION,o.c.modules.BOOK_APPOINTMENT]:this.commonService.checkIfPostal(t)?[o.c.modules.BOOK_APPOINTMENT]:[o.c.modules.POSTAL_INFORMATION];this.commonService.checkIfOWA(t)||this.commonService.checkIfPostal(t)?e&&(s=s.concat(e)):e&&(l=l.concat(e.toString()))}let r=i;l.length>0&&(r=yield this.commonService.addModule(i,l),this.sessionService.saveApplicationSchemaInBrowser(r)),s.length>0&&(r=yield this.commonService.removeModule(i,s),this.sessionService.saveApplicationSchemaInBrowser(r))})}filterModuleBasedOnVac(e){return Object(i.b)(this,void 0,void 0,function*(){try{return new Promise((t,a)=>Object(i.b)(this,void 0,void 0,function*(){var a;const i=this.sessionService.getFullApplicationSchema();e&&i||t(!0);const n=yield this.commonService.loadServices(e);if(0!==(null==n?void 0:n.length)&&(null===(a=n.filter(e=>!0===e.isAvailableOnline))||void 0===a?void 0:a.length)>0){const e=yield this.commonService.addModule(i,o.c.modules.SERVICES);this.sessionService.saveApplicationSchemaInBrowser(e),t(!0)}else{const e=yield this.commonService.removeModule(i,[o.c.modules.SERVICES]);this.sessionService.saveApplicationSchemaInBrowser(e),t(!0)}}))}catch(t){console.log(t)}})}filterModuleBasedOnSubmissionType(e){return Object(i.b)(this,void 0,void 0,function*(){try{return new Promise((t,a)=>Object(i.b)(this,void 0,void 0,function*(){const a=this.sessionService.getFullApplicationSchema();e&&a||t(!0);const i=this.commonService.checkIfOWA(e)?[o.c.modules.POSTAL_INFORMATION,o.c.modules.BOOK_APPOINTMENT]:this.commonService.checkIfPostal(e)?[o.c.modules.BOOK_APPOINTMENT]:[o.c.modules.POSTAL_INFORMATION];let n;this.commonService.checkIfOWA(e)||this.commonService.checkIfPostal(e)?i&&(n=yield this.commonService.removeModule(a,i)):i&&(n=yield this.commonService.addModule(a,i)),n&&this.sessionService.saveApplicationSchemaInBrowser(n),t(!0)}))}catch(t){console.log(t)}})}saveToSession(e,t,a,i){try{const e=this.coreCommonService.extractAndConstructParams(i,this.currentFormGroup);for(const t of Object.keys(e))this.sessionService.saveToSession(t,e[t]);return!0}catch(o){console.log(i,o)}}saveToLocalStorage(e,t,a,i){try{const e=this.coreCommonService.extractAndConstructParams(i,this.currentFormGroup);for(const t of Object.keys(e))this.sessionService.setStorageValue(t,e[t]);return!0}catch(o){console.log(i,o)}}scrollToInvalidForm(e){this.commonService.touchAllFields(e);const t=document.querySelector(".ng-invalid");t&&t.scrollIntoView({behavior:"smooth",block:"start"})}hasTranslation(e){const t=this.translateService.instant(e);return t!==e&&""!==t}ngOnDestroy(){var e,t;null===(e=this.valueChangesSubscription)||void 0===e||e.unsubscribe(),null===(t=this.subs)||void 0===t||t.unsubscribe()}get dateFormat(){var e,t,a,i;return(null===(t=null===(e=this.sessionService)||void 0===e?void 0:e.applicationConfiguration)||void 0===t?void 0:t.showDateFormat)?null===(i=null===(a=this.sessionService)||void 0===a?void 0:a.applicationConfiguration)||void 0===i?void 0:i.showDateFormat:"dd/MM/yyyy"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=v.Kb({type:e,selectors:[["app-base-form"]],features:[v.Ab],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})()},LjYc:function(e){e.exports=JSON.parse('{"documentUpload":{"id":4,"displayName":"Accomodation Details","logicalName":"accomodationDetails","routeUrl":"accomodation-details","displayPosition":4,"controls":[]},"passportDetailsData":{"salutation":2,"firstName":"asd","middleName":"asd","surname":"asd","gender":1,"dateOfBirth":"2019-09-24T18:30:00.000Z","passportType":1,"passportNumber":"AB123","passportIssueDate":"2019-09-24T18:30:00.000Z","passportExpiryDate":"2019-09-25T18:30:00.000Z","placeOfIssue":1,"countryOfIssue":1},"nationality":[{"id":"1","displayName":"INDIA","value":"IN"},{"id":"2","displayName":"UNITED ARAB EMIRATES","value":"UAE"}],"countryCodes":[{"id":"1","displayName":"INDIA","value":"91"},{"id":"2","displayName":"USA","value":"01"}],"arrivalFlightApplcants":[{"id":1,"displayName":"Applicant1"},{"id":2,"displayName":"Applicant2"}],"countryCode":[{"id":"1","displayName":"INDIA","value":"91"},{"id":"2","displayName":"USA","value":"01"}],"salutations":[{"id":1,"displayName":"Mr"},{"id":2,"displayName":"Mrs"},{"id":3,"displayName":"Miss"}],"gender":[{"id":1,"displayName":"Male"},{"id":2,"displayName":"Female"}],"passportType":[{"id":1,"displayName":"Type1"},{"id":2,"displayName":"Type2"}],"placeOfIssue":[{"id":1,"displayName":"Mumbai"},{"id":2,"displayName":"Delhi"},{"id":3,"displayName":"Chennai"}],"countryOfIssue":[{"id":1,"displayName":"India"},{"id":2,"displayName":"USA"},{"id":3,"displayName":"UK"}],"province":[{"id":1,"displayName":"Other"},{"id":2,"displayName":"Ang Thong"}],"otherDistricts":[{"id":1,"displayName":"district - 1"},{"id":2,"displayName":"district - 2"}],"angThongDistricts":[{"id":1,"displayName":"district - 3"},{"id":2,"displayName":"district - 4"}],"visaCategory":[{"id":1,"displayName":"Tourism","value":"1"},{"id":2,"displayName":"Business","value":"2"},{"id":3,"displayName":"Visit to Family/Friends","value":"3"}],"purposeOfVisitForTourists":[{"id":1,"displayName":"Tourism","value":"1"}],"purposeOfVisitForTouristSingle":[{"id":1,"displayName":"Vacation","value":"1"},{"id":2,"displayName":"Transit","value":"2"},{"id":3,"displayName":"Business","value":"3"}],"visaTypes":[{"id":1,"VisaTypeName":"C Type","visaTypeId":1},{"id":2,"VisaTypeName":"D Type","visaTypeId":2}],"residingCountry":[{"id":"1","displayName":"INDIA","value":"IN"},{"id":"2","displayName":"UNITED ARAB EMIRATES","value":"UAE"},{"id":"3","displayName":"UNITED STATES OF AMERICA","value":"USA"},{"id":"4","displayName":"UNITED KINGDOM","value":"UK"}],"yesNoValue":[{"id":"1","displayName":"Yes","value":1},{"id":"2","displayName":"No","value":0}],"costOfTravellingCoveredBy":[{"id":"1","displayName":"Cash","value":"cash"},{"id":"2","displayName":"Traveller\'s cheques","value":"travellersCheques"},{"id":"3","displayName":"Credit card","value":"creditCard"},{"id":"4","displayName":"Prepaid accomodation","value":"prepaidAccomodation"},{"id":"5","displayName":"Prepaid transport","value":"prepaidTransport"},{"id":"6","displayName":"All expenses covered during the stay","value":"allExpensesCoveredDuringStay"}],"timeSlotRange":[{"time":"8:00","range":"8:00-8:15"},{"time":"8:15","range":"8:15-8:30"},{"time":"8:30","range":"8:30-8:45"},{"time":"8:45","range":"8:45-9:00"},{"time":"9:00","range":"9:00-9:15"},{"time":"9:15","range":"9:15-9:30"},{"time":"9:30","range":"9:30-9:45"},{"time":"9:45","range":"9:45-10:00"},{"time":"10:00","range":"10:00-10:15"},{"time":"10:15","range":"10:15-10:30"},{"time":"10:30","range":"10:30-10:45"},{"time":"10:45","range":"10:45-11:00"},{"time":"11:00","range":"11:00-11:15"},{"time":"11:15","range":"11:15-11:30"},{"time":"11:30","range":"11:30-11:45"},{"time":"11:45","range":"11:45-12:00"},{"time":"12:00","range":"12:00-12:15"},{"time":"12:15","range":"12:15-12:30"},{"time":"12:30","range":"12:30-12:45"},{"time":"12:45","range":"12:45-13:00"},{"time":"13:00","range":"13:00-13:15"},{"time":"13:15","range":"13:15-13:30"},{"time":"13:30","range":"13:30-13:45"},{"time":"13:45","range":"13:45-14:00"},{"time":"14:00","range":"14:00-14:15"},{"time":"14:15","range":"14:15-14:30"},{"time":"14:30","range":"14:30-14:45"},{"time":"14:45","range":"14:45-15:00"}]}')},"QrD/":function(e,t,a){"use strict";a.d(t,"b",function(){return i}),a.d(t,"a",function(){return o}),a.d(t,"c",function(){return n}),a.d(t,"d",function(){return s});var i=function(e){return e.year="year",e.month="month",e.day="day",e}({}),o=function(e){return e.D_M_Y_SLASH="dd/mm/yyyy",e.M_D_Y_SLASH="mm/dd/yyyy",e.Y_M_D_SLASH="yyyy/dd/mm",e}({}),n=function(e){return e.SLASH="slash",e.QUERY_PARAM="queryParam",e}({}),s=function(e){return e.ADD="ADD",e.REMOVE="REMOVE",e.REMOVE_NORMAL="REMOVE_NORMAL",e}({})},"QvU+":function(e,t,a){"use strict";a.d(t,"a",function(){return h});var i=a("mrSG"),o=a("psYf"),n=a("TCge"),s=a("z6cu"),l=a("Yt5x"),r=a("tyNb"),c=a("mS5l"),d=a("cT3p"),u=a("3N+h"),m=a("XjvO"),p=a("AytR"),b=a("suCx"),g=a("4h0v"),f=a("fXoL");let h=(()=>{class e extends g.a{constructor(){super(),this.courierLabels=n.w,this.captchaVersionConst=n.b,this.courierLabels=n.w,this.initDependencyInjection()}initDependencyInjection(){try{const e=l.a.getInjector();return this.sessionService=e.get(d.a),this.router=e.get(r.f),this.commonService=e.get(o.a),this.utilityService=e.get(m.a),this.dataShareService=e.get(c.a),this.httpService=e.get(u.a),this.coreCommonService=e.get(b.b),void(this.coreSessionService=e.get(b.d))}catch(e){console.log(n.d.DEP_INJECTION_FAILED),Object(s.a)(e)}}trackByFn(e,t){return t?e:null}get getGlobalImagePath(){return p.a.externalPath+"/assets/images/global"}get isPtFlow(){var e,t;return this.utilityService.strictCompare(null===(e=this.sessionService.resourceGroupData)||void 0===e?void 0:e.isloginConcentRequired,"true")||this.utilityService.strictCompare(null===(t=this.sessionService.resourceGroupDataTemp)||void 0===t?void 0:t.isloginConcentRequired,"true")}get attendCenter(){return this.utilityService.externalUrlAppend("attend-centre")}get appointmentCategory(){var e;return null===(e=this.sessionService.resourceGroupData)||void 0===e?void 0:e.onepager}get getImagePath(){return this.commonService.imagePath}downloadCourierDetails(e,t,a){return Object(i.b)(this,void 0,void 0,function*(){const i=yield this.httpService.payloadPost(n.c.api.downloadShippingLabel,{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,loginUser:this.sessionService.getLoggedEmail(),centerCode:t,aurn:e,labelType:a||""}).toPromise().then(e=>e).catch(e=>e);for(const e in null==i?void 0:i.pdfStream)if(i.pdfStream.hasOwnProperty(e)){const t=!a&&"0"===e||a===n.w.outLabel?`${this.sessionService.getLoggedEmail()}_outgoing.pdf`:`${this.sessionService.getLoggedEmail()}_incoming.pdf`;this.utilityService.showFile(i.pdfStream[e],t)}})}get termCondition(){return this.utilityService.externalUrlAppend("termsandconditions")}route(e){try{this.commonService.routeToPostLoginModule(e)}catch(t){console.log(t)}}get dateFormat(){var e,t,a,i;return(null===(t=null===(e=this.sessionService)||void 0===e?void 0:e.applicationConfiguration)||void 0===t?void 0:t.showDateFormat)?null===(i=null===(a=this.sessionService)||void 0===a?void 0:a.applicationConfiguration)||void 0===i?void 0:i.showDateFormat:"dd/MM/yyyy"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=f.Kb({type:e,selectors:[["app-base-non-dynamic"]],features:[f.Ab],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})()},RnhZ:function(e,t,a){var i={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn-bd":"loYQ","./bn-bd.js":"loYQ","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-in":"7C5Q","./en-in.js":"7C5Q","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./en-sg":"t+mt","./en-sg.js":"t+mt","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-mx":"tbfe","./es-mx.js":"tbfe","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fil":"1ppg","./fil.js":"1ppg","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-deva":"qvJo","./gom-deva.js":"qvJo","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./oc-lnc":"Fnuy","./oc-lnc.js":"Fnuy","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tk":"Wv91","./tk.js":"Wv91","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-mo":"OmwH","./zh-mo.js":"OmwH","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function o(e){var t=n(e);return a(t)}function n(e){if(!a.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}o.keys=function(){return Object.keys(i)},o.resolve=n,e.exports=o,o.id="RnhZ"},TCge:function(e,t,a){"use strict";a.d(t,"y",function(){return o}),a.d(t,"f",function(){return n}),a.d(t,"v",function(){return s}),a.d(t,"m",function(){return l}),a.d(t,"k",function(){return r}),a.d(t,"t",function(){return c}),a.d(t,"n",function(){return d}),a.d(t,"i",function(){return u}),a.d(t,"g",function(){return m}),a.d(t,"j",function(){return p}),a.d(t,"p",function(){return b}),a.d(t,"a",function(){return g}),a.d(t,"d",function(){return f}),a.d(t,"r",function(){return h}),a.d(t,"e",function(){return v}),a.d(t,"s",function(){return y}),a.d(t,"q",function(){return S}),a.d(t,"h",function(){return C}),a.d(t,"b",function(){return D}),a.d(t,"z",function(){return I}),a.d(t,"x",function(){return V}),a.d(t,"o",function(){return A}),a.d(t,"l",function(){return O}),a.d(t,"u",function(){return T}),a.d(t,"w",function(){return L}),a.d(t,"A",function(){return N}),a.d(t,"c",function(){return M});var i=a("9fxR");const o="vfs",n=i.modules,s=["WWA"],l=["PT"],r=["PL"],c=["VAYD"],d="Primetime",u=["PST","Postal"],m=["OWA","Online Without Appointment"],p=["PPD","PREPAID"],b="RTC",g=["isAddressLine1Disabled","isAddressLine2Disabled","isStateDisabled","isCityDisabled","isPinCodeDisabled"],f=i.errors,h="USA",v="IND",y=i.validations,S=i.routes,C={assets:{images:"assets/images/$TENENT"}},D={default:"v3",alternate:"v2"},I="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[@$!#%*?])[A-Za-z0-9@$!#%*?]{8,15}$",V=i.cultureCodeKey,A="PTS",O="PLC",T="VAYD",L=i.courierLabels,N={allowed:"SLOTS AVAILABLE",waitlisted:"WAITLISTED"};let M=(()=>{class e{static get schema(){return i.urls.schema}static get captcha_action(){return i.captchaaction}static get api(){return i.urls.api}static get modules(){return i.modules}static get data(){return i.urls.data}static get schemaKeys(){return i.schemaKeys}static get schemaValues(){return i.schemaValues}static get controls(){return i.controls}static get formSchemaType(){return i.formSchemaType}static get routes(){return i.routes}}return e.GET_MODULE_DATA=i.schemaValues,e.ALL="ALL",e.JSON_FILE_FORMAT=".json",e.ASSETS_PATH=i.assetsPath,e.NAVBAR_EXCEPTION_LIST=[S.DASHBOARD,S.PAYMENT_CONFIRMATION,S.ADDITIONAL_DOCUMENT,S.REVIEW_APPLICATION,S.NOT_FOUND,S.UPDATE_CATEGORY,S.VAYD_ADDRESS],e.DROP_DOWN_EXCLUDE_ROUTE=[S.PAYMENT_CONFIRMATION,S.LOGIN,S.ON_BOARDING,S.NOT_FOUND],e.SAVE_AS_DRAFT_EXCEPTION_LIST=[e.modules.ELIGIBILITY_CRITERIA],e.BUTTON_CONTROLS_LIST=[e.controls.Button,e.controls.Dual_button,e.controls.Multi_button],e.DROPDOWNS_LIST=[e.controls.Dropdown,e.controls.SearchableDropdown],e.MODULE_BUCKET={b1:[n.ELIGIBILITY_CRITERIA,n.APPLICANT_DETAILS,n.BOOK_APPOINTMENT,n.SERVICES,n.REVIEW_PAYMENT],b2:[n.ELIGIBILITY_CRITERIA,n.APPLICANT_DETAILS,n.POSTAL_INFORMATION,n.SERVICES,n.REVIEW_PAYMENT]},e.NON_INTERACTIVE_CONTROLS=[e.controls.Horizontal_Rule],e.HTTP_METHODS={GET:"GET",POST:"POST"},e.SCHEMA={DEFAULT:"schema_pol",IND_FRA:"schema_ind_fra",IHC:"schema_ihc"},e.URLS_FOR_SLOTS_GET_METHOD=["https://d5ifytxc6r3nx.cloudfront.net","https://lift-api.vfsglobal.com","https://d2rjlmbuhruvpu.cloudfront.net"],e.FEE_TYPE_CODES={VFSFEE:"VFSFEE",VISAFEE:"VISAFEE",CVFEE:"CVFEE"},e})()},XjvO:function(e,t,a){"use strict";a.d(t,"a",function(){return y});var i=a("mrSG"),o=a("AytR"),n=a("3Pt+"),s=a("TCge"),l=a("f0Wu"),r=a.n(l),c=a("ngv/"),d=a("BU3v"),u=a("fXoL"),m=a("sYmb"),p=a("jhN1"),b=a("cT3p"),g=a("0IaG"),f=a("mS5l"),h=a("3N+h"),v=a("gren");let y=(()=>{class e{constructor(e,t,a,i,o,n,s){this.translate=e,this.titleService=t,this.sessionService=a,this.dialogRef=i,this.dataShareService=o,this.httpService=n,this.ngxService=s,this.VFS_FEES="VFS Service Fee"}formatDate(e){return this.momentInstance(e).format("YYYY-MM-DD")}momentInstance(e,t){try{let a;return a=e&&t?r()(e,t).tz(Intl.DateTimeFormat().resolvedOptions().timeZone):e?r()(e).tz(Intl.DateTimeFormat().resolvedOptions().timeZone):r()().tz(Intl.DateTimeFormat().resolvedOptions().timeZone),a}catch(a){throw console.log(a),a}}GAForDeleteServicePage(e){var t,a;try{const i=null===(t=this.sessionService)||void 0===t?void 0:t.getAppointmentDetails(),o=null===(a=this.sessionService)||void 0===a?void 0:a.eligibilityDetails;this.digitalAnalytics({event:"delete_vas_services",eventCategory:"Delete VAS Services",eventAction:null==e?void 0:e.action,eventLabel:null==e?void 0:e.label,"Visa Center Seleted":(null==o?void 0:o.centerCode)||void 0,"Type of Visa services":(null==o?void 0:o.visaType)||void 0,"Appointment Date":(null==i?void 0:i.date)||void 0,"Appointment Type":(null==i?void 0:i.slotTypeName)||void 0,"Appointment Value.":void 0})}catch(i){throw i}}digitalAnalytics(e){var t;try{if(this.checkIfProd)return;const a=this.getCookie("_ga"),i=null===(t=this.sessionService)||void 0===t?void 0:t.vaydDetails,o={User_ID:void 0,"Page Name":this.gaPredefiedData.PageName,"Country Of Operation":this.gaPredefiedData.CountryOfOperation,Mission:this.gaPredefiedData.Mission,"Website Language":this.gaPredefiedData.WebsiteLanguage,"City Of Operation":this.gaPredefiedData.CityOfOperation,"Vac Name":this.gaPredefiedData.VacName,"Applicant ID":i.gwfNumber,"GA Client Id":a,"Hit Timestamp":this.momentInstance().format(),"GWF ID":i.gwfNumber,User_Status:void 0};window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(Object.assign({},e),o))}catch(a){throw a}}clearInProgressApplication(){this.dataShareService.cartAmount.next("0"),this.dataShareService.dashboardTab=1,this.sessionService.deleteOldApplicantDetails()}startNgxUiSpinner(){this.ngxService.start()}stopNgxUiSpinner(){this.ngxService.stop()}setTitle(e){this.titleService.setTitle(e||o.a.pageTitle)}strictCompare(e,t,a=!0){try{let i=!1;return i=a?(null==e?void 0:e.toString().toLowerCase())===(null==t?void 0:t.toString().toLowerCase()):(null==e?void 0:e.toString().toLowerCase())==(null==t?void 0:t.toString().toLowerCase()),i}catch(i){throw i}}translationService(e){return new Promise((t,a)=>{this.translate.get(e).subscribe(e=>{t(e)},e=>console.log(e))}).then(e=>e)}translationTitleService(e){if(0===this.translate.langs.length)return!1;this.translate.get(e).subscribe(e=>{this.setTitle(e)})}getChild(e){return e.firstChild?this.getChild(e.firstChild):e}convertJSONInDate(e){return("0"+e.day).slice(-2)+"/"+("0"+e.month).slice(-2)+"/"+e.year}removeByAttr(e,t,a){let i=e.length;for(;i--;)e[i]&&e[i].hasOwnProperty(t)&&arguments.length>2&&e[i][t]===a&&e.splice(i,1);return e}MatchPassword(e,t){return a=>{const i=a.controls[e],o=a.controls[t];return i&&o?o.errors&&!o.errors.passwordMismatch?null:o.setErrors(i.value!==o.value?{passwordMismatch:!0}:null):null}}showFile(e,t){return Object(i.b)(this,void 0,void 0,function*(){const a=yield this.base64ToArrayBuffer(e),i=new Blob([a],{type:"application/pdf"});if(window.navigator&&window.navigator.msSaveOrOpenBlob)return void window.navigator.msSaveOrOpenBlob(i);const o=window.URL.createObjectURL(i),n=document.createElement("a");n.href=o,n.download=t||`${this.sessionService.getLoggedEmail()}.pdf`,n.click(),setTimeout(()=>{window.URL.revokeObjectURL(o)},100)})}base64ToArrayBuffer(e){const t=window.atob(e),a=t.length,i=new Uint8Array(a);for(let o=0;o<a;o++){const e=t.charCodeAt(o);i[o]=e}return i}allowedCaptcha(e){return this.sessionService.captchaConfiguration.indexOf(e)>-1}patchCaptchaValue(e,t,a,i){e.patchValue({[i||"captcha_api_key"]:t,captcha_version:a})}patchCaptchaValueForApplicants(e,t,a){e.patchValue({captcha_key_applicant:t,captcha_version:a})}externalUrlAppend(e){return`${o.a.externalUrl}/${this.sessionService.countryCode}/${this.sessionService.appLanguageCode}/${this.sessionService.tenent}/${e}`}closeAllDialog(){this.dialogRef.closeAll()}filterFees(e){return e?e.filter(e=>e.feeName===this.VFS_FEES):[]}updateTotalFees(e=0){var t,a;return Object(i.b)(this,void 0,void 0,function*(){let i,o=0;if(0!==e&&void 0!==e)i=e;else{const e=yield this.loadFees();i=null==e?void 0:e.currfeeAmount,this.sessionService.feeAmount=i,o=(null==e?void 0:e.additionalFee)?null==e?void 0:e.additionalFee.reduce((e,t)=>e+t.value,0):0}let n=0;const s=this.sessionService.applicantService.filter(e=>"TMIPS"!==e.code);if((null==s?void 0:s.length)>0&&(n=yield s.reduce((e,t)=>e+(t.amount*t.unit||0),0)),this.sessionService.tmiVas){const e=(null===(a=null===(t=this.sessionService)||void 0===t?void 0:t.tmiVas[0])||void 0===a?void 0:a.amount)||0;this.sessionService.updatedCartAmount=n+i+e+o,this.dataShareService.cartAmount.next(n+i+e+o)}else this.sessionService.updatedCartAmount=n+i+o,this.dataShareService.cartAmount.next(n+i+o)})}loadFees(){return Object(i.b)(this,void 0,void 0,function*(){try{return this.loadFeesWithCaptcha()}catch(e){throw e}})}loadFeesWithCaptcha(){var e,t,a,o;return Object(i.b)(this,void 0,void 0,function*(){try{const i={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.centerCode,loginUser:this.sessionService.getLoggedEmail(),urn:this.sessionService.urn,languageCode:null===(t=null===(e=this.sessionService)||void 0===e?void 0:e.applicationDetailValue)||void 0===t?void 0:t.languageCode},n=yield this.httpService.payloadPost(s.c.api.appointmentFees,i).toPromise().catch(e=>console.log(e)).then(e=>e);if(!n)return;return this.sessionService.updateFees=!1,!this.sessionService.currencyCode&&n.feeDetails&&(this.sessionService.setCurrencyCode=null===(a=null==n?void 0:n.feeDetails[0])||void 0===a?void 0:a.currency),n.currfeeAmount=(null===(o=null==n?void 0:n.feeDetails)||void 0===o?void 0:o.length)>0?n.feeDetails.reduce((e,t)=>e+t.feeAmount,0):0,n}catch(i){throw i}})}getnationalityName(e,t){if(!e)return!1;const a=e.filter(e=>e.isoCode.toLowerCase()===t.toLowerCase());return a.length>0?a[0].nationalityName:t}getStateNameFromISOcode(e,t){if(!e)return!1;const a=e.filter(e=>this.strictCompare(e.isoCode,t));return a.length>0?a[0].stateName:t}getNameFromCode(e,t){if(!e)return!1;const a=e.filter(e=>this.strictCompare(e.code,t));return a.length>0?a[0].name:t}getNosOfUnit(e,t){const a=this.sessionService.applicantService.filter(e=>e.id===t);return a.length>0?a[0][e]:1}filterVacFromCode(e,t,a){if(e.length<0)return!1;const i=e.filter(e=>e.isoCode===t);return i.length>0?i[0][a]:""}appendGaTrackingCode(){try{const e=document.createElement("script");e.innerHTML="(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n    })(window,document,'script','dataLayer','GTM-K3RCXTZ');",document.head.appendChild(e);const t=document.createElement("script");return t.innerHTML="(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');",document.head.appendChild(t),ga("create","UA-114055881-1","auto"),!0}catch(e){console.log("Error appending google analytics :",e)}}handleCaptcha(){return Object(i.b)(this,void 0,void 0,function*(){try{$(".grecaptcha-badge").remove(),setTimeout(()=>{this.appendCaptcha()})}catch(e){console.log("Error appending google analytics :",e)}})}appendCaptcha(){try{const e=window.location.pathname.split("/"),t=document.createElement("script");t.src=`https://recaptcha.net/recaptcha/api.js?render=${o.a.captchaKey}&hl=${e[2]}`,t.type="text/javascript",t.async=!1,document.getElementsByTagName("head")[0].appendChild(t)}catch(e){console.log(e)}}appendScriptForCookies(){try{const e=document.createElement("script");e.type="text/javascript",e.src=o.a.cookieScript1,document.getElementsByTagName("head")[0].appendChild(e);const t=document.createElement("script");return t.type="text/javascript",t.src=o.a.cookieScript2,t.setAttribute("data-domain-script",o.a.cookiedomainKey),document.getElementsByTagName("head")[0].appendChild(t),!0}catch(e){console.log(e)}}replacerFunction(e,t,a,i){return"number"==typeof e[a]?a&&e[a]?String(e[a]).trim():"":a&&e[a]?e[a].trim():""}resetCaptcha(){grecaptcha.reset()}executeCapctha(e){return new Promise((t,a)=>Object(i.b)(this,void 0,void 0,function*(){"object"!=typeof grecaptcha&&(yield new Promise(e=>setTimeout(e,3e3))),grecaptcha.ready(()=>{grecaptcha.execute(o.a.captchaKey,{action:e}).then(e=>t(e))})}))}getCodeName(e,t){const a=e.filter(e=>e.code===t);return a.length>0?a[0].name:t}appendScriptForConsent(){var e;try{const t=document.createElement("script"),a=o.a.oneTrustPortal;t.id=a.scriptId,t.type="text/javascript",t.src=a.url;const i=document.getElementById(a.scriptId);return null===(e=null==i?void 0:i.parentNode)||void 0===e||e.removeChild(i),t.setAttribute("data-ot-id",a.dataOtId),t.setAttribute("data-ot-consent-register-even","document-load"),document.getElementsByTagName("head")[0].appendChild(t),!0}catch(t){console.log(t)}}convertKeystoLowercase(e){return Object.keys(e).reduce((t,a)=>(t[a.toLowerCase()]=e[a],t),{})}disableBrowserBack(){history.pushState(null,"",location.href),window.onpopstate=()=>{history.go(1)}}formcontrolReset(e,t){return t.forEach(t=>{var a;e.get(t)&&(null===(a=e.get(t))||void 0===a||a.reset())}),!0}makeFieldRequired(e,t){return t.forEach(t=>{e.get(t)&&(e.controls[t].setValidators([n.x.required]),e.controls[t].updateValueAndValidity())}),!0}get gaPredefiedData(){var e,t,a,i,o,n;try{const s=this.sessionService.eligibilityDetails;return{Mission:null===(e=c.byIso(window.location.pathname.split("/")[3]))||void 0===e?void 0:e.country,CountryOfOperation:null===(t=c.byIso(window.location.pathname.split("/")[1]))||void 0===t?void 0:t.country,CityOfOperation:(null==s?void 0:s.centerCode)||"",WebsiteLanguage:d.a.getName(window.location.pathname.split("/")[2]),PageName:null===(n=null===(o=null===(i=null===(a=window.location)||void 0===a?void 0:a.pathname)||void 0===i?void 0:i.split("/"))||void 0===o?void 0:o.pop())||void 0===n?void 0:n.split("-").map(e=>e.charAt(0).toUpperCase()+e.substring(1)).join("-"),VacName:(null==s?void 0:s.centerCode)||null}}catch(s){console.log(s)}}get checkIfProd(){return!o.a.production}fireCustomEvent(e){try{if(this.checkIfProd)return;window.dataLayer=window.dataLayer||[];const t={event:"custom_event","Vac Name":this.gaPredefiedData.VacName,"Page Name":this.gaPredefiedData.PageName,"Website Language":this.gaPredefiedData.WebsiteLanguage};window.dataLayer.push(Object.assign(Object.assign({},e),t))}catch(t){console.log(t)}}countrynameByIso(e){var t;return(null===(t=c.byIso(e))||void 0===t?void 0:t.country)||e}product_impression(e){return Object(i.b)(this,void 0,void 0,function*(){try{if(this.checkIfProd)return;window.dataLayer=window.dataLayer||[];const t=[];yield e.map((e,a)=>{var i,o;t.push({name:e.name,id:e.code,price:e.unitPrice,brand:`${null===(i=c.byIso(window.location.pathname.split("/")[1]))||void 0===i?void 0:i.country}/${null===(o=c.byIso(window.location.pathname.split("/")[3]))||void 0===o?void 0:o.country}`,category:"VAS",variant:this.gaPredefiedData.VacName,list:this.gaPredefiedData.PageName+" Page Product Listing",position:a,uniqueId:e.id})}),window.dataLayer.push({event:"productImpression",dl_category:"Product Performance",dl_action:"Impression",dl_label:this.gaPredefiedData.PageName+" Page Product Listing",dl_value:"0","Page Name":this.gaPredefiedData.PageName,"Vac Name":this.gaPredefiedData.VacName,ecommerce:{currencyCode:e[0].currency,actionField:{list:this.gaPredefiedData.PageName+" Page Product Listing"},impressions:t}})}catch(t){console.log(t)}})}onCheckout(e){return Object(i.b)(this,void 0,void 0,function*(){try{if(this.checkIfProd)return;window.dataLayer=window.dataLayer||[];const t=[];yield e.map((e,a)=>{var i,o;t.push({name:e.name,id:e.code,price:e.unitPrice,brand:`${null===(i=c.byIso(window.location.pathname.split("/")[1]))||void 0===i?void 0:i.country}/${null===(o=c.byIso(window.location.pathname.split("/")[3]))||void 0===o?void 0:o.country}`,category:"VAS",variant:this.gaPredefiedData.VacName,quantity:e.total})}),window.dataLayer.push({event:"checkout","Vac Name":this.gaPredefiedData.VacName,ecommerce:{checkout:{actionField:{step:1,option:"Payment Gateway",action:"checkout"},products:t}}})}catch(t){console.log(t)}})}fireGAEvent(){try{if(this.checkIfProd)return;window.dataLayer=window.dataLayer||[],window.dataLayer.push({Mission:this.gaPredefiedData.Mission,"Country Of Operation":this.gaPredefiedData.CountryOfOperation,"City Of Operation":this.gaPredefiedData.CityOfOperation,"Website Language":this.gaPredefiedData.WebsiteLanguage,"Page Name":this.gaPredefiedData.PageName,"Vac Name":this.gaPredefiedData.VacName})}catch(e){console.log(e)}}sendConfirmationPageAnalytics(e){var t,a;try{if(this.checkIfProd)return;const i={event:"custom_event",dl_category:"PageView",dl_action:"PageView - Transaction Successful",dl_label:`${null===(t=c.byIso(window.location.pathname.split("/")[1]))||void 0===t?void 0:t.country} & ${null===(a=c.byIso(window.location.pathname.split("/")[3]))||void 0===a?void 0:a.country}`,dl_value:void 0,"Vac Name":this.gaPredefiedData.VacName,"Page Name":this.gaPredefiedData.PageName,"Website Language":this.gaPredefiedData.WebsiteLanguage};window.dataLayer.push(Object.assign(Object.assign({},e),i)),this.eventEmitter(e.Applicants,e.vasApplicants,e.vasQuantity)}catch(i){console.log(i)}}product_details(e){return Object(i.b)(this,void 0,void 0,function*(){try{if(this.checkIfProd)return;const t=[];yield e.map((e,a)=>{var i,o;t.push({name:e.name,id:e.code,price:e.unitPrice,brand:`${null===(i=c.byIso(window.location.pathname.split("/")[1]))||void 0===i?void 0:i.country}/${null===(o=c.byIso(window.location.pathname.split("/")[3]))||void 0===o?void 0:o.country}`,category:"VAS",variant:this.gaPredefiedData.VacName,list:this.gaPredefiedData.PageName+" Page Product Listing",position:a,uniqueId:e.id})}),window.dataLayer.push({event:"productDetails",dl_category:"Product Performance",dl_action:"Product Details",dl_label:e.name,dl_value:e.unitPrice,"Page Name":this.gaPredefiedData.PageName,"Vac Name":this.gaPredefiedData.VacName,ecommerce:{currencyCode:e.currency,detail:{actionField:{list:this.gaPredefiedData.PageName+" Page Product Listing"},products:t}}})}catch(t){console.log(t)}})}product_click(e){return Object(i.b)(this,void 0,void 0,function*(){try{if(this.checkIfProd)return;const t=[];yield[e].map((e,a)=>{var i,o;t.push({name:e.name,id:e.code,price:e.unitPrice,brand:`${null===(i=c.byIso(window.location.pathname.split("/")[1]))||void 0===i?void 0:i.country}/${null===(o=c.byIso(window.location.pathname.split("/")[3]))||void 0===o?void 0:o.country}`,category:"VAS",variant:this.gaPredefiedData.VacName,list:this.gaPredefiedData.PageName+" Page Product Listing",position:a,uniqueId:e.id})}),window.dataLayer.push({event:"productClick",dl_category:"Product Performance",dl_action:"Product Click",dl_label:e.name,dl_value:e.unitPrice,"Page Name":this.gaPredefiedData.PageName,"Vac Name":this.gaPredefiedData.VacName,ecommerce:{currencyCode:e.currency,click:{actionField:{list:this.gaPredefiedData.PageName+" Page Product Listing"},products:t}}})}catch(t){console.log(t)}})}add_to_cart(e){return Object(i.b)(this,void 0,void 0,function*(){try{if(this.checkIfProd)return;const t=[];yield[e].map((e,a)=>{var i,o;t.push({name:e.name,id:e.code,price:e.unitPrice,brand:`${null===(i=c.byIso(window.location.pathname.split("/")[1]))||void 0===i?void 0:i.country}/${null===(o=c.byIso(window.location.pathname.split("/")[3]))||void 0===o?void 0:o.country}`,category:"VAS",variant:this.gaPredefiedData.VacName,list:this.gaPredefiedData.PageName+" Page Product Listing",position:a,uniqueId:e.id})}),window.dataLayer.push({event:"addToCart",dl_category:"Add to Cart",dl_action:"Add to Cart From Service Card",dl_label:e.name,dl_value:e.unitPrice,"Page Name":this.gaPredefiedData.PageName,"Vac Name":this.gaPredefiedData.VacName,ecommerce:{currencyCode:e.currencyCode,add:{actionField:{list:this.gaPredefiedData.PageName+" Page Product Listing"},products:t}}})}catch(t){console.log(t)}})}remove_to_cart(e){return Object(i.b)(this,void 0,void 0,function*(){try{if(this.checkIfProd)return;const t=[];yield[e].map((e,a)=>{var i,o;t.push({name:e.name,id:e.code,price:e.unitPrice,brand:`${null===(i=c.byIso(window.location.pathname.split("/")[1]))||void 0===i?void 0:i.country}/${null===(o=c.byIso(window.location.pathname.split("/")[3]))||void 0===o?void 0:o.country}`,category:"VAS",variant:this.gaPredefiedData.VacName,list:this.gaPredefiedData.PageName+" Page Product Listing",position:a,uniqueId:e.id})}),window.dataLayer.push({event:"removeFromCart",dl_category:"Remove From Cart",dl_action:"Remove From Cart From Shopping Cart",dl_label:e.name,dl_value:e.unitPrice,"Page Name":this.gaPredefiedData.PageName,"Vac Name":this.gaPredefiedData.VacName,ecommerce:{currencyCode:e.currencyCode,remove:{actionField:{list:this.gaPredefiedData.PageName+" Page Product Listing"},products:t}}})}catch(t){console.log(t)}})}eventEmitter(e,t,a){ga("set","metric1",e),ga("set","metric2",t),ga("set","metric3",a),ga("send","pageview")}resetSchema(){const e=this.sessionService.getFullApplicationSchema();this.sessionService.saveApplicationSchemaInBrowser(e)}getDateFormat(e,t="/"){return e?e.day+t+e.month+t+e.year:e}gaForTMI(e){try{if(this.checkIfProd)return;window.dataLayer=window.dataLayer||[];const t={event:"custom_event"};window.dataLayer.push(Object.assign(Object.assign({},e),t))}catch(t){console.log(t)}}getCookie(e){const t=e.length+1;return document.cookie.split(";").map(e=>e.trim()).filter(a=>a.substring(0,t)===`${e}=`).map(e=>decodeURIComponent(e.substring(t)))[0]||null}pushDataLayerGA(e){var t,a,i,o,n;try{if(!this.checkIfProd)return;const s=this.sessionService.eligibilityDetails;window.dataLayer=window.dataLayer||[];const l=this.getCookie("_ga"),r={"Page Name":null===(t=this.gaPredefiedData)||void 0===t?void 0:t.PageName,"Country Of Operation":null===(a=this.gaPredefiedData)||void 0===a?void 0:a.CountryOfOperation,Mission:null===(i=this.gaPredefiedData)||void 0===i?void 0:i.Mission,"Website Language":null===(o=this.gaPredefiedData)||void 0===o?void 0:o.WebsiteLanguage,"City Of Operation":null===(n=this.gaPredefiedData)||void 0===n?void 0:n.CityOfOperation,"GA Client Id":l,"Hit Timestamp":this.momentInstance().format(),event:"custom_event"};s&&(r["Visa Center Seleted"]=null==s?void 0:s.centerCode,r["Appointment Category"]=null==s?void 0:s.selectedSubvisaCategory,r["Appointment Sub Category"]=null==s?void 0:s.visaCategoryCode),window.dataLayer.push(Object.assign(Object.assign({},e),r))}catch(s){console.log(s)}}}return e.\u0275fac=function(t){return new(t||e)(u.dc(m.e),u.dc(p.d),u.dc(b.a),u.dc(g.b),u.dc(f.a),u.dc(h.a),u.dc(v.c))},e.\u0275prov=u.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},Yt5x:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var i=a("fXoL");let o=(()=>{class e{static setInjector(t){e.injector=t}static getInjector(){return e.injector}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},cT3p:function(e,t,a){"use strict";a.d(t,"a",function(){return u});var i=a("mrSG"),o=a("2Vo4"),n=a("XNiG"),s=a("TCge"),l=a("AytR"),r=a("fXoL"),c=a("jhN1"),d=a("E3Zs");let u=(()=>{class e{constructor(e,t){this.titleService=e,this.logger=t,this.UPDATED_CART="updated_cart",this.APP_SCHEMA="appSchema",this.FULL_APP_SCHEMA="fullAppSchema",this.LOGIN_STATUS="loginStatus",this.JWT="JWT",this.EMAIL="logged_email",this.CURR_APP_VISA_CAT="curr_appl_visa_cat",this.CURR_APP_VISA_TYPE="curr_appl_visa_type",this.REGISTERED_USER_TOKEN="user_token",this.APP_MISSION_LANGUAGE="app_mission_language",this.VLN_REGEX="vln_regex",this.VLN_FORMAT="vln_format",this.IS_VLN_ENABLED="is_vln_enabled",this.loggedInStatus=new o.a(!1),this.APP_LANGUAGE_CODE="app_language_code",this.ACTIVATE_MESSAGE="activate_message",this.SERVICE_FEE="service_fees",this.VAC_FEE="vac_fee",this.ADDITIONAL_FEE="additional_fee",this.SERVICE_TAX="service_tax",this.APP_CULTURE_CODE=s.x,this.TENENT="tenent",this.TRANSACTION_ID="transactionid",this.COUNTRYCODE="countrycode",this.DOCUMENT_IDENTIFIER="document_identifier",this.ROUTE_ID="route_id",this.APPLICANT_APLHA_ID="applicant_alpha_id",this.APPLICANT_GRP_APLHA_ID="applicant_grp_alpha_id",this.LOGGED_IN_USING_EMAIL="logged_in_using_email",this.APPLICATION_STATUS="application_status",this.CURRENCY_CODE="currency_code",this.CURR_APP_VAC="curr_app_vac",this.APPOINTMENT_DETAILS="apt_dtls",this.CENTER_CODE="curr_app_cntr_code",this.URN_NO="urn_no",this.CMPLTD_MOD="cmpltd_mod",this.TEMP_APP_SCHEMA="temp_appschema",this.RESHDL_APTMNT_MODE="reshdl_mode",this.WAITLIST_APTMNT_MODE="waitlist_mode",this.UPDATE_FEES="update_fees",this.TMI_PRODUCT_VIEW="tmi_product_view",this.TMI_ENABLED="tmi_enabled",this.DOCUMENT_UPLOAD_ENABLED="document_upload_enabled",this.PAY_AT_BANK_SELECTED="pay_at_bank",this.SPLIT_PAY_ENABLED="split_pay_enabled",this.OPTED_OUT_TMI="opted_out_tmi",this.TMI_PRODUCTS_AVAILABLE="tmi_products_available",this.SCHEMA_UPDATED="schema_updated",this.TMI_PRODUCT_CONSENT="tmi_product_consent",this.CART_AMOUNT="cart_amount",this.TMI_VAS_ID="tmi_vas_id",this.IP_ADDRESS="ip",this.SERVICE_FEE_MODE_CHKBX_STATUS="serv_fee_mode_chkbx_sts",this.DOCUMENT_EXTRACTION="document_extraction",this.CAPTHA_CONFIGURATION="captcha_configuration",this.WAITLIST_JOURNEY="waitlist_journey",this.DECIMAL_ALLOWED="decimal_allowed",this.DISABLE_VFS_LOGO="disable_vfs_logo",this.TMI_VAS="tmiVas",this.RESOURCE_GROUP_DATA="resource_group_data",this.RESOURCE_GROUP_DATA_TEMP="resource_group_data_temp",this.FF_SERVICE_FOR_APPLICANT="ffServiceForApplicant",this.JWT_TOKEN="jwt_token",this.FF_APPLICANT_DETAILS="ff_applicant_details",this.FF_PAYMENT_DETAILS="ff_payment_details",this.isLoggedIn=this.loggedInStatus.asObservable(),this.isTotalFeesSource=new o.a("0"),this.appSchemaSubscriber=new o.a(null),this.appSchema$=this.appSchemaSubscriber.asObservable(),this.APPLICATION_DETAILS="application_details",this.APPLICATION_DETAILS_CPY="applctn_dtls_cpy",this.APPLICATION_CONFIGURATION="application_configuration",this.APP_CENTER_CODE="app_center_code",this.APPLICATION_SERVICE="application_services",this.EDIT_APLCT_IDX="edt_aplct_idx",this.IS_ADD_WALK_IN_MODE="is_add_walk_in_mode",this.PYMNT_DTLS="pymnt_dtls",this.PYMNT_DATA="pymnt_data",this.ELIGBLTY_DTLS="eligblty_dtls",this.COURIER_DTLS="courier_dtls",this.TMI_DETAILS="tmi_details",this.TMI_CONTENTFUL_DETAILS="tmi_contentful_details",this.CALCULATED_CODE="calculated_from_code",this.VISA_SUB_CATEGORY="cur_app_visa_sub_category",this.SERVICE_TYPE="cur_app_servicetype",this.VISA_CATEGORY="curr_app_visa_type",this.MX_ALWD_DEPARTURE_DT="mx_alwd_dt_of_departure",this.LATEST_SLOT="lst_slot",this.CAPTCHA_MODE="captcha_mode",this.IS_OTP_ENABLE="is_otp_enable",this.IS_OTP_VERIFIED="otp_verified",this.PAYMENT_OPTION="pt_payment_opt",this.IS_GRN_ENABLED="is_grn_enabled",this.IS_TMI_OAB_ENABLE="is_tmi_oab",this.TMI_ADD_APPLICANT="tmi_add_applicant",this.ODMV_DETAILS="odmv_dtls",this.COURIER_DETAILS="courier_dtls",this.IS_VAYD_ADDRESS_UPDATED="is_odmv_address_updated",this.IS_COURIER_ADDRESS_UPDATED="is_courier_address_updated",this.IS_COURIER_SERVICE_INTEGRATED="is_courier_service_integrated",this.ROUTE_HISTORY="route_history",this.dataToDeleteOnDashboardRoute=[this.EDIT_APLCT_IDX,this.PYMNT_DTLS,this.APPOINTMENT_DETAILS,this.ELIGBLTY_DTLS,this.COURIER_DTLS,this.CENTER_CODE,this.APPLICATION_SERVICE,this.CURR_APP_VAC,this.CURRENCY_CODE,this.CURR_APP_VISA_TYPE,this.CURR_APP_VISA_CAT,this.VISA_CATEGORY,this.VISA_SUB_CATEGORY,this.CMPLTD_MOD,this.RESHDL_APTMNT_MODE,this.SERVICE_TYPE,this.UPDATED_CART,this.CART_AMOUNT,this.TMI_VAS,this.TMI_VAS_ID,this.DOCUMENT_EXTRACTION,this.WAITLIST_JOURNEY,this.TMI_ENABLED,this.PAY_AT_BANK_SELECTED,this.SPLIT_PAY_ENABLED,this.TMI_VAS,this.WAITLIST_APTMNT_MODE,this.IS_OTP_ENABLE,this.IS_OTP_VERIFIED,this.PAYMENT_OPTION,this.FF_SERVICE_FOR_APPLICANT],this.dataToBeDeletedOnNewApplicantAdd=[this.MX_ALWD_DEPARTURE_DT,this.APPLICATION_STATUS,this.APPLICANT_APLHA_ID,this.APPLICANT_GRP_APLHA_ID,this.ROUTE_ID,this.CURR_APP_VISA_CAT,this.CURR_APP_VISA_TYPE,this.CURR_APP_VISA_TYPE,this.CENTER_CODE,this.SERVICE_FEE,this.SERVICE_TAX,this.VAC_FEE,this.ADDITIONAL_FEE,this.CURR_APP_VISA_TYPE,this.CENTER_CODE,this.APPOINTMENT_DETAILS,this.APPLICATION_DETAILS,this.TMI_DETAILS,this.PYMNT_DATA,this.PYMNT_DTLS,this.APPLICATION_SERVICE,this.TRANSACTION_ID,this.UPDATED_CART,this.CART_AMOUNT,this.TMI_VAS_ID,this.TMI_VAS,this.DOCUMENT_EXTRACTION,this.LATEST_SLOT,this.IS_OTP_ENABLE,this.PAYMENT_OPTION,this.FF_SERVICE_FOR_APPLICANT],this.errors=new n.a,this.addErrors=e=>this.errors.next(e),this.getErrors=()=>this.errors.asObservable();const a=this.loggedInStatus.value||sessionStorage.getItem(this.LOGIN_STATUS),i=this.currentApplicantVisaCat;this.updateLoginStatus(a),this.setCurrApplicantVisaCategory(i);const l=sessionStorage.getItem("total_amount")||this.isTotalFeesSource.value,r=sessionStorage.getItem(this.CURRENCY_CODE)||null;this.updateTotalAmount(l,r)}getValue(e,t=!0){try{const a=sessionStorage.getItem(e)||localStorage.getItem(e);if(a&&"null"!==a)return isNaN(a)?a:Number(a);if(t)throw new Error(`${s.d.KEY_NOT_FOUND_IN_STORAGE}: ${e}`);return null}catch(a){throw a}}setStorageValue(e,t){localStorage.setItem(e,t)}getStorageValue(e){return localStorage.getItem(e)||null}get vaydDetails(){const e=sessionStorage.getItem(this.ODMV_DETAILS);return e?JSON.parse(e):void 0}set vaydDetails(e){sessionStorage.setItem(this.ODMV_DETAILS,e)}getSession(e){let t=sessionStorage.getItem(e);return JSON.parse(t||"")}saveToSession(e,t){try{const a="object"==typeof t?JSON.stringify(t):t;sessionStorage.setItem(e,a)}catch(a){throw a}}setIsAddWalkinMode(e){sessionStorage.setItem(this.IS_ADD_WALK_IN_MODE,String(e))}setIsVaydAddressUpdated(e){sessionStorage.setItem(this.IS_VAYD_ADDRESS_UPDATED,String(e))}get IsVaydAddressUpdated(){return"true"===sessionStorage.getItem(this.IS_VAYD_ADDRESS_UPDATED)}clearSession(){sessionStorage.clear()}setTitle(e){this.titleService.setTitle(e)}saveApplicationSchemaInBrowser(e){return Object(i.b)(this,void 0,void 0,function*(){return sessionStorage.setItem(this.APP_SCHEMA,JSON.stringify(e)),this.appSchemaSubscriber.next(e),!0})}saveFullApplicationSchemaInBrowser(e){return Object(i.b)(this,void 0,void 0,function*(){return sessionStorage.setItem(this.FULL_APP_SCHEMA,JSON.stringify(e)),!0})}getApplicationSchema(){const e=sessionStorage.getItem(this.APP_SCHEMA)||null;return e?JSON.parse(e):e}getFullApplicationSchema(){const e=sessionStorage.getItem(this.FULL_APP_SCHEMA)||null;return e?JSON.parse(e):e}getAllModulesSchema(){try{const e=sessionStorage.getItem(this.APP_SCHEMA)||null;return e?JSON.parse(e).modules:e}catch(e){return[]}}updateLoginStatus(e){sessionStorage.setItem(this.LOGIN_STATUS,String(e)),this.loggedInStatus.next(e)}get loggedStatus(){return sessionStorage.getItem(this.loginStatus)}updateTotalAmount(e,t){t&&sessionStorage.setItem(this.CURRENCY_CODE,t),sessionStorage.setItem("total_amount",String(e)),this.isTotalFeesSource.next(e)}get totalAmount(){return sessionStorage.getItem("total_amount")}set latestSlotAvailiable(e){sessionStorage.setItem(this.LATEST_SLOT,e)}get latestSlotAvailiable(){return sessionStorage.getItem(this.LATEST_SLOT)||""}set captchaMode(e){sessionStorage.setItem(this.CAPTCHA_MODE,e)}get captchaMode(){return sessionStorage.getItem(this.CAPTCHA_MODE)||"v3"}set documentExtractionData(e){sessionStorage.setItem(this.DOCUMENT_EXTRACTION,JSON.stringify(e))}get documentExtractionData(){const e=sessionStorage.getItem(this.DOCUMENT_EXTRACTION);return e?JSON.parse(e):[]}set decimalConfiguration(e){sessionStorage.setItem(this.DECIMAL_ALLOWED,`1.${e}-${e}`)}get decimalConfiguration(){return sessionStorage.getItem(this.DECIMAL_ALLOWED)||""}set captchaConfiguration(e){(null==e?void 0:e.length)&&localStorage.setItem(this.CAPTHA_CONFIGURATION,JSON.stringify(e[0].fields.allowedRoute.allowedRoute))}get captchaConfiguration(){const e=localStorage.getItem(this.CAPTHA_CONFIGURATION);return e?JSON.parse(e):[]}set waitlistJourney(e){sessionStorage.setItem(this.WAITLIST_JOURNEY,JSON.stringify(e))}get waitlistJourney(){const e=sessionStorage.getItem(this.WAITLIST_JOURNEY)||"false";return Boolean(JSON.parse(e))}set tmiEnabled(e){sessionStorage.setItem(this.TMI_ENABLED,JSON.stringify(e))}get tmiEnabled(){const e=sessionStorage.getItem(this.TMI_ENABLED)||"false";return Boolean(JSON.parse(e))}set documentUploadEnabled(e){sessionStorage.setItem(this.DOCUMENT_UPLOAD_ENABLED,JSON.stringify(e))}get documentUploadEnabled(){const e=sessionStorage.getItem(this.DOCUMENT_UPLOAD_ENABLED)||"false";return Boolean(JSON.parse(e))}set isPayAtBankSelected(e){sessionStorage.setItem(this.PAY_AT_BANK_SELECTED,JSON.stringify(e))}get isPayAtBankSelected(){const e=sessionStorage.getItem(this.PAY_AT_BANK_SELECTED)||"false";return Boolean(JSON.parse(e))}set splitEnabled(e){sessionStorage.setItem(this.SPLIT_PAY_ENABLED,JSON.stringify(e))}get splitEnabled(){const e=sessionStorage.getItem(this.SPLIT_PAY_ENABLED)||"false";return Boolean(JSON.parse(e))}clearDocumentExtration(){sessionStorage.removeItem(this.DOCUMENT_EXTRACTION)}updateJwt(e){sessionStorage.setItem(this.JWT,e.accessToken)}updateJwtFF(e){sessionStorage.setItem(this.JWT,e)}updateLoggedEmail(e){sessionStorage.setItem(this.EMAIL,e)}getJWT(){return sessionStorage.getItem(this.JWT)}getLoggedEmail(){return sessionStorage.getItem(this.EMAIL)}get loginStatus(){return this.loggedInStatus.value}get containsAppSchema(){return!!this.getApplicationSchema()}setCurrApplicantVisaCategory(e){sessionStorage.setItem(this.CURR_APP_VISA_CAT,String(e))}setCurrApplicantVisaType(e){sessionStorage.setItem(this.CURR_APP_VISA_TYPE,String(e))}get currentApplicantVisaCat(){return sessionStorage.getItem(this.CURR_APP_VISA_CAT)}get currentApplicantVisaType(){return sessionStorage.getItem(this.CURR_APP_VISA_TYPE)}updateTokenOnRegistration(e){sessionStorage.setItem(this.REGISTERED_USER_TOKEN,e)}set appMissionLanguage(e){localStorage.setItem(this.APP_MISSION_LANGUAGE,JSON.stringify(e))}get appMissionLanguage(){const e=localStorage.getItem(this.APP_MISSION_LANGUAGE);if(e)return JSON.parse(e)}set clientIpAddress(e){sessionStorage.setItem(this.IP_ADDRESS,e)}get clientIpAddress(){return sessionStorage.getItem(this.IP_ADDRESS)}set updatedCartAmount(e){sessionStorage.setItem(this.UPDATED_CART,e)}get updatedCartAmount(){return sessionStorage.getItem(this.UPDATED_CART)}set tmiVasID(e){sessionStorage.setItem(this.TMI_VAS_ID,e)}get tmiVasID(){return sessionStorage.getItem(this.TMI_VAS_ID)}clearMissionlanguage(){localStorage.removeItem(this.APP_MISSION_LANGUAGE)}set appLanguageCode(e){e&&localStorage.setItem(this.APP_LANGUAGE_CODE,e)}get appLanguageCode(){return localStorage.getItem(this.APP_LANGUAGE_CODE)||void 0}set activateMessage(e){e&&sessionStorage.setItem(this.ACTIVATE_MESSAGE,e)}get activateMessage(){return sessionStorage.getItem(this.ACTIVATE_MESSAGE)||""}get servicefees(){return sessionStorage.getItem(this.SERVICE_FEE)||"0"}set servicefees(e){sessionStorage.setItem(this.SERVICE_FEE,e)}get vacFees(){const e=sessionStorage.getItem(this.VAC_FEE);return e?JSON.parse(e):[]}set vacFees(e){sessionStorage.setItem(this.VAC_FEE,JSON.stringify(e))}get additionalFees(){const e=sessionStorage.getItem(this.ADDITIONAL_FEE);return e?JSON.parse(e):[]}set additionalFees(e){sessionStorage.setItem(this.ADDITIONAL_FEE,JSON.stringify(e))}get serviceTax(){return sessionStorage.getItem(this.SERVICE_TAX)||"0"}set serviceTax(e){sessionStorage.setItem(this.SERVICE_TAX,e)}clearActivateMessage(){sessionStorage.removeItem(this.ACTIVATE_MESSAGE)}set appCultureCode(e){localStorage.setItem(this.APP_CULTURE_CODE,e)}get appCultureCode(){return localStorage.getItem(this.APP_CULTURE_CODE)||l.a.defaultCultureCode}set tenent(e){localStorage.setItem(this.TENENT,e)}get tenent(){return localStorage.getItem(this.TENENT)||null}set transactionId(e){sessionStorage.setItem(this.TRANSACTION_ID,e)}get transactionId(){return sessionStorage.getItem(this.TRANSACTION_ID)||null}set countryCode(e){localStorage.setItem(this.COUNTRYCODE,e)}get countryCode(){return localStorage.getItem(this.COUNTRYCODE)||null}set documentIdentifierId(e){sessionStorage.setItem(this.DOCUMENT_IDENTIFIER,e)}get documentIdentifierId(){return sessionStorage.getItem(this.DOCUMENT_IDENTIFIER)||null}set jwtToken(e){localStorage.setItem(this.JWT_TOKEN,e)}get jwtToken(){return localStorage.getItem(this.JWT_TOKEN)||null}set ffApplicantDetails(e){localStorage.setItem(this.FF_APPLICANT_DETAILS,JSON.stringify(e))}get ffApplicantDetails(){return localStorage.getItem(this.FF_APPLICANT_DETAILS)||null}set ffPaymentDetails(e){localStorage.setItem(this.FF_PAYMENT_DETAILS,JSON.stringify(e))}get ffPaymentDetails(){const e=localStorage.getItem(this.FF_PAYMENT_DETAILS);return e?JSON.parse(e):null}getUserToken(){return sessionStorage.getItem("user_token")}setRouteId(e){sessionStorage.setItem(this.ROUTE_ID,String(e))}get routeId(){const e=sessionStorage.getItem(this.ROUTE_ID)||null;return e?Number(e):null}setApplicantAplhaId(e){sessionStorage.setItem(this.APPLICANT_APLHA_ID,e)}get applicantAplhaId(){return sessionStorage.getItem(this.APPLICANT_APLHA_ID)||null}setApplicantGroupAplhaId(e){sessionStorage.setItem(this.APPLICANT_GRP_APLHA_ID,e)}get applicantGroupAplhaId(){return sessionStorage.getItem(this.APPLICANT_GRP_APLHA_ID)||null}set setCurrencyCode(e){sessionStorage.setItem(this.CURRENCY_CODE,e)}get currencyCode(){return sessionStorage.getItem(this.CURRENCY_CODE)}set loggedInUsingEmail(e){sessionStorage.setItem(this.LOGGED_IN_USING_EMAIL,String(e))}get loggedInUsingEmail(){const e=sessionStorage.getItem("logged_in_using_email");return!!e&&JSON.parse(e)}get applicationStatus(){return sessionStorage.getItem(this.APPLICATION_STATUS||"")}set applicationStatus(e){sessionStorage.setItem(this.APPLICATION_STATUS,e)}clearApplicationDetails(){sessionStorage.removeItem(this.APPLICATION_DETAILS)}cleartmiDetails(){sessionStorage.removeItem(this.TMI_DETAILS)}set routeHistory(e){sessionStorage.setItem(this.ROUTE_HISTORY,JSON.stringify(e))}get routeHistory(){const e=sessionStorage.getItem(this.ROUTE_HISTORY);return e?JSON.parse(e):[]}get tmiDetails(){try{const e=sessionStorage.getItem(this.TMI_DETAILS);if(e)return JSON.parse(e)}catch(e){throw new Error(e)}}set tmiDetails(e){sessionStorage.setItem(this.TMI_DETAILS,JSON.stringify(e))}get tmiContentfulDetails(){try{const e=sessionStorage.getItem(this.TMI_CONTENTFUL_DETAILS);if(e)return JSON.parse(e)}catch(e){throw new Error(e)}}set tmiContentfulDetails(e){sessionStorage.setItem(this.TMI_CONTENTFUL_DETAILS,JSON.stringify(e))}get applicationDetailValue(){try{const e=sessionStorage.getItem(this.APPLICATION_DETAILS);if(e)return JSON.parse(e)}catch(e){throw new Error(e)}}set applicationDetailValue(e){sessionStorage.setItem(this.APPLICATION_DETAILS,JSON.stringify(e))}get applicationDetailCopy(){try{const e=sessionStorage.getItem(this.APPLICATION_DETAILS_CPY);if(e)return JSON.parse(e)}catch(e){throw new Error(e)}}set applicationDetailCopy(e){sessionStorage.setItem(this.APPLICATION_DETAILS_CPY,JSON.stringify(e))}clearAppConfiguration(){sessionStorage.removeItem(this.APPLICATION_CONFIGURATION)}get applicationConfiguration(){try{const e=sessionStorage.getItem(this.APPLICATION_CONFIGURATION);if(e)return JSON.parse(e)}catch(e){throw new Error(e)}}set applicationConfiguration(e){sessionStorage.setItem(this.APPLICATION_CONFIGURATION,JSON.stringify(e))}clearappCenterCode(){sessionStorage.removeItem(this.APP_CENTER_CODE)}get appCenterCode(){try{const e=sessionStorage.getItem(this.APP_CENTER_CODE);if(e)return JSON.parse(e)}catch(e){throw new Error(e)}}set appCenterCode(e){sessionStorage.setItem(this.APP_CENTER_CODE,JSON.stringify(e))}saveAppointmentDetails(e){sessionStorage.setItem(this.APPOINTMENT_DETAILS,JSON.stringify(e))}setIsCourierAddressUpdated(e){sessionStorage.setItem(this.IS_COURIER_ADDRESS_UPDATED,String(e))}get IsCourierAddressUpdated(){return"true"===sessionStorage.getItem(this.IS_COURIER_ADDRESS_UPDATED)}getAppointmentDetails(){const e=sessionStorage.getItem(this.APPOINTMENT_DETAILS);return e?JSON.parse(e):void 0}clearAppointmentDetail(){sessionStorage.removeItem(this.APPOINTMENT_DETAILS)}get isCourierIntegratedVasPurchased(){return"true"===sessionStorage.getItem(this.IS_COURIER_SERVICE_INTEGRATED)}setIsCourierIntegratedVasPurchased(e){sessionStorage.setItem(this.IS_COURIER_SERVICE_INTEGRATED,String(e))}get applicantService(){try{const e=sessionStorage.getItem(this.APPLICATION_SERVICE);return e?JSON.parse(e):[]}catch(e){throw new Error(e)}}set applicantService(e){sessionStorage.setItem(this.APPLICATION_SERVICE,JSON.stringify(e))}set centerCode(e){sessionStorage.setItem(this.CENTER_CODE,e)}get centerCode(){return sessionStorage.getItem(this.CENTER_CODE)}set urn(e){sessionStorage.setItem(this.URN_NO,e)}get urn(){return sessionStorage.getItem(this.URN_NO)}set editApplicantDetailsIdx(e){sessionStorage.setItem(this.EDIT_APLCT_IDX,String(e))}get editApplicantDetailsIdx(){const e=sessionStorage.getItem(this.EDIT_APLCT_IDX);return e?Number(e):null}clearEditApplicationIdx(){sessionStorage.removeItem(this.EDIT_APLCT_IDX)}set paymentDetails(e){sessionStorage.setItem(this.PYMNT_DTLS,JSON.stringify(e))}get paymentDetails(){const e=sessionStorage.getItem(this.PYMNT_DTLS);return e?JSON.parse(e):null}set paymentData(e){sessionStorage.setItem(this.PYMNT_DATA,JSON.stringify(e))}get paymentData(){const e=sessionStorage.getItem(this.PYMNT_DATA);return e?JSON.parse(e):null}set completedModuleName(e){sessionStorage.setItem(this.CMPLTD_MOD,e)}get completedModuleName(){return sessionStorage.getItem(this.CMPLTD_MOD)}get eligibilityDetails(){const e=sessionStorage.getItem(this.ELIGBLTY_DTLS);if(e)return JSON.parse(e)}set eligibilityDetails(e){sessionStorage.setItem(this.ELIGBLTY_DTLS,JSON.stringify(e))}get courierDetails(){const e=sessionStorage.getItem(this.COURIER_DTLS);if(e)return JSON.parse(e)}set courierDetails(e){sessionStorage.setItem(this.COURIER_DTLS,JSON.stringify(e))}get calculatedCodeData(){const e=sessionStorage.getItem(this.CALCULATED_CODE);if(e)return JSON.parse(e)}set calculatedCodeData(e){sessionStorage.setItem(this.CALCULATED_CODE,JSON.stringify(e))}clearCalulatedData(){sessionStorage.removeItem(this.CALCULATED_CODE)}set tempAppSchema(e){sessionStorage.setItem(this.TEMP_APP_SCHEMA,JSON.stringify(e))}get tempAppSchema(){const e=sessionStorage.getItem(this.TEMP_APP_SCHEMA);if(e)return JSON.parse(e)}set isVLNRequired(e){sessionStorage.setItem(this.IS_VLN_ENABLED,String(e))}get isVLNRequired(){return"true"===sessionStorage.getItem(this.IS_VLN_ENABLED)}setIsVFSLogoDisabled(e){localStorage.setItem(this.DISABLE_VFS_LOGO,String(e))}get isVFSLogoDisabled(){return"true"===localStorage.getItem(this.DISABLE_VFS_LOGO)}setIsRescheduleAptmntMode(e){sessionStorage.setItem(this.RESHDL_APTMNT_MODE,String(e))}get isRescheduleAptmntMode(){return"true"===sessionStorage.getItem(this.RESHDL_APTMNT_MODE)}set vlnNumberFormat(e){sessionStorage.setItem(this.VLN_FORMAT,e)}get vlnNumberFormat(){return sessionStorage.getItem(this.VLN_FORMAT)}setIsWaitlistScheduleMode(e){sessionStorage.setItem(this.WAITLIST_APTMNT_MODE,String(e))}get iswaitlistScheduleMode(){return"true"===sessionStorage.getItem(this.WAITLIST_APTMNT_MODE)}set visaSubCategory(e){sessionStorage.setItem(this.VISA_SUB_CATEGORY,e)}get visaSubCategory(){return sessionStorage.getItem(this.VISA_SUB_CATEGORY)}set serviceTypeCode(e){sessionStorage.setItem(this.SERVICE_TYPE,e)}get serviceTypeCode(){return sessionStorage.getItem(this.SERVICE_TYPE)}set regex(e){sessionStorage.setItem(this.VLN_REGEX,e)}get regex(){return sessionStorage.getItem(this.VLN_REGEX)}set visaCategory(e){sessionStorage.setItem(this.VISA_CATEGORY,e)}get visaCategory(){return sessionStorage.getItem(this.VISA_CATEGORY)}setMaxAlwdDepartureDate(e){sessionStorage.setItem(this.MX_ALWD_DEPARTURE_DT,JSON.stringify(e))}getMaxAlwdDepartureDate(){const e=sessionStorage.getItem(this.MX_ALWD_DEPARTURE_DT);if(e)return JSON.parse(e)}clearSessionOnDashboardRoute(){try{for(const e of this.dataToDeleteOnDashboardRoute)sessionStorage.removeItem(e)}catch(e){console.log(e)}}set isSchemaUpdated(e){sessionStorage.setItem(this.SCHEMA_UPDATED,String(e))}get isSchemaUpdated(){return"true"===sessionStorage.getItem(this.SCHEMA_UPDATED)}get updateFees(){return"true"===sessionStorage.getItem(this.UPDATE_FEES)}set tmiProductView(e){sessionStorage.setItem(this.TMI_PRODUCT_VIEW,String(e))}get tmiProductView(){return"true"===sessionStorage.getItem(this.TMI_PRODUCT_VIEW)}set optOutTmi(e){sessionStorage.setItem(this.OPTED_OUT_TMI,String(e))}get optOutTmi(){return"true"===sessionStorage.getItem(this.OPTED_OUT_TMI)}set isTmiProductsAvailable(e){sessionStorage.setItem(this.TMI_PRODUCTS_AVAILABLE,String(e))}get isTmiProductsAvailable(){return"true"===sessionStorage.getItem(this.TMI_PRODUCTS_AVAILABLE)}set tmiProductConsent(e){sessionStorage.setItem(this.TMI_PRODUCT_CONSENT,String(e))}get tmiProductConsent(){return"true"===sessionStorage.getItem(this.TMI_PRODUCT_CONSENT)}set tmiVas(e){sessionStorage.setItem(this.TMI_VAS,JSON.stringify(e))}get tmiVas(){const e=sessionStorage.getItem(this.TMI_VAS);return e?JSON.parse(e):null}set resourceGroupData(e){localStorage.setItem(this.RESOURCE_GROUP_DATA,JSON.stringify(e))}get resourceGroupData(){const e=localStorage.getItem(this.RESOURCE_GROUP_DATA);return e?JSON.parse(e):null}set resourceGroupDataTemp(e){sessionStorage.setItem(this.RESOURCE_GROUP_DATA_TEMP,JSON.stringify(e))}get resourceGroupDataTemp(){const e=sessionStorage.getItem(this.RESOURCE_GROUP_DATA_TEMP);return e?JSON.parse(e):null}set updateFees(e){sessionStorage.setItem(this.UPDATE_FEES,String(e))}set feeAmount(e){sessionStorage.setItem(this.CART_AMOUNT,String(e))}get feeAmount(){const e=sessionStorage.getItem(this.CART_AMOUNT);return null!==e?Number(e).toFixed(2):null}clearFeeAmount(){sessionStorage.removeItem(this.CART_AMOUNT)}get onlineFeePaymentModeOpted(){const e=sessionStorage.getItem(this.SERVICE_FEE_MODE_CHKBX_STATUS);return"true"===e||"false"!==e&&null}set onlineFeePaymentModeOpted(e){sessionStorage.setItem(this.SERVICE_FEE_MODE_CHKBX_STATUS,String(e))}deleteOldApplicantDetails(){try{for(const e of this.dataToBeDeletedOnNewApplicantAdd)sessionStorage.removeItem(e)}catch(e){console.log(e)}}set IsOTPEnable(e){sessionStorage.setItem(this.IS_OTP_ENABLE,String(e))}get IsOTPEnable(){return"true"===sessionStorage.getItem(this.IS_OTP_ENABLE)}set otpVerified(e){sessionStorage.setItem(this.IS_OTP_VERIFIED,String(e))}get otpVerified(){return"true"===sessionStorage.getItem(this.IS_OTP_VERIFIED)}set ptFlowPaymentOption(e){sessionStorage.setItem(this.PAYMENT_OPTION,String(e))}get ptFlowPaymentOption(){return"true"===sessionStorage.getItem(this.PAYMENT_OPTION)}set isTmiOabEnable(e){sessionStorage.setItem(this.IS_TMI_OAB_ENABLE,String(e))}get isTmiOabEnable(){return"true"===sessionStorage.getItem(this.IS_TMI_OAB_ENABLE)}set isTmiOabAddApplicant(e){sessionStorage.setItem(this.TMI_ADD_APPLICANT,String(e))}get isTmiOabAddApplicant(){return"true"===sessionStorage.getItem(this.TMI_ADD_APPLICANT)}set isGRNEnabled(e){sessionStorage.setItem(this.IS_GRN_ENABLED,String(e))}get isGRNEnabled(){return"true"===sessionStorage.getItem(this.IS_GRN_ENABLED)}get VAYDAddressUpdated(){return"true"===sessionStorage.getItem(this.IS_VAYD_ADDRESS_UPDATED)}set ffServiceForApplicant(e){localStorage.setItem(this.TMI_VAS,JSON.stringify(e))}get ffServiceForApplicant(){const e=localStorage.getItem(this.TMI_VAS);return e?JSON.parse(e):null}}return e.\u0275fac=function(t){return new(t||e)(r.dc(c.d),r.dc(d.b))},e.\u0275prov=r.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},kiQV:function(e){e.exports=JSON.parse('{"name":"lift","version":"6.0.27","scripts":{"ng":"ng","start":"ng serve --port 21174","start-ihc":"ng serve -c ihc --port 21174","build-staging-ihc":"node ./update_build_version.js && npm run prebuild_staging_bash && ng build --prod -c staging-ihc --deployUrl=https://staging-lift.vfsglobal.com/_angular/ --crossOrigin=anonymous && node ./versioning.build.js && npm run postbuild && npm run postbuild_staging_bash","build":"node ./update_build_version.js && ng build --prod --deployUrl=https://liftassets.vfsglobal.com/_angular/ --crossOrigin=anonymous && node ./versioning.build.js","build-nssr7":"node ./update_build_version.js && npm run prebuild_nssr7_bash && ng build --prod --configuration=nssr7 --deployUrl=https://nssr-7.vfsglobal.com/_angular/ --crossOrigin=anonymous && node ./versioning.build.js && npm run postbuild && npm run postbuild_nssr7_bash","build-staging":"node ./update_build_version.js && npm run prebuild_staging_bash && ng build --prod --configuration=staging --deployUrl=https://staging-lift.vfsglobal.com/_angular/ --crossOrigin=anonymous && node ./versioning.build.js && npm run postbuild && npm run postbuild_staging_bash","build-uat":"node ./update_build_version.js && npm run prebuild_uat_bash && ng build --prod --configuration=uat --deployUrl=https://uat-lift.vfsglobal.com/_angular/ --crossOrigin=anonymous && node ./versioning.build.js && npm run postbuild && npm run postbuild_uat_bash","build-nonukviuat":"node ./update_build_version.js && npm run prebuild_nonukviuat_bash && ng build --prod --configuration=nonukviuat --deployUrl=https://nonukviuat.vfsglobal.com/_angular/ --crossOrigin=anonymous && node ./versioning.build.js && npm run postbuild && npm run postbuild_nonukviuat_bash","build-preprod":"node ./update_build_version.js && npm run prebuild_preprod_bash && ng build --prod --configuration=preprod --deployUrl=https://liftpretest.vfsglobal.com/_angular/ --crossOrigin=anonymous && node ./versioning.build.js && npm run postbuild && npm run postbuild_preprod_bash","prebuild":"npm --no-git-tag-version version patch && npm run prebuild_prod_bash","postbuild":"html-minifier dist/LIFT/index.html --collapse-whitespace --remove-comments --remove-optional-tags --remove-redundant-attributes --remove-script-type-attributes --remove-tag-whitespace --use-short-doctype -o dist/LIFT/index.html && npm run organize_dist","prebuild_staging_bash":"bash ./pre-build.sh staging-lift.vfsglobal.com","prebuild_uat_bash":"bash ./pre-build.sh uat-lift.vfsglobal.com","prebuild_nssr7_bash":"bash ./pre-build.sh nssr-7.vfsglobal.com","prebuild_nonukviuat_bash":"bash ./pre-build.sh nonukviuat.vfsglobal.com","prebuild_preprod_bash":"bash ./pre-build.sh liftassets.vfsglobal.com","prebuild_prod_bash":"bash ./pre-build.sh liftassets.vfsglobal.com","postbuild_staging_bash":"bash ./post-build.sh staging-lift.vfsglobal.com","postbuild_uat_bash":"bash ./post-build.sh uat-lift.vfsglobal.com","postbuild_nssr7_bash":"bash ./post-build.sh nssr-7.vfsglobal.com","postbuild_nonukviuat_bash":"bash ./post-build.sh nonukviuat.vfsglobal.com","postbuild_preprod_bash":"bash ./post-build.sh liftassets.vfsglobal.com","postbuild_prod_bash":"bash ./post-build.sh liftassets.vfsglobal.com","organize_dist":"bash ./organize_dist.sh","aws-stage-clear":"aws s3 rm s3://evisa-staging-lift-application --recursive","aws-stage-deploy":"aws s3 cp ./dist/LIFT  s3://evisa-staging-lift-application --recursive --acl public-read","aws-nssr7-deploy":"aws s3 cp ./dist/LIFT  s3://nssr-7.vfsglobal.com --recursive","aws-stage-cf-invalidate":"aws cloudfront create-invalidation --distribution-id EC4G31UEP8GOW --paths \'/*\'","aws-uat-clear":"aws s3 rm s3://evisa-uat-lift-app --recursive","aws-uat-deploy":"aws s3 cp ./dist/LIFT  s3://evisa-uat-lift-app --recursive --acl public-read","aws-nonukviuat-deploy":"aws s3 cp ./dist/LIFT  s3://nonukviuat.vfsglobal.com --recursive","aws-uat-cf-invalidate":"aws cloudfront create-invalidation --distribution-id E3TNBSSC1L7FWO --paths \'/*\'","aws-preprod-clear":"aws s3 rm s3://evisa-prod-lift-app --recursive","aws-preprod-deploy":"aws s3 cp ./dist/LIFT  s3://liftpretest.vfsglobal.com --recursive ","aws-preprod-cf-invalidate":"aws cloudfront create-invalidation --distribution-id ELFSM6OW9YUB8 --path \'/*\'","aws-nssr7-cf-invalidate":"aws cloudfront create-invalidation --distribution-id E15CN1HI1ROR0A --paths \'/*\'","aws-nonukviuat-cf-invalidate":"aws cloudfront create-invalidation --distribution-id EQHWZ2GQVOJ6P --path \'/*\'","aws-prod-clear":"aws s3 rm s3://lift-poc-production --recursive","aws-prod-deploy":"aws s3 cp ./dist/LIFT  s3://lift-poc-production --recursive --acl public-read","test":"ng test --watch=false --code-coverage","e2e":"ng e2e","clean":"rm -rf dist"},"private":true,"dependencies":{"@angular/animations":"~11.2.6","@angular/cdk":"^11.2.5","@angular/common":"~11.2.6","@angular/compiler":"~11.2.6","@angular/core":"~11.2.6","@angular/forms":"~11.2.6","@angular/localize":"^11.2.6","@angular/material":"^11.2.5","@angular/platform-browser":"~11.2.6","@angular/platform-browser-dynamic":"~11.2.6","@angular/router":"~11.2.6","@angular/service-worker":"^11.2.6","@contentful/rich-text-html-renderer":"^14.1.2","@fullcalendar/angular":"^5.5.0","@fullcalendar/daygrid":"^5.5.0","@fullcalendar/interaction":"^5.5.0","@ng-bootstrap/ng-bootstrap":"^9.0.2","@ng-idle/core":"^10.0.0-beta.1","@ng-idle/keepalive":"^10.0.0-beta.1","@ngx-translate/core":"^13.0.0","@ngx-translate/http-loader":"^6.0.0","@vapnpm/vap-dynamic-form":"2.5.0","bootstrap":"^4.6.0","contentful":"^8.2.0","core-js":"^2.5.0","country-code-lookup":"0.0.19","file-saver":"^2.0.5","iso-639-1":"^2.1.8","jquery":"^3.6.3","moment":"^2.29.4","moment-timezone":"^0.5.33","ngx-countdown":"^11.0.3","ngx-file-drop":"^8.0.8","ngx-logger":"^4.2.1","ngx-mat-select-search":"^3.2.0","ngx-material-timepicker":"^5.5.3","ngx-ui-loader":"^10.0.0","replace-in-file":"^6.2.0","rxjs":"~6.6.0","subsink":"^1.0.2","tslib":"^2.0.0","zone.js":"~0.11.3"},"devDependencies":{"@angular-devkit/build-angular":"~0.1102.5","@angular/cli":"~11.2.5","@angular/compiler-cli":"~11.2.6","@angular/language-service":"^11.2.6","@types/jasmine":"~3.6.0","@types/node":"^12.11.1","codelyzer":"^6.0.0","gzipper":"^4.4.0","html-minifier":"^4.0.0","jasmine-core":"~3.6.0","jasmine-spec-reporter":"~5.0.0","karma":"~6.1.0","karma-chrome-launcher":"~3.1.0","karma-coverage":"~2.0.3","karma-jasmine":"~4.0.0","karma-jasmine-html-reporter":"^1.5.0","protractor":"~7.0.0","ts-node":"~8.3.0","tslint":"~6.1.0","typescript":"~4.1.5"}}')},mS5l:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var i=a("2Vo4"),o=a("fXoL");let n=(()=>{class e{constructor(){this.reviewDataObserable=new i.a([]),this.reviewData=this.reviewDataObserable.asObservable(),this.translations$=new i.a({}),this.appliedServiceList=new i.a([]),this.appliedServiceList$=this.appliedServiceList.asObservable(),this.pageLoadComplete=new i.a(!1),this.pageLoadComplete$=this.pageLoadComplete.asObservable(),this.cartAmount=new i.a(void 0),this.captchaAllowedRoutes=new i.a(void 0),this.editYourDetail=!1,this.isServiceModified=!1,this.dashboardTab=0}set currentFormGroup(e){this.currFormGroup=e}get currentFormGroup(){return this.currFormGroup}notifyPageLoadCompleted(e){this.pageLoadComplete.next(e)}getPageLoadCompleteValue(){return this.pageLoadComplete.value}set rescheduledData(e){this.reschldData=e}get rescheduledData(){return this.reschldData}clearrescheduledData(){this.reschldData={}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},psYf:function(e,t,a){"use strict";a.d(t,"a",function(){return I});var i=a("mrSG"),o=a("TCge"),n=a("3Pt+"),s=a("QrD/"),l=a("2Vo4"),r=a("z6cu"),c=a("cp0P"),d=a("LRne"),u=a("AytR"),m=a("fXoL"),p=a("0IaG"),b=a("bTqV"),g=a("sYmb");let f=(()=>{class e{constructor(e,t,a){this.dialog=e,this.dialogRef=t,this.changeRef=a}ngOnInit(){}closeBtn(){this.dialogRef.close()}get getGlobalImagePath(){return u.a.externalPath+"/assets/images/global"}}return e.\u0275fac=function(t){return new(t||e)(m.Qb(p.b),m.Qb(p.h),m.Qb(m.h))},e.\u0275cmp=m.Kb({type:e,selectors:[["app-session-termination"]],decls:17,vars:10,consts:[[1,"mat-modal-delete-document"],[1,"position-absolute","top-10","right-10"],[1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"fs-18","fs-sm-21","mb-10"],[1,"fa","fa-exclamation-triangle","mr-10"],[1,"my-20"],[1,"fs-sm-17","c-brand-grey-para","mb-30"],[1,"row"],[1,"col-12","col-sm"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mb-10","mb-sm-0",3,"click"]],template:function(e,t){1&e&&(m.Wb(0,"div",0),m.Wb(1,"div",1),m.Wb(2,"button",2),m.hc("click",function(){return t.closeBtn()}),m.Rb(3,"img",3),m.Vb(),m.Vb(),m.Wb(4,"h4",4),m.Rb(5,"i",5),m.Oc(6),m.mc(7,"translate"),m.Vb(),m.Rb(8,"hr",6),m.Wb(9,"p",7),m.Oc(10),m.mc(11,"translate"),m.Vb(),m.Wb(12,"div",8),m.Wb(13,"div",9),m.Wb(14,"button",10),m.hc("click",function(){return t.closeBtn()}),m.Oc(15),m.mc(16,"translate"),m.Vb(),m.Vb(),m.Vb(),m.Vb()),2&e&&(m.Db(3),m.vc("src","",t.getGlobalImagePath,"/close-btn.png",m.Hc),m.Db(3),m.Qc(" ",m.nc(7,4,"commonSections.headerLabel.label3")," "),m.Db(4),m.Pc(m.nc(11,6,"commonSections.messages.errorMessages.message23")),m.Db(5),m.Qc(" ",m.nc(16,8,"commonSections.buttons.button24")," "))},directives:[b.a],pipes:[g.d],encapsulation:2}),e})();var h=a("tyNb"),v=a("cT3p"),y=a("3N+h"),S=a("XjvO"),C=a("IXuf"),D=a("suCx");let I=(()=>{class e{constructor(e,t,a,i,o,n,s,r){this.dialog=e,this.router=t,this.sessionService=a,this.httpService=i,this.utilityService=o,this.translate=n,this.contentfulService=s,this.coreCommonService=r,this.showAlertBarSubject=new l.a({}),this.showAlertBar$=this.showAlertBarSubject.asObservable()}removeError(e,t){const a=e.errors;return a&&delete a[t],a&&!Object.keys(a).length?e.setErrors(null):e.setErrors(a),!0}setError(e,t){const a=e.errors,i={};return i[t]=!0,e.setErrors(Object.assign({},a,i)),!0}convertToMomentDate(e){try{const t=Object.assign({},e);return t.month=e.month-1,t}catch(t){throw t}}routeToDashboard(){this.routeToPostLoginModule(o.q.DASHBOARD)}routeToBookAppointment(){this.routeToPostLoginModule(o.q.BOOK_APPOINTMENT)}routeToPaymentConfirmation(){this.routeToPostLoginModule(o.q.PAYMENT_CONFIRMATION)}routeToFFInfo(){this.routeToPostLoginModule(o.q.FF_INFO)}routeToFFYourDetails(){this.routeToPostLoginModule(o.q.FF_YOUR_DETAILS)}routeToFFPaymentConfiguration(){this.routeToPostLoginModule(o.q.FF_PAYMENT_CONFIRMATION)}constructURLBeforeLogin(e){return`${this.sessionService.countryCode}/${this.sessionService.appLanguageCode}/${this.sessionService.tenent}/${e}`}routeToNotFound(){try{this.router.navigate(this.sessionService.tenent?[this.sessionService.countryCode,this.sessionService.appLanguageCode,this.sessionService.tenent,o.q.NOT_FOUND]:["/"]),this.sessionService.updateLoginStatus(!1),this.sessionService.clearSession()}catch(e){this.utilityService.stopNgxUiSpinner(),console.log(e)}}getStates(){return Object(i.b)(this,void 0,void 0,function*(){try{return(yield this.httpService.doGet(`${o.c.api.masterState}/${this.sessionService.countryCode}`).toPromise())||[]}catch(e){throw e}})}get isUSACountry(){return this.utilityService.strictCompare(this.sessionService.countryCode,o.r)}get isINDCountry(){return this.utilityService.strictCompare(this.sessionService.countryCode,o.e)}routeToLogin(){try{this.sessionService.updateLoginStatus(!1),this.sessionService.clearSession();const e=window.location.pathname.split("/");(null==e?void 0:e.length)>3&&this.router.navigate([e[1],e[2],e[3],o.q.LOGIN])}catch(e){console.log(e)}}routeToOnBoarding(){try{this.routeToPostLoginModule(o.q.ON_BOARDING)}catch(e){console.log(e)}}routeToForgotPassword(){try{this.routeToPostLoginModule(o.q.FORGOT_PASSWORD)}catch(e){console.log(e)}}routeToFFTransactionSummary(){this.routeToPostLoginModule(o.q.FF_TRANSACTION_SUMMARY)}routeToPostLoginModule(e){this.router.navigate([this.sessionService.countryCode,this.sessionService.appLanguageCode,this.sessionService.tenent,e])}routeToPostLoginModuleByIndex(e){try{const t=this.sessionService.getAllModulesSchema()||[],a=e<t.length?t[e]:null;a&&this.routeToPostLoginModule(a.routeUrl)}catch(t){console.log(t)}}logoutAndRouteToLogin(){var e,t,a;return Object(i.b)(this,void 0,void 0,function*(){try{const i={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,username:this.sessionService.getLoggedEmail()},n=yield this.httpService.payloadPost(o.c.api.logout,i).toPromise().catch(e=>Object(r.a)(e)).then(e=>e);n&&(this.showAlertBar((null===(e=null==n?void 0:n.error)||void 0===e?void 0:e.description)||(null==n?void 0:n.message)||(null===(t=null==n?void 0:n.error)||void 0===t?void 0:t.code)&&this.translateValue("commonSections.messages.statusMessages."+(null===(a=null==n?void 0:n.error)||void 0===a?void 0:a.code)),!1),setTimeout(()=>{this.showAlertBar(null,!1)},5e3))}catch(i){console.log(i)}finally{this.routeToLogin(),window.location.reload()}})}logoutAndRouteToNotFound(){var e,t,a;return Object(i.b)(this,void 0,void 0,function*(){try{const i={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,username:this.sessionService.getLoggedEmail()},n=yield this.httpService.payloadPost(o.c.api.logout,i).toPromise().catch(e=>Object(r.a)(e)).then(e=>e);n&&(this.showAlertBar((null===(e=null==n?void 0:n.error)||void 0===e?void 0:e.description)||(null==n?void 0:n.message)||(null===(t=null==n?void 0:n.error)||void 0===t?void 0:t.code)&&this.translateValue("commonSections.messages.statusMessages."+(null===(a=null==n?void 0:n.error)||void 0===a?void 0:a.code)),!1),setTimeout(()=>{this.showAlertBar(null,!1)},5e3))}catch(i){console.log(i)}finally{this.routeToNotFound()}})}setSessionValues(e,t,a,i,o){this.sessionService.setApplicantAplhaId(t),this.sessionService.setApplicantGroupAplhaId(e),this.sessionService.setCurrApplicantVisaCategory(a),this.sessionService.setCurrApplicantVisaType(i),this.sessionService.setRouteId(o)}postLoginActivity(e,t){return Object(i.b)(this,void 0,void 0,function*(){try{const a=yield this.loadApplicationSchema(e),i=yield this.coreCommonService.moduleAccessibilityFilter(a);return this.sessionService.saveFullApplicationSchemaInBrowser(i),this.sessionService.saveApplicationSchemaInBrowser(i),this.sessionService.updateLoginStatus(!0),this.sessionService.updateJwt(t),!0}catch(a){throw new Error(a)}})}loadApplicationSchema(e){return Object(i.b)(this,void 0,void 0,function*(){const t=yield e.getApplicationSchema();if(!t||0===t.length)throw new Error(o.d.INVALID_RESPONSE);return t})}filterModulesOnBucketId(e,t,a){try{const a=JSON.parse(JSON.stringify(e)),i=a.modules;let n=[];if(!o.c.MODULE_BUCKET.hasOwnProperty(t))throw new Error(o.d.BUCKET_NOT_FOUND);n=o.c.MODULE_BUCKET[t];const s=i.filter(e=>{if(n.indexOf(e.logicalName)>-1)return e});return a.modules=s,a}catch(i){throw i}}filterModulesOnSelectedValue(e,t,a){var i;try{const n=t.hasOwnProperty("filter")?t.filter:void 0,s=e.find(e=>e.logicalName===o.c.modules.ELIGIBILITY_CRITERIA);if(!n||!s)return;const l=this.getBucketIdFromEligibilityCritera(s,a,null===(i=n.module)||void 0===i?void 0:i.key);return this.filterModulesOnBucketId(t,l,a)}catch(n){throw n}}removeModule(e,t){try{const a=JSON.parse(JSON.stringify(e)),i=a.modules.filter(e=>!t.some(t=>t===e.logicalName));return a.modules=i,a}catch(a){throw a}}addModule(e,t){try{const a=JSON.parse(JSON.stringify(e)).modules,i=this.sessionService.getApplicationSchema(),o=a.filter(e=>t.some(t=>t===e.logicalName)),n=null==o?void 0:o.filter(e=>!i.modules.some(t=>t.logicalName===e.logicalName));return(null==n?void 0:n.length)>0&&n.forEach(e=>i.modules.push(e)),i.modules.sort((e,t)=>e.displayPosition>t.displayPosition?1:t.displayPosition>e.displayPosition?-1:0),i}catch(a){throw a}}getBucketIdFromEligibilityCritera(e,t,a){try{if(!a)throw new Error(o.d.NO_BUCKET_FIELD_REF_SCHEMA);const i=e.controls.find(e=>(null==e?void 0:e.fields[0].logicalName)===a),n=(null==i?void 0:i.fields[0].onChangeEvent).find(e=>"filterModulesOnValue"===e.functionName);return this.coreCommonService.getBucketIdFromValue(n.params,t)}catch(i){throw i}}getSchemaByModuleName(e){try{const t=this.sessionService.getAllModulesSchema().find(t=>t.logicalName===e);if(!t)throw new Error(`Error: invalid_module ${e} `);return t}catch(t){console.log(t)}}showAlertBar(e,t){this.showAlertBarSubject.next({message:e,isError:t})}onResponsesAlertBar({statusCode:e,isError:t}){const a=e.toString().length>0&&this.translateValue("commonSections.messages.statusMessages."+e)?this.translateValue("commonSections.messages.statusMessages."+e):this.translateValue("commonSections.messages.apiErrorMessages.message1");this.showAlertBarSubject.next({message:a,isError:t}),401==e&&this.autoLogout(4)}translateValue(e){let t="";return this.translate.get(e).subscribe(e=>{t=e}),t}get imagePath(){return`/ ${String(o.h.assets.images).replace("$TENENT",this.sessionService.tenent)} /`}get globalImagePath(){return o.c.ASSETS_PATH.globalImages}handleErrorCloseLoader(e){throw console.log(`Error Status: ${e.status}\nMessage: ${e.message}`),e}constructDate(e,t=s.a.D_M_Y_SLASH){try{let a;const i=1===String(e.day).length?`0${e.day}`:e.day,n=1===String(e.month).length?`0${e.month}`:e.month;switch(t){case s.a.D_M_Y_SLASH:a=`${i}/${n}/${e.year}`;break;case s.a.M_D_Y_SLASH:a=`${n}/${i}/${e.year}`;break;case s.a.Y_M_D_SLASH:a=`${e.year}/${n}/${i}`;break;default:throw new Error(o.d.INVALID_DATE_FORMAT)}return a}catch(a){throw a}}constructTMIProductData(e){return Object(i.b)(this,void 0,void 0,function*(){return new Promise(t=>Object(i.b)(this,void 0,void 0,function*(){0===(null==e?void 0:e.length)&&t([]);const a=[];[`${this.sessionService.tenent} > ${this.sessionService.countryCode} > ${this.sessionService.appLanguageCode}`,`${this.sessionService.tenent} > ${this.sessionService.countryCode}`,`${this.sessionService.countryCode} > ${this.sessionService.appLanguageCode}`,this.sessionService.countryCode,this.sessionService.appLanguageCode].forEach(e=>{const t=Object.assign({content_type:"tmi","fields.locale":e});a.push(this.contentfulService.getEnteries(t))}),Object(c.a)(a).subscribe(a=>{const i=(a=a.filter(e=>e.items.length>0))[0].items;let o;e&&e.length>0&&(o=null==e?void 0:e.map(e=>{const t=i.filter(t=>t.fields.tmiProductCode.toLowerCase()===e.productId.toLowerCase());return e.contentful=(null==t?void 0:t.length)>0?t[(null==t?void 0:t.length)-1].fields:[],e})),t(o)})}))})}constructTMIData(){return Object(i.b)(this,void 0,void 0,function*(){const e=[],t=Object.assign({content_type:"tmiPageContent","fields.locale":[`${this.sessionService.tenent} > ${this.sessionService.countryCode} > ${this.sessionService.appLanguageCode}`,`${this.sessionService.tenent} > ${this.sessionService.countryCode}`,`${this.sessionService.countryCode} > ${this.sessionService.appLanguageCode}`,this.sessionService.countryCode,this.sessionService.appLanguageCode].join("&"),limit:1});e.push(this.contentfulService.getEnteries(t)),Object(c.a)(e).subscribe(e=>{const t=e[0].items[0].fields;return this.sessionService.tmiContentfulDetails=t,t})})}touchAllFields(e){for(const t of Object.keys(e.controls)){const a=e.get(t);a instanceof n.f?a.markAsTouched({onlySelf:!0}):a instanceof n.i&&this.touchAllFields(a)}return!0}deleteApplicantFromSelectedService(e){try{const t=this.sessionService.applicantService;if(!t)return;const a=t.map((a,i)=>{const o=a.modifiedList.length,n=a.modifiedList.filter(t=>t.arn!==e);return t[i].modifiedList=n,o>n.length&&(t[i].unit=parseFloat(a.unit)-1,t[i].total=parseFloat(a.total)-parseFloat(a.amount)),t[i]});return this.sessionService.applicantService=a,a}catch(t){throw t}}deleteApplicantDetails(e){return Object(i.b)(this,void 0,void 0,function*(){try{const t=JSON.parse(JSON.stringify(this.sessionService.applicationDetailValue));if(!t||e>=t.applicantList.length)throw new Error("Error:");let a=t.applicantList.slice(e,e+1);if(0===e){const e=t.applicantList.filter(e=>this.utilityService.strictCompare(e.isEndorsedChild,!0));a=a.concat(e)}const o={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,loginUser:this.sessionService.getLoggedEmail(),urn:null,arn:null},n=a.map(e=>Object(i.b)(this,void 0,void 0,function*(){return o.urn=e.urn,o.arn=e.arn,yield this.httpService.payloadPost("/appointment/deleteapplicant",o).toPromise().then(e=>e)})),s=(yield Promise.all(n),a.map(e=>e.arn)),l=t.applicantList.filter(e=>-1===s.indexOf(e.arn));return t.applicantList=l,this.sessionService.applicationDetailValue=t,s.map(e=>this.deleteApplicantFromSelectedService(e)),t}catch(t){console.log(t)}})}formatDateDMY(e){const t=e.match(/\d+/g);return t[2]+"/"+t[1]+"/"+t[0]}getVacCenters(e,t){return Object(i.b)(this,void 0,void 0,function*(){try{const a={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode};return e&&(a.cultureCode=e),t&&(a.centerCode=t),yield this.httpService.slashParamsDoGet(o.c.api.masterCenter,a).toPromise().catch(e=>e).then(e=>e)}catch(a){throw a}})}getVisaCategories(e,t,a){return Object(i.b)(this,void 0,void 0,function*(){try{const i={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:e,cultureCode:this.sessionService.appCultureCode};let n=t?`?serviceType=${t}`:void 0;return a&&(n+=`${"null"!==n?"&":""}nationalityCode=${a}`),yield this.httpService.slashParamsDoGet(o.c.api.masterVisaCategoryCode,i,n).toPromise().catch(e=>e).then(e=>e)}catch(i){throw i}})}getSubVisaCategories(e,t,a,n){return Object(i.b)(this,void 0,void 0,function*(){try{const i={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:e};t&&(i.visaCategoryCode=t);let s=a?`?serviceType=${a}`:void 0;return n&&(s+=`${"null"!==s?"&":""}nationalityCode=${n}`),i.cultureCode=`${this.sessionService.appCultureCode}`,yield this.httpService.slashParamsDoGet(o.c.api.masterSubVisaCategory,i,s).toPromise().catch(e=>e).then(e=>e)}catch(i){throw i}})}loadAppointmentSlots(e){return Object(i.b)(this,void 0,void 0,function*(){const t={countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,centerCode:e.centerCode,loginUser:this.sessionService.getLoggedEmail(),visaCategoryCode:e.visaCategoryCode,languageCode:this.sessionService.appCultureCode,applicantsCount:e.applicantsCount,days:e.days,fromDate:e.fromDate,slotType:e.slotType,toDate:e.toDate},a=o.c.URLS_FOR_SLOTS_GET_METHOD.indexOf(u.a.apiEndPoint)>-1?this.httpService.getLamdaData(o.c.api.appointmentSlots,t):this.httpService.payloadPost(o.c.api.appointmentSlots,t);return yield a.toPromise().then(e=>e).catch(e=>e)})}loadVacConfiguration(e){return Object(i.b)(this,void 0,void 0,function*(){try{return e||(e=this.sessionService.centerCode),yield this.httpService.slashParamsDoGet(`${o.c.api.configuration}/${this.sessionService.tenent}/${this.sessionService.countryCode}/${e}`).toPromise().catch(e=>e).then(e=>e)}catch(t){throw t}})}loadConfiguration(){return Object(i.b)(this,void 0,void 0,function*(){try{const e=window.location.pathname.split("/");return yield this.httpService.slashParamsDoGet(`${o.c.api.configuration}/${e[3]}/${e[1]}`).toPromise().catch(e=>e).then(e=>this.sessionService.applicationConfiguration=e)}catch(e){throw e}})}filterNationalityByName(e){return Object(i.b)(this,void 0,void 0,function*(){const t=(yield this.loadNationality()).filter(t=>t.nationalityName===e);return(null==t?void 0:t.length)>0?t[0].isoCode:""})}loadNationality(e){return Object(i.b)(this,void 0,void 0,function*(){try{let t=`${o.c.api.loadNationality}`;return e&&(t+=`?serviceType=${e}`),yield this.httpService.slashParamsDoGet(t).toPromise().catch(e=>e).then(e=>e)}catch(t){throw t}})}loadMasterTmiData(e,t){return Object(i.b)(this,void 0,void 0,function*(){try{let a=`${o.c.api.masterTMIData}/${e}/${t}/${this.sessionService.appCultureCode}`;return yield this.httpService.slashParamsDoGet(a).toPromise().catch(e=>e).then(e=>e)}catch(a){throw a}})}loadMasterData(e){return Object(i.b)(this,void 0,void 0,function*(){try{return yield this.httpService.slashParamsDoGet(e).toPromise().catch(e=>e).then(e=>e)}catch(t){throw t}})}loadEntryType(e,t,a,n){return Object(i.b)(this,void 0,void 0,function*(){try{const i=this.sessionService.eligibilityDetails,s=i&&i.centerCode?i.centerCode:e,l=i&&i.visaCategoryCode?i.visaCategoryCode:t,r=i&&i.nationalityCode?i.nationalityCode:a,c=i&&i.serviceType?i.serviceType:n;if(!r)return Object(d.a)();let u=`${o.c.api.loadEntrytype}/${this.sessionService.tenent}/${this.sessionService.countryCode}/${s}/${l}/${r}`;return c&&(u+=`/${c}`),yield this.httpService.slashParamsDoGet(u).toPromise().catch(e=>e).then(e=>e)}catch(i){throw i}})}loadSubmissionType(){return Object(i.b)(this,void 0,void 0,function*(){try{const e=`${o.c.api.loadEoiApplicationType}/${this.sessionService.tenent}/${this.sessionService.countryCode}/${this.sessionService.appCultureCode}`;return yield this.httpService.slashParamsDoGet(e).toPromise().catch(e=>e).then(e=>null==e?void 0:e.submissionTypes)}catch(e){throw e}})}loadFeeEntryType(){return Object(i.b)(this,void 0,void 0,function*(){try{const e=`${o.c.api.loadFeeEntrytype}/${this.sessionService.tenent}/${this.sessionService.countryCode}/${this.sessionService.appCultureCode}`;return yield this.httpService.slashParamsDoGet(e).toPromise().catch(e=>e).then(e=>e)}catch(e){throw e}})}loadFeeExcemptionType(){return Object(i.b)(this,void 0,void 0,function*(){try{const e=`${o.c.api.loadFeeExemptionType}/${this.sessionService.tenent}/${this.sessionService.countryCode}/${this.sessionService.appCultureCode}`;return yield this.httpService.slashParamsDoGet(e).toPromise().catch(e=>e).then(e=>e)}catch(e){throw e}})}loadFeeExcemptionDetails(e){return Object(i.b)(this,void 0,void 0,function*(){try{const t=`${o.c.api.loadFeeExemptionDetails}/${this.sessionService.tenent}/${this.sessionService.countryCode}/${e}/${this.sessionService.appCultureCode}`;return yield this.httpService.slashParamsDoGet(t).toPromise().catch(e=>e).then(e=>e)}catch(t){throw t}})}loadServiceType(){return Object(i.b)(this,void 0,void 0,function*(){try{return yield this.httpService.slashParamsDoGet(o.c.api.loadEoiServiceType).toPromise().catch(e=>e).then(e=>null==e?void 0:e.serviceTypes)}catch(e){throw e}})}autoLogout(e){return Object(i.b)(this,void 0,void 0,function*(){this.terminationNotification(e),this.timeOut=setTimeout(()=>{this.logoutAndRouteToLogin()},1e3*e)})}stopTimeOut(){return Object(i.b)(this,void 0,void 0,function*(){clearTimeout(this.notificationTimeOut),clearTimeout(this.timeOut)})}terminationNotification(e){return Object(i.b)(this,void 0,void 0,function*(){this.notificationTimeOut=setTimeout(()=>{this.dialog.open(f,{data:"terminate"})},60*(e/60-1)*1e3)})}checkIfSlotAvailiable(e){return Object(i.b)(this,void 0,void 0,function*(){try{const{centerCode:t,SubVisaCategory:a}=e,i=`${o.c.api.checkSlotavailiable}/${this.sessionService.tenent}/${this.sessionService.countryCode}/${t}/Individual/${a}`;return yield this.httpService.slashParamsDoGet(i).toPromise()}catch(t){throw t}})}loadEOIVisaType(e,t,a,n){return Object(i.b)(this,void 0,void 0,function*(){try{const i=this.sessionService.eligibilityDetails,s=i&&i.serviceType?i.serviceType:n;let l=`${o.c.api.loadEoiVisaType}/${this.sessionService.tenent}/${this.sessionService.countryCode}/${i?i.centerCode:e}/${i?i.visaCategoryCode:t}/${i?i.nationalityCode:a}`;return s&&(l+=`/${s}`),yield this.httpService.slashParamsDoGet(l).toPromise().catch(e=>e).then(e=>e)}catch(i){throw i}})}loadClientIp(){return Object(i.b)(this,void 0,void 0,function*(){try{if(this.sessionService.clientIpAddress)return this.sessionService.clientIpAddress;const e=new XMLHttpRequest;e.overrideMimeType("application/json"),e.open("GET",u.a.clientIpEndPoint,!0),e.onload=()=>{const t=JSON.parse(e.responseText);this.sessionService.clientIpAddress=(null==t?void 0:t.ip)?null==t?void 0:t.ip:null},e.send(null)}catch(e){throw e}})}loadServices(e){return Object(i.b)(this,void 0,void 0,function*(){try{return new Promise(t=>Object(i.b)(this,void 0,void 0,function*(){const a=`${o.c.api.vasByVac}/${this.sessionService.tenent}/${this.sessionService.countryCode}/${e||this.sessionService.centerCode}?languageCode=${this.sessionService.appCultureCode}`,i=yield this.httpService.slashParamsDoGet(a).toPromise().then(e=>e).catch(e=>e),n=[];[`${this.sessionService.tenent} > ${this.sessionService.countryCode} > ${this.sessionService.appLanguageCode}`,`${this.sessionService.tenent} > ${this.sessionService.appLanguageCode}`,this.sessionService.appLanguageCode].forEach(e=>{const t=Object.assign({content_type:"valueAddedService","fields.locale":e});n.push(this.contentfulService.getEnteries(t))}),Object(c.a)(n).subscribe(([e,a,o])=>{var n;const s=e,l=o;l.items=l.items.concat(a.items),l.items=l.items.concat(s.items);const r=l;let c;c=i&&(null===(n=i.data)||void 0===n?void 0:n.length)>0?i.data.map(e=>{var t,a;const i=r.items.filter(t=>t.fields.vasCode.toLowerCase()===e.code.toLowerCase());return(null===(t=null==e?void 0:e.complimentaryVAS)||void 0===t?void 0:t.length)>0&&(null===(a=null==e?void 0:e.complimentaryVAS)||void 0===a||a.map((t,a)=>{const i=r.items.filter(e=>e.fields.vasCode.toLowerCase()===t.code.toLowerCase());if((null==i?void 0:i.length)>0)return e.complimentaryVAS[a].contentful=i[(null==i?void 0:i.length)-1].fields})),e.contentful=(null==i?void 0:i.length)>0?i[(null==i?void 0:i.length)-1].fields:[],e}):[],c.forEach(e=>delete e.timeslot),t(c)})}))}catch(t){throw new Error(`${o.d.INVALID_REGISTRATION_RESPONSE}: ${t}`)}})}addMandatoryService(){return Object(i.b)(this,void 0,void 0,function*(){try{this.sessionService.updateFees=!0;const e=[],t=yield this.loadServices();if(0===t.length)return;t.forEach((a,n)=>Object(i.b)(this,void 0,void 0,function*(){var i;if(a.isMandatory){const i=yield this.modifyServiceList(a);for(let e=i.applicants.length-1;e>=0;e--)if(i.applicants[e].vasCode===o.p&&this.checkIfPrepaidCourier(i.applicants[e].courierType)){const e=i.applicants.findIndex(e=>e.vasCode===o.p&&this.checkIfPrepaidCourier(e.courierType));i.applicants.splice(e,1);const t=this.sessionService.applicantService,a=t.findIndex(e=>e.code===o.p);a>-1&&(t.splice(a,1),this.sessionService.applicantService=t)}i.applicants.length>0&&(t[n].unit=i.applicants.length,t[n].total=i.applicants.length*a.unitPrice,t[n].modifiedList=i.applicants,t[n].timeslot="isMandatory",e.push(a),this.sessionService.applicantService=e)}else{const t=this.sessionService.applicantService||[];if((null===(i=null==t?void 0:t.filter(e=>e.id===a.id))||void 0===i?void 0:i.length)>0){const i=t.filter(e=>e.id===a.id);e.push(i[0])}}})),this.sessionService.applicantService=e}catch(e){throw e}})}modifyServiceList(e){var t;try{const a=this.sessionService.applicationDetailValue?null===(t=this.sessionService.applicationDetailValue)||void 0===t?void 0:t.applicantList:[];let i;i=a&&(null==a?void 0:a.length)>0?a.map(t=>{var a,i;return{arn:t.arn,vasId:e.id.toString(),vasCode:e.code,courierType:(null===(a=null==t?void 0:t.postalList)||void 0===a?void 0:a.length)>0?null===(i=null==t?void 0:t.postalList[0])||void 0===i?void 0:i.courierType:null}}):[];const o={};return o.loginuser=this.sessionService.getLoggedEmail(),o.missioncode=this.sessionService.tenent,o.countrycode=this.sessionService.countryCode,o.urn=(null==a?void 0:a.length)>0?a[0].urn:"",o.applicants=i,o}catch(a){throw a}}checkIfPostal(e){return!this.utilityService.strictCompare(o.i.indexOf(e),-1)}removeTmiProductSelection(){const e=this.sessionService.applicantService||[],t=null==e?void 0:e.filter(e=>"TMIPS"!=e.code);this.sessionService.applicantService=t}checkIfOWA(e){return!this.utilityService.strictCompare(o.g.indexOf(e),-1)}checkIfPrepaidCourier(e){return!this.utilityService.strictCompare(o.j.indexOf(e),-1)}}return e.\u0275fac=function(t){return new(t||e)(m.dc(p.b),m.dc(h.f),m.dc(v.a),m.dc(y.a),m.dc(S.a),m.dc(g.e),m.dc(C.a),m.dc(D.b))},e.\u0275prov=m.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},rIfo:function(e,t,a){"use strict";a.d(t,"a",function(){return i});class i{constructor(){this._subs=[]}add(...e){this._subs=this._subs.concat(e)}set sink(e){this._subs.push(e)}unsubscribe(){this._subs.forEach(e=>e&&e.unsubscribe()),this._subs=[]}}},zUnb:function(e,t,a){"use strict";a.r(t);var i=a("jhN1"),o=a("fXoL"),n=a("3Pt+"),s=a("tyNb"),l=a("mrSG"),r=a("TCge"),c=a("AytR"),d=a("QvU+"),u=a("Wp6s"),m=a("ofXK"),p=a("sYmb"),b=a("kmnG"),g=a("qFsG"),f=a("bSwM"),h=a("bTqV");const v=["captchaContainer"];function y(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"div",8),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Wb(4,"div",9),o.Wb(5,"div",10),o.Wb(6,"div",11),o.Wb(7,"div",12),o.Rb(8,"i",13),o.Vb(),o.Rb(9,"div",14),o.Vb(),o.Vb(),o.Vb(),o.Tb()),2&e){const e=o.lc();o.Db(2),o.Pc(o.nc(3,2,"onBoarding.pageDetails.para6")),o.Db(7),o.tc("translate",e.resgistrationResCode)}}function S(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"div",9),o.Wb(2,"div",10),o.Wb(3,"div",11),o.Wb(4,"div",12),o.Rb(5,"i",13),o.Vb(),o.Rb(6,"div",14),o.Vb(),o.Vb(),o.Vb(),o.Tb()),2&e){const e=o.lc();o.Db(6),o.tc("translate",e.successCode)}}function C(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"div",15),o.Wb(2,"div",16),o.Wb(3,"div",11),o.Wb(4,"div",12),o.Rb(5,"i",17),o.Vb(),o.Rb(6,"div",14),o.Vb(),o.Vb(),o.Vb(),o.Tb()),2&e){const e=o.lc();o.Db(6),o.tc("translate",e.errorCode)}}function D(e,t){1&e&&(o.Wb(0,"div",37),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"commonSections.messages.requiredMessages.message1")," "))}function I(e,t){1&e&&(o.Wb(0,"div",37),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"commonSections.messages.patternMessages.message1")," "))}function V(e,t){if(1&e&&(o.Wb(0,"div",35),o.Mc(1,D,3,3,"div",36),o.Mc(2,I,3,3,"div",36),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",e.registerF.emailid.errors.required),o.Db(1),o.tc("ngIf",e.registerF.emailid.errors.pattern)}}function A(e,t){1&e&&(o.Wb(0,"div",37),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"commonSections.messages.requiredMessages.message1")," "))}function O(e,t){if(1&e&&(o.Wb(0,"div",35),o.Mc(1,A,3,3,"div",36),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",e.registerF.password.errors.required)}}function T(e,t){1&e&&(o.Wb(0,"div",37),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"onBoarding.messages.passwordpattern")," "))}function L(e,t){if(1&e&&(o.Wb(0,"div",35),o.Mc(1,T,3,3,"div",36),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",e.registerF.password.errors.pattern)}}function N(e,t){1&e&&(o.Wb(0,"div",37),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"commonSections.messages.requiredMessages.message1")," "))}function M(e,t){1&e&&(o.Wb(0,"div",37),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"commonSections.messages.misMatch.message1")," "))}function E(e,t){if(1&e&&(o.Wb(0,"div",35),o.Mc(1,N,3,3,"div",36),o.Mc(2,M,3,3,"div",36),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",e.registerF.confirmPassword.errors.required),o.Db(1),o.tc("ngIf",e.registerF.confirmPassword.errors.passwordMismatch)}}function W(e,t){1&e&&(o.Wb(0,"div",37),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"commonSections.messages.requiredMessages.message1")," "))}function P(e,t){1&e&&(o.Wb(0,"div",37),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc("",o.nc(2,1,"login.messages.errorMessages.message1")," "))}function k(e,t){1&e&&(o.Wb(0,"div",37),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"login.messages.errorMessages.message2")," "))}function w(e,t){if(1&e&&(o.Wb(0,"div",35),o.Mc(1,W,3,3,"div",36),o.Mc(2,P,3,3,"div",36),o.Mc(3,k,3,3,"div",36),o.Vb()),2&e){const e=o.lc(3);o.Db(1),o.tc("ngIf",e.registerF.dialcode.errors.required),o.Db(1),o.tc("ngIf",e.registerF.dialcode.errors.pattern),o.Db(1),o.tc("ngIf",!e.registerF.dialcode.errors.pattern&&e.registerF.dialcode.errors.maxlength)}}function F(e,t){1&e&&(o.Wb(0,"div",37),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"commonSections.messages.requiredMessages.message1")," "))}function _(e,t){1&e&&(o.Wb(0,"div",37),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"commonSections.messages.patternMessages.message31")," "))}function x(e,t){1&e&&(o.Wb(0,"div",37),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"commonSections.messages.patternMessages.message27")," "))}function G(e,t){1&e&&(o.Wb(0,"div",37),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"commonSections.messages.patternMessages.message25")," "))}function R(e,t){if(1&e&&(o.Wb(0,"div",35),o.Mc(1,F,3,3,"div",36),o.Mc(2,_,3,3,"div",36),o.Mc(3,x,3,3,"div",36),o.Mc(4,G,3,3,"div",36),o.Vb()),2&e){const e=o.lc(3);o.Db(1),o.tc("ngIf",null==e.registerF.contact||null==e.registerF.contact.errors?null:e.registerF.contact.errors.required),o.Db(1),o.tc("ngIf",null==e.registerF.contact||null==e.registerF.contact.errors?null:e.registerF.contact.errors.pattern),o.Db(1),o.tc("ngIf",null==e.registerF.contact||null==e.registerF.contact.errors?null:e.registerF.contact.errors.minlength),o.Db(1),o.tc("ngIf",null==e.registerF.contact||null==e.registerF.contact.errors?null:e.registerF.contact.errors.maxlength)}}const U=function(e){return{"form-error":e}};function B(e,t){if(1&e&&(o.Wb(0,"div",38),o.Wb(1,"div",39),o.Wb(2,"div",28),o.Wb(3,"div"),o.Oc(4),o.mc(5,"translate"),o.Wb(6,"span",20),o.Oc(7,"*"),o.Vb(),o.Vb(),o.Mc(8,w,4,3,"div",21),o.Wb(9,"mat-form-field",22),o.Rb(10,"input",40),o.Vb(),o.Vb(),o.Vb(),o.Wb(11,"div",41),o.Wb(12,"div",28),o.Wb(13,"div"),o.Rb(14,"span",20),o.Vb(),o.Mc(15,R,5,4,"div",21),o.Wb(16,"mat-form-field",22),o.Rb(17,"input",42),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e){const e=o.lc(2);o.tc("ngClass",o.xc(6,U,e.registerF.contact.touched&&e.registerF.contact.invalid||e.registerF.dialcode.touched&&e.registerF.dialcode.invalid)),o.Db(4),o.Pc(o.nc(5,4,"login.formLabel.label3")),o.Db(4),o.tc("ngIf",e.registerF.dialcode.touched&&e.registerF.dialcode.errors),o.Db(7),o.tc("ngIf",e.registerF.contact.touched&&e.registerF.contact.errors)}}function j(e,t){1&e&&(o.Wb(0,"span"),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"onBoarding.buttons.button1"),""))}function Y(e,t){1&e&&(o.Wb(0,"span"),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"commonSections.buttons.button19"),""))}function Q(e,t){if(1&e){const e=o.Xb();o.Wb(0,"form",18),o.Wb(1,"div",19),o.Wb(2,"div"),o.Oc(3),o.mc(4,"translate"),o.Wb(5,"span",20),o.Oc(6,"*"),o.Vb(),o.Vb(),o.Mc(7,V,3,2,"div",21),o.Wb(8,"mat-form-field",22),o.Rb(9,"input",23),o.Vb(),o.Vb(),o.Wb(10,"div",19),o.Wb(11,"div"),o.Oc(12),o.mc(13,"translate"),o.Wb(14,"span",20),o.Oc(15,"*"),o.Vb(),o.Vb(),o.Mc(16,O,2,1,"div",21),o.Mc(17,L,2,1,"div",21),o.Wb(18,"mat-form-field",22),o.Rb(19,"input",24),o.Wb(20,"i",25),o.hc("keypress",function(){o.Fc(e);const t=o.lc();return t.passwordToogle=!t.passwordToogle})("mouseenter",function(){return o.Fc(e),o.lc().passwordToogle=!0})("mouseleave",function(){return o.Fc(e),o.lc().passwordToogle=!1})("click",function(){return o.Fc(e),o.lc().passwordToogle=!0}),o.Vb(),o.Vb(),o.Vb(),o.Wb(21,"div",19),o.Wb(22,"div"),o.Oc(23),o.mc(24,"translate"),o.Wb(25,"span",20),o.Oc(26,"*"),o.Vb(),o.Vb(),o.Mc(27,E,3,2,"div",21),o.Wb(28,"mat-form-field",22),o.Rb(29,"input",26),o.Wb(30,"i",25),o.hc("keypress",function(){o.Fc(e);const t=o.lc();return t.confirmPasswordToggle=!t.confirmPasswordToggle})("mouseenter",function(){return o.Fc(e),o.lc().confirmPasswordToggle=!0})("mouseleave",function(){return o.Fc(e),o.lc().confirmPasswordToggle=!1})("click",function(){return o.Fc(e),o.lc().confirmPasswordToggle=!0}),o.Vb(),o.Vb(),o.Vb(),o.Mc(31,B,18,8,"div",27),o.Wb(32,"div",28),o.Wb(33,"mat-checkbox",29),o.Wb(34,"span",30),o.Oc(35),o.mc(36,"translate"),o.Wb(37,"a",31),o.Oc(38),o.mc(39,"translate"),o.Vb(),o.Oc(40),o.mc(41,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(42,"button",32),o.hc("click",function(){return o.Fc(e),o.lc().registerUser()}),o.Mc(43,j,3,3,"span",6),o.Mc(44,Y,3,3,"span",6),o.Vb(),o.Wb(45,"div",33),o.Wb(46,"span"),o.Oc(47),o.mc(48,"translate"),o.Vb(),o.Wb(49,"a",34),o.hc("click",function(){o.Fc(e);const t=o.lc();return t.route(t.constants.routes.LOGIN)}),o.Oc(50),o.mc(51,"translate"),o.Vb(),o.Wb(52,"span"),o.Oc(53),o.mc(54,"translate"),o.Vb(),o.Vb(),o.Vb()}if(2&e){const e=o.lc();o.tc("formGroup",e.registerForm),o.Db(1),o.tc("ngClass",o.xc(44,U,e.registerF.emailid.touched&&e.registerF.emailid.invalid)),o.Db(2),o.Pc(o.nc(4,26,"onBoarding.formLabel.label1")),o.Db(4),o.tc("ngIf",e.registerF.emailid.touched&&e.registerF.emailid.errors),o.Db(3),o.tc("ngClass",o.xc(46,U,e.registerF.password.touched&&e.registerF.password.invalid)),o.Db(2),o.Pc(o.nc(13,28,"onBoarding.formLabel.label7")),o.Db(4),o.tc("ngIf",e.registerF.password.touched&&e.registerF.password.errors),o.Db(1),o.tc("ngIf",e.registerF.password.touched&&e.registerF.password.errors),o.Db(2),o.tc("type",e.passwordToogle?"text":"password"),o.Db(1),o.tc("ngClass",e.passwordToogle?"fa fa-eye-slash":"fa fa-eye"),o.Db(1),o.tc("ngClass",o.xc(48,U,e.registerF.confirmPassword.touched&&e.registerF.confirmPassword.invalid)),o.Db(2),o.Pc(o.nc(24,30,"onBoarding.formLabel.label8")),o.Db(4),o.tc("ngIf",e.registerF.confirmPassword.touched&&e.registerF.confirmPassword.errors),o.Db(2),o.tc("type",e.confirmPasswordToggle?"text":"password"),o.Db(1),o.tc("ngClass",e.confirmPasswordToggle?"fa fa-eye-slash":"fa fa-eye"),o.Db(1),o.tc("ngIf",e.isMobileNumberRequired&&!e.otpView),o.Db(4),o.Qc(" ",o.nc(36,32,"onBoarding.pageDetails.para7"),""),o.Db(2),o.tc("href",e.privacyPolicy,o.Hc),o.Db(1),o.Pc(o.nc(39,34,"onBoarding.pageDetails.para8")),o.Db(2),o.Qc(". ",o.nc(41,36,"onBoarding.pageDetails.para9")," "),o.Db(2),o.tc("disabled",e.registerForm.invalid),o.Db(1),o.tc("ngIf",!e.isMobileNumberRequired),o.Db(1),o.tc("ngIf",e.isMobileNumberRequired),o.Db(3),o.Pc(o.nc(48,38,"onBoarding.pageDetails.para3")),o.Db(3),o.Pc(o.nc(51,40,"login.buttons.button7")),o.Db(3),o.Pc(o.nc(54,42,"onBoarding.pageDetails.para5"))}}function q(e,t){1&e&&(o.Wb(0,"div",37),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"commonSections.messages.requiredMessages.message1")," "))}function H(e,t){if(1&e&&(o.Wb(0,"div",35),o.Mc(1,q,3,3,"div",36),o.Vb()),2&e){const e=o.lc(3);o.Db(1),o.tc("ngIf",null==e.registerF?null:e.registerF.otp.errors.required)}}function K(e,t){1&e&&(o.Wb(0,"div",37),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Pc(o.nc(2,1,"login.messages.errorMessages.message4")))}function z(e,t){if(1&e&&(o.Wb(0,"div",35),o.Mc(1,K,3,3,"div",36),o.Vb()),2&e){const e=o.lc(3);o.Db(1),o.tc("ngIf",null==e.registerF?null:e.registerF.otp.errors.pattern)}}function Z(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div",19),o.Wb(1,"div"),o.Oc(2),o.mc(3,"translate"),o.Wb(4,"span",20),o.Oc(5,"*"),o.Vb(),o.Vb(),o.Mc(6,H,2,1,"div",21),o.Mc(7,z,2,1,"div",21),o.Wb(8,"mat-form-field",45),o.Rb(9,"input",46),o.Wb(10,"i",25),o.hc("keypress",function(){o.Fc(e);const t=o.lc(2);return t.passwordToogle=!t.passwordToogle})("mouseenter",function(){return o.Fc(e),o.lc(2).passwordToogle=!0})("mouseleave",function(){return o.Fc(e),o.lc(2).passwordToogle=!1})("click",function(){return o.Fc(e),o.lc(2).passwordToogle=!0}),o.Vb(),o.Vb(),o.Wb(11,"span",47),o.hc("click",function(){return o.Fc(e),o.lc(2).generateOtp()}),o.Oc(12),o.mc(13,"translate"),o.Vb(),o.Vb()}if(2&e){const e=o.lc(2);o.tc("ngClass",o.xc(11,U,(null==e.registerF||null==e.registerF.otp?null:e.registerF.otp.touched)&&(null==e.registerF?null:e.registerF.otp.invalid))),o.Db(2),o.Pc(o.nc(3,7,"login.messages.errorMessages.message3")),o.Db(4),o.tc("ngIf",(null==e.registerF||null==e.registerF.otp?null:e.registerF.otp.touched)&&(null==e.registerF?null:e.registerF.otp.errors)),o.Db(1),o.tc("ngIf",(null==e.registerF?null:e.registerF.otp.touched)&&(null==e.registerF?null:e.registerF.otp.errors)),o.Db(2),o.tc("type",e.passwordToogle?"text":"password"),o.Db(1),o.tc("ngClass",e.passwordToogle?"fa fa-eye-slash":"fa fa-eye"),o.Db(2),o.Pc(o.nc(13,9,"applicantInformation.formLabel.label22"))}}function J(e,t){if(1&e){const e=o.Xb();o.Wb(0,"form",18),o.Wb(1,"div",43),o.Wb(2,"span"),o.Oc(3),o.mc(4,"translate"),o.Vb(),o.Wb(5,"a",34),o.hc("click",function(){return o.Fc(e),o.lc().switchView()}),o.Oc(6),o.mc(7,"translate"),o.Vb(),o.Vb(),o.Mc(8,Z,14,13,"div",44),o.Wb(9,"button",32),o.hc("click",function(){return o.Fc(e),o.lc().registerUser()}),o.Oc(10),o.mc(11,"translate"),o.Vb(),o.Wb(12,"div",33),o.Wb(13,"span"),o.Oc(14),o.mc(15,"translate"),o.Vb(),o.Wb(16,"a",34),o.hc("click",function(){o.Fc(e);const t=o.lc();return t.route(t.constants.routes.LOGIN)}),o.Oc(17),o.mc(18,"translate"),o.Vb(),o.Wb(19,"span"),o.Oc(20),o.mc(21,"translate"),o.Vb(),o.Vb(),o.Vb()}if(2&e){const e=o.lc();o.tc("formGroup",e.registerForm),o.Db(3),o.Pc(o.nc(4,9,"onBoarding.messages.infoMessages.message1")),o.Db(3),o.Qc(" ",o.nc(7,11,"login.buttons.button7"),""),o.Db(2),o.tc("ngIf",e.otpView),o.Db(1),o.tc("disabled",e.registerForm.invalid),o.Db(1),o.Qc(" ",o.nc(11,13,"onBoarding.buttons.button1")," "),o.Db(4),o.Pc(o.nc(15,15,"onBoarding.pageDetails.para3")),o.Db(3),o.Pc(o.nc(18,17,"onBoarding.pageDetails.para4")),o.Db(3),o.Pc(o.nc(21,19,"onBoarding.pageDetails.para5"))}}const X=["captcha_version","captcha_api_key"];let ee=(()=>{class e extends d.a{constructor(e){super(),this.formBuilder=e,this.constants=r.c,this.resgistrationResCode=null,this.errorCode=null,this.successCode=null,this.passwordToogle=!1,this.confirmPasswordToggle=!1,this.allowedCaptcha=!1,this.submitAttempt=!1,this.otpView=!1,this.currentCaptcha=this.captchaVersionConst.default}ngOnInit(){var e;(null===(e=this.sessionService)||void 0===e?void 0:e.applicationConfiguration)||this.commonService.loadConfiguration(),this.initRegisterForm(),this.isMobileNumberRequired&&this.addMobileNumberField()}checkCaptchaAllowed(){this.subs.sink=this.dataShareService.captchaAllowedRoutes.subscribe(e=>Object(l.b)(this,void 0,void 0,function*(){e?(this.allowedCaptcha=e.indexOf(r.q.ON_BOARDING)>-1,this.allowedCaptcha&&(X.forEach(e=>{this.registerForm.addControl(e,new n.f("",n.x.required))}),setTimeout(()=>Object(l.b)(this,void 0,void 0,function*(){const e=yield this.captchaContainer.generateToken();this.utilityService.patchCaptchaValue(this.registerForm,e,this.captchaVersionConst.default)}),1e3))):this.allowedCaptcha=!1}))}addMobileNumberField(){this.registerForm.addControl("dialcode",new n.f(null,[n.x.pattern("^[0-9]+$"),n.x.maxLength(3),n.x.required])),this.registerForm.addControl("contact",new n.f(null,[n.x.pattern("^[0-9]+$"),n.x.maxLength(15),n.x.minLength(7),n.x.required]))}get privacyPolicy(){return this.utilityService.externalUrlAppend("register-privacy-policy")}initRegisterForm(){this.registerForm=this.formBuilder.group({emailid:["",[n.x.pattern(r.s.email_caps_allowed),n.x.required]],password:["",[n.x.pattern(r.z),n.x.required]],confirmPassword:["",n.x.required],instructionAgreed:["",n.x.requiredTrue],missioncode:[this.sessionService.tenent],countrycode:[this.sessionService.countryCode],url:[`${c.a.activateLink}${this.sessionService.countryCode}/${this.sessionService.appLanguageCode}/${this.sessionService.tenent}/activateemail?q=`]},{validator:this.utilityService.MatchPassword("password","confirmPassword")})}get registerF(){return this.registerForm.controls}submitV2Captcha(e){this.utilityService.patchCaptchaValue(this.registerForm,e,this.captchaVersionConst.alternate)}switchView(){return Object(l.b)(this,void 0,void 0,function*(){this.otpView=!1,this.registerForm.removeControl("otp")})}get isMobileNumberRequired(){var e,t;const a=null===(e=this.sessionService)||void 0===e?void 0:e.applicationConfiguration;return!(null==a?void 0:a.enableOTPLoginRegistration)||this.otpView||(null===(t=this.registerForm)||void 0===t?void 0:t.contains("dialcode"))||this.addMobileNumberField(),null==a?void 0:a.enableOTPLoginRegistration}registerUser(){return Object(l.b)(this,void 0,void 0,function*(){try{if(this.submitAttempt=!0,this.registerForm.invalid)return;if(this.isMobileNumberRequired&&!this.otpView)return void(yield this.generateOtp());const e=this.registerForm.value;e.cultureCode=this.sessionService.appCultureCode;const t=yield this.httpService.payloadWithoutTokenPost(r.c.api.registration,e).toPromise().then(e=>e).catch(e=>e),a="onBoarding.messages.status.";if("200"===t.code||"203"===t.code)this.registerForm.reset(),this.resgistrationResCode=a+t.code;else{if("415"===t.error.code||"414"===t.error.code||"416"===t.error.code)throw this.resgistrationResCode=a+t.error.code,t;if("422"!==t.error.code&&"423"!==t.error.code&&"424"!==t.error.code&&"999"!==t.error.code)throw t;this.errorCode=a+t.error.code,setTimeout(()=>{this.errorCode=null},5e3)}}catch(e){if(!this.allowedCaptcha)return;this.allowedCaptcha&&this.sessionService.captchaMode===this.captchaVersionConst.alternate&&(this.currentCaptcha=this.captchaVersionConst.alternate,this.utilityService.formcontrolReset(this.registerForm,X),this.utilityService.resetCaptcha())}})}generateOtp(){var e,t,a,i;return Object(l.b)(this,void 0,void 0,function*(){try{if(!(null===(e=this.registerForm.get("contact"))||void 0===e?void 0:e.valid)||!(null===(t=this.registerForm.get("dialcode"))||void 0===t?void 0:t.valid))return;{const e={missioncode:this.sessionService.tenent,countrycode:this.sessionService.countryCode,contactNo:null===(a=this.registerForm.get("contact"))||void 0===a?void 0:a.value,dialCode:null===(i=this.registerForm.get("dialcode"))||void 0===i?void 0:i.value,action:"Register"},t=yield this.httpService.basicPayload(r.c.api.generateOtp,e,"gotp").toPromise().catch(e=>e).then(e=>e),o="onBoarding.messages.status.";(null==t?void 0:t.isOTPSend)?(this.successCode=o+"201",setTimeout(()=>{this.successCode=null},4e3),this.registerForm.addControl("otp",new n.f(null,[n.x.pattern("^[0-9]+$"),n.x.required])),this.otpView=!0):"421"!==t.error.code&&"416"!==t.error.code&&"424"!==t.error.code||(this.errorCode=o+t.error.code,setTimeout(()=>{this.errorCode=null},5e3))}}catch(o){console.log(o)}})}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(n.e))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-on-boarding"]],viewQuery:function(e,t){if(1&e&&o.Uc(v,1),2&e){let e;o.Ac(e=o.ic())&&(t.captchaContainer=e.first)}},features:[o.Ab],decls:15,vars:11,consts:[[1,"container","py-15","py-md-30"],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-9","col-lg-7","col-xl-6"],[1,"form-card","px-md-50","py-md-40"],[1,"fs-21","fs-sm-24","mb-10"],[1,"c-brand-grey-para","fs-sm-18","mb-25"],[4,"ngIf"],[3,"formGroup",4,"ngIf"],[1,"mb-15","fs-24"],[1,"border-success",2,"border-left","5px solid"],[1,"alert","alert-success","border-0","rounded-0","py-20"],[1,"row","no-gutters","align-items-center"],[1,"col-auto","ml-n5","pr-15"],[1,"fa","fa-check-circle-o","fs-24","mb-0"],[1,"col",3,"translate"],[1,"alert-danger",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-20"],[1,"fa","fa-times-circle","fs-24","mb-0"],[3,"formGroup"],[1,"form-group",3,"ngClass"],[1,"c-brand-error"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["placeholder","jane.doe@email.com","matInput","","formControlName","emailid","type","text","autocomplete","off"],["matInput","","formControlName","password","placeholder","**********","autocomplete","off",3,"type"],["tabindex","0",1,"cursor-pointer","icon-toggle","position-absolute","right-0",3,"ngClass","keypress","mouseenter","mouseleave","click"],["matInput","","formControlName","confirmPassword","placeholder","**********","autocomplete","off",3,"type"],["class","row align-items-end",3,"ngClass",4,"ngIf"],[1,"form-group"],["formControlName","instructionAgreed",1,"mat-checkbox-brand","mr-5"],[1,"text-wrap"],["target","_blank",1,"c-brand-orange","text-decoration-underline",3,"href"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],[1,"fs-sm-18","mt-20"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer","mx-5",3,"click"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[1,"row","align-items-end",3,"ngClass"],[1,"col-12","col-sm-4","col-lg-4","pr-sm-1"],["placeholder","44","matInput","","formControlName","dialcode","type","text","autocomplete","off"],[1,"col-12","col-sm-8"],["placeholder","1234567890","matInput","","formControlName","contact","type","text","autocomplete","off"],[1,"c-brand-grey-para","fs-sm-16","mb-20"],["class","form-group",3,"ngClass",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand","mb-10"],["matInput","","formControlName","otp","placeholder","**********","autocomplete","off",3,"type"],[1,"c-brand-grey-para","text-decoration-underline",2,"cursor","pointer",3,"click"]],template:function(e,t){1&e&&(o.Wb(0,"section",0),o.Wb(1,"div",1),o.Wb(2,"div",2),o.Wb(3,"mat-card",3),o.Wb(4,"h1",4),o.Oc(5),o.mc(6,"translate"),o.Vb(),o.Wb(7,"p",5),o.Oc(8),o.mc(9,"translate"),o.Vb(),o.Mc(10,y,10,4,"ng-container",6),o.Mc(11,S,7,1,"ng-container",6),o.Mc(12,C,7,1,"ng-container",6),o.Mc(13,Q,55,50,"form",7),o.Mc(14,J,22,21,"form",7),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e&&(o.Db(5),o.Pc(o.nc(6,7,"onBoarding.headerLabel.label1")),o.Db(3),o.Pc(o.nc(9,9,"onBoarding.pageDetails.para1")),o.Db(2),o.tc("ngIf",t.resgistrationResCode),o.Db(1),o.tc("ngIf",t.otpView&&t.successCode),o.Db(1),o.tc("ngIf",t.errorCode),o.Db(1),o.tc("ngIf",!t.resgistrationResCode&&!t.otpView),o.Db(1),o.tc("ngIf",!t.resgistrationResCode&&t.otpView))},directives:[u.a,m.o,p.a,n.y,n.r,n.j,m.m,b.b,g.b,n.d,n.q,n.h,f.a,h.a],pipes:[p.d],encapsulation:2}),e})();var te=a("3N+h"),ae=a("cT3p"),ie=a("IXuf");let oe=(()=>{class e{constructor(e,t,a){this.httpServiceHandler=e,this.sessionService=t,this.contentFulService=a}getApplicationSchema(){return Object(l.b)(this,void 0,void 0,function*(){return c.a.localschema?this.httpServiceHandler.doGet(r.c.schema.postLogin).toPromise():(yield this.contentFulService.getMockSchema())&&this.sessionService.getFullApplicationSchema()?this.sessionService.getFullApplicationSchema():this.httpServiceHandler.doGet(r.c.schema.postLogin).toPromise()})}}return e.\u0275fac=function(t){return new(t||e)(o.dc(te.a),o.dc(ae.a),o.dc(ie.a))},e.\u0275prov=o.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var ne=a("QibW"),se=a("XjvO");let le=(()=>{class e{constructor(e,t,a){this.elementRef=e,this.ngZone=t,this.dom=a,this.recaptchaSuccess=new o.n,this.recaptchaExpired=new o.n,this.recaptchaError=new o.n,this.scriptId="volt-recaptcha"}ngOnInit(){this.registerCaptchaCallback(),this.addScript()}ngOnDestroy(){this.widgetId=null}registerCaptchaCallback(){window.recaptchaCallback=()=>{const e={sitekey:c.a.V2_CaptchaKey,callback:this.onSuccessCallback.bind(this),"error-callback":this.onErrorCallback.bind(this),"expired-callback":this.onExpiredCallback.bind(this)};this.widgetId=this.renderCaptcha(e)}}addScript(){if(null!=this.dom.getElementById(this.scriptId))return;const e=this.dom.createElement("script");e.src="https://www.recaptcha.net/recaptcha/api.js?onload=recaptchaCallback&render=explicit",e.id=this.scriptId,e.async=!0,e.defer=!0,this.dom.body.appendChild(e)}onSuccessCallback(e){this.ngZone.run(()=>{this.recaptchaSuccess.emit(e)})}onErrorCallback(){this.ngZone.run(()=>{this.recaptchaError.emit()})}onExpiredCallback(){this.ngZone.run(()=>{this.recaptchaExpired.emit()})}renderCaptcha(e){return window.grecaptcha.render(this.elementRef.nativeElement,e)}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(o.l),o.Qb(o.A),o.Qb(m.d))},e.\u0275dir=o.Lb({type:e,selectors:[["","appRecaptcha",""]],outputs:{recaptchaSuccess:"recaptchaSuccess",recaptchaExpired:"recaptchaExpired",recaptchaError:"recaptchaError"}}),e})();function re(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Wb(1,"div",1),o.hc("recaptchaSuccess",function(t){return o.Fc(e),o.lc().onRecaptchaSuccess(t)}),o.Vb(),o.Tb()}}let ce=(()=>{class e{constructor(e){this.utilityService=e,this.v2CaptchaSet=new o.n,this.captchaType="v3"}generateToken(){return Object(l.b)(this,void 0,void 0,function*(){if(this.captchaToken="","v3"===this.captchaType)return new Promise((e,t)=>{this.utilityService.executeCapctha(this.action).then(t=>{e(t),this.captchaToken=t})});this.utilityService.resetCaptcha()})}onRecaptchaSuccess(e){this.captchaToken=e,this.v2CaptchaSet.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(se.a))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-captcha-container"]],inputs:{captchaType:"captchaType",action:"action"},outputs:{v2CaptchaSet:"v2CaptchaSet"},decls:1,vars:1,consts:[[4,"ngIf"],["appRecaptcha","",1,"my-10",3,"recaptchaSuccess"]],template:function(e,t){1&e&&o.Mc(0,re,2,0,"ng-container",0),2&e&&o.tc("ngIf","v2"===t.captchaType)},directives:[m.o,le],encapsulation:2}),e})();const de=["captchaContainer"];function ue(e,t){1&e&&(o.Wb(0,"p",14),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Pc(o.nc(2,1,"login.pageDetails.para1")))}function me(e,t){1&e&&(o.Wb(0,"p",14),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Pc(o.nc(2,1,"login.pageDetails.para5")))}function pe(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"div",15),o.Wb(2,"div",16),o.Rb(3,"i",17),o.Wb(4,"div"),o.Oc(5),o.Vb(),o.Vb(),o.Vb(),o.Tb()),2&e){const e=o.lc();o.Db(5),o.Pc(e.actiateMailMessage)}}function be(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"div",18),o.Wb(2,"div",19),o.Wb(3,"div",20),o.Wb(4,"div",21),o.Rb(5,"i",22),o.Vb(),o.Rb(6,"div",23),o.Vb(),o.Vb(),o.Vb(),o.Tb()),2&e){const e=o.lc();o.Db(6),o.tc("translate",e.successCode)}}function ge(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"div",24),o.Wb(2,"div",25),o.Wb(3,"div",20),o.Wb(4,"div",21),o.Rb(5,"i",26),o.Vb(),o.Rb(6,"div",23),o.Vb(),o.Vb(),o.Vb(),o.Tb()),2&e){const e=o.lc();o.Db(6),o.tc("translate",e.errorCode)}}function fe(e,t){if(1&e){const e=o.Xb();o.Wb(0,"mat-radio-group",27),o.hc("ngModelChange",function(t){return o.Fc(e),o.lc().slotType=t})("change",function(t){return o.Fc(e),o.lc().radioChange(t)}),o.Wb(1,"div",28),o.Wb(2,"mat-radio-button",29),o.Oc(3),o.mc(4,"translate"),o.Vb(),o.Vb(),o.Wb(5,"div",28),o.Wb(6,"mat-radio-button",29),o.Oc(7),o.mc(8,"translate"),o.Vb(),o.Vb(),o.Vb()}if(2&e){const e=o.lc();o.tc("ngModel",e.slotType),o.Db(2),o.tc("value",0),o.Db(1),o.Pc(o.nc(4,5,"login.formLabel.label1")),o.Db(3),o.tc("value",1),o.Db(1),o.Pc(o.nc(8,7,"login.formLabel.label3"))}}function he(e,t){1&e&&(o.Wb(0,"div",40),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"commonSections.messages.requiredMessages.message1")," "))}function ve(e,t){1&e&&(o.Wb(0,"div",40),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"commonSections.messages.patternMessages.message1")," "))}function ye(e,t){if(1&e&&(o.Wb(0,"div",38),o.Mc(1,he,3,3,"div",39),o.Mc(2,ve,3,3,"div",39),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",e.loginF.username.errors.required),o.Db(1),o.tc("ngIf",e.loginF.username.errors.pattern)}}function Se(e,t){1&e&&(o.Wb(0,"div",40),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"commonSections.messages.requiredMessages.message1")," "))}function Ce(e,t){if(1&e&&(o.Wb(0,"div",38),o.Mc(1,Se,3,3,"div",39),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",e.loginF.password.errors.required)}}function De(e,t){1&e&&(o.Wb(0,"div",38),o.Wb(1,"div",40),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()),2&e&&(o.Db(2),o.Qc(" ",o.nc(3,1,"commonSections.messages.requiredMessages.message1")," "))}function Ie(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Wb(1,"app-captcha-container",41,42),o.hc("v2CaptchaSet",function(t){return o.Fc(e),o.lc(2).submitV2Captcha(t)}),o.Vb(),o.Mc(3,De,4,3,"div",32),o.Tb()}if(2&e){const e=o.lc(2);o.Db(1),o.tc("action",e.constants.captcha_action.LOGIN)("captchaType",e.currentCaptcha),o.Db(2),o.tc("ngIf",(null==e.loginF.captcha_api_key||null==e.loginF.captcha_api_key.errors?null:e.loginF.captcha_api_key.errors.required)&&e.loginSubmit)}}const Ve=function(e){return{"form-error":e}};function Ae(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Wb(1,"div",30),o.Wb(2,"div"),o.Oc(3),o.mc(4,"translate"),o.Wb(5,"span",31),o.Oc(6,"*"),o.Vb(),o.Vb(),o.Mc(7,ye,3,2,"div",32),o.Wb(8,"mat-form-field",33),o.Rb(9,"input",34),o.Vb(),o.Vb(),o.Wb(10,"div",30),o.Wb(11,"div"),o.Oc(12),o.mc(13,"translate"),o.Wb(14,"span",31),o.Oc(15,"*"),o.Vb(),o.Vb(),o.Mc(16,Ce,2,1,"div",32),o.Wb(17,"mat-form-field",33),o.Rb(18,"input",35),o.Wb(19,"i",36),o.hc("keypress",function(){o.Fc(e);const t=o.lc();return t.passwordToogle=!t.passwordToogle})("mouseenter",function(){return o.Fc(e),o.lc().passwordToogle=!0})("mouseleave",function(){return o.Fc(e),o.lc().passwordToogle=!1})("click",function(){return o.Fc(e),o.lc().passwordToogle=!0}),o.Vb(),o.Vb(),o.Vb(),o.Mc(20,Ie,4,3,"ng-container",6),o.Wb(21,"button",37),o.hc("click",function(){return o.Fc(e),o.lc().submitLogin()}),o.Oc(22),o.mc(23,"translate"),o.Vb(),o.Tb()}if(2&e){const e=o.lc();o.Db(1),o.tc("ngClass",o.xc(16,Ve,e.loginF.username.touched&&e.loginF.username.invalid)),o.Db(2),o.Pc(o.nc(4,10,"login.formLabel.label1")),o.Db(4),o.tc("ngIf",e.loginF.username.touched&&e.loginF.username.errors),o.Db(3),o.tc("ngClass",o.xc(18,Ve,e.loginF.password.touched&&e.loginF.password.invalid)),o.Db(2),o.Pc(o.nc(13,12,"login.formLabel.label2")),o.Db(4),o.tc("ngIf",e.loginF.password.touched&&e.loginF.password.errors),o.Db(2),o.tc("type",e.passwordToogle?"text":"password"),o.Db(1),o.tc("ngClass",e.passwordToogle?"fa fa-eye-slash":"fa fa-eye"),o.Db(1),o.tc("ngIf",e.allowedCaptcha&&e.isPtFlow),o.Db(2),o.Qc(" ",o.nc(23,14,"login.buttons.button8")," ")}}function Oe(e,t){1&e&&(o.Wb(0,"div",40),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"commonSections.messages.requiredMessages.message1")," "))}function Te(e,t){1&e&&(o.Wb(0,"div",40),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Pc(o.nc(2,1,"login.messages.errorMessages.message1")))}function Le(e,t){1&e&&(o.Wb(0,"div",40),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"login.messages.errorMessages.message2")," "))}function Ne(e,t){if(1&e&&(o.Wb(0,"div",38),o.Mc(1,Oe,3,3,"div",39),o.Mc(2,Te,3,3,"div",39),o.Mc(3,Le,3,3,"div",39),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",e.loginF.dailcode.errors.required),o.Db(1),o.tc("ngIf",e.loginF.dailcode.errors.pattern),o.Db(1),o.tc("ngIf",!e.loginF.dailcode.errors.pattern&&e.loginF.dailcode.errors.maxlength)}}function Me(e,t){1&e&&(o.Wb(0,"div",40),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"commonSections.messages.requiredMessages.message1")," "))}function Ee(e,t){1&e&&(o.Wb(0,"div",40),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"commonSections.messages.patternMessages.message31")," "))}function We(e,t){1&e&&(o.Wb(0,"div",40),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"commonSections.messages.patternMessages.message27")," "))}function Pe(e,t){1&e&&(o.Wb(0,"div",40),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"commonSections.messages.patternMessages.message25")," "))}function ke(e,t){if(1&e&&(o.Wb(0,"div",38),o.Mc(1,Me,3,3,"div",39),o.Mc(2,Ee,3,3,"div",39),o.Mc(3,We,3,3,"div",39),o.Mc(4,Pe,3,3,"div",39),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",null==e.loginF.contact||null==e.loginF.contact.errors?null:e.loginF.contact.errors.required),o.Db(1),o.tc("ngIf",null==e.loginF.contact||null==e.loginF.contact.errors?null:e.loginF.contact.errors.pattern),o.Db(1),o.tc("ngIf",null==e.loginF.contact||null==e.loginF.contact.errors?null:e.loginF.contact.errors.minlength),o.Db(1),o.tc("ngIf",null==e.loginF.contact||null==e.loginF.contact.errors?null:e.loginF.contact.errors.maxlength)}}function we(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Wb(1,"div",43),o.Wb(2,"div",44),o.Wb(3,"div",45),o.Wb(4,"div"),o.Oc(5,"Mobile Number"),o.Wb(6,"span",31),o.Oc(7,"*"),o.Vb(),o.Vb(),o.Mc(8,Ne,4,3,"div",32),o.Wb(9,"mat-form-field",33),o.Rb(10,"input",46),o.Vb(),o.Vb(),o.Vb(),o.Wb(11,"div",47),o.Wb(12,"div",45),o.Wb(13,"div"),o.Rb(14,"span",31),o.Vb(),o.Mc(15,ke,5,4,"div",32),o.Wb(16,"mat-form-field",33),o.Rb(17,"input",48),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(18,"button",49),o.hc("click",function(){return o.Fc(e),o.lc().generateOtp()}),o.Oc(19),o.mc(20,"translate"),o.Vb(),o.Tb()}if(2&e){const e=o.lc();o.Db(1),o.tc("ngClass",o.xc(6,Ve,e.loginF.contact.touched&&e.loginF.contact.invalid||e.loginF.dailcode.touched&&e.loginF.dailcode.invalid)),o.Db(7),o.tc("ngIf",e.loginF.dailcode.touched&&e.loginF.dailcode.errors),o.Db(7),o.tc("ngIf",e.loginF.contact.touched&&e.loginF.contact.errors),o.Db(4),o.Qc(" ",o.nc(20,4,"commonSections.buttons.button19")," ")}}function Fe(e,t){1&e&&(o.Wb(0,"div",40),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"commonSections.messages.requiredMessages.message1")," "))}function _e(e,t){if(1&e&&(o.Wb(0,"div",38),o.Mc(1,Fe,3,3,"div",39),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",null==e.loginF?null:e.loginF.otp.errors.required)}}function xe(e,t){1&e&&(o.Wb(0,"div",40),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Pc(o.nc(2,1,"login.messages.errorMessages.message4")))}function Ge(e,t){if(1&e&&(o.Wb(0,"div",38),o.Mc(1,xe,3,3,"div",39),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",null==e.loginF?null:e.loginF.otp.errors.pattern)}}function Re(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Wb(1,"div",50),o.Wb(2,"span"),o.Oc(3),o.mc(4,"translate"),o.Vb(),o.Vb(),o.Wb(5,"div",30),o.Wb(6,"div"),o.Oc(7),o.mc(8,"translate"),o.Wb(9,"span",31),o.Oc(10,"*"),o.Vb(),o.Vb(),o.Mc(11,_e,2,1,"div",32),o.Mc(12,Ge,2,1,"div",32),o.Wb(13,"mat-form-field",51),o.Rb(14,"input",52),o.Wb(15,"i",36),o.hc("keypress",function(){o.Fc(e);const t=o.lc();return t.passwordToogle=!t.passwordToogle})("mouseenter",function(){return o.Fc(e),o.lc().passwordToogle=!0})("mouseleave",function(){return o.Fc(e),o.lc().passwordToogle=!1})("click",function(){return o.Fc(e),o.lc().passwordToogle=!0}),o.Vb(),o.Vb(),o.Wb(16,"span",53),o.hc("click",function(){return o.Fc(e),o.lc().generateOtp()}),o.Oc(17),o.mc(18,"translate"),o.Vb(),o.Vb(),o.Wb(19,"button",54),o.hc("click",function(){return o.Fc(e),o.lc().submitLogin()}),o.Oc(20),o.mc(21,"translate"),o.Vb(),o.Tb()}if(2&e){const e=o.lc();o.Db(3),o.Pc(o.nc(4,10,"login.messages.infoMessages.message1")),o.Db(2),o.tc("ngClass",o.xc(18,Ve,(null==e.loginF||null==e.loginF.otp?null:e.loginF.otp.touched)&&(null==e.loginF?null:e.loginF.otp.invalid))),o.Db(2),o.Pc(o.nc(8,12,"login.messages.errorMessages.message3")),o.Db(4),o.tc("ngIf",(null==e.loginF||null==e.loginF.otp?null:e.loginF.otp.touched)&&(null==e.loginF?null:e.loginF.otp.errors)),o.Db(1),o.tc("ngIf",(null==e.loginF?null:e.loginF.otp.touched)&&(null==e.loginF?null:e.loginF.otp.errors)),o.Db(2),o.tc("type",e.passwordToogle?"text":"password"),o.Db(1),o.tc("ngClass",e.passwordToogle?"fa fa-eye-slash":"fa fa-eye"),o.Db(2),o.Pc(o.nc(18,14,"applicantInformation.formLabel.label22")),o.Db(2),o.tc("disabled",e.loginForm.invalid),o.Db(1),o.Qc(" ",o.nc(21,16,"login.buttons.button8")," ")}}function Ue(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div",11),o.Wb(1,"a",12),o.hc("click",function(){o.Fc(e);const t=o.lc();return t.route(t.constants.routes.FORGOT_PASSWORD)}),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()}2&e&&(o.Db(2),o.Pc(o.nc(3,1,"login.buttons.button5")))}const Be=["captcha_version","captcha_api_key"];let je=(()=>{class e extends d.a{constructor(e,t){super(),this.formBuilder=e,this.baseService=t,this.constants=r.c,this.loginSubmit=!1,this.passwordToogle=!1,this.errorCode=null,this.successCode=null,this.actiateMailMessage=null,this.allowedCaptcha=!1,this.slotType=0,this.otpScreen=!1,this.agreeToTermsAndCondition=!1,this.currentCaptcha=this.captchaVersionConst.alternate}ngOnInit(){this.commonService.loadConfiguration(),this.utilityService.fireCustomEvent({dl_category:"Authenticate",dl_action:"Authentication page is loaded",dl_label:void 0,value:void 0});try{this.actiateMailMessage=this.sessionService.activateMessage||"",setTimeout(()=>{this.sessionService.clearActivateMessage(),this.actiateMailMessage=null},5e3),this.initLoginForm(),this.checkCaptchaAllowed()}catch(e){console.log(e)}}radioChange(e){0===e.value&&(this.loginForm.contains("username")||this.loginForm.addControl("username",new n.f(null,[n.x.pattern(r.s.email_caps_allowed),n.x.required])),this.loginForm.contains("password")||this.loginForm.addControl("password",new n.f(null,[n.x.required])),this.loginForm.removeControl("dailcode"),this.loginForm.removeControl("contact"),this.loginForm.removeControl("otp")),1===e.value&&(this.loginForm.removeControl("username"),this.loginForm.removeControl("password"),this.loginForm.addControl("dailcode",new n.f(null,[n.x.pattern("^[0-9]+$"),n.x.maxLength(3),n.x.required])),this.loginForm.addControl("contact",new n.f(null,[n.x.pattern("^[0-9]+$"),n.x.maxLength(15),n.x.minLength(7),n.x.required])),this.loginForm.addControl("otp",new n.f(null,[n.x.pattern("^[0-9]+$"),n.x.required])))}checkCaptchaAllowed(){this.subs.sink=this.dataShareService.captchaAllowedRoutes.subscribe(e=>Object(l.b)(this,void 0,void 0,function*(){e&&(this.allowedCaptcha=e.indexOf(r.q.LOGIN)>-1,this.allowedCaptcha&&this.isPtFlow&&(Be.forEach(e=>{this.loginForm.addControl(e,new n.f("",n.x.required))}),setTimeout(()=>Object(l.b)(this,void 0,void 0,function*(){const e=yield this.captchaContainer.generateToken();this.utilityService.patchCaptchaValue(this.loginForm,e,this.captchaVersionConst.alternate)}),1e3)))}))}initLoginForm(){return Object(l.b)(this,void 0,void 0,function*(){try{this.loginForm=this.formBuilder.group({username:["",[n.x.pattern(r.s.email_caps_allowed),n.x.required]],password:["",n.x.required],missioncode:[this.sessionService.tenent],countrycode:[this.sessionService.countryCode]})}catch(e){console.log(e)}})}get isOtpLoginEnabled(){var e;const t=null===(e=this.sessionService)||void 0===e?void 0:e.applicationConfiguration;return null==t?void 0:t.enableOTPLoginRegistration}get loginF(){return this.loginForm.controls}submitV2Captcha(e){this.utilityService.patchCaptchaValue(this.loginForm,e,this.captchaVersionConst.alternate,"captcha_api_key")}switchView(){}generateOtp(){var e,t,a,i;return Object(l.b)(this,void 0,void 0,function*(){try{if(!(null===(e=this.loginForm.get("contact"))||void 0===e?void 0:e.valid)||!(null===(t=this.loginForm.get("dailcode"))||void 0===t?void 0:t.valid))return;{const e={missioncode:this.sessionService.tenent,countrycode:this.sessionService.countryCode,contactNo:null===(a=this.loginForm.get("contact"))||void 0===a?void 0:a.value,dialCode:null===(i=this.loginForm.get("dailcode"))||void 0===i?void 0:i.value,action:"Login"},t=yield this.httpService.basicPayload(r.c.api.generateOtp,e,"gotp").toPromise().catch(e=>e).then(e=>e),o="onBoarding.messages.status.";(null==t?void 0:t.isOTPSend)?(this.successCode=o+"201",setTimeout(()=>{this.successCode=null},4e3),this.otpScreen=!0):"421"!==t.error.code&&"416"!==t.error.code&&"413"!==t.error.code&&"424"!==t.error.code||(this.errorCode=o+t.error.code,setTimeout(()=>{this.errorCode=null},5e3))}}catch(o){console.log(o)}})}get disableLogin(){return this.isPtFlow&&!this.agreeToTermsAndCondition}get criticalInformation(){var e;return null===(e=this.sessionService.resourceGroupData)||void 0===e?void 0:e.criricalinformation}submitLogin(){var e,t,a,i,o;return Object(l.b)(this,void 0,void 0,function*(){try{if(this.loginSubmit=!0,this.loginForm.invalid)return;const n=this.loginForm.value;1===this.slotType&&(delete n.contact,delete n.otp,delete n.dailcode,n.username=null===(e=this.loginForm.get("contact"))||void 0===e?void 0:e.value,n.password=null===(t=this.loginForm.get("otp"))||void 0===t?void 0:t.value);const s=yield this.httpService.doPost(r.c.api.login,n).toPromise();s.accessToken?(this.sessionService.updateLoggedEmail(this.loginForm.contains("username")?null===(o=this.loginForm.value)||void 0===o?void 0:o.username:null==s?void 0:s.loginUser),yield this.commonService.postLoginActivity(this.baseService,s),this.isPtFlow&&this.commonService.loadConfiguration(),this.commonService.routeToDashboard()):(this.actiateMailMessage=(null===(a=null==s?void 0:s.error)||void 0===a?void 0:a.description)||(null==s?void 0:s.message)||this.commonService.translateValue("commonSections.messages.statusMessages."+(null===(i=null==s?void 0:s.error)||void 0===i?void 0:i.code)),setTimeout(()=>{this.actiateMailMessage=""},1e4))}catch(n){if(!this.allowedCaptcha)return;if(c.a.captchaFallbackEnabled)this.currentCaptcha=this.captchaVersionConst.alternate,this.utilityService.formcontrolReset(this.loginForm,Be),this.utilityService.resetCaptcha();else{const e=yield this.captchaContainer.generateToken();this.utilityService.patchCaptchaValue(this.loginForm,e,this.captchaVersionConst.default)}}})}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(n.e),o.Qb(oe))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-login"]],viewQuery:function(e,t){if(1&e&&o.Uc(de,1),2&e){let e;o.Ac(e=o.ic())&&(t.captchaContainer=e.first)}},features:[o.Ab],decls:27,vars:20,consts:[[1,"container","py-15","py-md-30"],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-9","col-lg-7","col-xl-6"],[1,"form-card","px-md-50","py-md-40"],[1,"fs-21","fs-sm-24","mb-10"],["class","c-brand-grey-para fs-sm-18 mb-25",4,"ngIf"],[4,"ngIf"],["class","row mat-radio-group-brand mb-10",3,"ngModel","ngModelChange","change",4,"ngIf"],[3,"formGroup"],[1,"row","no-gutters","justify-content-between","mt-20"],["class","col-auto mb-10",4,"ngIf"],[1,"col-auto","mb-10"],[1,"fs-14","fs-sm-18","text-decoration-underline","cursor-pointer","c-inherit",3,"click"],[1,"col-12","mb-10"],[1,"c-brand-grey-para","fs-sm-18","mb-25"],[1,"border-info",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-check-circle-o","fs-24","position-absolute","left-15","top-18","mb-0"],[1,"border-success",2,"border-left","5px solid"],[1,"alert","alert-success","border-0","rounded-0","py-20"],[1,"row","no-gutters","align-items-center"],[1,"col-auto","ml-n5","pr-15"],[1,"fa","fa-check-circle-o","fs-24","mb-0"],[1,"col",3,"translate"],[1,"alert-danger",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-20"],[1,"fa","fa-times-circle","fs-24","mb-0"],[1,"row","mat-radio-group-brand","mb-10",3,"ngModel","ngModelChange","change"],[1,"col-12","col-sm-6","mb-15"],[1,"mat-block",3,"value"],[1,"form-group",3,"ngClass"],[1,"c-brand-error"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["placeholder","jane.doe@email.com","matInput","","formControlName","username","type","text","autocomplete","off"],["matInput","","formControlName","password","placeholder","**********","autocomplete","off",3,"type"],["tabindex","0",1,"cursor-pointer","icon-toggle","position-absolute","right-0",3,"ngClass","keypress","mouseenter","mouseleave","click"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[3,"action","captchaType","v2CaptchaSet"],["captchaContainer",""],[1,"row","align-items-end",3,"ngClass"],[1,"col-12","col-sm-4","col-lg-4","pr-sm-1"],[1,"form-group"],["placeholder","44","matInput","","formControlName","dailcode","type","text","autocomplete","off"],[1,"col-12","col-sm-8"],["placeholder","1234567890","matInput","","formControlName","contact","type","text","autocomplete","off"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"],[1,"c-brand-grey-para","fs-sm-16","mb-20"],["appearance","outline",1,"mat-form-field-outline-brand","mb-10"],["matInput","","formControlName","otp","placeholder","**********","autocomplete","off",3,"type"],[1,"c-brand-grey-para","text-decoration-underline",2,"cursor","pointer",3,"click"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"]],template:function(e,t){1&e&&(o.Wb(0,"section",0),o.Wb(1,"div",1),o.Wb(2,"div",2),o.Wb(3,"mat-card",3),o.Wb(4,"h1",4),o.Oc(5),o.mc(6,"translate"),o.Vb(),o.Mc(7,ue,3,3,"p",5),o.Mc(8,me,3,3,"p",5),o.Mc(9,pe,6,1,"ng-container",6),o.Mc(10,be,7,1,"ng-container",6),o.Mc(11,ge,7,1,"ng-container",6),o.Mc(12,fe,9,9,"mat-radio-group",7),o.Wb(13,"form",8),o.Mc(14,Ae,24,20,"ng-container",6),o.Mc(15,we,21,8,"ng-container",6),o.Mc(16,Re,22,20,"ng-container",6),o.Wb(17,"div",9),o.Mc(18,Ue,4,3,"div",10),o.Wb(19,"div",11),o.Wb(20,"a",12),o.hc("click",function(){return t.route(t.constants.routes.ON_BOARDING)}),o.Oc(21),o.mc(22,"translate"),o.Vb(),o.Vb(),o.Wb(23,"div",13),o.Wb(24,"a",12),o.hc("click",function(){return t.route(t.constants.routes.RESEND_EMAIL_ACTIVATION)}),o.Oc(25),o.mc(26,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e&&(o.Db(5),o.Pc(o.nc(6,14,"login.headerLabel.label1")),o.Db(2),o.tc("ngIf",!t.isOtpLoginEnabled&&!t.otpScreen),o.Db(1),o.tc("ngIf",t.isOtpLoginEnabled&&!t.otpScreen),o.Db(1),o.tc("ngIf",t.actiateMailMessage),o.Db(1),o.tc("ngIf",t.otpScreen&&t.successCode),o.Db(1),o.tc("ngIf",t.errorCode),o.Db(1),o.tc("ngIf",t.isOtpLoginEnabled&&!t.otpScreen),o.Db(1),o.tc("formGroup",t.loginForm),o.Db(1),o.tc("ngIf",0===t.slotType),o.Db(1),o.tc("ngIf",1===t.slotType&&!t.otpScreen),o.Db(1),o.tc("ngIf",1===t.slotType&&t.otpScreen),o.Db(2),o.tc("ngIf",0===t.slotType),o.Db(3),o.Pc(o.nc(22,16,"login.buttons.button9")),o.Db(4),o.Pc(o.nc(26,18,"login.buttons.button10")))},directives:[u.a,m.o,n.y,n.r,n.j,p.a,ne.b,n.q,n.t,ne.a,m.m,b.b,g.b,n.d,n.h,h.a,ce],pipes:[p.d],encapsulation:2}),e})();const Ye=["captchaContainer"];function Qe(e,t){if(1&e&&(o.Wb(0,"div",18),o.Wb(1,"div",19),o.Rb(2,"i",20),o.Wb(3,"div"),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Vb(),o.Vb()),2&e){const e=o.lc();o.Db(4),o.Pc(o.nc(5,1,e.message))}}const $e=function(e,t){return{limit:e,TimeOut:t}};function qe(e,t){if(1&e&&(o.Wb(0,"div",21),o.Wb(1,"div",22),o.Rb(2,"i",23),o.Wb(3,"div"),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Vb(),o.Vb()),2&e){const e=o.lc();o.Db(4),o.Pc(o.oc(5,1,"forogotpassword.messages.errorMessages.message1",o.yc(4,$e,e.errorDescription[0],e.errorDescription[1])))}}function He(e,t){if(1&e&&(o.Wb(0,"div",21),o.Wb(1,"div",22),o.Rb(2,"i",20),o.Wb(3,"div"),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Vb(),o.Vb()),2&e){const e=o.lc();o.Db(4),o.Pc(o.nc(5,1,e.errorMessage))}}function Ke(e,t){1&e&&(o.Wb(0,"div",26),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"commonSections.messages.requiredMessages.message1")," "))}function ze(e,t){1&e&&(o.Wb(0,"div",26),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"commonSections.messages.patternMessages.message1")," "))}function Ze(e,t){if(1&e&&(o.Wb(0,"div",24),o.Mc(1,Ke,3,3,"div",25),o.Mc(2,ze,3,3,"div",25),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",e.forgotF.email.errors.required),o.Db(1),o.tc("ngIf",e.forgotF.email.errors.pattern)}}const Je=function(e){return{"form-error":e}},Xe=["captcha_version","captcha_api_key"];let et=(()=>{class e extends d.a{constructor(e){super(),this.formBuilder=e,this.constants=r.c,this.submitAttempt=!1,this.isErrorMessage=!1,this.message="",this.errorMessage="",this.allowedCaptcha=!1,this.currentCaptcha=this.captchaVersionConst.default}ngOnInit(){this.intitForgotForm()}checkCaptchaAllowed(){this.subs.sink=this.dataShareService.captchaAllowedRoutes.subscribe(e=>Object(l.b)(this,void 0,void 0,function*(){e?(this.allowedCaptcha=e.indexOf(r.q.FORGOT_PASSWORD)>-1,this.allowedCaptcha&&(Xe.forEach(e=>{this.forgotPasswordForm.addControl(e,new n.f("",n.x.required))}),setTimeout(()=>Object(l.b)(this,void 0,void 0,function*(){const e=yield this.captchaContainer.generateToken();this.utilityService.patchCaptchaValue(this.forgotPasswordForm,e,this.captchaVersionConst.default)}),1e3))):this.allowedCaptcha=!1}))}intitForgotForm(){this.forgotPasswordForm=this.formBuilder.group({email:["",[n.x.pattern(r.s.email_caps_allowed),n.x.required]],missioncode:[this.sessionService.tenent,n.x.required],countrycode:[this.sessionService.countryCode,n.x.required],url:[`${c.a.activateLink}${this.sessionService.countryCode}/${this.sessionService.appLanguageCode}/${this.sessionService.tenent}/resetpassword?q=`]})}get forgotF(){var e;return null===(e=this.forgotPasswordForm)||void 0===e?void 0:e.controls}submitV2Captcha(e){this.utilityService.patchCaptchaValue(this.forgotPasswordForm,e,this.captchaVersionConst.alternate)}onSubmit(){return Object(l.b)(this,void 0,void 0,function*(){try{if(this.submitAttempt=!0,this.forgotPasswordForm.invalid)return;const e=this.forgotPasswordForm.value;e.cultureCode=this.sessionService.appCultureCode;const t=yield this.httpService.payloadWithoutTokenPost(r.c.api.forgotPassword,e).toPromise();this.message="",this.errorMessage="",this.isErrorMessage=!1,"200"===t.code?(this.message=this.commonService.translateValue("commonSections.messages.statusMessages.418"),setTimeout(()=>{this.message=""},5e3)):"419"===t.error.code?(this.errorDescription=t.error.description.split(","),this.isErrorMessage=!0,setTimeout(()=>{this.isErrorMessage=!1},5e3)):t.error&&"419"!==t.error.code&&(this.errorMessage=this.commonService.translateValue("commonSections.messages.statusMessages."+t.error.code),setTimeout(()=>{this.errorMessage=""},5e3))}catch(e){if(!this.allowedCaptcha)return;this.allowedCaptcha&&this.sessionService.captchaMode===this.captchaVersionConst.alternate&&(this.currentCaptcha=this.captchaVersionConst.alternate,this.utilityService.formcontrolReset(this.forgotPasswordForm,Xe),this.utilityService.resetCaptcha())}})}routeToSignUp(){this.commonService.routeToOnBoarding()}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(n.e))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-forgot-password"]],viewQuery:function(e,t){if(1&e&&o.Uc(Ye,1),2&e){let e;o.Ac(e=o.ic())&&(t.captchaContainer=e.first)}},features:[o.Ab],decls:32,vars:26,consts:[[1,"container","py-15","py-md-30"],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-9","col-lg-7","col-xl-6"],[1,"form-card","px-md-50","py-md-40"],[1,"d-none","d-block"],[1,"fs-21","fs-sm-24","mb-10"],[1,"c-brand-grey-para","fs-sm-18","mb-25"],["class","border-info","style","border-left: 5px solid",4,"ngIf"],["class","border-danger","style","border-left: 5px solid",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],[1,"c-brand-error"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["matInput","","formControlName","email","type","text","autocomplete","off",3,"placeholder"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange"],[1,"fs-sm-18","mt-20"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer",3,"click"],[1,"border-info",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-check-circle-o","fs-24","position-absolute","left-15","top-18","mb-0"],[1,"border-danger",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-chdangereck-circle-o","fs-24","position-absolute","left-15","top-18","mb-0"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"]],template:function(e,t){1&e&&(o.Wb(0,"section",0),o.Wb(1,"div",1),o.Wb(2,"div",2),o.Wb(3,"mat-card",3),o.Wb(4,"div",4),o.Wb(5,"h1",5),o.Oc(6),o.mc(7,"translate"),o.Vb(),o.Wb(8,"p",6),o.Oc(9),o.mc(10,"translate"),o.Vb(),o.Mc(11,Qe,6,3,"div",7),o.Mc(12,qe,6,7,"div",8),o.Mc(13,He,6,3,"div",8),o.Wb(14,"form",9),o.hc("ngSubmit",function(){return t.onSubmit()}),o.Wb(15,"div",10),o.Wb(16,"div"),o.Oc(17),o.mc(18,"translate"),o.Wb(19,"span",11),o.Oc(20,"*"),o.Vb(),o.Vb(),o.Mc(21,Ze,3,2,"div",12),o.Wb(22,"mat-form-field",13),o.Rb(23,"input",14),o.mc(24,"translate"),o.Vb(),o.Vb(),o.Wb(25,"button",15),o.Oc(26),o.mc(27,"translate"),o.Vb(),o.Wb(28,"div",16),o.Wb(29,"a",17),o.hc("click",function(){return t.routeToSignUp()}),o.Oc(30),o.mc(31,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e&&(o.Db(6),o.Pc(o.nc(7,12,"forogotpassword.headerLabel.label1")),o.Db(3),o.Pc(o.nc(10,14,"forogotpassword.pageDetails.para1")),o.Db(2),o.tc("ngIf",t.message),o.Db(1),o.tc("ngIf",t.isErrorMessage),o.Db(1),o.tc("ngIf",t.errorMessage),o.Db(1),o.tc("formGroup",t.forgotPasswordForm),o.Db(1),o.tc("ngClass",o.xc(24,Je,t.forgotF.email.touched&&t.forgotF.email.invalid)),o.Db(2),o.Pc(o.nc(18,16,"forogotpassword.formLabel.label1")),o.Db(4),o.tc("ngIf",t.forgotF.email.touched&&t.forgotF.email.errors),o.Db(2),o.uc("placeholder",o.nc(24,18,"commonSections.formLabel.label2")),o.Db(3),o.Qc(" ",o.nc(27,20,"forogotpassword.buttons.button1")," "),o.Db(4),o.Pc(o.nc(31,22,"forogotpassword.buttons.button2")))},directives:[u.a,m.o,n.y,n.r,n.j,m.m,b.b,g.b,n.d,n.q,n.h,h.a],pipes:[p.d],encapsulation:2}),e})(),tt=(()=>{class e extends d.a{constructor(e){super(),this.activatedRoute=e}ngOnInit(){this.activateEmail(this.activatedRoute.params._value,this.activatedRoute.queryParams._value.q)}activateEmail(e,t){return Object(l.b)(this,void 0,void 0,function*(){const a={missioncode:e.mission,countrycode:e.countrycode,token:t},i=yield this.httpService.payloadPost(r.c.api.activateEmail,a).toPromise().then(e=>e).catch(e=>e);i&&(this.sessionService.activateMessage=i.message?i.message:i.error.description,this.router.navigateByUrl(`${e.countrycode}/${this.sessionService.appLanguageCode}/${e.mission}/${r.q.LOGIN}`))})}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(s.a))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-activate-email"]],features:[o.Ab],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();var at=a("psYf");let it=(()=>{class e{constructor(e,t){this.sessionService=e,this.commonService=t}canActivate(){const e=this.sessionService.loginStatus&&this.sessionService.containsAppSchema;return e||this.commonService.routeToLogin(),e}}return e.\u0275fac=function(t){return new(t||e)(o.dc(ae.a),o.dc(at.a))},e.\u0275prov=o.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ot=(()=>{class e{constructor(e,t){this.sessionService=e,this.commonService=t}canActivate(){return this.sessionService.loginStatus&&this.sessionService.containsAppSchema?(this.commonService.routeToDashboard(),!1):(this.sessionService.clearSession(),!0)}}return e.\u0275fac=function(t){return new(t||e)(o.dc(ae.a),o.dc(at.a))},e.\u0275prov=o.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var nt=a("KD1d"),st=a("cp0P"),lt=a("wd/R"),rt=a.n(lt),ct=a("1kSV"),dt=a("d3UM");let ut=(()=>{class e{constructor(e){this.ngcontrol=e,this.options=[],this.valueKey=""}ngOnChanges(){var e,t;try{const a=null===(e=this.ngcontrol)||void 0===e?void 0:e.control;a&&1===(null===(t=this.options)||void 0===t?void 0:t.length)&&this.valueKey&&null==(null==a?void 0:a.value)&&(a.setValue(this.options[0][this.valueKey]),a.updateValueAndValidity())}catch(a){console.log(a)}}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(n.p))},e.\u0275dir=o.Lb({type:e,selectors:[["","appDefaultSelect",""]],inputs:{options:"options",valueKey:"valueKey"},features:[o.Bb]}),e})();var mt=a("gfTr"),pt=a("Qu3c"),bt=a("FKr1"),gt=a("suCx");const ft=["captchaContainer"];function ht(e,t){if(1&e&&(o.Wb(0,"div",21),o.Wb(1,"span",22),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Wb(4,"a",23),o.Wb(5,"span",24),o.Oc(6),o.mc(7,"translate"),o.Vb(),o.Vb(),o.Wb(8,"span",22),o.Oc(9),o.mc(10,"translate"),o.Vb(),o.Wb(11,"a",23),o.Wb(12,"span",24),o.Oc(13),o.mc(14,"translate"),o.Vb(),o.Vb(),o.Vb()),2&e){const e=o.lc();o.Db(2),o.Pc(o.nc(3,6,"eligibilityCriteria.pageDetails.para3")),o.Db(2),o.tc("href",e.attendCenter,o.Hc),o.Db(2),o.Pc(o.nc(7,8,"eligibilityCriteria.pageDetails.para4")),o.Db(3),o.Qc(" ",o.nc(10,10,"eligibilityCriteria.pageDetails.para5"),""),o.Db(2),o.tc("href",e.appointmentCategory,o.Hc),o.Db(2),o.Pc(o.nc(14,12,"eligibilityCriteria.pageDetails.para6"))}}function vt(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div",35),o.Wb(1,"div",36),o.Wb(2,"div",37),o.Oc(3,"\u2713"),o.Vb(),o.Oc(4),o.Vb(),o.Wb(5,"div",38),o.hc("click",function(){return o.Fc(e),(0,o.lc().openFileSelector)()}),o.Oc(6),o.mc(7,"translate"),o.Vb(),o.Vb()}if(2&e){const e=t.$implicit;o.Db(4),o.Qc(" ",e.relativePath," "),o.Db(2),o.Qc(" ",o.nc(7,2,"eligibilityCriteria.buttons.button3")," ")}}function yt(e,t){if(1&e&&(o.Wb(0,"div",28),o.Wb(1,"div",29),o.Wb(2,"h5",30),o.Wb(3,"span"),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Wb(6,"span",31),o.Oc(7," *"),o.Vb(),o.Vb(),o.Wb(8,"div",32),o.Wb(9,"button",33),o.hc("click",function(){return(0,t.openFileSelector)()}),o.Oc(10),o.mc(11,"translate"),o.Vb(),o.Vb(),o.Mc(12,vt,8,4,"div",34),o.Vb(),o.Vb()),2&e){const e=o.lc(2);o.Db(4),o.Pc(o.nc(5,3,"eligibilityCriteria.placeholder.label10")),o.Db(6),o.Qc(" ",o.nc(11,5,"eligibilityCriteria.buttons.button2")," "),o.Db(2),o.tc("ngForOf",e.files)}}function St(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"div",39),o.Wb(2,"div",40),o.Oc(3),o.Vb(),o.Vb(),o.Tb()),2&e){const e=o.lc(2);o.Db(3),o.Qc(" ",e.dragFleError," ")}}function Ct(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Wb(1,"div",25),o.Wb(2,"ngx-file-drop",26),o.hc("onFileDrop",function(t){return o.Fc(e),o.lc().dropped(t)}),o.Mc(3,yt,13,7,"ng-template",27),o.Vb(),o.Vb(),o.Mc(4,St,4,1,"ng-container",7),o.Tb()}if(2&e){const e=o.lc();o.Db(2),o.tc("multiple",!1),o.Db(2),o.tc("ngIf",e.dragFleError)}}function Dt(e,t){1&e&&(o.Ub(0),o.Rb(1,"i",41,42),o.mc(3,"translate"),o.Tb()),2&e&&(o.Db(1),o.uc("matTooltip",o.nc(3,1,"eligibilityCriteria.formLabel.tooltip1")))}function It(e,t){if(1&e&&(o.Wb(0,"h6",43),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e){const e=o.lc();o.Db(1),o.Rc(" ",null==e.vacCenters?null:e.vacCenters.length," ",o.nc(2,2,"eligibilityCriteria.formLabel.label17")," ")}}function Vt(e,t){1&e&&(o.Wb(0,"div",40),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"eligibilityCriteria.messages.errorMessages.message1")," "))}function At(e,t){if(1&e&&(o.Wb(0,"div",39),o.Mc(1,Vt,3,3,"div",44),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.centerCode||null==e.formGroup.controls.centerCode.errors?null:e.formGroup.controls.centerCode.errors.required)}}function Ot(e,t){if(1&e&&(o.Wb(0,"mat-option",45),o.Oc(1),o.Vb()),2&e){const e=t.$implicit;o.tc("value",e.isoCode),o.Db(1),o.Qc(" ",null==e?null:e.centerName," ")}}function Tt(e,t){1&e&&(o.Ub(0),o.Rb(1,"i",41,42),o.mc(3,"translate"),o.Tb()),2&e&&(o.Db(1),o.uc("matTooltip",o.nc(3,1,"eligibilityCriteria.formLabel.tooltip2")))}function Lt(e,t){1&e&&(o.Wb(0,"div",40),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"eligibilityCriteria.messages.errorMessages.message9")," "))}function Nt(e,t){if(1&e&&(o.Wb(0,"div",39),o.Mc(1,Lt,3,3,"div",44),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",e.formGroup.controls.serviceType.errors.required)}}function Mt(e,t){if(1&e&&(o.Wb(0,"mat-option",45),o.Oc(1),o.Vb()),2&e){const e=t.$implicit;o.tc("value",e.code),o.Db(1),o.Qc(" ",null==e?null:e.name," ")}}const Et=function(e){return{"form-error":e}};function Wt(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Wb(1,"div",8),o.Wb(2,"div"),o.Oc(3),o.mc(4,"translate"),o.Wb(5,"span",10),o.Oc(6,"*"),o.Vb(),o.Mc(7,Tt,4,3,"ng-container",7),o.Vb(),o.Mc(8,Nt,2,1,"div",12),o.Wb(9,"mat-form-field",13),o.Wb(10,"mat-select",46),o.hc("ngModelChange",function(t){return o.Fc(e),o.lc().onServiceTypeSelection(t)}),o.mc(11,"translate"),o.Mc(12,Mt,2,2,"mat-option",15),o.mc(13,"sortBy"),o.Vb(),o.Vb(),o.Vb(),o.Rb(14,"hr"),o.Tb()}if(2&e){const e=o.lc();o.Db(1),o.tc("ngClass",o.xc(16,Et,(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.serviceType?null:e.formGroup.controls.serviceType.touched)&&(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.serviceType?null:e.formGroup.controls.serviceType.invalid))),o.Db(2),o.Qc(" ",o.nc(4,9,"eligibilityCriteria.formLabel.label18"),""),o.Db(4),o.tc("ngIf",e.hasTranslation("eligibilityCriteria.formLabel.tooltip2")),o.Db(1),o.tc("ngIf",e.formGroup.controls.serviceType.touched&&e.formGroup.controls.serviceType.errors),o.Db(2),o.uc("placeholder",o.nc(11,11,"eligibilityCriteria.placeholder.label9")),o.tc("options",e.serviceTypes)("valueKey","code"),o.Db(2),o.tc("ngForOf",o.oc(13,13,e.serviceTypes,"name"))("ngForTrackBy",e.trackByFn)}}function Pt(e,t){1&e&&(o.Ub(0),o.Rb(1,"i",41,42),o.mc(3,"translate"),o.Tb()),2&e&&(o.Db(1),o.uc("matTooltip",o.nc(3,1,"eligibilityCriteria.formLabel.tooltip3")))}function kt(e,t){1&e&&(o.Wb(0,"div",40),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"eligibilityCriteria.messages.errorMessages.message4")," "))}function wt(e,t){if(1&e&&(o.Wb(0,"div",39),o.Mc(1,kt,3,3,"div",44),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.nationalityCode||null==e.formGroup.controls.nationalityCode.errors?null:e.formGroup.controls.nationalityCode.errors.required)}}function Ft(e,t){if(1&e&&(o.Wb(0,"mat-option",45),o.Oc(1),o.Vb()),2&e){const e=t.$implicit;o.tc("value",e.isoCode),o.Db(1),o.Qc(" ",null==e?null:e.nationalityName," ")}}function _t(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Wb(1,"div",8),o.Wb(2,"div"),o.Oc(3),o.mc(4,"translate"),o.Wb(5,"span",10),o.Oc(6,"*"),o.Vb(),o.Mc(7,Pt,4,3,"ng-container",7),o.Vb(),o.Mc(8,wt,2,1,"div",12),o.Wb(9,"mat-form-field",13),o.Wb(10,"mat-select",47),o.hc("ngModelChange",function(t){return o.Fc(e),o.lc().onNationalityChange(t)}),o.mc(11,"translate"),o.Mc(12,Ft,2,2,"mat-option",15),o.mc(13,"sortBy"),o.Vb(),o.Vb(),o.Vb(),o.Rb(14,"hr"),o.Tb()}if(2&e){const e=o.lc();o.Db(1),o.tc("ngClass",o.xc(16,Et,(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.nationalityCode?null:e.formGroup.controls.nationalityCode.touched)&&(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.nationalityCode?null:e.formGroup.controls.nationalityCode.invalid))),o.Db(2),o.Qc(" ",o.nc(4,9,"eligibilityCriteria.formLabel.label8"),""),o.Db(4),o.tc("ngIf",e.hasTranslation("eligibilityCriteria.formLabel.tooltip3")),o.Db(1),o.tc("ngIf",(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.nationalityCode?null:e.formGroup.controls.nationalityCode.touched)&&(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.nationalityCode?null:e.formGroup.controls.nationalityCode.errors)),o.Db(2),o.uc("placeholder",o.nc(11,11,"eligibilityCriteria.placeholder.label4")),o.tc("options",e.nationalityList)("valueKey","isoCode"),o.Db(2),o.tc("ngForOf",o.oc(13,13,e.nationalityList,"nationalityName"))("ngForTrackBy",e.trackByFn)}}function xt(e,t){1&e&&(o.Ub(0),o.Rb(1,"i",41,42),o.mc(3,"translate"),o.Tb()),2&e&&(o.Db(1),o.uc("matTooltip",o.nc(3,1,"eligibilityCriteria.formLabel.tooltip4")))}function Gt(e,t){1&e&&(o.Wb(0,"div",40),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"eligibilityCriteria.messages.errorMessages.message2")," "))}function Rt(e,t){if(1&e&&(o.Wb(0,"div",39),o.Mc(1,Gt,3,3,"div",44),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.selectedSubvisaCategory||null==e.formGroup.controls.selectedSubvisaCategory.errors?null:e.formGroup.controls.selectedSubvisaCategory.errors.required)}}function Ut(e,t){if(1&e&&(o.Wb(0,"mat-option",45),o.Oc(1),o.Vb()),2&e){const e=t.$implicit;o.tc("value",e.code),o.Db(1),o.Qc(" ",null==e?null:e.name," ")}}function Bt(e,t){1&e&&(o.Ub(0),o.Rb(1,"i",41,42),o.mc(3,"translate"),o.Tb()),2&e&&(o.Db(1),o.uc("matTooltip",o.nc(3,1,"eligibilityCriteria.formLabel.tooltip5")))}function jt(e,t){1&e&&(o.Wb(0,"div",40),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"eligibilityCriteria.messages.errorMessages.message3")," "))}function Yt(e,t){if(1&e&&(o.Wb(0,"div",39),o.Mc(1,jt,3,3,"div",44),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.visaCategoryCode||null==e.formGroup.controls.visaCategoryCode.errors?null:e.formGroup.controls.visaCategoryCode.errors.required)}}function Qt(e,t){if(1&e&&(o.Wb(0,"mat-option",45),o.Oc(1),o.Vb()),2&e){const e=t.$implicit;o.tc("value",e.code),o.Db(1),o.Qc(" ",null==e?null:e.name," ")}}function $t(e,t){1&e&&(o.Ub(0),o.Rb(1,"i",41,42),o.mc(3,"translate"),o.Tb()),2&e&&(o.Db(1),o.uc("matTooltip",o.nc(3,1,"eligibilityCriteria.formLabel.tooltip6")))}function qt(e,t){1&e&&(o.Wb(0,"div",40),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"eligibilityCriteria.messages.errorMessages.message5")," "))}function Ht(e,t){if(1&e&&(o.Wb(0,"div",39),o.Mc(1,qt,3,3,"div",44),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",null==e.formGroup.controls.entryType||null==e.formGroup.controls.entryType.errors?null:e.formGroup.controls.entryType.errors.required)}}function Kt(e,t){if(1&e&&(o.Wb(0,"mat-option",45),o.Oc(1),o.Vb()),2&e){const e=t.$implicit;o.tc("value",e.code),o.Db(1),o.Qc(" ",null==e?null:e.name," ")}}function zt(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"div",8),o.Wb(2,"div"),o.Oc(3),o.mc(4,"translate"),o.Wb(5,"span",10),o.Oc(6,"*"),o.Vb(),o.Mc(7,$t,4,3,"ng-container",7),o.Vb(),o.Mc(8,Ht,2,1,"div",12),o.Wb(9,"mat-form-field",13),o.Wb(10,"mat-select",48),o.mc(11,"translate"),o.Mc(12,Kt,2,2,"mat-option",15),o.mc(13,"sortBy"),o.Vb(),o.Vb(),o.Vb(),o.Rb(14,"hr"),o.Tb()),2&e){const e=o.lc();o.Db(1),o.tc("ngClass",o.xc(16,Et,(null==e.formGroup.controls||null==e.formGroup.controls.entryType?null:e.formGroup.controls.entryType.touched)&&(null==e.formGroup.controls||null==e.formGroup.controls.entryType?null:e.formGroup.controls.entryType.invalid))),o.Db(2),o.Qc(" ",o.nc(4,9,"eligibilityCriteria.formLabel.label9"),""),o.Db(4),o.tc("ngIf",e.hasTranslation("eligibilityCriteria.formLabel.tooltip6")),o.Db(1),o.tc("ngIf",(null==e.formGroup.controls.entryType?null:e.formGroup.controls.entryType.touched)&&(null==e.formGroup.controls.entryType?null:e.formGroup.controls.entryType.errors)),o.Db(2),o.uc("placeholder",o.nc(11,11,"eligibilityCriteria.placeholder.label5")),o.tc("options",e.entryTypeList)("valueKey","code"),o.Db(2),o.tc("ngForOf",o.oc(13,13,e.entryTypeList,"name"))("ngForTrackBy",e.trackByFn)}}function Zt(e,t){1&e&&(o.Ub(0),o.Rb(1,"i",41,42),o.mc(3,"translate"),o.Tb()),2&e&&(o.Db(1),o.uc("matTooltip",o.nc(3,1,"eligibilityCriteria.formLabel.tooltip7")))}function Jt(e,t){1&e&&(o.Wb(0,"div",40),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"eligibilityCriteria.messages.errorMessages.message6")," "))}function Xt(e,t){if(1&e&&(o.Wb(0,"div",39),o.Mc(1,Jt,3,3,"div",44),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",null==e.formGroup.controls.visaType||null==e.formGroup.controls.visaType.errors?null:e.formGroup.controls.visaType.errors.required)}}function ea(e,t){if(1&e&&(o.Wb(0,"mat-option",45),o.Oc(1),o.Vb()),2&e){const e=t.$implicit;o.tc("value",e.code),o.Db(1),o.Qc(" ",null==e?null:e.name," ")}}function ta(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"div",8),o.Wb(2,"div"),o.Oc(3),o.mc(4,"translate"),o.Wb(5,"span",10),o.Oc(6,"*"),o.Vb(),o.Mc(7,Zt,4,3,"ng-container",7),o.Vb(),o.Mc(8,Xt,2,1,"div",12),o.Wb(9,"mat-form-field",13),o.Wb(10,"mat-select",49),o.mc(11,"translate"),o.Mc(12,ea,2,2,"mat-option",15),o.mc(13,"sortBy"),o.Vb(),o.Vb(),o.Vb(),o.Rb(14,"hr"),o.Tb()),2&e){const e=o.lc();o.Db(1),o.tc("ngClass",o.xc(16,Et,(null==e.formGroup.controls||null==e.formGroup.controls.visaType?null:e.formGroup.controls.visaType.touched)&&(null==e.formGroup.controls||null==e.formGroup.controls.visaType?null:e.formGroup.controls.visaType.invalid))),o.Db(2),o.Qc(" ",o.nc(4,9,"eligibilityCriteria.formLabel.label10"),""),o.Db(4),o.tc("ngIf",e.hasTranslation("eligibilityCriteria.formLabel.tooltip7")),o.Db(1),o.tc("ngIf",(null==e.formGroup.controls.visaType?null:e.formGroup.controls.visaType.touched)&&(null==e.formGroup.controls.visaType?null:e.formGroup.controls.visaType.errors)),o.Db(2),o.uc("placeholder",o.nc(11,11,"eligibilityCriteria.placeholder.label6")),o.tc("options",e.eoiVisaTypeList)("valueKey","code"),o.Db(2),o.tc("ngForOf",o.oc(13,13,e.eoiVisaTypeList,"name"))("ngForTrackBy",e.trackByFn)}}function aa(e,t){1&e&&(o.Ub(0),o.Rb(1,"i",41,42),o.mc(3,"translate"),o.Tb()),2&e&&(o.Db(1),o.uc("matTooltip",o.nc(3,1,"eligibilityCriteria.formLabel.tooltip8")))}function ia(e,t){1&e&&(o.Wb(0,"div",40),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"eligibilityCriteria.messages.errorMessages.message7")," "))}function oa(e,t){if(1&e&&(o.Wb(0,"div",39),o.Mc(1,ia,3,3,"div",44),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",null==e.formGroup.controls.applicationType||null==e.formGroup.controls.applicationType.errors?null:e.formGroup.controls.applicationType.errors.required)}}function na(e,t){if(1&e&&(o.Wb(0,"mat-option",45),o.Oc(1),o.Vb()),2&e){const e=t.$implicit;o.tc("value",e.code),o.Db(1),o.Qc(" ",null==e?null:e.name," ")}}function sa(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Wb(1,"div",8),o.Wb(2,"div"),o.Oc(3),o.mc(4,"translate"),o.Wb(5,"span",10),o.Oc(6,"*"),o.Vb(),o.Mc(7,aa,4,3,"ng-container",7),o.Vb(),o.Mc(8,oa,2,1,"div",12),o.Wb(9,"mat-form-field",13),o.Wb(10,"mat-select",50),o.hc("ngModelChange",function(t){return o.Fc(e),o.lc().submissionTypeChange(t)}),o.mc(11,"translate"),o.Mc(12,na,2,2,"mat-option",15),o.mc(13,"sortBy"),o.Vb(),o.Vb(),o.Vb(),o.Rb(14,"hr"),o.Tb()}if(2&e){const e=o.lc();o.Db(1),o.tc("ngClass",o.xc(16,Et,e.formGroup.controls.applicationType.touched&&e.formGroup.controls.applicationType.invalid)),o.Db(2),o.Qc(" ",o.nc(4,9,"eligibilityCriteria.formLabel.label11"),""),o.Db(4),o.tc("ngIf",e.hasTranslation("eligibilityCriteria.formLabel.tooltip8")),o.Db(1),o.tc("ngIf",e.formGroup.controls.applicationType.touched&&e.formGroup.controls.applicationType.errors),o.Db(2),o.uc("placeholder",o.nc(11,11,"eligibilityCriteria.placeholder.label7")),o.tc("options",e.submissionTypeList)("valueKey","code"),o.Db(2),o.tc("ngForOf",o.oc(13,13,e.submissionTypeList,"name"))("ngForTrackBy",e.trackByFn)}}function la(e,t){1&e&&(o.Ub(0),o.Rb(1,"i",41,42),o.mc(3,"translate"),o.Tb()),2&e&&(o.Db(1),o.uc("matTooltip",o.nc(3,1,"eligibilityCriteria.formLabel.tooltip2")))}function ra(e,t){1&e&&(o.Wb(0,"div",40),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"eligibilityCriteria.messages.errorMessages.message10")," "))}function ca(e,t){if(1&e&&(o.Wb(0,"div",39),o.Mc(1,ra,3,3,"div",44),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",e.formGroup.controls.entryTypes.errors.required)}}function da(e,t){if(1&e&&(o.Wb(0,"mat-option",45),o.Oc(1),o.Vb()),2&e){const e=t.$implicit;o.tc("value",e.code),o.Db(1),o.Qc(" ",null==e?null:e.name," ")}}function ua(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"div",8),o.Wb(2,"div"),o.Oc(3),o.mc(4,"translate"),o.Wb(5,"span",10),o.Oc(6,"*"),o.Vb(),o.Mc(7,la,4,3,"ng-container",7),o.Vb(),o.Mc(8,ca,2,1,"div",12),o.Wb(9,"mat-form-field",13),o.Wb(10,"mat-select",51),o.mc(11,"translate"),o.Mc(12,da,2,2,"mat-option",15),o.mc(13,"sortBy"),o.Vb(),o.Vb(),o.Vb(),o.Rb(14,"hr"),o.Tb()),2&e){const e=o.lc();o.Db(1),o.tc("ngClass",o.xc(16,Et,(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.entryTypes?null:e.formGroup.controls.entryTypes.touched)&&(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.entryTypes?null:e.formGroup.controls.entryTypes.invalid))),o.Db(2),o.Qc(" ",o.nc(4,9,"eligibilityCriteria.formLabel.label14"),""),o.Db(4),o.tc("ngIf",e.hasTranslation("eligibilityCriteria.formLabel.tooltip2")),o.Db(1),o.tc("ngIf",e.formGroup.controls.entryTypes.touched&&e.formGroup.controls.entryTypes.errors),o.Db(2),o.uc("placeholder",o.nc(11,11,"eligibilityCriteria.placeholder.label9")),o.tc("options",e.entryTypesList)("valueKey","code"),o.Db(2),o.tc("ngForOf",o.oc(13,13,e.entryTypesList,"name"))("ngForTrackBy",e.trackByFn)}}function ma(e,t){1&e&&(o.Ub(0),o.Rb(1,"i",41,42),o.mc(3,"translate"),o.Tb()),2&e&&(o.Db(1),o.uc("matTooltip",o.nc(3,1,"eligibilityCriteria.formLabel.tooltip2")))}function pa(e,t){1&e&&(o.Wb(0,"div",40),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"eligibilityCriteria.messages.errorMessages.message11")," "))}function ba(e,t){if(1&e&&(o.Wb(0,"div",39),o.Mc(1,pa,3,3,"div",44),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",e.formGroup.controls.feeExcemption.errors.required)}}function ga(e,t){if(1&e&&(o.Wb(0,"mat-option",45),o.Oc(1),o.Vb()),2&e){const e=t.$implicit;o.tc("value",e.code),o.Db(1),o.Qc(" ",null==e?null:e.name," ")}}function fa(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Wb(1,"div",8),o.Wb(2,"div"),o.Oc(3),o.mc(4,"translate"),o.Wb(5,"span",10),o.Oc(6,"*"),o.Vb(),o.Mc(7,ma,4,3,"ng-container",7),o.Vb(),o.Mc(8,ba,2,1,"div",12),o.Wb(9,"mat-form-field",13),o.Wb(10,"mat-select",52),o.hc("ngModelChange",function(t){return o.Fc(e),o.lc().onExemptionTypeSelection(t)}),o.mc(11,"translate"),o.Mc(12,ga,2,2,"mat-option",15),o.mc(13,"sortBy"),o.Vb(),o.Vb(),o.Vb(),o.Rb(14,"hr"),o.Tb()}if(2&e){const e=o.lc();o.Db(1),o.tc("ngClass",o.xc(16,Et,(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.feeExcemption?null:e.formGroup.controls.feeExcemption.touched)&&(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.feeExcemption?null:e.formGroup.controls.feeExcemption.invalid))),o.Db(2),o.Qc(" ",o.nc(4,9,"eligibilityCriteria.formLabel.label21"),""),o.Db(4),o.tc("ngIf",e.hasTranslation("eligibilityCriteria.formLabel.tooltip2")),o.Db(1),o.tc("ngIf",e.formGroup.controls.feeExcemption.touched&&e.formGroup.controls.feeExcemption.errors),o.Db(2),o.uc("placeholder",o.nc(11,11,"eligibilityCriteria.placeholder.label9")),o.tc("options",e.feeExemptionList)("valueKey","code"),o.Db(2),o.tc("ngForOf",o.oc(13,13,e.feeExemptionList,"name"))("ngForTrackBy",e.trackByFn)}}function ha(e,t){1&e&&(o.Ub(0),o.Rb(1,"i",41,42),o.mc(3,"translate"),o.Tb()),2&e&&(o.Db(1),o.uc("matTooltip",o.nc(3,1,"eligibilityCriteria.formLabel.tooltip2")))}function va(e,t){1&e&&(o.Wb(0,"div",40),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"eligibilityCriteria.messages.errorMessages.message12")," "))}function ya(e,t){if(1&e&&(o.Wb(0,"div",39),o.Mc(1,va,3,3,"div",44),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",e.formGroup.controls.feeExemptionDetails.errors.required)}}function Sa(e,t){if(1&e&&(o.Wb(0,"mat-option",45),o.Oc(1),o.Vb()),2&e){const e=t.$implicit;o.tc("value",e.code),o.Db(1),o.Qc(" ",null==e?null:e.name," ")}}function Ca(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"div",8),o.Wb(2,"div"),o.Oc(3),o.mc(4,"translate"),o.Wb(5,"span",10),o.Oc(6,"*"),o.Vb(),o.Mc(7,ha,4,3,"ng-container",7),o.Vb(),o.Mc(8,ya,2,1,"div",12),o.Wb(9,"mat-form-field",13),o.Wb(10,"mat-select",53),o.mc(11,"translate"),o.Mc(12,Sa,2,2,"mat-option",15),o.mc(13,"sortBy"),o.Vb(),o.Vb(),o.Vb(),o.Rb(14,"hr"),o.Tb()),2&e){const e=o.lc();o.Db(1),o.tc("ngClass",o.xc(16,Et,(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.feeExemptionDetails?null:e.formGroup.controls.feeExemptionDetails.touched)&&(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.feeExemptionDetails?null:e.formGroup.controls.feeExemptionDetails.invalid))),o.Db(2),o.Qc(" ",o.nc(4,9,"eligibilityCriteria.formLabel.label22"),""),o.Db(4),o.tc("ngIf",e.hasTranslation("eligibilityCriteria.formLabel.tooltip2")),o.Db(1),o.tc("ngIf",e.formGroup.controls.feeExemptionDetails.touched&&e.formGroup.controls.feeExemptionDetails.errors),o.Db(2),o.uc("placeholder",o.nc(11,11,"eligibilityCriteria.placeholder.label9")),o.tc("options",e.feeExemptionDetails)("valueKey","code"),o.Db(2),o.tc("ngForOf",o.oc(13,13,e.feeExemptionDetails,"name"))("ngForTrackBy",e.trackByFn)}}function Da(e,t){1&e&&(o.Wb(0,"div",54),o.Wb(1,"div",55),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()),2&e&&(o.Db(2),o.Qc(" ",o.nc(3,1,"eligibilityCriteria.formLabel.label6")," "))}function Ia(e,t){if(1&e&&(o.Wb(0,"div",54),o.Wb(1,"div",55),o.Oc(2),o.mc(3,"translate"),o.mc(4,"date"),o.Vb(),o.Vb()),2&e){const e=o.lc();o.Db(2),o.Rc(" ",o.nc(3,2,"eligibilityCriteria.formLabel.label7")," : ",o.oc(4,4,e.latestAvailableDate,e.dateFormat)," ")}}function Va(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"div",56),o.Wb(2,"div",57),o.Wb(3,"mat-checkbox",58),o.Wb(4,"span",59),o.Oc(5),o.mc(6,"translate"),o.Vb(),o.Vb(),o.Wb(7,"a",23),o.Wb(8,"span",60),o.Oc(9),o.mc(10,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Tb()),2&e){const e=o.lc();o.Db(5),o.Pc(o.nc(6,3,"eligibilityCriteria.formLabel.label19")),o.Db(2),o.tc("href",e.termCondition,o.Hc),o.Db(2),o.Pc(o.nc(10,5,"eligibilityCriteria.formLabel.label20"))}}const Aa=["captcha_version","captcha_api_key"];let Oa=(()=>{class e extends nt.a{constructor(e,t,a){super(),this.ngbCalendar=e,this.fb=t,this.httpService=a,this.maxCallTime=12,this.files=[],this.environment=c.a,this.nationalityList=[],this.eoiVisaTypeList=[],this.submissionTypeList=[],this.constants=r.c,this.initBaseForm(r.c.modules.ELIGIBILITY_CRITERIA),this.appointmentSlots=!1,this.noSlotCheck=!1,this.serviceTypes=[],this.entryTypeError="",this.entryTypeList=[],this.visaCategories=[],this.vacCenters=[],this.visaTypes=[],this.entryTypesList=[],this.feeExemptionList=[],this.feeExemptionDetails=[],this.isEditMode=!1,this.latestAvailableDate=null,this.signedUrl=[],this.documentextracted=!1,this.dragFleError="",this.waitlistJourney=!1,this.allowedCaptcha=!1,this.currentCaptcha=this.captchaVersionConst.default,this.captchaToken=""}ngOnInit(){try{this.utilityService.fireCustomEvent({dl_category:"form loaded",dl_action:"form loaded - application details",dl_label:void 0,value:void 0}),this.initFormGroup(),this.initApplication(),this.removeTmiModule()}catch(e){this.logger.error(e)}}get showExtractionField(){return!1}checkCaptchaAllowed(){this.subs.sink=this.dataShareService.captchaAllowedRoutes.subscribe(e=>Object(l.b)(this,void 0,void 0,function*(){e?(this.allowedCaptcha=e.indexOf(r.q.ELIGIBILITY_CRITERIA)>-1,this.allowedCaptcha&&(Aa.forEach(e=>{this.formGroup.addControl(e,new n.f("",n.x.required))}),setTimeout(()=>Object(l.b)(this,void 0,void 0,function*(){const e=yield this.captchaContainer.generateToken();this.utilityService.patchCaptchaValue(this.formGroup,e,this.captchaVersionConst.default)}),1e3))):this.allowedCaptcha=!1}))}generateSignedUrl(){return Object(l.b)(this,void 0,void 0,function*(){return yield this.httpService.externalGet(preSignedUrl).toPromise().then(e=>e).catch(e=>e)})}get isPtFlow(){var e;return this.utilityService.strictCompare(null===(e=this.sessionService.resourceGroupData)||void 0===e?void 0:e.isloginConcentRequired,"true")}urlGeneration(e){if(!(e.length>1))return this.dragFleError="",new Promise((t,a)=>{const i=[];e.forEach(()=>{i.push(this.generateSignedUrl())}),this.subs.sink=Object(st.a)(i).subscribe(e=>{this.signedUrl=[].concat(...e),t(!0)})});this.dragFleError="Only one file at time allow"}dropped(e){return Object(l.b)(this,void 0,void 0,function*(){yield this.urlGeneration(e),this.sessionService.clearDocumentExtration(),this.files=e,this.maxCallTime=4,e.forEach((e,t)=>{e.fileEntry.isFile&&e.fileEntry.file(e=>Object(l.b)(this,void 0,void 0,function*(){yield this.httpService.doPut(this.signedUrl[t].uploadUrl,e).toPromise(),this.utilityService.startNgxUiSpinner(),setTimeout(()=>{this.checkForResult(t)},1e4)}))})})}checkForResult(e){return Object(l.b)(this,void 0,void 0,function*(){try{this.maxCallTime--;const t=yield this.httpService.externalGet(this.signedUrl[e].resultUrl).toPromise();if(t){clearTimeout(this.timeout),this.documentextracted=!0;const e=rt()(t.expirationDate).format("DD-MM-yyyy"),a=rt()(t.dateOfBirth).format("DD-MM-yyyy").split("-"),i=e.split("-");t.firstName=t.givenname,t.lastName=t.surname,t.emailId=t.emailAddress,t.dialCode=t.phoneNumber.substr(0,1),t.contactNumber=t.phoneNumber.substr(1),t.referenceNumber=t.visaNumber.substr(4),t.gender="MALE"===t.gender?1:"FEMALE"===t.gender?2:3,t.passportExpirtyDate={year:Number(i[2]),month:Number(i[1]),day:Number(i[0])},t.dateOfBirth={year:Number(a[2]),month:Number(a[1]),day:Number(a[0])},t.centerCode=t.visaNumber.substr(0,4),t.nationalityCode=yield this.commonService.filterNationalityByName(t.nationality),this.formGroup.patchValue(t),this.utilityService.stopNgxUiSpinner(),this.sessionService.documentExtractionData=this.sessionService.documentExtractionData.concat(t)}}catch(t){!this.documentextracted&&this.maxCallTime?this.timeout=setTimeout(()=>{this.checkForResult(e)},1e4):this.utilityService.stopNgxUiSpinner()}})}initApplication(){return Object(l.b)(this,void 0,void 0,function*(){try{const e=this.sessionService.applicationConfiguration?this.sessionService.applicationConfiguration:{},t=this.sessionService.eligibilityDetails;t?(yield this.addFieldWithValue(e),this.appConfiguration=e,yield this.loadVacCodes(),this.checkForEditMode().then(e=>this.onEditMode(e)),yield this.loadVacCodes(),this.formGroup.patchValue(t)):this.loadVacCodes()}catch(e){this.logger.error(e)}})}setWaitlistMode(){const e=this.sessionService.eligibilityDetails;(null==e?void 0:e.agreeToWaitlist)&&(this.waitlistJourney=!0,this.formGroup.controls.agreeToWaitlist.setValue(!0),this.checkForEditMode().then(e=>this.onEditMode(e)))}addFieldWithValue(e){return new Promise((t,a)=>Object(l.b)(this,void 0,void 0,function*(){(null==e?void 0:e.enableNationalityFilterForVisaCategory)&&(this.nationalityList=yield this.commonService.loadNationality(),this.formGroup.addControl("nationalityCode",new n.f(null,n.x.required))),(null==e?void 0:e.enableServiceType)&&(this.serviceTypes=yield this.commonService.loadServiceType(),this.formGroup.addControl("serviceType",new n.f(null,n.x.required))),(null==e?void 0:e.enableEntryType)&&(yield this.loadEntryType(),this.formGroup.addControl("entryType",new n.f(null,n.x.required))),(null==e?void 0:e.enableVisaType)&&(null==e?void 0:e.enableServiceType)&&(yield this.loadEOIVisaType(),this.formGroup.addControl("visaType",new n.f(null,n.x.required))),(null==e?void 0:e.enableApplicationType)&&(this.submissionTypeList=yield this.commonService.loadSubmissionType(),this.formGroup.addControl("applicationType",new n.f(null,n.x.required))),(null==e?void 0:e.enableFeeExemption)&&(this.entryTypesList=yield this.commonService.loadFeeEntryType(),this.formGroup.addControl("entryTypes",new n.f(null,n.x.required)),this.feeExemptionList=yield this.commonService.loadFeeExcemptionType(),this.formGroup.addControl("feeExcemption",new n.f(null,n.x.required)),this.feeExemptionDetails=yield this.commonService.loadFeeExcemptionDetails(),this.formGroup.addControl("feeExemptionDetails",new n.f(null,n.x.required))),t(!0)}))}initFormGroup(){this.formGroup=this.fb.group({centerCode:[null,n.x.required],selectedSubvisaCategory:[null,n.x.required],visaCategoryCode:[null,n.x.required]})}submitV2Captcha(e){this.utilityService.patchCaptchaValue(this.formGroup,e,this.captchaVersionConst.alternate)}checkSlotAvailability(){var e,t;return Object(l.b)(this,void 0,void 0,function*(){try{this.appointmentSlots=!1;const a={applicantsCount:1,slotType:2,days:c.a.slotDaysEnabled,centerCode:null===(e=this.formGroup.get("centerCode"))||void 0===e?void 0:e.value,visaCategoryCode:null===(t=this.formGroup.get("visaCategoryCode"))||void 0===t?void 0:t.value,fromDate:this.commonService.formatDateDMY(this.utilityService.momentInstance().add(1,"days").format("YYYY-MM-DD")),toDate:this.commonService.formatDateDMY(this.utilityService.momentInstance().add(c.a.slotDaysEnabled+1,"days").format("YYYY-MM-DD"))},i=yield this.commonService.loadAppointmentSlots(a);if(i&&i.length>0&&(this.appointmentSlots=!0,this.latestAvailableDate=i[0].date?this.utilityService.momentInstance(i[0].date,"MM/DD/YYYY").format("DD/MM/YYYY"):null,this.sessionService.latestSlotAvailiable=this.latestAvailableDate||"",this.latestAvailableDate)){const e=rt()(this.latestAvailableDate,"DD/MM/YYYY");this.latestAvailableDate=e.toDate()}}catch(a){throw new Error(`${r.d.INVALID_REGISTRATION_RESPONSE}: ${a}`)}})}loadVacCodes(){var e;return Object(l.b)(this,void 0,void 0,function*(){try{this.vacCenters=[],this.visaTypes=[],this.visaCategories=[];const t=yield this.commonService.getVacCenters(null===(e=this.sessionService)||void 0===e?void 0:e.appCultureCode);return t&&(this.vacCenters=t),!0}catch(t){this.logger.error(t)}})}onServiceTypeSelection(e){return Object(l.b)(this,void 0,void 0,function*(){this.visaTypes=[],this.visaCategories=[],this.entryTypeList=[],this.eoiVisaTypeList=[],this.nationalityList=[];const t=["selectedSubvisaCategory","visaCategoryCode","entryType","visaType","nationalityCode"];!0===this.waitlistJourney&&(t.push("agreeToWaitlist"),this.waitlistJourney=!1),this.utilityService.formcontrolReset(this.formGroup,t),this.loadNationality(e),this.loadVisaType(this.formGroup.value.centerCode)})}onCenterCodeChange(e){var t;return Object(l.b)(this,void 0,void 0,function*(){this.utilityService.startNgxUiSpinner(),this.sessionService.eligibilityDetails||this.utilityService.pushDataLayerGA({dl_event:"appointment_details",dl_category:"Appointment Details",dl_action:"Choose Visa Application Centre",dl_label:"page_url"}),this.nationalityList=[],this.serviceTypes=[],this.visaTypes=[],this.visaCategories=[],this.entryTypeList=[],this.entryTypesList=[],this.feeExemptionList=[],this.feeExemptionDetails=[],this.eoiVisaTypeList=[];const a=["nationalityCode","serviceType","selectedSubvisaCategory","visaCategoryCode","entryType","visaType","entryTypes","feeExcemptionDetails","feeExcemption"];!0===this.waitlistJourney&&(a.push("agreeToWaitlist"),this.waitlistJourney=!1),this.utilityService.formcontrolReset(this.formGroup,a),yield this.loadConfiguration(e),(null===(t=this.appConfiguration)||void 0===t?void 0:t.enableServiceType)||this.loadVisaType(e),this.utilityService.stopNgxUiSpinner()})}onNationalityChange(e){this.entryTypeList=[],this.eoiVisaTypeList=[],this.visaTypes=[],this.visaCategories=[];const t=["selectedSubvisaCategory","visaCategoryCode","entryType","visaType"];!0===this.waitlistJourney&&(t.push("agreeToWaitlist"),this.waitlistJourney=!1),this.utilityService.formcontrolReset(this.formGroup,t),this.loadVisaType(this.formGroup.value.centerCode),this.loadEntryType(),this.loadEOIVisaType()}appointmentCatgoryChange(e){this.entryTypeList=[],this.eoiVisaTypeList=[];const t=["entryType","visaType"];!0===this.waitlistJourney&&(t.push("agreeToWaitlist"),this.waitlistJourney=!1),this.utilityService.formcontrolReset(this.formGroup,t),this.loadVisaCategory(e),null==e||this.sessionService.eligibilityDetails||this.utilityService.pushDataLayerGA({dl_event:"appointment_details",dl_category:"Appointment Details",dl_action:"Choose appointment category",dl_label:"page_url"})}loadNationality(e){var t,a;return Object(l.b)(this,void 0,void 0,function*(){if(null===(t=this.appConfiguration)||void 0===t?void 0:t.enableNationalityFilterForVisaCategory){this.nationalityList=yield this.commonService.loadNationality(e);const t=this.sessionService.eligibilityDetails;t&&t.hasOwnProperty("nationalityCode")&&(null===(a=this.formGroup.get("nationalityCode"))||void 0===a||a.setValue(t.nationalityCode))}})}submitVisacategory(e){var t,a,i,o,s;return Object(l.b)(this,void 0,void 0,function*(){try{if(!e)return;null==e||this.sessionService.eligibilityDetails||this.utilityService.pushDataLayerGA({dl_event:"appointment_details",dl_category:"Appointment Details",dl_action:"Choose sub-category",dl_label:"page_url"});const l=this.visaCategories.filter(t=>(null==t?void 0:t.code)===e);if((null===(t=l[0])||void 0===t?void 0:t.isVLNNumberEnable)?(this.sessionService.isVLNRequired=!0,this.sessionService.regex=l[0].vlnNumberRegex):this.sessionService.isVLNRequired=!1,(null===(a=l[0])||void 0===a?void 0:a.isTMIEnabled)&&(this.sessionService.tmiEnabled=!0),this.sessionService.documentUploadEnabled=!!(null===(i=l[0])||void 0===i?void 0:i.isApplicantDocumentUploadEnabled),(null===(o=l[0])||void 0===o?void 0:o.IsOTPEnable)&&(this.sessionService.IsOTPEnable=!0),(null===(s=l[0])||void 0===s?void 0:s.enableReferenceNumber)&&(this.sessionService.isGRNEnabled=!0),this.waitlistJourney=!1,this.sessionService.waitlistJourney=!1,this.formGroup.removeControl("agreeToWaitlist"),this.appConfiguration.enableNationalityFilterForVisaCategory&&this.appConfiguration.enableEntryType&&this.appConfiguration.enableApplicationType)this.entryTypeList=[],this.eoiVisaTypeList=[],this.utilityService.formcontrolReset(this.formGroup,["entryType","visaType","agreeToWaitlist"]),this.noSlotCheck=!0,this.loadEntryType(e),this.loadEOIVisaType(e);else if(this.appConfiguration.enableApplicationType)this.noSlotCheck=!0;else{const{iswaitlist:t}=this.visaCategories.find(t=>t.code===e)||{};if(t){const t={centerCode:this.formGroup.value.centerCode,SubVisaCategory:e},{earliestDate:a}=(yield this.commonService.checkIfSlotAvailiable(t))||{};if(a||(this.sessionService.waitlistJourney=!0,this.waitlistJourney=!0,this.formGroup.addControl("agreeToWaitlist",new n.f("",n.x.requiredTrue)),this.setWaitlistMode()),this.appointmentSlots=Boolean(a),this.latestAvailableDate=a?this.utilityService.momentInstance(a,"MM/DD/YYYY").format("DD/MM/YYYY"):null,this.sessionService.latestSlotAvailiable=this.latestAvailableDate||"",this.latestAvailableDate){const e=rt()(this.latestAvailableDate,"DD/MM/YYYY");this.latestAvailableDate=e.toDate()}this.noSlotCheck=!0}else this.noSlotCheck=!1,this.submitCaptcha()}this.appConfiguration.enableNationalityFilterForVisaCategory&&this.appConfiguration.enableServiceType&&this.appConfiguration.enableVisaType&&this.loadEOIVisaType(e)}catch(l){console.log(l)}})}loadVisaType(e){var t;return Object(l.b)(this,void 0,void 0,function*(){try{const a=this.sessionService.eligibilityDetails,i=e||(a&&a.centerCode?a.centerCode:this.formGroup.value.centerCode);if(!i)return!1;this.utilityService.formcontrolReset(this.formGroup,["selectedSubvisaCategory"]);let o=null,n=null;this.appConfiguration.enableServiceType&&(o=a&&a.serviceType?a.serviceType:this.formGroup.value.serviceType),this.appConfiguration.enableNationalityFilterForVisaCategory&&(n=a&&a.nationalityCode?a.nationalityCode:this.formGroup.value.nationalityCode);const s=yield this.commonService.getVisaCategories(i,o,n);s&&(this.visaTypes=s);const l=this.sessionService.eligibilityDetails;return l&&l.hasOwnProperty("selectedSubvisaCategory")&&(null===(t=this.formGroup.get("selectedSubvisaCategory"))||void 0===t||t.setValue(l.selectedSubvisaCategory)),!0}catch(a){this.logger.error(a)}})}loadVisaCategory(e,t){var a,i;return Object(l.b)(this,void 0,void 0,function*(){try{if(!e)return;this.utilityService.formcontrolReset(this.formGroup,["visaCategoryCode"]);const o=t||(null===(a=this.formGroup.get("centerCode"))||void 0===a?void 0:a.value);let n=null,s=null;this.appConfiguration.enableServiceType&&(n=this.formGroup.value.serviceType),this.appConfiguration.enableNationalityFilterForVisaCategory&&(s=this.formGroup.value.nationalityCode);const l=yield this.commonService.getSubVisaCategories(o,e,n,s);l&&(this.visaCategories=l);const r=this.sessionService.eligibilityDetails;return r&&r.visaCategoryCode&&(null===(i=this.formGroup.get("visaCategoryCode"))||void 0===i||i.setValue(r.visaCategoryCode)),!0}catch(o){this.logger.error(o)}})}submitCaptcha(){var e;!this.isEditMode&&(null===(e=this.formGroup.get("visaCategoryCode"))||void 0===e?void 0:e.value)&&this.checkSlotAvailability()}submissionTypeChange(e){this.commonService.checkIfPostal(e)||this.commonService.checkIfOWA(e)?this.noSlotCheck=!0:(this.noSlotCheck=!1,this.submitCaptcha())}onExemptionTypeSelection(e){return Object(l.b)(this,void 0,void 0,function*(){try{this.feeExemptionDetails=[],this.utilityService.formcontrolReset(this.formGroup,["feeExemptionDetails"]),this.feeExemptionDetails=yield this.commonService.loadFeeExcemptionDetails(e)}catch(t){this.logger.error(t)}})}loadEntryType(e){var t,a,i,o;return Object(l.b)(this,void 0,void 0,function*(){try{if(!this.appConfiguration.enableEntryType)return!1;const n=this.sessionService.eligibilityDetails,s=n&&n.centerCode?n.centerCode:this.formGroup.value.centerCode,l=e||(n&&n.visaCategoryCode?n.visaCategoryCode:this.formGroup.value.visaCategoryCode),r=n&&n.nationalityCode?n.nationalityCode:this.formGroup.value.nationalityCode,c=n&&n.serviceType?n.serviceType:this.formGroup.value.serviceType;if(s&&l&&r&&c){const e=yield this.commonService.loadEntryType(s,l,r,c);this.entryTypeList=(null==e?void 0:e.entryTypes)||[],0===(null===(t=null==e?void 0:e.entryTypes)||void 0===t?void 0:t.length)?this.utilityService.formcontrolReset(this.formGroup,["entryType"]):n&&n.hasOwnProperty("entryType")&&this.formGroup.get("entryType")&&(null===(a=this.formGroup.get("entryType"))||void 0===a||a.setValue(n.entryType)),this.entryTypeError=3010===(null===(i=null==e?void 0:e.error)||void 0===i?void 0:i.code)?null===(o=null==e?void 0:e.error)||void 0===o?void 0:o.description:null}}catch(n){console.log(n)}})}loadEOIVisaType(e){var t,a,i,o;return Object(l.b)(this,void 0,void 0,function*(){try{if(!(null===(t=this.appConfiguration)||void 0===t?void 0:t.enableNationalityFilterForVisaCategory)||!(null===(a=this.appConfiguration)||void 0===a?void 0:a.enableServiceType)||!(null===(i=this.appConfiguration)||void 0===i?void 0:i.enableVisaType))return!1;const n=this.sessionService.eligibilityDetails,s=n&&n.centerCode?n.centerCode:this.formGroup.value.centerCode,l=e||(n&&n.visaCategoryCode?n.visaCategoryCode:this.formGroup.value.visaCategoryCode),r=n&&n.nationalityCode?n.nationalityCode:this.formGroup.value.nationalityCode,c=n&&n.serviceType?n.serviceType:this.formGroup.value.serviceType;if(s&&l&&r&&c){const e=yield this.commonService.loadEOIVisaType(s,l,r,c);this.eoiVisaTypeList=(null==e?void 0:e.eoiVisaTypes)||[]}n&&n.visaType&&(null===(o=this.formGroup.get("visaType"))||void 0===o||o.setValue(n.visaType))}catch(n){console.log(n)}})}checkForEditMode(){return Object(l.b)(this,void 0,void 0,function*(){try{return this.isEditMode=!!this.sessionService.eligibilityDetails,this.isEditMode}catch(e){this.logger.error(e)}})}onEditMode(e){return Object(l.b)(this,void 0,void 0,function*(){try{e&&this.formGroup.disable()}catch(t){throw t}})}get disableButton(){return this.noSlotCheck||this.isEditMode?this.formGroup.invalid:this.formGroup.invalid||null===this.latestAvailableDate}submitForm(e){return Object(l.b)(this,void 0,void 0,function*(){this.isEditMode||this.formGroup.valid?this.isEditMode||this.sessionService.applicationDetailValue?this.routeNext():this.submitEligibility():this.commonService.touchAllFields(this.formGroup)})}submitEligibility(){var e,t;return Object(l.b)(this,void 0,void 0,function*(){try{const a={dl_category:"form submission",dl_action:"form submission - application details",dl_label:null===(e=this.formGroup.value)||void 0===e?void 0:e.selectedSubvisaCategory,value:void 0};this.utilityService.fireCustomEvent(a),yield this.filterModuleOnEligibilitySubmit(this.formGroup.value.centerCode,this.formGroup.value.applicationType),this.sessionService.centerCode=this.formGroup.value.centerCode,this.sessionService.visaSubCategory=this.formGroup.value.selectedSubvisaCategory,this.sessionService.setCurrApplicantVisaType(this.formGroup.value.visaCategoryCode),(null===(t=this.appConfiguration)||void 0===t?void 0:t.enableServiceType)&&(this.sessionService.serviceTypeCode=this.formGroup.value.serviceType);const i=this.getApplicationDetails(this.formGroup.value);this.sessionService.applicationDetailValue=i,this.sessionService.eligibilityDetails=this.formGroup.value,i&&this.routeNext(),this.utilityService.pushDataLayerGA({dl_event:"appointment_details",dl_category:"Appointment Details",dl_action:"Appointment Details Continue",dl_label:"Continue"})}catch(a){if(this.logger.error(a),!this.allowedCaptcha)return;if(c.a.captchaFallbackEnabled)this.currentCaptcha=this.captchaVersionConst.alternate,this.utilityService.formcontrolReset(this.formGroup,Aa),this.utilityService.resetCaptcha();else{const e=yield this.captchaContainer.generateToken();this.utilityService.patchCaptchaValue(this.formGroup,e,this.captchaVersionConst.default)}}})}getApplicationDetails(e){const t=this.initApplicationDetails();for(const a of Object.keys(e))t.hasOwnProperty(a)&&(t[a]=e[a]);return t}initApplicationDetails(){var e,t,a,i;const o=(null===(t=null===(e=this.sessionService)||void 0===e?void 0:e.applicationConfiguration)||void 0===t?void 0:t.enableApplicationType)?"":void 0,n=(null===(i=null===(a=this.sessionService)||void 0===a?void 0:a.applicationConfiguration)||void 0===i?void 0:i.enableServiceType)?"":void 0;return{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,centerCode:"",loginUser:this.sessionService.getLoggedEmail()||"",visaCategoryCode:"",isEdit:!1,feeEntryTypeCode:null,feeExemptionTypeCode:null,feeExemptionDetailsCode:null,applicantList:[],languageCode:this.sessionService.appCultureCode,applicationType:o,serviceType:n}}loadConfiguration(e){return Object(l.b)(this,void 0,void 0,function*(){e||(e=this.sessionService.centerCode);const t=yield this.commonService.loadVacConfiguration(e);if(t){yield this.alterFormField(t),this.sessionService.applicationConfiguration=t,this.appConfiguration=t;const e=this.calculateMaxAllowedTravelDays(t);this.sessionService.setMaxAlwdDepartureDate(e)}return t})}alterFormField(e){return Object(l.b)(this,void 0,void 0,function*(){return new Promise((t,a)=>Object(l.b)(this,void 0,void 0,function*(){e.enableNationalityFilterForVisaCategory?(this.nationalityList=yield this.commonService.loadNationality(),this.formGroup.addControl("nationalityCode",new n.f(null,n.x.required))):this.formGroup.removeControl("nationalityCode"),e.enableEntryType?this.formGroup.addControl("entryType",new n.f(null,n.x.required)):this.formGroup.removeControl("entryType"),e.enableVisaType?this.formGroup.addControl("visaType",new n.f(null,n.x.required)):this.formGroup.removeControl("visaType"),e.enableApplicationType?(this.submissionTypeList=yield this.commonService.loadSubmissionType(),this.formGroup.addControl("applicationType",new n.f(null,n.x.required))):this.formGroup.removeControl("applicationType"),e.enableServiceType?(this.serviceTypes=yield this.commonService.loadServiceType(),this.formGroup.addControl("serviceType",new n.f(null,n.x.required))):this.formGroup.removeControl("serviceType"),e.enableFeeExemption?(this.entryTypesList=yield this.commonService.loadFeeEntryType(),this.feeExemptionList=yield this.commonService.loadFeeExcemptionType(),this.formGroup.addControl("entryTypes",new n.f(null,n.x.required)),this.formGroup.addControl("feeExcemption",new n.f(null,n.x.required)),this.formGroup.addControl("feeExemptionDetails",new n.f(null,n.x.required))):(this.formGroup.removeControl("entryTypes"),this.formGroup.removeControl("feeExcemption"),this.formGroup.removeControl("feeExcemptionDetails")),t(!0)}))})}calculateMaxAllowedTravelDays(e){try{const t=Number(null==e?void 0:e.xTravelDaysToBeAllowed);return this.ngbCalendar.getNext(this.ngbCalendar.getToday(),"d",t>0?t-1:0)}catch(t){this.logger.error(t)}}removeTmiModule(){return Object(l.b)(this,void 0,void 0,function*(){try{if(!this.sessionService.isSchemaUpdated){const e=this.sessionService.getFullApplicationSchema(),t=[];t.push(r.c.modules.TRAVEL_MEDICAL_INSURANCE);const a=yield this.commonService.removeModule(e,t);this.sessionService.saveApplicationSchemaInBrowser(a),this.sessionService.isSchemaUpdated=!0}}catch(e){this.logger.error(e)}})}get termCondition(){return this.utilityService.externalUrlAppend("termsandconditions")}get attendCenter(){return this.utilityService.externalUrlAppend("attend-centre")}get appointmentCategory(){var e;return null===(e=this.sessionService.resourceGroupData)||void 0===e?void 0:e.onepager}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(ct.b),o.Qb(n.e),o.Qb(te.a))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-eligibility-criteria"]],viewQuery:function(e,t){if(1&e&&o.Uc(ft,1),2&e){let e;o.Ac(e=o.ic())&&(t.captchaContainer=e.first)}},features:[o.Ab],decls:73,vars:82,consts:[[1,"container","py-15","py-md-30"],[1,"form-card"],[1,"c-brand-grey","mb-5"],[1,"fs-24","fs-sm-46","mb-25"],[1,"c-brand-grey-para","mb-30"],["class","mb-30",4,"ngIf"],[3,"formGroup"],[4,"ngIf"],[1,"form-group",3,"ngClass"],[1,"mt-15"],[1,"c-brand-error"],["class","d-inline pull-right text-right",4,"ngIf"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["formControlName","centerCode","appDefaultSelect","",3,"options","valueKey","placeholder","ngModelChange"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["formControlName","selectedSubvisaCategory","appDefaultSelect","",3,"placeholder","options","valueKey","ngModelChange"],["formControlName","visaCategoryCode","appDefaultSelect","",3,"placeholder","options","valueKey","ngModelChange"],["class","border-info mb-0","style","border-left: 5px solid",4,"ngIf"],[1,"form-card","p-0","border-0","mt-20","shadow-none"],["type","button","mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],[1,"mb-30"],[1,"fs-sm-16","text-wrap","mr-5"],["target","_blank",3,"href"],[1,"c-brand-orange","fs-sm-16","text-decoration-underline","cursor-pointer"],[1,"card-upload-document"],["accept",".pdf",3,"multiple","onFileDrop"],["ngx-file-drop-content-tmp",""],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"asterisk"],[1,"file-upload-wrapper"],["type","button",1,"file-browse",3,"click"],["class","row no-gutters file-path-box",4,"ngFor","ngForOf"],[1,"row","no-gutters","file-path-box"],[1,"col","file-name","text-overflow"],[1,"check-mark","text-center","bg-brand-green"],[1,"c-brand-error","text-decoration-underline","cursor-pointer",3,"click"],[1,"errorMessage"],[1,"errorMessage","c-brand-error"],["matTooltipPosition","above",1,"brand-tooltip","fa","fa-info",3,"matTooltip"],["tooltip","matTooltip"],[1,"d-inline","pull-right","text-right"],["class","errorMessage c-brand-error",4,"ngIf"],[3,"value"],["appDefaultSelect","","formControlName","serviceType",3,"options","valueKey","placeholder","ngModelChange"],["appDefaultSelect","","formControlName","nationalityCode",3,"options","valueKey","placeholder","ngModelChange"],["appDefaultSelect","","formControlName","entryType",3,"options","valueKey","placeholder"],["formControlName","visaType","appDefaultSelect","",3,"options","valueKey","placeholder"],["formControlName","applicationType","appDefaultSelect","",3,"placeholder","options","valueKey","ngModelChange"],["appDefaultSelect","","formControlName","entryTypes",3,"options","valueKey","placeholder"],["appDefaultSelect","","formControlName","feeExcemption",3,"options","valueKey","placeholder","ngModelChange"],["appDefaultSelect","","formControlName","feeExemptionDetails",3,"options","valueKey","placeholder"],[1,"border-info","mb-0",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0"],[1,"form-group","mb-20"],[1,"pl-35"],["formControlName","agreeToWaitlist",1,"mat-checkbox-brand","ml-n35"],[1,"fs-sm-18","text-wrap","mr-5"],[1,"c-brand-orange","fs-sm-18","text-decoration-underline","cursor-pointer"]],template:function(e,t){1&e&&(o.Wb(0,"section",0),o.Wb(1,"form"),o.Wb(2,"mat-card",1),o.Wb(3,"p",2),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Wb(6,"h1",3),o.Oc(7),o.mc(8,"translate"),o.Vb(),o.Wb(9,"p",4),o.Oc(10),o.mc(11,"translate"),o.Vb(),o.Mc(12,ht,15,14,"div",5),o.Wb(13,"form",6),o.Mc(14,Ct,5,2,"ng-container",7),o.Wb(15,"div",8),o.Wb(16,"div",9),o.Oc(17),o.mc(18,"translate"),o.Wb(19,"span",10),o.Oc(20,"*"),o.Vb(),o.Mc(21,Dt,4,3,"ng-container",7),o.Mc(22,It,3,4,"h6",11),o.Vb(),o.Mc(23,At,2,1,"div",12),o.Wb(24,"mat-form-field",13),o.Wb(25,"mat-select",14),o.hc("ngModelChange",function(e){return t.onCenterCodeChange(e)}),o.mc(26,"translate"),o.Mc(27,Ot,2,2,"mat-option",15),o.mc(28,"sortBy"),o.Vb(),o.Vb(),o.Vb(),o.Rb(29,"hr"),o.Mc(30,Wt,15,18,"ng-container",7),o.Mc(31,_t,15,18,"ng-container",7),o.Wb(32,"div",8),o.Wb(33,"div"),o.Oc(34),o.mc(35,"translate"),o.Wb(36,"span",10),o.Oc(37,"*"),o.Vb(),o.Mc(38,xt,4,3,"ng-container",7),o.Vb(),o.Mc(39,Rt,2,1,"div",12),o.Wb(40,"mat-form-field",13),o.Wb(41,"mat-select",16),o.hc("ngModelChange",function(e){return t.appointmentCatgoryChange(e)}),o.mc(42,"translate"),o.Mc(43,Ut,2,2,"mat-option",15),o.mc(44,"sortBy"),o.Vb(),o.Vb(),o.Vb(),o.Rb(45,"hr"),o.Wb(46,"div",8),o.Wb(47,"div"),o.Oc(48),o.mc(49,"translate"),o.Wb(50,"span",10),o.Oc(51,"*"),o.Vb(),o.Mc(52,Bt,4,3,"ng-container",7),o.Vb(),o.Mc(53,Yt,2,1,"div",12),o.Wb(54,"mat-form-field",13),o.Wb(55,"mat-select",17),o.hc("ngModelChange",function(e){return t.submitVisacategory(e)}),o.mc(56,"translate"),o.Mc(57,Qt,2,2,"mat-option",15),o.mc(58,"sortBy"),o.Vb(),o.Vb(),o.Vb(),o.Rb(59,"hr"),o.Mc(60,zt,15,18,"ng-container",7),o.Mc(61,ta,15,18,"ng-container",7),o.Mc(62,sa,15,18,"ng-container",7),o.Mc(63,ua,15,18,"ng-container",7),o.Mc(64,fa,15,18,"ng-container",7),o.Mc(65,Ca,15,18,"ng-container",7),o.Mc(66,Da,4,3,"div",18),o.Mc(67,Ia,5,7,"div",18),o.Mc(68,Va,11,7,"ng-container",7),o.Vb(),o.Vb(),o.Wb(69,"mat-card",19),o.Wb(70,"button",20),o.hc("click",function(){return t.submitForm()}),o.Oc(71),o.mc(72,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e&&(o.Db(4),o.Pc(o.nc(5,47,"eligibilityCriteria.pageDetails.para1")),o.Db(3),o.Pc(o.nc(8,49,"eligibilityCriteria.headerLabel.label1")),o.Db(3),o.Pc(o.nc(11,51,"eligibilityCriteria.pageDetails.para2")),o.Db(2),o.tc("ngIf",t.isPtFlow),o.Db(1),o.tc("formGroup",t.formGroup),o.Db(1),o.tc("ngIf",t.showExtractionField),o.Db(1),o.tc("ngClass",o.xc(76,Et,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.centerCode?null:t.formGroup.controls.centerCode.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.centerCode?null:t.formGroup.controls.centerCode.invalid))),o.Db(2),o.Qc(" ",o.nc(18,53,"eligibilityCriteria.formLabel.label1"),""),o.Db(4),o.tc("ngIf",t.hasTranslation("eligibilityCriteria.formLabel.tooltip1")),o.Db(1),o.tc("ngIf",null==t.vacCenters?null:t.vacCenters.length),o.Db(1),o.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.centerCode?null:t.formGroup.controls.centerCode.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.centerCode?null:t.formGroup.controls.centerCode.errors)),o.Db(2),o.uc("placeholder",o.nc(26,55,"eligibilityCriteria.placeholder.label1")),o.tc("options",t.vacCenters)("valueKey","isoCode"),o.Db(2),o.tc("ngForOf",o.oc(28,57,t.vacCenters,"centerName"))("ngForTrackBy",t.trackByFn),o.Db(3),o.tc("ngIf",(null==t.appConfiguration?null:t.appConfiguration.enableServiceType)&&(null==t.serviceTypes?null:t.serviceTypes.length)>0),o.Db(1),o.tc("ngIf",null==t.appConfiguration?null:t.appConfiguration.enableNationalityFilterForVisaCategory),o.Db(1),o.tc("ngClass",o.xc(78,Et,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.selectedSubvisaCategory?null:t.formGroup.controls.selectedSubvisaCategory.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.selectedSubvisaCategory?null:t.formGroup.controls.selectedSubvisaCategory.invalid))),o.Db(2),o.Qc(" ",o.nc(35,60,"eligibilityCriteria.formLabel.label2"),""),o.Db(4),o.tc("ngIf",t.hasTranslation("eligibilityCriteria.formLabel.tooltip4")),o.Db(1),o.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.selectedSubvisaCategory?null:t.formGroup.controls.selectedSubvisaCategory.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.selectedSubvisaCategory?null:t.formGroup.controls.selectedSubvisaCategory.errors)),o.Db(2),o.uc("placeholder",o.nc(42,62,"eligibilityCriteria.placeholder.label2")),o.tc("options",t.visaTypes)("valueKey","code"),o.Db(2),o.tc("ngForOf",o.oc(44,64,t.visaTypes,"name"))("ngForTrackBy",t.trackByFn),o.Db(3),o.tc("ngClass",o.xc(80,Et,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.visaCategoryCode?null:t.formGroup.controls.visaCategoryCode.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.visaCategoryCode?null:t.formGroup.controls.visaCategoryCode.invalid))),o.Db(2),o.Qc(" ",o.nc(49,67,"eligibilityCriteria.formLabel.label3"),""),o.Db(4),o.tc("ngIf",t.hasTranslation("eligibilityCriteria.formLabel.tooltip5")),o.Db(1),o.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.visaCategoryCode?null:t.formGroup.controls.visaCategoryCode.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.visaCategoryCode?null:t.formGroup.controls.visaCategoryCode.errors)),o.Db(2),o.uc("placeholder",o.nc(56,69,"eligibilityCriteria.placeholder.label3")),o.tc("options",t.visaCategories)("valueKey","code"),o.Db(2),o.tc("ngForOf",o.oc(58,71,t.visaCategories,"name"))("ngForTrackBy",t.trackByFn),o.Db(3),o.tc("ngIf",null==t.appConfiguration?null:t.appConfiguration.enableEntryType),o.Db(1),o.tc("ngIf",null==t.appConfiguration?null:t.appConfiguration.enableVisaType),o.Db(1),o.tc("ngIf",(null==t.appConfiguration?null:t.appConfiguration.enableApplicationType)&&(null==t.submissionTypeList?null:t.submissionTypeList.length)),o.Db(1),o.tc("ngIf",(null==t.appConfiguration?null:t.appConfiguration.enableFeeExemption)&&t.entryTypesList.length>0),o.Db(1),o.tc("ngIf",null==t.appConfiguration?null:t.appConfiguration.enableFeeExemption),o.Db(1),o.tc("ngIf",null==t.appConfiguration?null:t.appConfiguration.enableFeeExemption),o.Db(1),o.tc("ngIf",t.formGroup.valid&&t.appointmentSlots&&!t.latestAvailableDate),o.Db(1),o.tc("ngIf",(null==t.formGroup?null:t.formGroup.valid)&&t.appointmentSlots&&t.latestAvailableDate),o.Db(1),o.tc("ngIf",t.waitlistJourney),o.Db(2),o.tc("disabled",t.disableButton),o.Db(1),o.Qc(" ",o.nc(72,74,"commonSections.buttons.button19")," "))},directives:[n.y,n.r,n.s,u.a,m.o,n.j,m.m,b.b,dt.a,n.q,n.h,ut,m.n,h.a,mt.a,mt.c,pt.a,bt.j,f.a],pipes:[p.d,gt.h,m.e],encapsulation:2}),e})();var Ta=a("8ajC"),La=a("0IaG"),Na=a("C+1A");function Ma(e,t){1&e&&(o.Wb(0,"p",11),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Pc(o.nc(2,1,"dashboard.pageDetails.para10")))}function Ea(e,t){if(1&e){const e=o.Xb();o.Wb(0,"button",12),o.hc("click",function(){return o.Fc(e),o.lc().confirmReschedule()}),o.Oc(1),o.mc(2,"translate"),o.Vb()}2&e&&(o.Db(1),o.Pc(o.nc(2,1,"dashboard.buttons.button3")))}let Wa=(()=>{class e extends d.a{constructor(e,t,a){super(),this.data=e,this.dialog=t,this.dialogRef=a}confirmReschedule(){var e;(null===(e=this.data)||void 0===e?void 0:e.isReschedulingAllowed)&&this.dialogRef.close({data:"reschedule"})}close(){this.dialogRef.close()}confirmCancel(){this.dialogRef.close({data:"cancel"})}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(La.a),o.Qb(La.b),o.Qb(La.h))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-cancel-appointment-modal"]],features:[o.Ab],decls:16,vars:9,consts:[[1,"mat-modal-container",2,"max-width","550px"],[1,"position-absolute","top-10","right-10"],[1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"fs-18","fs-sm-21","mb-10","pr-20"],[1,"my-20"],["class","fs-sm-20 c-brand-grey-para mb-15",4,"ngIf"],[1,"row"],[1,"col-6","col-md"],["mat-stroked-button","","class","btn mat-btn-lg btn-block btn-outline-brand-orange mt-15","data-dismiss","modal",3,"click",4,"ngIf"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","mt-15",3,"click"],[1,"fs-sm-20","c-brand-grey-para","mb-15"],["mat-stroked-button","","data-dismiss","modal",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mt-15",3,"click"]],template:function(e,t){1&e&&(o.Wb(0,"div",0),o.Wb(1,"div",1),o.Wb(2,"button",2),o.hc("click",function(){return t.close()}),o.Rb(3,"img",3),o.Vb(),o.Vb(),o.Wb(4,"h4",4),o.Oc(5),o.mc(6,"translate"),o.Vb(),o.Rb(7,"hr",5),o.Mc(8,Ma,3,3,"p",6),o.Wb(9,"div",7),o.Wb(10,"div",8),o.Mc(11,Ea,3,3,"button",9),o.Vb(),o.Wb(12,"div",8),o.Wb(13,"button",10),o.hc("click",function(){return t.confirmCancel()}),o.Oc(14),o.mc(15,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e&&(o.Db(3),o.vc("src","",t.getGlobalImagePath,"/close-btn.png",o.Hc),o.Db(2),o.Pc(o.nc(6,5,"dashboard.pageDetails.para9")),o.Db(3),o.tc("ngIf",null==t.data?null:t.data.isReschedulingAllowed),o.Db(3),o.tc("ngIf",null==t.data?null:t.data.isReschedulingAllowed),o.Db(3),o.Pc(o.nc(15,7,"dashboard.buttons.button4")))},directives:[m.o,h.a],pipes:[p.d],encapsulation:2}),e})();var Pa=a("lJxs"),ka=a("wZkO");function wa(e,t){1&e&&(o.Ub(0),o.Wb(1,"div",7),o.Wb(2,"div",8),o.Oc(3),o.mc(4,"translate"),o.Vb(),o.Wb(5,"div",9),o.Oc(6),o.mc(7,"translate"),o.Vb(),o.Vb(),o.Tb()),2&e&&(o.Db(3),o.Pc(o.nc(4,2,"dashboard.pageDetails.para1")),o.Db(3),o.Pc(o.nc(7,4,"dashboard.pageDetails.para2")))}const Fa=function(e){return{"my-12":e}};function _a(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"li",0),o.Oc(2),o.Vb(),o.Tb()),2&e){const e=t.$implicit,a=t.odd;o.Db(1),o.tc("ngClass",o.xc(2,Fa,a)),o.Db(1),o.Pc(null==e?null:e.value)}}function xa(e,t){if(1&e&&(o.Wb(0,"ul",14),o.Mc(1,_a,3,4,"ng-container",15),o.mc(2,"keyvalue"),o.mc(3,"translate"),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngForOf",o.nc(2,2,o.nc(3,4,"dashboard.pageDetails.para11")))("ngForTrackBy",e.trackByFn)}}function Ga(e,t){1&e&&(o.Wb(0,"div",10),o.Wb(1,"div",11),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Wb(4,"div",12),o.Oc(5),o.mc(6,"translate"),o.Vb(),o.Mc(7,xa,4,6,"ul",13),o.Vb()),2&e&&(o.Db(2),o.Pc(o.nc(3,3,"dashboard.pageDetails.para1")),o.Db(3),o.Pc(o.nc(6,5,"dashboard.pageDetails.para2")),o.Db(2),o.tc("ngIf","dashboard.pageDetails.para11".length>0))}const Ra=function(e){return{"col-12":e}},Ua=function(e){return{"col-lg-12 mb-lg-35":e}},Ba=function(e){return{"col-lg-12 text-lg-center":e}};let ja=(()=>{class e extends d.a{constructor(){super(),this.constants=r.c,this.type=""}get travelInsurance(){return this.utilityService.externalUrlAppend("travel-insurance")}GAForClickDatails(){this.utilityService.pushDataLayerGA({dl_event:"travel_medical_insurance",dl_category:"Travel Medical Insurance",dl_action:"Get Quote",dl_label:"Apply For Travel Medical Insurance"})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Kb({type:e,selectors:[["app-medical-insurance"]],inputs:{type:"type"},features:[o.Ab],decls:11,vars:18,consts:[[3,"ngClass"],[1,"row","no-gutters","align-items-center","bg-brand-footer","text-center","text-md-left","p-25",3,"ngClass"],[1,"col-12","col-md-auto",3,"ngClass"],["alt","Travel Medical Insurance",1,"img-fluid-center","mb-20","mb-md-0",3,"src"],[4,"ngIf","ngIfElse"],["secondTemplate",""],["target","_blank",1,"btn","btn-lg","btn-outline-brand-orange","min-w-160",3,"ngClass","href","click"],[1,"col-12","col-md","mb-40","mb-md-0","px-md-20"],[1,"c-brand-blue","fs-18","fs-sm-22","fs-lg-25","mb-5"],[1,"c-brand-grey-para","fs-lg-18"],[1,"col-12","col-md","col-lg-12","mb-40","mb-md-0","px-md-20","px-lg-0","mb-lg-40"],[1,"c-brand-blue","fs-18","fs-sm-22","fs-lg-18","mb-5","mb-lg-15"],[1,"c-brand-grey-para"],["class","c-brand-grey-para text-left mt-15 pl-20",4,"ngIf"],[1,"c-brand-grey-para","text-left","mt-15","pl-20"],[4,"ngFor","ngForOf","ngForTrackBy"]],template:function(e,t){if(1&e&&(o.Wb(0,"div",0),o.Wb(1,"div",1),o.Wb(2,"div",2),o.Rb(3,"img",3),o.Vb(),o.Mc(4,wa,8,6,"ng-container",4),o.Mc(5,Ga,8,7,"ng-template",null,5,o.Nc),o.Wb(7,"div",2),o.Wb(8,"a",6),o.hc("click",function(){return t.GAForClickDatails()}),o.Oc(9),o.mc(10,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e){const e=o.Bc(6);o.tc("ngClass",o.xc(12,Ra,"1"===t.type)),o.Db(1),o.tc("ngClass","1"===t.type?"p-lg-50":"py-lg-35"),o.Db(1),o.tc("ngClass",o.xc(14,Ua,"1"!==t.type)),o.Db(1),o.vc("src","",t.getGlobalImagePath,"/travel.png",o.Hc),o.Db(1),o.tc("ngIf","1"===t.type)("ngIfElse",e),o.Db(3),o.tc("ngClass",o.xc(16,Ba,"1"!==t.type)),o.Db(1),o.tc("ngClass","1"===t.type?"min-lg-w-180":"min-xl-w-180")("href",t.travelInsurance,o.Hc),o.Db(1),o.Pc(o.nc(10,10,"dashboard.buttons.button5"))}},directives:[m.m,m.o,m.n],pipes:[p.d,m.i],encapsulation:2}),e})();var Ya=a("7EHt");const Qa=["viewChangeAppointmentModal"];function $a(e,t){if(1&e&&(o.Wb(0,"div",18),o.Wb(1,"div",19),o.Rb(2,"i",20),o.Wb(3,"div"),o.Oc(4),o.Vb(),o.Vb(),o.Vb()),2&e){const e=o.lc(2);o.Db(4),o.Pc(e.cancelAppointmentMsg)}}const qa=function(e,t){return{rescheduledTime:e,rescheduledDate:t}};function Ha(e,t){if(1&e&&(o.Wb(0,"div",18),o.Wb(1,"div",19),o.Rb(2,"i",20),o.Wb(3,"div"),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Vb(),o.Vb()),2&e){const e=o.lc(2);o.Db(4),o.Qc(" ",o.oc(5,1,"dashboard.messages.infoMessages.message2",o.yc(4,qa,null==e.rescheduledDetails?null:e.rescheduledDetails.rescheduledTime,null==e.rescheduledDetails?null:e.rescheduledDetails.rescheduledDate))," ")}}function Ka(e,t){if(1&e&&(o.Wb(0,"div",34),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e){const e=o.lc().$implicit;o.Db(1),o.Rc(" ",o.nc(2,2,"dashboard.headerLabel.label7")," - ",e.urn," ")}}function za(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div",28),o.Wb(1,"span",29),o.hc("click",function(){o.Fc(e);const t=o.lc(2).$implicit;return o.lc(3).scheduleWaitlist(t)}),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()}2&e&&(o.Db(2),o.Qc(" ",o.nc(3,1,"dashboard.headerLabel.label27")," "))}function Za(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div",28),o.Wb(1,"span",29),o.hc("click",function(){o.Fc(e);const t=o.lc(2).$implicit;return o.lc(3).updateCategory(t)}),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()}2&e&&(o.Db(2),o.Qc(" ",o.nc(3,1,"dashboard.headerLabel.label28")," "))}function Ja(e,t){if(1&e&&(o.Wb(0,"div",26),o.Wb(1,"div",34),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Mc(4,za,4,3,"div",35),o.Mc(5,Za,4,3,"div",35),o.Vb()),2&e){const e=o.lc().$implicit,t=o.lc(3);o.Db(2),o.Rc(" ",o.nc(3,4,"dashboard.headerLabel.label25"),": ",null==e?null:e.waitlistStatus," "),o.Db(2),o.tc("ngIf",e.isWaitlist&&(null==e?null:e.waitlistStatus)===t.waitlistAllowed),o.Db(1),o.tc("ngIf",!(null!=e&&e.isWaitlistUpdate)&&(null==e?null:e.waitlistStatus)===t.waitlisted)}}function Xa(e,t){1&e&&(o.Wb(0,"span"),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"polandTurkey.pageDetails.para30")," "))}function ei(e,t){1&e&&(o.Wb(0,"span"),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"polandTurkey.pageDetails.para31")," "))}function ti(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"div",36),o.Oc(2),o.mc(3,"translate"),o.Mc(4,Xa,3,3,"span",16),o.Mc(5,ei,3,3,"span",16),o.Vb(),o.Tb()),2&e){const e=o.lc().$implicit;o.Db(2),o.Qc(" ",o.nc(3,3,"polandTurkey.formLabel.label10"),": "),o.Db(2),o.tc("ngIf","Confirmed"==(null==e?null:e.PayAtBankStatus)),o.Db(1),o.tc("ngIf","Pending"==(null==e?null:e.PayAtBankStatus))}}function ai(e,t){if(1&e&&(o.Wb(0,"div"),o.Wb(1,"div",37),o.Oc(2),o.Vb(),o.Vb()),2&e){const e=t.$implicit;o.Db(2),o.Rc("",e.firstName," ",e.lastName,"")}}function ii(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div",22),o.Wb(1,"div",23),o.Wb(2,"div",24),o.Oc(3),o.mc(4,"translate"),o.mc(5,"translate"),o.Vb(),o.Wb(6,"h2",25),o.Oc(7),o.Vb(),o.Wb(8,"div",26),o.Mc(9,Ka,3,4,"div",27),o.Wb(10,"div",28),o.Wb(11,"span",29),o.hc("click",function(){o.Fc(e);const a=t.$implicit;return o.lc(3).displayDetail(a)}),o.Oc(12),o.mc(13,"translate"),o.mc(14,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Mc(15,Ja,6,6,"div",30),o.Mc(16,ti,6,5,"ng-container",16),o.Rb(17,"hr",31),o.Wb(18,"div",32),o.Oc(19),o.mc(20,"translate"),o.Vb(),o.Mc(21,ai,3,2,"div",33),o.Vb(),o.Vb()}if(2&e){const e=t.$implicit,a=o.lc(3);o.Db(3),o.Qc(" ",null!=e&&e.isAppointment||null!=e&&e.isWaitlist?o.nc(4,9,"dashboard.headerLabel.label8"):o.nc(5,11,"dashboard.headerLabel.label6")," "),o.Db(4),o.Pc(e.visaCategoryName),o.Db(2),o.tc("ngIf",!(null!=a.allConfiguration[0]&&a.allConfiguration[0].enableIRLNumber)),o.Db(3),o.Qc(" ",null!=e&&e.isAppointment?o.nc(13,13,"dashboard.headerLabel.label20"):o.nc(14,15,"dashboard.headerLabel.label23")," "),o.Db(3),o.tc("ngIf",null==e?null:e.waitlistStatus),o.Db(1),o.tc("ngIf",null==e?null:e.isPayAtBankSelected),o.Db(3),o.Qc("",o.nc(20,17,"dashboard.headerLabel.label19"),":"),o.Db(2),o.tc("ngForOf",e.applicants)("ngForTrackBy",a.trackByFn)}}function oi(e,t){if(1&e&&(o.Ub(0),o.Mc(1,ii,22,19,"div",21),o.Tb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngForOf",e.applicationList)("ngForTrackBy",e.trackByFn)}}function ni(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div",38),o.Wb(1,"div",39),o.Wb(2,"h2",40),o.Oc(3),o.mc(4,"translate"),o.Vb(),o.Wb(5,"p",41),o.Oc(6),o.mc(7,"translate"),o.Vb(),o.Wb(8,"div",42),o.Wb(9,"div",43),o.Wb(10,"mat-checkbox",44),o.hc("ngModelChange",function(t){return o.Fc(e),o.lc(2).ptImportantCheck=t}),o.Wb(11,"div",45),o.Oc(12),o.mc(13,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(14,"div",39),o.Wb(15,"h2",40),o.Oc(16),o.mc(17,"translate"),o.Vb(),o.Wb(18,"p",41),o.Oc(19),o.mc(20,"translate"),o.Vb(),o.Wb(21,"div",42),o.Wb(22,"div",43),o.Wb(23,"mat-checkbox",44),o.hc("ngModelChange",function(t){return o.Fc(e),o.lc(2).ptWarningCheck=t}),o.Wb(24,"div",45),o.Oc(25),o.mc(26,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()}if(2&e){const e=o.lc(2);o.Db(3),o.Pc(o.nc(4,8,"polandTurkey.pageDetails.para6")),o.Db(3),o.Pc(o.nc(7,10,"polandTurkey.pageDetails.para7")),o.Db(4),o.tc("ngModel",e.ptImportantCheck),o.Db(2),o.Pc(o.nc(13,12,"polandTurkey.pageDetails.para8")),o.Db(4),o.Pc(o.nc(17,14,"polandTurkey.pageDetails.para9")),o.Db(3),o.Pc(o.nc(20,16,"polandTurkey.pageDetails.para10")),o.Db(4),o.tc("ngModel",e.ptWarningCheck),o.Db(2),o.Pc(o.nc(26,18,"polandTurkey.pageDetails.para11"))}}function si(e,t){1&e&&(o.Wb(0,"div"),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"dashboard.messages.infoMessages.message1")," "))}function li(e,t){1&e&&(o.Ub(0),o.Rb(1,"app-medical-insurance",46),o.Tb()),2&e&&(o.Db(1),o.tc("type","1"))}function ri(e,t){if(1&e){const e=o.Xb();o.Wb(0,"section",5),o.Wb(1,"div",6),o.Wb(2,"div",7),o.Wb(3,"div",8),o.Mc(4,$a,5,1,"div",9),o.Mc(5,Ha,6,7,"div",9),o.Vb(),o.Wb(6,"div",10),o.Wb(7,"button",11),o.hc("click",function(){return o.Fc(e),o.lc().applyNow()}),o.Oc(8),o.mc(9,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(10,"div",12),o.Wb(11,"button",13),o.hc("click",function(){return o.Fc(e),o.lc().applyNow()}),o.Oc(12),o.mc(13,"translate"),o.Vb(),o.Wb(14,"mat-tab-group",14),o.hc("selectedIndexChange",function(t){o.Fc(e);const a=o.lc();return null==a.selected?null:a.selected.setValue(t)})("selectedTabChange",function(t){return o.Fc(e),o.lc().tabChanged(t)}),o.Wb(15,"mat-tab",15),o.mc(16,"translate"),o.Mc(17,oi,2,2,"ng-container",16),o.Mc(18,ni,27,20,"div",17),o.Rb(19,"br"),o.Mc(20,si,3,3,"div",16),o.Vb(),o.Vb(),o.Vb(),o.Mc(21,li,2,1,"ng-container",16),o.Vb(),o.Vb()}if(2&e){const e=o.lc();o.tc("ngClass",e.detailMode?"d-none":"d-block"),o.Db(4),o.tc("ngIf",e.cancelAppointmentMsg),o.Db(1),o.tc("ngIf",e.viewRescheduledMsgFlag),o.Db(2),o.tc("disabled",e.checkIfDisabled()),o.Db(1),o.Qc(" ",o.nc(9,13,"dashboard.buttons.button2")," "),o.Db(3),o.tc("disabled",e.checkIfDisabled()),o.Db(1),o.Qc(" ",o.nc(13,15,"dashboard.buttons.button2")," "),o.Db(2),o.tc("selectedIndex",e.selectedIdx),o.Db(1),o.uc("label",o.nc(16,17,"dashboard.headerLabel.label3")),o.Db(2),o.tc("ngIf",(null==e.applicationList?null:e.applicationList.length)>0),o.Db(1),o.tc("ngIf",e.isPtFlow&&e.ptWarningView),o.Db(2),o.tc("ngIf",0===(null==e.applicationList?null:e.applicationList.length)&&!e.isPtFlow),o.Db(1),o.tc("ngIf",e.insuranceBox)}}function ci(e,t){1&e&&(o.Wb(0,"div",18),o.Wb(1,"div",19),o.Rb(2,"i",20),o.Rb(3,"div",58),o.Vb(),o.Vb()),2&e&&(o.Db(3),o.tc("translate","dashboard.messages.resendConfirmationLetter.message1"))}function di(e,t){if(1&e&&(o.Wb(0,"p",59),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.Rc("",o.nc(2,2,"dashboard.headerLabel.label7"),": ",e.applicationDetail.urn,"")}}function ui(e,t){if(1&e&&(o.Wb(0,"p",59),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.Rc(" ",o.nc(2,2,"dashboard.headerLabel.label25"),": ",null==e.applicationDetail?null:e.applicationDetail.waitlistStatus," ")}}function mi(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div",60),o.Wb(1,"div",61),o.Wb(2,"button",62),o.hc("click",function(){o.Fc(e);const t=o.lc(2);return t.scheduleWaitlist(t.applicationDetail)}),o.Oc(3),o.mc(4,"translate"),o.Vb(),o.Vb(),o.Vb()}2&e&&(o.Db(3),o.Qc(" ",o.nc(4,1,"dashboard.headerLabel.label27")," "))}function pi(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div",66),o.Wb(1,"span",48),o.hc("click",function(){o.Fc(e);const t=o.lc(4);return t.cancelWaitlist(t.applicationDetail.urn)}),o.Rb(2,"i",67),o.Wb(3,"span",68),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Vb(),o.Vb()}2&e&&(o.Db(4),o.Pc(o.nc(5,1,"dashboard.headerLabel.label29")))}function bi(e,t){if(1&e&&(o.Wb(0,"div",64),o.Mc(1,pi,6,3,"div",65),o.Vb()),2&e){const e=o.lc(3);o.Db(1),o.tc("ngIf",e.applicationDetail.cancellationAllowed)}}function gi(e,t){if(1&e&&(o.Wb(0,"mat-expansion-panel"),o.Wb(1,"mat-expansion-panel-header",55),o.Wb(2,"div",56),o.Oc(3),o.mc(4,"translate"),o.Vb(),o.Vb(),o.Mc(5,bi,2,1,"div",63),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("@.disabled",!0),o.Db(2),o.Qc("",o.nc(4,3,"dashboard.headerLabel.label8"),":"),o.Db(2),o.tc("ngIf",e.applicationDetail.isWaitlist)}}function fi(e,t){if(1&e&&(o.Wb(0,"div",73),o.Oc(1),o.Vb()),2&e){const e=o.lc(3);o.Db(1),o.Qc(" ",e.appointmentDateFormat," ")}}function hi(e,t){if(1&e&&(o.Wb(0,"div",74),o.Oc(1),o.Vb()),2&e){const e=o.lc(3);o.Db(1),o.Qc(" ",null==e.applicationDetail||null==e.applicationDetail.applicants[0]||null==e.applicationDetail.applicants[0].appointment?null:e.applicationDetail.applicants[0].appointment.appointmentTime," ")}}function vi(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div",66),o.Wb(1,"span",48),o.hc("click",function(){o.Fc(e);const t=o.lc(4);return t.cancelAppointment(t.applicationDetail.urn,t.applicationDetail)}),o.Rb(2,"i",67),o.Wb(3,"span",68),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Vb(),o.Vb()}2&e&&(o.Db(4),o.Pc(o.nc(5,1,"dashboard.headerLabel.label9")))}function yi(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div",66),o.Wb(1,"span",48),o.hc("click",function(){o.Fc(e);const t=o.lc(4);return t.rescheduleAppointment(t.applicationDetail)}),o.Rb(2,"i",75),o.Wb(3,"span",76),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Vb(),o.Vb()}2&e&&(o.Db(4),o.Pc(o.nc(5,1,"dashboard.headerLabel.label10")))}function Si(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div",66),o.Wb(1,"span",48),o.hc("click",function(){o.Fc(e);const t=o.lc(4);return t.resendConfirmationLetter(t.applicationDetail.urn)}),o.Rb(2,"i",77),o.Wb(3,"span",76),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Vb(),o.Vb()}2&e&&(o.Db(4),o.Pc(o.nc(5,1,"dashboard.headerLabel.label11")))}function Ci(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div",66),o.Wb(1,"span",48),o.hc("click",function(){o.Fc(e);const t=o.lc(4);return t.printAppointmentLetter(t.applicationDetail.urn)}),o.Rb(2,"i",78),o.Wb(3,"span",76),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Vb(),o.Vb()}2&e&&(o.Db(4),o.Pc(o.nc(5,1,"dashboard.headerLabel.label12")))}function Di(e,t){if(1&e&&(o.Wb(0,"div",60),o.Mc(1,vi,6,3,"div",65),o.Mc(2,yi,6,3,"div",65),o.Mc(3,Si,6,3,"div",65),o.Mc(4,Ci,6,3,"div",65),o.Vb()),2&e){const e=o.lc(3);o.Db(1),o.tc("ngIf",e.applicationDetail.cancellationAllowed&&!e.isPtFlow),o.Db(1),o.tc("ngIf",e.applicationDetail.rescheduleAllowed&&!e.applicationDetail.isRescheduleDisabled&&"Pending"!==(null==e.applicationDetail?null:e.applicationDetail.PayAtBankStatus)),o.Db(1),o.tc("ngIf","Pending"!==(null==e.applicationDetail?null:e.applicationDetail.PayAtBankStatus)),o.Db(1),o.tc("ngIf","Pending"!==(null==e.applicationDetail?null:e.applicationDetail.PayAtBankStatus))}}function Ii(e,t){if(1&e&&(o.Wb(0,"mat-expansion-panel"),o.Wb(1,"mat-expansion-panel-header",55),o.Wb(2,"div",56),o.Oc(3),o.mc(4,"translate"),o.Vb(),o.Vb(),o.Mc(5,fi,2,1,"div",69),o.Wb(6,"div",70),o.Oc(7),o.Vb(),o.Mc(8,hi,2,1,"div",71),o.Rb(9,"hr",72),o.Mc(10,Di,5,4,"div",53),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("@.disabled",!0),o.Db(2),o.Qc("",o.nc(4,6,"dashboard.headerLabel.label8"),":"),o.Db(2),o.tc("ngIf",null==e.applicationDetail||null==e.applicationDetail.applicants[0]||null==e.applicationDetail.applicants[0].appointment?null:e.applicationDetail.applicants[0].appointment.appoinmentDate),o.Db(2),o.Qc(" ",e.applicationDetail.vacAddress," "),o.Db(1),o.tc("ngIf",null==e.applicationDetail||null==e.applicationDetail.applicants[0]||null==e.applicationDetail.applicants[0].appointment?null:e.applicationDetail.applicants[0].appointment.appointmentTime),o.Db(2),o.tc("ngIf",e.applicationDetail.isAppointment)}}function Vi(e,t){if(1&e&&(o.Wb(0,"tr"),o.Wb(1,"td",81),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Wb(4,"td",81),o.Oc(5),o.Vb(),o.Vb()),2&e){const e=o.lc().$implicit,t=o.lc(2);o.Db(2),o.Qc("",o.nc(3,2,"dashboard.headerLabel.label15"),":"),o.Db(3),o.Pc(t.utilityService.momentInstance(e.dateOfBirth,"DD/MM/YYYY").format(t.dateFormat.toUpperCase()))}}function Ai(e,t){if(1&e&&(o.Wb(0,"tr"),o.Wb(1,"td",81),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Wb(4,"td",81),o.Oc(5),o.Vb(),o.Vb()),2&e){const e=o.lc().$implicit;o.Db(2),o.Qc("",o.nc(3,2,"postalInformation.formLabel.label8")," :"),o.Db(3),o.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].courierType)}}function Oi(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Wb(1,"tr"),o.Wb(2,"td",81),o.Oc(3),o.mc(4,"translate"),o.Vb(),o.Wb(5,"td",81),o.Oc(6),o.Vb(),o.Vb(),o.Wb(7,"tr"),o.Wb(8,"td",81),o.Oc(9),o.mc(10,"translate"),o.Vb(),o.Wb(11,"td",81),o.Oc(12),o.Vb(),o.Vb(),o.Wb(13,"tr"),o.Wb(14,"td",81),o.Oc(15),o.mc(16,"translate"),o.Vb(),o.Wb(17,"td",81),o.Oc(18),o.Vb(),o.Vb(),o.Wb(19,"tr"),o.Wb(20,"td",81),o.Oc(21),o.mc(22,"translate"),o.Vb(),o.Wb(23,"td",81),o.Oc(24),o.Vb(),o.Vb(),o.Wb(25,"tr"),o.Wb(26,"td",81),o.Oc(27),o.mc(28,"translate"),o.Vb(),o.Wb(29,"td",81),o.Oc(30),o.Vb(),o.Vb(),o.Wb(31,"tr"),o.Wb(32,"td",81),o.Oc(33),o.mc(34,"translate"),o.Vb(),o.Wb(35,"td",81),o.Oc(36),o.Vb(),o.Vb(),o.Wb(37,"tr"),o.Wb(38,"td",83),o.Wb(39,"div",60),o.Wb(40,"div",66),o.Wb(41,"span",48),o.hc("click",function(){o.Fc(e);const t=o.lc().$implicit,a=o.lc(2);return a.downloadCourierDetails(t.arn,a.applicationDetail.vacCode,a.courierLabels.inLabel)}),o.Rb(42,"i",78),o.Wb(43,"span",76),o.Oc(44),o.mc(45,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Tb()}if(2&e){const e=o.lc().$implicit;o.Db(3),o.Qc("",o.nc(4,13,"postalInformation.formLabel.label1")," :"),o.Db(3),o.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].pincode),o.Db(3),o.Qc("",o.nc(10,15,"postalInformation.formLabel.label2")," :"),o.Db(3),o.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].addressline1),o.Db(3),o.Qc("",o.nc(16,17,"postalInformation.formLabel.label3")," :"),o.Db(3),o.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].addressline2),o.Db(3),o.Qc("",o.nc(22,19,"postalInformation.formLabel.label4")," :"),o.Db(3),o.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].state),o.Db(3),o.Qc("",o.nc(28,21,"postalInformation.formLabel.label5")," :"),o.Db(3),o.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].city),o.Db(3),o.Qc("",o.nc(34,23,"postalInformation.formLabel.label6")," :"),o.Db(3),o.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].country),o.Db(8),o.Pc(o.nc(45,25,"postalInformation.headerLabel.label2"))}}function Ti(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"tr"),o.Wb(2,"td",81),o.Oc(3),o.mc(4,"translate"),o.Vb(),o.Wb(5,"td",81),o.Oc(6),o.Vb(),o.Vb(),o.Wb(7,"tr"),o.Wb(8,"td",81),o.Oc(9),o.mc(10,"translate"),o.Vb(),o.Wb(11,"td",81),o.Oc(12),o.Vb(),o.Vb(),o.Wb(13,"tr"),o.Wb(14,"td",81),o.Oc(15),o.mc(16,"translate"),o.Vb(),o.Wb(17,"td",81),o.Oc(18),o.Vb(),o.Vb(),o.Tb()),2&e){const e=o.lc().$implicit;o.Db(3),o.Qc("",o.nc(4,6,"postalInformation.formLabel.label11")," :"),o.Db(3),o.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].courierServiceProvider),o.Db(3),o.Qc("",o.nc(10,8,"postalInformation.formLabel.label12")," :"),o.Db(3),o.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].incomingAWBNumber),o.Db(3),o.Qc("",o.nc(16,10,"postalInformation.formLabel.label13")," :"),o.Db(3),o.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].outgoingAWBNumber)}}function Li(e,t){if(1&e&&(o.Wb(0,"table",79),o.Wb(1,"tr"),o.Wb(2,"td",80),o.Oc(3),o.Vb(),o.Vb(),o.Wb(4,"tr"),o.Wb(5,"td",81),o.Oc(6),o.mc(7,"translate"),o.Vb(),o.Wb(8,"td",81),o.Oc(9),o.Vb(),o.Vb(),o.Mc(10,Vi,6,4,"tr",16),o.Wb(11,"tr"),o.Wb(12,"td",81),o.Oc(13),o.mc(14,"translate"),o.Vb(),o.Wb(15,"td",82),o.Oc(16),o.Vb(),o.Vb(),o.Wb(17,"tr"),o.Wb(18,"td",81),o.Oc(19),o.mc(20,"translate"),o.Vb(),o.Wb(21,"td",81),o.Oc(22),o.Vb(),o.Vb(),o.Wb(23,"tr"),o.Wb(24,"td",81),o.Oc(25),o.mc(26,"translate"),o.Vb(),o.Wb(27,"td",81),o.Oc(28),o.Vb(),o.Vb(),o.Mc(29,Ai,6,4,"tr",16),o.Mc(30,Oi,46,27,"ng-container",16),o.Mc(31,Ti,19,12,"ng-container",16),o.Vb()),2&e){const e=t.$implicit,a=o.lc(2);o.Db(3),o.Rc("",e.firstName," ",e.lastName,""),o.Db(3),o.Qc("",o.nc(7,15,"dashboard.headerLabel.label14"),":"),o.Db(3),o.Pc(e.passportNumber),o.Db(1),o.tc("ngIf",!a.isPtFlow),o.Db(3),o.Qc("",o.nc(14,17,"dashboard.headerLabel.label16"),":"),o.Db(3),o.Pc(e.emailId),o.Db(3),o.Qc("",o.nc(20,19,"dashboard.headerLabel.label17"),":"),o.Db(3),o.Rc("",e.dialCode," ",e.contactNumber,""),o.Db(3),o.Qc("",o.nc(26,21,"dashboard.headerLabel.label18"),":"),o.Db(3),o.Pc(a.getnationalityName(e.nationalityCode)),o.Db(1),o.tc("ngIf",!a.applicationDetail.isAppointment&&(null==e||null==e.postalList?null:e.postalList.length)>0&&(null==e?null:e.postalList[0].courierType)),o.Db(1),o.tc("ngIf",!a.applicationDetail.isAppointment&&(null==e||null==e.postalList?null:e.postalList.length)>0&&!a.commonService.checkIfPrepaidCourier(null==e||null==e.postalList[0]?null:e.postalList[0].courierType)),o.Db(1),o.tc("ngIf",!a.applicationDetail.isAppointment&&(null==e||null==e.postalList?null:e.postalList.length)>0&&a.commonService.checkIfPrepaidCourier(null==e||null==e.postalList[0]?null:e.postalList[0].courierType))}}function Ni(e,t){if(1&e&&(o.Wb(0,"tr"),o.Wb(1,"td",80),o.Oc(2),o.Vb(),o.Vb()),2&e){const e=t.$implicit;o.Db(2),o.Pc(e.name)}}function Mi(e,t){if(1&e&&(o.Ub(0),o.Mc(1,Ni,3,1,"tr",33),o.Wb(2,"tr"),o.Wb(3,"td",84),o.Oc(4),o.Vb(),o.Vb(),o.Tb()),2&e){const e=o.lc().$implicit,t=o.lc(3);o.Db(1),o.tc("ngForOf",e.vas)("ngForTrackBy",t.trackByFn),o.Db(3),o.Rc("",e.firstName," ",e.lastName,"")}}function Ei(e,t){if(1&e&&(o.Wb(0,"table",79),o.Mc(1,Mi,5,4,"ng-container",16),o.Vb()),2&e){const e=t.$implicit;o.Db(1),o.tc("ngIf",e.vas&&(null==e.vas?null:e.vas.length)>0)}}function Wi(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"mat-expansion-panel"),o.Wb(2,"mat-expansion-panel-header",55),o.Wb(3,"div",56),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Vb(),o.Mc(6,Ei,2,1,"table",57),o.Vb(),o.Tb()),2&e){const e=o.lc(2);o.Db(2),o.tc("@.disabled",!0),o.Db(2),o.Pc(o.nc(5,4,"dashboard.headerLabel.label21")),o.Db(2),o.tc("ngForOf",e.applicationDetail.applicants)("ngForTrackBy",e.trackByFn)}}function Pi(e,t){1&e&&(o.Ub(0),o.Rb(1,"app-medical-insurance",85),o.Tb()),2&e&&(o.Db(1),o.tc("type","2"))}const ki=function(e){return{applicantLength:e}};function wi(e,t){if(1&e){const e=o.Xb();o.Wb(0,"section",3),o.Wb(1,"div",47),o.Wb(2,"span",48),o.hc("click",function(){return o.Fc(e),o.lc().back()}),o.Rb(3,"i",49),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Vb(),o.Mc(6,ci,4,1,"div",9),o.Wb(7,"div",38),o.Wb(8,"div",50),o.Wb(9,"h2",51),o.Oc(10),o.Vb(),o.Mc(11,di,3,4,"p",52),o.Mc(12,ui,3,4,"p",52),o.Mc(13,mi,5,3,"div",53),o.Wb(14,"mat-accordion",54),o.Mc(15,gi,6,5,"mat-expansion-panel",16),o.Mc(16,Ii,11,8,"mat-expansion-panel",16),o.Wb(17,"mat-expansion-panel"),o.Wb(18,"mat-expansion-panel-header",55),o.Wb(19,"div",56),o.Oc(20),o.mc(21,"translate"),o.Vb(),o.Vb(),o.Mc(22,Li,32,23,"table",57),o.Vb(),o.Mc(23,Wi,7,6,"ng-container",16),o.Vb(),o.Vb(),o.Mc(24,Pi,2,1,"ng-container",16),o.Vb(),o.Vb()}if(2&e){const e=o.lc();o.Db(4),o.Qc(" ",o.nc(5,14,"commonSections.buttons.button31"),""),o.Db(2),o.tc("ngIf",e.resendConfirmationLetterMsg),o.Db(4),o.Pc(e.applicationDetail.visaCategoryName),o.Db(1),o.tc("ngIf",!(null!=e.allConfiguration[0]&&e.allConfiguration[0].enableIRLNumber)),o.Db(1),o.tc("ngIf",e.applicationDetail.isWaitlist&&(null==e.applicationDetail?null:e.applicationDetail.waitlistStatus)),o.Db(1),o.tc("ngIf",e.applicationDetail.isWaitlist&&(null==e.applicationDetail?null:e.applicationDetail.waitlistStatus)===e.waitlistAllowed),o.Db(2),o.tc("ngIf",e.applicationDetail.isWaitlist),o.Db(1),o.tc("ngIf",e.applicationDetail.isAppointment),o.Db(2),o.tc("@.disabled",!0),o.Db(2),o.Qc(" ",o.oc(21,16,"dashboard.headerLabel.label24",o.xc(19,ki,null==e.applicationDetail.applicants?null:e.applicationDetail.applicants.length))," "),o.Db(2),o.tc("ngForOf",e.applicationDetail.applicants)("ngForTrackBy",e.trackByFn),o.Db(1),o.tc("ngIf",(null==e.applicationDetail||null==e.applicationDetail.applicants[0]||null==e.applicationDetail.applicants[0].vas?null:e.applicationDetail.applicants[0].vas.length)>0),o.Db(1),o.tc("ngIf",e.insuranceBox)}}function Fi(e,t){if(1&e&&(o.Wb(0,"div",86),o.Wb(1,"div",87),o.Wb(2,"button",88),o.Rb(3,"img",89),o.Vb(),o.Vb(),o.Wb(4,"h2",90),o.Rb(5,"i",91),o.Oc(6),o.mc(7,"translate"),o.Vb(),o.Rb(8,"hr",72),o.Wb(9,"p",92),o.Oc(10),o.mc(11,"translate"),o.Vb(),o.Wb(12,"div",38),o.Wb(13,"div",93),o.Wb(14,"button",94),o.Oc(15),o.mc(16,"translate"),o.Vb(),o.Vb(),o.Wb(17,"div",93),o.Wb(18,"button",95),o.Oc(19),o.mc(20,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e){const e=o.lc();o.Db(3),o.vc("src","",e.getGlobalImagePath,"/close-btn.png",o.Hc),o.Db(3),o.Qc(" ",o.nc(7,5,"commonSections.headerLabel.label3")," "),o.Db(4),o.Qc(" ",o.nc(11,7,"dashboard.pageDetails.para12")," "),o.Db(5),o.Qc(" ",o.nc(16,9,"commonSections.buttons.button3")," "),o.Db(4),o.Qc(" ",o.nc(20,11,"commonSections.buttons.button4")," ")}}function _i(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div",96),o.Wb(1,"h1",97),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Wb(4,"mat-accordion",98),o.Wb(5,"mat-expansion-panel"),o.Wb(6,"mat-expansion-panel-header"),o.Oc(7),o.mc(8,"translate"),o.Wb(9,"div",99),o.Wb(10,"span",100),o.Oc(11),o.mc(12,"translate"),o.Vb(),o.Wb(13,"span",101),o.Oc(14),o.mc(15,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(16,"div",37),o.Oc(17),o.mc(18,"translate"),o.Wb(19,"a",102),o.Oc(20),o.mc(21,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(22,"mat-expansion-panel"),o.Wb(23,"mat-expansion-panel-header"),o.Oc(24),o.mc(25,"translate"),o.Wb(26,"div",99),o.Wb(27,"span",100),o.Oc(28),o.mc(29,"translate"),o.Vb(),o.Wb(30,"span",101),o.Oc(31),o.mc(32,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(33,"div",37),o.Oc(34),o.mc(35,"translate"),o.Rb(36,"br"),o.Rb(37,"br"),o.Oc(38),o.mc(39,"translate"),o.Rb(40,"br"),o.Rb(41,"br"),o.Oc(42),o.mc(43,"translate"),o.Wb(44,"a",102),o.Oc(45),o.mc(46,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(47,"mat-expansion-panel"),o.Wb(48,"mat-expansion-panel-header"),o.Oc(49),o.mc(50,"translate"),o.Wb(51,"div",99),o.Wb(52,"span",100),o.Oc(53),o.mc(54,"translate"),o.Vb(),o.Wb(55,"span",101),o.Oc(56),o.mc(57,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(58,"div",37),o.Oc(59),o.mc(60,"translate"),o.Wb(61,"a",102),o.Oc(62),o.mc(63,"translate"),o.Vb(),o.Rb(64,"br"),o.Rb(65,"br"),o.Vb(),o.Vb(),o.Wb(66,"mat-expansion-panel"),o.Wb(67,"mat-expansion-panel-header"),o.Oc(68),o.mc(69,"translate"),o.Wb(70,"div",99),o.Wb(71,"span",100),o.Oc(72),o.mc(73,"translate"),o.Vb(),o.Wb(74,"span",101),o.Oc(75),o.mc(76,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(77,"div",37),o.Oc(78),o.mc(79,"translate"),o.Wb(80,"a",102),o.Oc(81),o.mc(82,"translate"),o.Vb(),o.Rb(83,"br"),o.Rb(84,"br"),o.Oc(85),o.mc(86,"translate"),o.Wb(87,"a",102),o.Oc(88),o.mc(89,"translate"),o.Vb(),o.Rb(90,"br"),o.Rb(91,"br"),o.Oc(92),o.mc(93,"translate"),o.Vb(),o.Vb(),o.Wb(94,"mat-expansion-panel"),o.Wb(95,"mat-expansion-panel-header"),o.Oc(96),o.mc(97,"translate"),o.Wb(98,"div",99),o.Wb(99,"span",100),o.Oc(100),o.mc(101,"translate"),o.Vb(),o.Wb(102,"span",101),o.Oc(103),o.mc(104,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(105,"div",37),o.Oc(106),o.mc(107,"translate"),o.Rb(108,"br"),o.Rb(109,"br"),o.Oc(110),o.mc(111,"translate"),o.Rb(112,"br"),o.Rb(113,"br"),o.Oc(114),o.mc(115,"translate"),o.Rb(116,"br"),o.Rb(117,"br"),o.Oc(118),o.mc(119,"translate"),o.Vb(),o.Vb(),o.Wb(120,"mat-expansion-panel"),o.Wb(121,"mat-expansion-panel-header"),o.Oc(122),o.mc(123,"translate"),o.Wb(124,"div",99),o.Wb(125,"span",100),o.Oc(126),o.mc(127,"translate"),o.Vb(),o.Wb(128,"span",101),o.Oc(129),o.mc(130,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(131,"div",37),o.Oc(132),o.mc(133,"translate"),o.Wb(134,"a",102),o.Oc(135),o.mc(136,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(137,"mat-expansion-panel"),o.Wb(138,"mat-expansion-panel-header"),o.Oc(139),o.mc(140,"translate"),o.Wb(141,"div",99),o.Wb(142,"span",100),o.Oc(143),o.mc(144,"translate"),o.Vb(),o.Wb(145,"span",101),o.Oc(146),o.mc(147,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(148,"div",37),o.Oc(149),o.mc(150,"translate"),o.Rb(151,"br"),o.Rb(152,"br"),o.Oc(153),o.mc(154,"translate"),o.Rb(155,"br"),o.Rb(156,"br"),o.Oc(157),o.mc(158,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(159,"div",103),o.Wb(160,"div",43),o.Wb(161,"mat-checkbox",44),o.hc("ngModelChange",function(t){return o.Fc(e),o.lc().ptTermsandConditions=t}),o.Wb(162,"div",45),o.Oc(163),o.mc(164,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(165,"button",104),o.hc("click",function(){return o.Fc(e),o.lc().applyNow()}),o.Oc(166),o.mc(167,"translate"),o.Vb(),o.Vb()}if(2&e){const e=o.lc();o.Db(2),o.Pc(o.nc(3,54,"termsAndConditions.headerLabel.label1")),o.Db(5),o.Qc(" ",o.nc(8,56,"termsAndConditions.formLabel.label1")," "),o.Db(4),o.Qc("",o.nc(12,58,"termsAndConditions.formLabel.label8")," \u2193"),o.Db(3),o.Qc("",o.nc(15,60,"termsAndConditions.formLabel.label9")," \u2191"),o.Db(3),o.Qc(" ",o.nc(18,62,"termsAndConditions.pageDetails.para1"),""),o.Db(2),o.tc("href",e.appointmentCategory,o.Hc),o.Db(1),o.Pc(o.nc(21,64,"termsAndConditions.buttons.button_click_here")),o.Db(4),o.Qc(" ",o.nc(25,66,"termsAndConditions.formLabel.label2")," "),o.Db(4),o.Qc("",o.nc(29,68,"termsAndConditions.formLabel.label8")," \u2193"),o.Db(3),o.Qc("",o.nc(32,70,"termsAndConditions.formLabel.label9")," \u2191"),o.Db(3),o.Qc(" ",o.nc(35,72,"termsAndConditions.pageDetails.para2_1"),""),o.Db(4),o.Pc(o.nc(39,74,"termsAndConditions.pageDetails.para2_2")),o.Db(4),o.Qc("",o.nc(43,76,"termsAndConditions.pageDetails.para2_3")," "),o.Db(2),o.tc("href",e.appointmentCategory,o.Hc),o.Db(1),o.Pc(o.nc(46,78,"termsAndConditions.buttons.button_click_here")),o.Db(4),o.Qc(" ",o.nc(50,80,"termsAndConditions.formLabel.label3")," "),o.Db(4),o.Qc("",o.nc(54,82,"termsAndConditions.formLabel.label8")," \u2193"),o.Db(3),o.Qc("",o.nc(57,84,"termsAndConditions.formLabel.label9")," \u2191"),o.Db(3),o.Qc(" ",o.nc(60,86,"termsAndConditions.pageDetails.para3"),""),o.Db(2),o.tc("href",e.appointmentCategory,o.Hc),o.Db(1),o.Pc(o.nc(63,88,"termsAndConditions.buttons.button_click_here")),o.Db(6),o.Qc(" ",o.nc(69,90,"termsAndConditions.formLabel.label4")," "),o.Db(4),o.Qc("",o.nc(73,92,"termsAndConditions.formLabel.label8")," \u2193"),o.Db(3),o.Qc("",o.nc(76,94,"termsAndConditions.formLabel.label9")," \u2191"),o.Db(3),o.Qc(" ",o.nc(79,96,"termsAndConditions.pageDetails.para4_1")," "),o.Db(2),o.tc("href",e.appointmentCategory,o.Hc),o.Db(1),o.Pc(o.nc(82,98,"termsAndConditions.buttons.button_click_here")),o.Db(4),o.Qc(" ",o.nc(86,100,"termsAndConditions.pageDetails.para4_2")," "),o.Db(2),o.tc("href",e.appointmentCategory,o.Hc),o.Db(1),o.Pc(o.nc(89,102,"termsAndConditions.buttons.button_click_here")),o.Db(4),o.Qc(" ",o.nc(93,104,"termsAndConditions.pageDetails.para4_3")," "),o.Db(4),o.Qc(" ",o.nc(97,106,"termsAndConditions.formLabel.label5")," "),o.Db(4),o.Qc("",o.nc(101,108,"termsAndConditions.formLabel.label8")," \u2193"),o.Db(3),o.Qc("",o.nc(104,110,"termsAndConditions.formLabel.label9")," \u2191"),o.Db(3),o.Qc(" ",o.nc(107,112,"termsAndConditions.pageDetails.para5_1"),""),o.Db(4),o.Qc(" ",o.nc(111,114,"termsAndConditions.pageDetails.para5_2"),""),o.Db(4),o.Qc(" ",o.nc(115,116,"termsAndConditions.pageDetails.para5_3"),""),o.Db(4),o.Qc(" ",o.nc(119,118,"termsAndConditions.pageDetails.para5_4")," "),o.Db(4),o.Qc(" ",o.nc(123,120,"termsAndConditions.formLabel.label6")," "),o.Db(4),o.Qc("",o.nc(127,122,"termsAndConditions.formLabel.label8")," \u2193"),o.Db(3),o.Qc("",o.nc(130,124,"termsAndConditions.formLabel.label9")," \u2191"),o.Db(3),o.Qc(" ",o.nc(133,126,"termsAndConditions.pageDetails.para6"),""),o.Db(2),o.tc("href",e.attendCenter,o.Hc),o.Db(1),o.Pc(o.nc(136,128,"termsAndConditions.buttons.button_click_here")),o.Db(4),o.Qc(" ",o.nc(140,130,"termsAndConditions.formLabel.label7")," "),o.Db(4),o.Qc("",o.nc(144,132,"termsAndConditions.formLabel.label8")," \u2193"),o.Db(3),o.Qc("",o.nc(147,134,"termsAndConditions.formLabel.label9")," \u2191"),o.Db(3),o.Qc(" ",o.nc(150,136,"termsAndConditions.pageDetails.para8"),""),o.Db(4),o.Qc(" ",o.nc(154,138,"termsAndConditions.pageDetails.para9"),""),o.Db(4),o.Qc(" ",o.nc(158,140,"termsAndConditions.pageDetails.para10")," "),o.Db(4),o.tc("ngModel",e.ptTermsandConditions),o.Db(2),o.Pc(o.nc(164,142,"termsAndConditions.pageDetails.para7")),o.Db(2),o.tc("disabled",!e.ptTermsandConditions),o.Db(1),o.Qc(" ",o.nc(167,144,"termsAndConditions.buttons.button1")," ")}}let xi=(()=>{class e extends d.a{constructor(e,t,a,i){super(),this.dialog=e,this.datePipe=t,this.contentfulService=a,this.translate=i,this.waitlistAllowed=r.A.allowed,this.waitlisted=r.A.waitlisted,this.statusOnTabChnaged="Active",this.CONSTANTS=r.c,this.viewRescheduledMsgFlag=!1,this.walkinCode=r.v,this.primeLongueCode=r.k,this.applicationDetail={},this.subVisaCategoryCode=[],this.applicationList=[],this.vacList=[],this.nationalityList=[],this.allConfiguration=[],this.inprogressApplications={},this.detailMode=!1,this.resendConfirmationLetterMsg=!1,this.cancelAppointmentMsg="",this.insuranceBox=!1,this.selectedIdx=1,this.rescheduledDetails={rescheduledTime:"-",rescheduledDate:""},this.checkAndLoadTravelInsurance(),this.ptWarningCheck=!1,this.ptImportantCheck=!1,this.ptTermsandConditions=!1,this.ptTermsAndConditionView=!1,this.ptWarningView=!1}checkAndLoadTravelInsurance(){return Object(l.b)(this,void 0,void 0,function*(){this.insuranceBox=yield this.contentfulService.getTravelInsurance()})}ngOnInit(){var e,t;const a={dl_category:"pageview",dl_action:"pageview- dashboard",dl_label:this.utilityService.countrynameByIso(this.sessionService.countryCode),value:0};if(this.utilityService.fireCustomEvent(a),this.isPtFlow&&(this.ptWarningView=!0),this.viewRescheduledMsgFlag=!1,this.dataShareService.cartAmount.next("0"),this.sessionService.isRescheduleAptmntMode&&this.dataShareService.rescheduledData){this.selectedIdx=1;const a=(this.dataShareService.rescheduledData.appointmentTime?null===(t=null===(e=this.dataShareService.rescheduledData)||void 0===e?void 0:e.appointmentTime.split("-"))||void 0===t?void 0:t.shift():"-")||"",i=(this.dataShareService.rescheduledData.appointmentDate?this.datePipe.transform(this.dataShareService.rescheduledData.appointmentDate,"EEEE d, MMMM y"):"-")||"";this.rescheduledDetails.rescheduledTime=a,this.rescheduledDetails.rescheduledDate=i,this.viewRescheduledMsgFlag=!0,setTimeout(()=>{this.viewRescheduledMsgFlag=!1,this.dataShareService.clearrescheduledData(),this.dataShareService.rescheduledData=null},5e3)}else this.selectedIdx=this.dataShareService.dashboardTab;this.sessionService.isRescheduleAptmntMode&&this.sessionService.clearApplicationDetails(),this.sessionService.setIsRescheduleAptmntMode(!1),this.sessionService.tempAppSchema&&this.sessionService.saveApplicationSchemaInBrowser(this.sessionService.tempAppSchema),this.getAllApplications(this.statusOnTabChnaged),1===this.selectedIdx&&(this.getAllApplications("Active"),setTimeout(()=>{this.dataShareService.dashboardTab=0}))}getApplicationData(){return Object(l.b)(this,void 0,void 0,function*(){const e=yield this.commonService.getVacCenters(this.sessionService.appCultureCode);e&&(this.vacList=e,this.sessionService.appCenterCode=e)})}openDialog(e){try{const t=new La.e;t.data={dialogDisplay:"small",body:"dashboard.pageDetails.para6",translateBody:!0,rightButton:"dashboard.buttons.button1",translateRightButton:!0,leftButton:"commonSections.buttons.button3",translateLeftButton:!0};const a=this.dialog.open(Na.a,t);this.subs.sink=a.afterClosed().subscribe(t=>{t&&this.deleteApplication({applicationAlphId:e.applicationAlphId,applicantGroupAlphId:e.applicantGroupAlphId})})}catch(t){console.log(t)}}deleteApplication(e){return Object(l.b)(this,void 0,void 0,function*(){try{yield this.httpService.doPost(r.c.api.deleteApplication,e).toPromise().then(e=>e).catch(e=>{throw new Error(e)}),this.getAllApplications(this.statusOnTabChnaged)}catch(t){throw new Error(t)}})}applyNow(){this.isPtFlow&&0==this.ptTermsAndConditionView?(this.ptTermsAndConditionView=!0,this.ptWarningView=!1):(this.utilityService.pushDataLayerGA({dl_event:"dashboard_page",dl_category:"Dashboard Page",dl_action:"Start New Booking",dl_label:"cta_click"}),this.utilityService.resetSchema(),this.contentfulService.loadDecimalAllowed(),this.utilityService.clearInProgressApplication(),this.sessionService.clearSessionOnDashboardRoute(),this.dataShareService.cartAmount.next("0"),this.commonService.routeToPostLoginModuleByIndex(0),this.ptTermsAndConditionView=!1)}getInprogressApplication(){return Object(l.b)(this,void 0,void 0,function*(){try{this.sessionService.applicationDetailCopy&&(this.sessionService.applicationDetailValue=this.sessionService.applicationDetailCopy);const e=this.sessionService.applicationDetailValue;if(e){e.vacCode=null==e?void 0:e.centerCode,yield this.getSubvisaCategoryCode([e]);const t=yield this.utilityService.getNameFromCode(this.subVisaCategoryCode,e.visaCategoryCode);this.inprogressApplications=e,this.inprogressApplications.visaCategoryName=t}this.utilityService.stopNgxUiSpinner()}catch(e){console.log(e)}})}modifyResponse(e){return Object(l.b)(this,void 0,void 0,function*(){try{const t=Array.from(e);for(const e of t){const t=this.cancelAllowed(e.vacCode),a=this.isRescheduleAllowed(e.vacCode),i=this.utilityService.getnationalityName(this.nationalityList,e.countryCode),o=this.utilityService.getnationalityName(this.nationalityList,e.missionCode),n=this.utilityService.getNameFromCode(this.subVisaCategoryCode,e.visaCategoryCode),s=this.utilityService.filterVacFromCode(this.vacList,e.vacCode,"centerName"),l=this.utilityService.filterVacFromCode(this.vacList,e.vacCode,"address"),r=!(this.commonService.checkIfPostal(e.applicationType)||this.commonService.checkIfOWA(e.applicationType)||e.isWaitlist),c=yield Promise.all([t,a,i,o,n,s,l,r]);e.rescheduleAllowed=c[1],e.cancellationAllowed=c[0],e.countryName=c[2],e.missionName=c[3],e.visaCategoryName=c[4],e.vacAddress=c[6],e.vacCodeName=c[5],e.isAppointment=c[7]}return t}catch(t){console.log(t)}})}scheduleWaitlist(e){return Object(l.b)(this,void 0,void 0,function*(){this.utilityService.resetSchema();const t=[...this.allConfiguration].filter(t=>t.vacCode===(null==e?void 0:e.vacCode));this.sessionService.applicationConfiguration=t[0],this.sessionService.applicationDetailValue&&(this.sessionService.applicationDetailCopy=this.sessionService.applicationDetailValue);const a=this.getApplicationDetails(e);this.sessionService.applicationDetailValue=a;const i=this.commonService.getSchemaByModuleName(r.c.modules.ELIGIBILITY_CRITERIA);this.saveEligibilityToSession(a,i);const o=this.sessionService.getApplicationSchema(),n=[r.c.modules.BOOK_APPOINTMENT,r.c.modules.SERVICES,r.c.modules.REVIEW_PAYMENT],s=o.modules.filter(e=>n.indexOf(e.logicalName)>-1);o.modules=s,this.sessionService.tempAppSchema=this.sessionService.getApplicationSchema(),this.sessionService.clearAppointmentDetail(),this.sessionService.saveApplicationSchemaInBrowser(o),this.sessionService.setIsWaitlistScheduleMode(!0),this.sessionService.urn=e.urn,yield this.checkSlotAvailability(null==e?void 0:e.vacCode,null==e?void 0:e.visaCategoryCode),this.route(r.c.modules.BOOK_APPOINTMENT)})}cancelAllowed(e){let t=!0;const a=[...this.allConfiguration].filter(t=>t.vacCode===e);return 0===a.length||a[0].hasOwnProperty("cancellationEnabled")&&!1===a[0].cancellationEnabled?t=!1:a[0].hasOwnProperty("cancellationEnabled")&&!0===a[0].cancellationEnabled&&(t=!0),t}preloadData(e){return Object(l.b)(this,void 0,void 0,function*(){return new Promise((t,a)=>Object(l.b)(this,void 0,void 0,function*(){const a=[...new Set(e.map(e=>e.vacCode))];yield this.getSubvisaCategoryCode(e),yield this.loadConfiguration(a),yield this.getApplicationData(),yield this.loadNationality(),t(!0)}))})}filterVacFromCode(e,t){if(this.vacList.length<0)return;const a=this.vacList.filter(t=>t.isoCode===e);return a.length>0?a[0][t]:""}continueApplications(){try{const e=this.sessionService.getAllModulesSchema(),t=e.findIndex(e=>e.logicalName===this.sessionService.completedModuleName);if(t>-1){let a;t<e.length-1?a=e[t+1]:t===e.length-1&&(a=e[t]),a&&this.commonService.routeToPostLoginModule(a.routeUrl)}}catch(e){console.log(e)}}get existInprogress(){return Object.keys(this.inprogressApplications).length}getSubvisaCategoryCode(e){return Object(l.b)(this,void 0,void 0,function*(){try{return new Promise((t,a)=>Object(l.b)(this,void 0,void 0,function*(){const a=[];e.forEach(e=>{a.push(this.commonService.getSubVisaCategories(e.vacCode,e.parentVisaCategoryCode))}),this.subs.sink=Object(st.a)(a).subscribe(e=>{const a=[].concat(...e);this.subVisaCategoryCode=a,t(a)})}))}catch(t){console.log(`Error Status: ${t.status}\nMessage: ${t.message} : ${t.error.data}`)}})}isRescheduleAllowed(e){return Object(l.b)(this,void 0,void 0,function*(){try{let t=!0;const a=[...this.allConfiguration].filter(t=>t.vacCode===e);return(0===a.length||a[0].hasOwnProperty("rescheduleEnabled")&&!1===a[0].rescheduleEnabled||a[0].hasOwnProperty("noOfRescheduleEligible")&&"0"===String(a[0].noOfRescheduleEligible))&&(t=!1),t}catch(t){console.log(t)}})}loadConfiguration(e){return Object(l.b)(this,void 0,void 0,function*(){try{return new Promise((t,a)=>Object(l.b)(this,void 0,void 0,function*(){const a=[];e.forEach(e=>{a.push(this.commonService.loadVacConfiguration(e))}),this.subs.sink=Object(st.a)(a).pipe(Object(Pa.a)(t=>(t.map((t,a)=>{t.vacCode=e[a]}),t))).subscribe(e=>{const a=[].concat(...e);this.allConfiguration=a,t(a)})}))}catch(t){console.log(`Error Status: ${t.status}\nMessage: ${t.message} : ${t.error.data}`)}})}get travelInsurance(){return this.utilityService.externalUrlAppend("travel-insurance")}getnationalityName(e){return this.utilityService.getnationalityName(this.nationalityList,e)}loadNationality(){return Object(l.b)(this,void 0,void 0,function*(){this.nationalityList=yield this.commonService.loadNationality()})}checkSlotAvailability(e,t){return Object(l.b)(this,void 0,void 0,function*(){try{const a={applicantsCount:1,slotType:2,days:c.a.slotDaysEnabled,centerCode:e,visaCategoryCode:t,fromDate:this.commonService.formatDateDMY(this.utilityService.momentInstance().add(1,"days").format("YYYY-MM-DD")),toDate:this.commonService.formatDateDMY(this.utilityService.momentInstance().add(c.a.slotDaysEnabled+1,"days").format("YYYY-MM-DD"))},i=yield this.commonService.loadAppointmentSlots(a);if(i&&i.length>0){const e=i[0].date?this.utilityService.momentInstance(i[0].date,"MM/DD/YYYY").format("DD/MM/YYYY"):null;this.sessionService.latestSlotAvailiable=e||""}}catch(a){throw a}})}getAllApplications(e){try{"Active"===e?this.getActiveApplicationList():this.getInprogressApplication()}catch(t){console.log(t)}}getActiveApplicationList(){return Object(l.b)(this,void 0,void 0,function*(){this.utilityService.startNgxUiSpinner();const e=yield this.httpService.payloadPost(r.c.api.getActiveApplication,{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,loginUser:this.sessionService.getLoggedEmail(),languageCode:this.sessionService.appCultureCode}).toPromise().then(e=>e).catch(e=>e);if(e.data){this.allConfiguration=[];const t=[...new Set(e.data.map(e=>e.vacCode))],a=this.getSubvisaCategoryCode(e.data),i=this.loadConfiguration(t),o=this.getApplicationData(),n=this.loadNationality();yield Promise.all([a,i,o,n]),this.applicationList=yield this.modifyResponse(e.data),this.utilityService.fireCustomEvent({dl_category:"navigate",dl_action:"dashboard pageview",dl_label:`${this.applicationList.length>0?this.applicationList.length:"no"} appointments`,value:0}),this.utilityService.stopNgxUiSpinner()}else this.applicationList=[],this.utilityService.stopNgxUiSpinner()})}displayDetail(e){var t,a,i,o;this.utilityService.pushDataLayerGA({dl_event:"dashboard_page",dl_category:"Dashboard Page",dl_action:"Manage Appointment",dl_label:"cta_click"}),this.detailMode=!0,this.applicationDetail=e;const n=null===(i=null===(a=null===(t=this.applicationDetail)||void 0===t?void 0:t.applicants[0])||void 0===a?void 0:a.appointment)||void 0===i?void 0:i.appoinmentDate;this.appointmentDateFormat=this.utilityService.momentInstance(n,"DD/MM/YYYY").format(null===(o=this.dateFormat)||void 0===o?void 0:o.toUpperCase()),this.commonService.checkIfPostal(e.applicationType)&&this.fetchAddress()}fetchAddress(){var e,t;return Object(l.b)(this,void 0,void 0,function*(){if(!this.applicationDetail.isAppointment&&this.applicationDetail.applicants)for(const a of this.applicationDetail.applicants){a.postalList=[];const i=yield this.httpService.payloadPost(r.c.api.getAddress,{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,centerCode:this.applicationDetail.vacCode,loginUser:this.sessionService.getLoggedEmail(),aurn:null==a?void 0:a.arn}).toPromise().then(e=>e).catch(e=>e);if(i&&(a.postalList.push(i),!this.commonService.checkIfPrepaidCourier(null===(e=null==a?void 0:a.postalList[0])||void 0===e?void 0:e.courierType))){const e=yield this.httpService.slashParamsDoGet(r.c.api.masterState,{countryCode:this.sessionService.countryCode}).toPromise();a.postalList[0].state=this.utilityService.getStateNameFromISOcode(e,null===(t=null==a?void 0:a.postalList[0])||void 0===t?void 0:t.state)}}})}printAppointmentLetter(e){return Object(l.b)(this,void 0,void 0,function*(){const t=yield this.httpService.payloadPost(r.c.api.downloadPdf,{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,loginUser:this.sessionService.getLoggedEmail(),urn:e,cultureCode:""}).toPromise().then(e=>e).catch(e=>e);this.utilityService.showFile(t)})}resendConfirmationLetter(e){return Object(l.b)(this,void 0,void 0,function*(){(yield this.httpService.payloadPost(r.c.api.emailPdf,{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,loginUser:this.sessionService.getLoggedEmail(),urn:e,cultureCode:this.sessionService.appCultureCode}).toPromise().then(e=>e).catch(e=>e)).IsAppointmentLetterEmailSend&&(document.body.scrollTop=document.documentElement.scrollTop=0,this.resendConfirmationLetterMsg=!0,setTimeout(()=>{this.resendConfirmationLetterMsg=!1},5e3))})}cancelAppointment(e,t){var a;return Object(l.b)(this,void 0,void 0,function*(){const i=new La.e;i.data={urnvalue:e,isReschedulingAllowed:null===(a=this.applicationDetail)||void 0===a?void 0:a.rescheduleAllowed};const o=this.dialog.open(Wa,i);this.subs.sink=o.afterClosed().subscribe(a=>Object(l.b)(this,void 0,void 0,function*(){var i;if(a)if("cancel"===a.data){const a={countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,cultureCode:this.sessionService.appCultureCode,loginUser:this.sessionService.getLoggedEmail(),urn:e},o=yield this.httpService.payloadPost(r.c.api.cancelAppointment,a).toPromise().then(e=>e).catch(e=>e);if(o){const e=[...this.allConfiguration].filter(e=>e.vacCode===(null==t?void 0:t.vacCode));o.IsAppointmentCancelled?this.utilityService.translationService("dashboard.messages.cancelAppointment.message1").then(e=>{this.cancelAppointmentMsg=e}):this.cancelAppointmentMsg=o.error.description.replace(" X ",` ${null===(i=e[0])||void 0===i?void 0:i.allowRescheduleXDaysPriorToAppointment} `),this.back(),setTimeout(()=>{this.getAllApplications("Active")},1e3),setTimeout(()=>{this.cancelAppointmentMsg=""},1e4)}}else"reschedule"===a.data&&this.rescheduleAppointment(t)}))})}cancelWaitlist(e){var t;return Object(l.b)(this,void 0,void 0,function*(){const a=null===(t=this.dialog)||void 0===t?void 0:t.open(this.changeAppointmentModal,{disableClose:!0,restoreFocus:!0});this.subs.sink=a.afterClosed().subscribe(t=>Object(l.b)(this,void 0,void 0,function*(){if("true"===t){const t={countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,centerCode:this.applicationDetail.vacCode,cultureCode:this.sessionService.appCultureCode,loginUser:this.sessionService.getLoggedEmail(),urn:e},a=yield this.httpService.payloadPost(r.c.api.cancelWaitlist,t).toPromise().then(e=>e).catch(e=>e);a&&(a.isCancelled?this.utilityService.translationService("dashboard.messages.cancelAppointment.message2").then(e=>{this.cancelAppointmentMsg=e}):this.cancelAppointmentMsg=a.error.description,this.back(),setTimeout(()=>{this.getAllApplications("Active")},1e3),setTimeout(()=>{this.cancelAppointmentMsg=""},1e4))}}))})}rescheduleAppointment(e){return Object(l.b)(this,void 0,void 0,function*(){try{const t=[...this.allConfiguration].filter(t=>t.vacCode===(null==e?void 0:e.vacCode));this.sessionService.applicationConfiguration=t[0],yield this.checkSlotAvailability(null==e?void 0:e.vacCode,null==e?void 0:e.visaCategoryCode),this.sessionService.applicationDetailValue&&(this.sessionService.applicationDetailCopy=this.sessionService.applicationDetailValue);const a=this.getApplicationDetails(e);this.sessionService.applicationDetailValue=a;const i=this.commonService.getSchemaByModuleName(r.c.modules.ELIGIBILITY_CRITERIA);this.saveEligibilityToSession(a,i);const o=this.sessionService.getApplicationSchema(),n=[r.c.modules.BOOK_APPOINTMENT,r.c.modules.REVIEW_PAYMENT],s=o.modules.filter(e=>n.indexOf(e.logicalName)>-1);o.modules=s,this.sessionService.tempAppSchema=this.sessionService.getApplicationSchema(),this.sessionService.saveApplicationSchemaInBrowser(o),this.sessionService.setIsRescheduleAptmntMode(!0),this.sessionService.urn=e.urn,this.route(r.c.modules.BOOK_APPOINTMENT)}catch(t){console.log(t)}})}saveAppointmentDetails(e){try{let t;t=e.categoryCode.indexOf(this.primeLongueCode)>-1?"Premium Longue":e.categoryCode.indexOf(this.walkinCode)>-1?"Walk-in Anytime":"Standard";const a={appointmentSlotType:parseFloat(e.slotType),slotTypeName:t,slotType:e.categoryCode,date:String(e.appoinmentDate).split("/").reverse().join("-"),time:String(e.appointmentTime),allocationId:e.allocationId};return this.sessionService.saveAppointmentDetails(a),!0}catch(t){throw t}}getApplicationDetails(e){const t=this.initApplicationDetails();for(const a of Object.keys(e))t.hasOwnProperty(a)&&(t[a]=e[a]);return t.centerCode=e.vacCode,t.selectedSubvisaCategory=e.visaCategoryCode,e.applicants=e.applicants.map(t=>Object.assign(Object.assign({},t),{urn:e.urn})),t.applicantList=e.applicants,t}initApplicationDetails(){var e,t,a,i;const o=(null===(t=null===(e=this.sessionService)||void 0===e?void 0:e.applicationConfiguration)||void 0===t?void 0:t.enableApplicationType)?"":void 0,n=(null===(i=null===(a=this.sessionService)||void 0===a?void 0:a.applicationConfiguration)||void 0===i?void 0:i.enableServiceType)?"":void 0;return{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,centerCode:"",loginUser:this.sessionService.getLoggedEmail()||"",visaCategoryCode:"",isEdit:!1,applicantList:[],languageCode:this.sessionService.appCultureCode,applicationType:o,serviceType:n}}saveEligibilityToSession(e,t){try{const a={};for(const i of t.controls)for(const t of i.fields)-1===r.c.BUTTON_CONTROLS_LIST.indexOf(t.fieldType)&&-1===r.c.NON_INTERACTIVE_CONTROLS.indexOf(t.fieldType)&&(a[t.displayName]=e[t.logicalName]);return this.sessionService.eligibilityDetails=a,this.sessionService.centerCode=e.centerCode,this.sessionService.visaSubCategory=e.visaCategoryCode,this.sessionService.visaCategory="-",!0}catch(a){throw a}}route(e){try{const t=this.commonService.getSchemaByModuleName(e);this.commonService.routeToPostLoginModule(t.routeUrl)}catch(t){console.log(t)}}tabChanged(e){this.statusOnTabChnaged=0===e.index?"InProgress":"Active",this.getAllApplications(this.statusOnTabChnaged)}back(){this.detailMode=!1,this.applicationDetail={},this.statusOnTabChnaged="Active"}updateCategory(e){const t=this.getApplicationDetails(e);this.sessionService.applicationDetailValue=t,this.sessionService.urn=e.urn,this.commonService.routeToPostLoginModule(r.c.modules.UPDATE_CATEGORY)}checkIfDisabled(){return!(!this.isPtFlow||this.isPtFlow&&this.ptImportantCheck&&this.ptWarningCheck)}getLinkUrl(){return this.translate.get("termsAndConditions.urls.link1").subscribe(e=>{this.urlLink=e}),this.urlLink}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(La.b),o.Qb(m.e),o.Qb(ie.a),o.Qb(p.e))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-dashboard"]],viewQuery:function(e,t){if(1&e&&o.Uc(Qa,1),2&e){let e;o.Ac(e=o.ic())&&(t.changeAppointmentModal=e.first)}},features:[o.Ab],decls:6,vars:3,consts:[["class","container py-15 py-md-30",3,"ngClass",4,"ngIf"],["class","container py-15 py-md-30",4,"ngIf"],["viewChangeAppointmentModal",""],[1,"container","py-15","py-md-30"],["class","container",4,"ngIf"],[1,"container","py-15","py-md-30",3,"ngClass"],[1,"card-accordion","mx-auto","d-flex","flex-column",2,"min-height","calc(100vh - 190px)"],[1,"row","mb-10","mb-md-25"],[1,"col-12"],["class","border-info mt-20","style","border-left: 5px solid",4,"ngIf"],[1,"col-12","col-sm-auto","d-lg-none"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],[1,"position-relative"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-brand-orange","d-none","d-lg-inline-block","position-absolute","top-n3","right-0","z-index-999",3,"disabled","click"],["animationDuration","0ms",1,"mat-tab-group-brand",3,"selectedIndex","selectedIndexChange","selectedTabChange"],[3,"label"],[4,"ngIf"],["class","row",4,"ngIf"],[1,"border-info","mt-20",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-info-circle","fs-24","position-absolute","left-15","top-18","mb-0"],["class","card mb-20",4,"ngFor","ngForOf","ngForTrackBy"],[1,"card","mb-20"],[1,"card-header","bg-brand-footer","px-15","px-lg-30"],[1,"mt-10","mb-25"],[1,"fs-18","fs-sm-24","mb-15"],[1,"row","fs-md-18"],["class","col-12 col-md mb-15 c-brand-grey-para",4,"ngIf"],[1,"col-12","col-md-auto","mb-15"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer",3,"click"],["class","row fs-md-18",4,"ngIf"],[1,"my-5","mx-n30"],[1,"pt-15","fs-md-18","ff-700","mb-5"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-md","mb-15","c-brand-grey-para"],["class","col-12 col-md-auto mb-15",4,"ngIf"],[1,"pt-15","fs-md-18","mb-10"],[1,"c-brand-grey-para"],[1,"row"],[1,"col-12","mt-30"],[1,"fs-18"],[1,"c-brand-grey-para","fs-sm-18"],[1,"form-group"],[1,"pl-35"],["type","checkbox",1,"mat-checkbox-brand","ml-n35",3,"ngModel","ngModelChange"],[1,"fs-sm-18","text-wrap","mr-5"],[1,"row","mt-auto",3,"type"],[1,"c-brand-orange","fs-18","mb-20"],[1,"cursor-pointer",3,"click"],[1,"fa","fa-arrow-left"],[1,"col-12","col-lg-8","col-xl-8"],[1,"fs-18","fs-sm-24","mb-25"],["class","c-brand-grey-para fs-18 fs-md-22 mb-15",4,"ngIf"],["class","row no-gutters fs-16",4,"ngIf"],[1,"dashboard-accordion","card"],[1,"card-header","bg-brand-footer"],[1,"fs-18","fs-md-22"],["class","c-brand-grey-para w-100 fs-16 fs-md-18 mt-15",4,"ngFor","ngForOf","ngForTrackBy"],[3,"translate"],[1,"c-brand-grey-para","fs-18","fs-md-22","mb-15"],[1,"row","no-gutters","fs-16"],[1,"col-12","col-md-6","my-20"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"],["class","row no-gutters mt-10 fs-16",4,"ngIf"],[1,"row","no-gutters","mt-10","fs-16"],["class","col-12 col-md-6 my-15 pl-35",4,"ngIf"],[1,"col-12","col-md-6","my-15","pl-35"],[1,"fa","fa-times-circle-o","fs-25","c-brand-blue-light","position-absolute","top-n3","left-0"],[1,"c-brand-grey-para","text-decoration-underline"],["class","ff-700 fs-18 mt-25",4,"ngIf"],[1,"my-20","c-brand-grey-para","fs-16","fs-md-18","lh-md-26"],["class","fs-16 fs-md-18",4,"ngIf"],[1,"my-20"],[1,"ff-700","fs-18","mt-25"],[1,"fs-16","fs-md-18"],[1,"fa","fa-clock-o","fs-25","c-brand-blue-light","position-absolute","top-n3","left-0"],[1,"c-brand-grey-para","text-decoration-underline","cursor-pointer"],[1,"fa","fa-arrow-circle-o-right","fs-25","c-brand-blue-light","position-absolute","top-n3","left-0"],[1,"fa","fa-print","fs-25","c-brand-blue-light","position-absolute","top-n3","left-0"],[1,"c-brand-grey-para","w-100","fs-16","fs-md-18","mt-15"],["colspan","2",1,"ff-500","py-8","c-brand-blue-light"],[1,"py-8"],[1,"py-8","w-wrap-break-all"],["colspan","2"],["colspan","2",1,"py-8"],[1,"col-12","col-lg-4","col-xl-4","mt-35","mt-lg-0",3,"type"],[1,"mat-modal-delete-document"],[1,"position-absolute","top-10","right-10"],["matDialogClose","false",1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999"],["alt","","aria-label","Close",1,"cursor-pointer",3,"src"],[1,"fs-18","fs-sm-21","mb-10"],[1,"fa","fa-exclamation-triangle","mr-5"],[1,"fs-sm-17","c-brand-grey-para","mb-30"],[1,"col-12","col-sm-6","col-sm"],["mat-stroked-button","","matDialogClose","false",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mb-10","mb-sm-0"],["mat-stroked-button","","matDialogClose","true",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","mb-10","mb-sm-0"],[1,"container"],[1,"mb-30"],[1,"vm-vl-accordion"],[1,"c-brand-orange","ml-auto","text-nowrap"],[1,"vm-link","text-decoration-underline"],[1,"vl-link","text-decoration-underline"],["target","_blank",1,"c-brand-orange","text-decoration-underline",3,"href"],[1,"form-group","my-40"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"]],template:function(e,t){1&e&&(o.Mc(0,ri,22,19,"section",0),o.Mc(1,wi,25,21,"section",1),o.Mc(2,Fi,21,13,"ng-template",null,2,o.Nc),o.Wb(4,"section",3),o.Mc(5,_i,168,146,"div",4),o.Vb()),2&e&&(o.tc("ngIf",t.isPtFlow&&0==t.ptTermsAndConditionView||!t.isPtFlow),o.Db(1),o.tc("ngIf",t.applicationDetail&&(null==t.applicationDetail.applicants?null:t.applicationDetail.applicants.length)>0&&t.detailMode),o.Db(4),o.tc("ngIf",t.ptTermsAndConditionView))},directives:[m.o,m.m,h.a,ka.b,ka.a,m.n,f.a,n.q,n.t,ja,Ya.a,Ya.c,Ya.d,p.a,La.d],pipes:[p.d],encapsulation:2}),e})(),Gi=(()=>{class e extends d.a{constructor(e,t,a){super(),this.dialog=e,this.data=t,this.dialogRef=a}close(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(La.b),o.Qb(La.a),o.Qb(La.h))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-same-passport-modal"]],features:[o.Ab],decls:16,vars:8,consts:[[1,"mat-modal-delete-document"],[1,"position-absolute","top-10","right-10"],[1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"fs-18","fs-sm-21"],[1,"fa","fa-exclamation-triangle","mr-5"],[1,"my-20"],[1,"fs-sm-17","c-brand-grey-para","mb-30"],[1,"row"],[1,"col-12","col-sm"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mb-10","mb-sm-0",3,"click"]],template:function(e,t){1&e&&(o.Wb(0,"div",0),o.Wb(1,"div",1),o.Wb(2,"button",2),o.hc("click",function(){return t.close()}),o.Rb(3,"img",3),o.Vb(),o.Vb(),o.Wb(4,"h4",4),o.Rb(5,"i",5),o.Oc(6),o.mc(7,"translate"),o.Vb(),o.Rb(8,"hr",6),o.Wb(9,"p",7),o.Oc(10),o.Vb(),o.Wb(11,"div",8),o.Wb(12,"div",9),o.Wb(13,"button",10),o.hc("click",function(){return t.close()}),o.Oc(14),o.mc(15,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e&&(o.Db(3),o.vc("src","",t.getGlobalImagePath,"/close-btn.png",o.Hc),o.Db(3),o.Qc(" ",o.nc(7,4,"commonSections.headerLabel.label3")," "),o.Db(4),o.Pc(t.data),o.Db(4),o.Qc(" ",o.nc(15,6,"commonSections.buttons.button19")," "))},directives:[h.a],pipes:[p.d],encapsulation:2}),e})();var Ri=a("z+xu");const Ui=["captchaContainer"];function Bi(e,t){if(1&e&&(o.Wb(0,"div",4),o.Oc(1),o.mc(2,"translate"),o.Rb(3,"countdown",5,6),o.Vb()),2&e){const e=o.lc();o.Db(1),o.Qc(" ",o.nc(2,2,"header.headerLabel.label17"),""),o.Db(2),o.tc("config",e.configg)}}function ji(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"div",12),o.Wb(2,"div",13),o.Wb(3,"div",14),o.Wb(4,"div",15),o.Rb(5,"i",16),o.Vb(),o.Rb(6,"div",17),o.Vb(),o.Vb(),o.Vb(),o.Tb()),2&e){const e=o.lc(2);o.Db(6),o.tc("translate",e.errorDescription)}}function Yi(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div",30),o.Wb(1,"div",31),o.Wb(2,"div",32),o.Oc(3,"\u2713"),o.Vb(),o.Oc(4),o.Vb(),o.Wb(5,"div",33),o.hc("click",function(){return o.Fc(e),(0,o.lc().openFileSelector)()}),o.Oc(6),o.mc(7,"translate"),o.Vb(),o.Vb()}if(2&e){const e=t.$implicit;o.Db(4),o.Qc(" ",e.relativePath," "),o.Db(2),o.Qc(" ",o.nc(7,2,"eligibilityCriteria.buttons.button3")," ")}}function Qi(e,t){if(1&e&&(o.Wb(0,"div",23),o.Wb(1,"div",24),o.Wb(2,"h5",25),o.Wb(3,"span"),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Wb(6,"span",26),o.Oc(7," *"),o.Vb(),o.Vb(),o.Wb(8,"div",27),o.Wb(9,"button",28),o.hc("click",function(){return(0,t.openFileSelector)()}),o.Oc(10),o.mc(11,"translate"),o.Vb(),o.Vb(),o.Mc(12,Yi,8,4,"div",29),o.Vb(),o.Vb()),2&e){const e=o.lc(3);o.Db(4),o.Pc(o.nc(5,3,"eligibilityCriteria.placeholder.label10")),o.Db(6),o.Qc(" ",o.nc(11,5,"eligibilityCriteria.buttons.button2")," "),o.Db(2),o.tc("ngForOf",e.files)}}function $i(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"div",34),o.Wb(2,"div",35),o.Oc(3),o.Vb(),o.Vb(),o.Tb()),2&e){const e=o.lc(3);o.Db(3),o.Qc(" ",e.dragFleError," ")}}function qi(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Wb(1,"div",18),o.Rb(2,"i",19),o.Wb(3,"span"),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Rb(6,"div"),o.Vb(),o.Wb(7,"div",20),o.Wb(8,"ngx-file-drop",21),o.hc("onFileDrop",function(t){return o.Fc(e),o.lc(2).dropped(t)}),o.Mc(9,Qi,13,7,"ng-template",22),o.Vb(),o.Vb(),o.Mc(10,$i,4,1,"ng-container",3),o.Tb()}if(2&e){const e=o.lc(2);o.Db(4),o.Pc(o.nc(5,3,"applicantInformation.pageDetails.para7")),o.Db(4),o.tc("multiple",!1),o.Db(2),o.tc("ngIf",e.dragFleError)}}function Hi(e,t){1&e&&(o.Wb(0,"div",36),o.Wb(1,"div",18),o.Rb(2,"i",19),o.Wb(3,"div"),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Vb(),o.Vb()),2&e&&(o.Db(4),o.Pc(o.nc(5,1,"applicantInformation.messages.errorMessages.message36")))}function Ki(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"h5",37),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Tb()),2&e){const e=o.lc(2);o.Db(2),o.Rc(" ",o.nc(3,2,"applicantInformation.pageDetails.para1")," ",e.isEditModeFlag?e.editApplicantIndex+1:(null==e.applicationDetails||null==e.applicationDetails.applicantList?null:e.applicationDetails.applicantList.length)+1," ")}}function zi(e,t){if(1&e&&(o.Wb(0,"h5",38),o.Oc(1),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.Rc(" ",null==e.currentFormGroup||null==e.currentFormGroup.value?null:e.currentFormGroup.value.firstName," ",null==e.currentFormGroup||null==e.currentFormGroup.value?null:e.currentFormGroup.value.lastName," ")}}function Zi(e,t){if(1&e){const e=o.Xb();o.Wb(0,"i",50),o.hc("click",function(){o.Fc(e);const t=o.lc().index;return o.lc(3).editApplicantDetails(t)}),o.Vb()}}function Ji(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div",42),o.Wb(1,"div",43),o.Wb(2,"div",44),o.Wb(3,"div",45),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Wb(6,"div",46),o.Oc(7),o.Vb(),o.Vb(),o.Wb(8,"div",47),o.Wb(9,"i",48),o.hc("click",function(){o.Fc(e);const a=t.index;return o.lc(3).openDialog(a)}),o.Vb(),o.Mc(10,Zi,1,0,"i",49),o.Vb(),o.Vb(),o.Vb()}if(2&e){const e=t.$implicit,a=t.index,i=o.lc(3);o.Db(4),o.Rc("",o.nc(5,5,"applicantInformation.pageDetails.para1")," ",a+1,""),o.Db(3),o.Rc("",null==e?null:e.firstName," ",null==e?null:e.lastName,""),o.Db(3),o.tc("ngIf",!i.isDocumentUploadEnabled&&!i.isNationalVisaEdit(e))}}function Xi(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Mc(1,Ji,11,7,"div",39),o.Wb(2,"div",40),o.Wb(3,"button",41),o.hc("click",function(){return o.Fc(e),o.lc(2).addApplicant()}),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Vb(),o.Tb()}if(2&e){const e=o.lc(2);o.Db(1),o.tc("ngForOf",null==e.applicationDetails?null:e.applicationDetails.applicantList)("ngForTrackBy",e.trackByFn),o.Db(2),o.tc("disabled",e.disableAddApplicant),o.Db(1),o.Qc(" ",o.nc(5,4,"commonSections.buttons.button32")," ")}}function eo(e,t){1&e&&(o.Wb(0,"div"),o.Wb(1,"p",57),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()),2&e&&(o.Db(2),o.Pc(o.nc(3,1,"applicantInformation.para.label2")))}function to(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Wb(1,"h2",52),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Wb(4,"div",53),o.Wb(5,"div",54),o.Wb(6,"mat-checkbox",55),o.hc("ngModelChange",function(t){return o.Fc(e),o.lc(3).isChild=t})("ngModelChange",function(t){return o.Fc(e),o.lc(3).onIsChildSelection(t)}),o.Wb(7,"span",56),o.Oc(8),o.mc(9,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Mc(10,eo,4,3,"div",3),o.Vb(),o.Tb()}if(2&e){const e=o.lc(3);o.Db(2),o.Rc(" ",o.nc(3,5,"applicantInformation.pageDetails.para1")," ",e.isEditModeFlag?e.editApplicantIndex+1:(null==e.applicationDetails||null==e.applicationDetails.applicantList?null:e.applicationDetails.applicantList.length)+1," "),o.Db(4),o.tc("ngModel",e.isChild),o.Db(2),o.Pc(o.nc(9,7,"applicantInformation.pageDetails.para2")),o.Db(2),o.tc("ngIf",e.isChild)}}function ao(e,t){if(1&e){const e=o.Xb();o.Wb(0,"form",58),o.Wb(1,"app-dynamic-form",59),o.hc("formGroupCopy",function(t){return o.Fc(e),o.lc(3).postPageLoadActivities(t,!0)}),o.Vb(),o.Vb()}if(2&e){const e=o.lc(3);o.tc("formGroup",e.currentFormGroup),o.Db(1),o.tc("scope",e.scope)("schema",e.currentModule)}}function io(e,t){if(1&e&&(o.Ub(0),o.Mc(1,to,11,9,"ng-container",3),o.Mc(2,ao,2,3,"form",51),o.Tb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",e.viewIsChildFlag),o.Db(1),o.tc("ngIf",e.isChild||!e.isDocumentUploadEnabled||e.isEditModeFlag&&(null==e.applicationDetails||null==e.applicationDetails.applicantList?null:e.applicationDetails.applicantList.length)>0||e.isDocumentUploadEnabled&&e.documentextracted)}}function oo(e,t){if(1&e&&(o.Wb(0,"mat-card",7),o.Wb(1,"p",8),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Wb(4,"h1",9),o.Oc(5),o.mc(6,"translate"),o.Vb(),o.Mc(7,ji,7,1,"ng-container",3),o.Mc(8,qi,11,5,"ng-container",3),o.Mc(9,Hi,6,3,"div",10),o.Mc(10,Ki,4,4,"ng-container",3),o.Mc(11,zi,2,2,"h5",11),o.Mc(12,Xi,6,6,"ng-container",3),o.Mc(13,io,3,2,"ng-container",3),o.Vb()),2&e){const e=o.lc();o.Db(2),o.Qc(" ",o.nc(3,9,e.viewApplicantsListFlag?"applicantInformation.para.label3":"applicantInformation.para.label1")," "),o.Db(3),o.Pc(o.nc(6,11,e.currentModule.displayName)),o.Db(2),o.tc("ngIf",e.errorDescription),o.Db(1),o.tc("ngIf",e.isDocumentUploadEnabled&&!e.viewApplicantsListFlag&&!e.isEditModeFlag&&!e.isChild),o.Db(1),o.tc("ngIf",e.disableAddApplicant&&!e.isEditModeFlag&&!e.isPtFlow),o.Db(1),o.tc("ngIf",!e.viewApplicantsListFlag&&!e.viewIsChildFlag&&(!e.isDocumentUploadEnabled||e.isEditModeFlag&&(null==e.applicationDetails||null==e.applicationDetails.applicantList?null:e.applicationDetails.applicantList.length)>0||e.isDocumentUploadEnabled&&e.documentextracted)),o.Db(1),o.tc("ngIf",e.isEditModeFlag&&(null==e.applicationDetails||null==e.applicationDetails.applicantList?null:e.applicationDetails.applicantList.length)>0),o.Db(1),o.tc("ngIf",e.viewApplicantsListFlag&&(null==e.applicationDetails||null==e.applicationDetails.applicantList?null:e.applicationDetails.applicantList.length)>0),o.Db(1),o.tc("ngIf",!e.viewApplicantsListFlag)}}function no(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"mat-card",60),o.Rb(2,"app-dynamic-form",61),o.Vb(),o.Tb()),2&e){const e=o.lc();o.Db(2),o.tc("scope",e.scope)("schema",e.currentModuleButtons)}}const so=function(e){return{amount:e}};function lo(e,t){if(1&e&&(o.Wb(0,"div",71),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e){const e=o.lc(3);o.Db(1),o.Qc(" ",o.oc(2,1,"commonSections.messages.infoMessages.message2",o.xc(4,so,e.serviceFees))," ")}}function ro(e,t){if(1&e&&(o.Wb(0,"div",71),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e){const e=o.lc(3);o.Db(1),o.Qc(" ",o.oc(2,1,"commonSections.messages.infoMessages.message3",o.xc(4,so,e.serviceFees))," ")}}function co(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div",72),o.Wb(1,"div",71),o.Wb(2,"mat-checkbox",73),o.hc("ngModelChange",function(t){return o.Fc(e),o.lc(3).payServiceFeeOnline=t}),o.Oc(3),o.mc(4,"translate"),o.Vb(),o.Vb(),o.Vb()}if(2&e){const e=o.lc(3);o.Db(2),o.tc("ngModel",e.payServiceFeeOnline),o.Db(1),o.Qc(" ",o.nc(4,2,"applicantInformation.formLabel.label20")," ")}}function uo(e,t){if(1&e&&(o.Wb(0,"div"),o.Wb(1,"div",66),o.Wb(2,"div",67),o.Wb(3,"div",14),o.Wb(4,"div",15),o.Rb(5,"i",68),o.Vb(),o.Mc(6,lo,3,6,"div",69),o.Rb(7,"br"),o.Mc(8,ro,3,6,"div",69),o.Rb(9,"br"),o.Vb(),o.Mc(10,co,5,4,"div",70),o.Vb(),o.Vb(),o.Vb()),2&e){const e=o.lc(2);o.Db(6),o.tc("ngIf",e.payOnlineMode),o.Db(2),o.tc("ngIf",!e.payOnlineMode),o.Db(2),o.tc("ngIf",e.isOnlineFeesPaymentOptional)}}function mo(e,t){if(1&e){const e=o.Xb();o.Wb(0,"button",81),o.hc("click",function(){return o.Fc(e),o.lc(4).sendOTP("OTP Send",!0)}),o.Oc(1),o.mc(2,"translate"),o.Vb()}2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"applicantInformation.buttons.button1")," "))}function po(e,t){1&e&&(o.Wb(0,"div",94),o.Wb(1,"div",95),o.Rb(2,"i",96),o.Wb(3,"div"),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Vb(),o.Vb()),2&e&&(o.Db(4),o.Pc(o.nc(5,1,"applicantInformation.messages.errorMessages.message34")))}function bo(e,t){1&e&&(o.Wb(0,"div",94),o.Wb(1,"div",95),o.Rb(2,"i",96),o.Wb(3,"div"),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Vb(),o.Vb()),2&e&&(o.Db(4),o.Pc(o.nc(5,1,"applicantInformation.messages.errorMessages.message35")))}const go=function(e){return{createOTPLimit:e}};function fo(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div",82),o.Wb(1,"div",83),o.Mc(2,po,6,3,"div",84),o.Mc(3,bo,6,3,"div",84),o.Vb(),o.Wb(4,"div",85),o.Wb(5,"div",86),o.Wb(6,"div"),o.Oc(7),o.mc(8,"translate"),o.Vb(),o.Wb(9,"div",87),o.Oc(10),o.mc(11,"translate"),o.Rb(12,"br"),o.Oc(13),o.mc(14,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(15,"div",88),o.Wb(16,"div",86),o.Wb(17,"mat-form-field",89),o.Wb(18,"input",90),o.hc("ngModelChange",function(t){return o.Fc(e),o.lc(4).enteredOTP=t}),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(19,"div",91),o.Wb(20,"button",81),o.hc("click",function(){return o.Fc(e),o.lc(4).verifyOTP()}),o.Oc(21),o.mc(22,"translate"),o.Vb(),o.Vb(),o.Wb(23,"div",92),o.Wb(24,"span",93),o.hc("click",function(){return o.Fc(e),o.lc(4).sendOTP("OTP Resend",!0)}),o.Oc(25),o.mc(26,"translate"),o.Vb(),o.Vb(),o.Vb()}if(2&e){const e=o.lc(4);o.Db(2),o.tc("ngIf",1==e.OTPUnsuccess&&0==e.OTPSuccess),o.Db(1),o.tc("ngIf",1==e.otpLimitExceed),o.Db(4),o.Pc(o.nc(8,8,"applicantInformation.pageDetails.para4")),o.Db(3),o.Qc(" ",o.nc(11,10,"applicantInformation.pageDetails.para5")," "),o.Db(3),o.Qc(" ",o.oc(14,12,"applicantInformation.pageDetails.para6",o.xc(19,go,e.createOTPLimit))," "),o.Db(5),o.tc("ngModel",e.enteredOTP),o.Db(3),o.Qc(" ",o.nc(22,15,"applicantInformation.buttons.button2")," "),o.Db(4),o.Pc(o.nc(26,17,"applicantInformation.formLabel.label22"))}}function ho(e,t){1&e&&(o.Wb(0,"div",97),o.Wb(1,"div",98),o.Wb(2,"div",99),o.Oc(3),o.mc(4,"translate"),o.Vb(),o.Wb(5,"div",100),o.Oc(6),o.mc(7,"translate"),o.Vb(),o.Wb(8,"div",101),o.Wb(9,"div",102),o.Rb(10,"i",96),o.Wb(11,"div"),o.Oc(12),o.mc(13,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e&&(o.Db(3),o.Pc(o.nc(4,3,"applicantInformation.pageDetails.para4")),o.Db(3),o.Qc(" ",o.nc(7,5,"applicantInformation.messages.successMessages.message1")," "),o.Db(6),o.Pc(o.nc(13,7,"applicantInformation.messages.successMessages.message2")))}function vo(e,t){if(1&e&&(o.Wb(0,"div",75),o.Wb(1,"h2",76),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Wb(4,"p",8),o.Oc(5),o.mc(6,"translate"),o.Vb(),o.Wb(7,"div",77),o.Mc(8,mo,3,3,"button",78),o.Vb(),o.Mc(9,fo,27,21,"div",79),o.Mc(10,ho,14,9,"div",80),o.Vb()),2&e){const e=o.lc(3);o.Db(2),o.Pc(o.nc(3,5,"applicantInformation.subHeaderLabel.label1")),o.Db(3),o.Pc(o.nc(6,7,"applicantInformation.pageDetails.para3")),o.Db(3),o.tc("ngIf",!e.OTPHandler),o.Db(1),o.tc("ngIf",1==e.OTPHandler&&0==e.OTPSuccess),o.Db(1),o.tc("ngIf",1==e.OTPSuccess)}}function yo(e,t){if(1&e&&(o.Wb(0,"mat-card",7),o.Mc(1,vo,11,9,"div",74),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",1==e.IsOTPEnable)}}function So(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Wb(1,"mat-card",60),o.Mc(2,uo,11,3,"div",3),o.Mc(3,yo,2,1,"mat-card",2),o.Wb(4,"div",62),o.Wb(5,"div",63),o.Wb(6,"button",64),o.hc("click",function(){return o.Fc(e),o.lc().goBack()}),o.Oc(7),o.mc(8,"translate"),o.Vb(),o.Vb(),o.Wb(9,"div",63),o.Wb(10,"button",65),o.hc("click",function(){return o.Fc(e),o.lc().continue()}),o.Oc(11),o.mc(12,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Tb()}if(2&e){const e=o.lc();o.Db(2),o.tc("ngIf",e.isBannerDisplayed),o.Db(1),o.tc("ngIf",1==e.OTPCard),o.Db(4),o.Qc(" ",o.nc(8,5,"commonSections.buttons.button8")," "),o.Db(3),o.tc("disabled",e.checkIfDisabled()),o.Db(1),o.Qc(" ",o.nc(12,7,"commonSections.buttons.button19")," ")}}const Co=["captcha_version","captcha_key_applicant"];let Do=(()=>{class e extends nt.a{constructor(e){super(),this.dialog=e,this.submitAttempt=!1,this.maxCallTime=12,this.files=[],this.scope=this,this.viewApplicantsListFlag=!1,this.isEditModeFlag=!1,this.isChild=!1,this.constants=r.c,this.OTPHandler=!1,this.OTPSuccess=!1,this.OTPUnsuccess=!1,this.OTPCard=!1,this.otpInProgress=!1,this.otpLimitExceed=!1,this.initBaseForm(r.c.modules.APPLICANT_DETAILS),this.isEditingFromSamePage=!1,this.feesAmount=0,this.serviceFees="",this.applicationDetails={},this.editApplicantIndex=0,this.config={},this.currentPageEditFlag=!1,this.payServiceFeeOnline=!1,this.allowedCaptcha=!1,this.documentextracted=!1,this.dragFleError="",this.errorDescription="",this.currentCaptcha=this.captchaVersionConst.default,this.IsOTPEnable=!1}ngOnInit(){this.commonService.loadClientIp(),this.utilityService.fireCustomEvent({dl_category:"applicants details",dl_action:"applicant details pageview",dl_label:1,value:0});const e=this.sessionService.onlineFeePaymentModeOpted;this.payServiceFeeOnline=null===e||e,this.config=this.sessionService.applicationConfiguration,this.applicationDetails=this.sessionService.applicationDetailValue,this.IsOTPEnable=this.sessionService.IsOTPEnable,this.setEditModeFlag(this.checkIsEditMode()),this.timeLeft=String(360),this.isPtFlow?this.start():this.handleFeesCalls(),this.registerOnPageLoadCompleteListener()}start(){this.configg={leftTime:this.timeLeft,format:"mm:ss",demand:!1},this.commonService.autoLogout(360)}checkCaptchaAllowed(){this.subs.sink=this.dataShareService.captchaAllowedRoutes.subscribe(e=>Object(l.b)(this,void 0,void 0,function*(){e?(this.allowedCaptcha=e.find(e=>r.c.api.applicant.includes(e.api_url)),this.allowedCaptcha&&this.sessionService.captchaMode===this.captchaVersionConst.alternate&&(this.currentCaptcha=this.captchaVersionConst.alternate,Co.forEach(e=>{this.currentFormGroup.addControl(e,new n.f("",n.x.required))}),setTimeout(()=>Object(l.b)(this,void 0,void 0,function*(){const e=yield this.captchaContainer.generateToken();this.utilityService.patchCaptchaValueForApplicants(this.currentFormGroup,e,this.captchaVersionConst.default)}),1e3))):this.allowedCaptcha=!1}))}setRefNoValidation(){var e;try{const t=(null===(e=this.config)||void 0===e?void 0:e.GRNValidRegExpression)||null;return null!==t?t:"^([a-zA-Z0-9]{12,14})+$"}catch(t){this.logger.error(t)}}setGovtRefNoValidation(e){try{if(this.utilityService.strictCompare(this.sessionService.countryCode.toLowerCase(),"usa")&&this.utilityService.strictCompare(this.sessionService.tenent.toLowerCase(),"ind")){const t=this.sessionService.eligibilityDetails,a=(null==t?void 0:t.hasOwnProperty(e.value))?t[e.value]:void 0;if(void 0===a)throw new Error(r.d.INVALID_GOVT_REF_NMBR);return String(a).toLowerCase(),String(a).toUpperCase(),`^([0-9A-Za-z]{6})(${rt()().year().toString().substr(-2)}|${rt()().subtract(1,"year").year().toString().substr(-2)}|${rt()().add(1,"year").year().toString().substr(-2)})$`}}catch(t){throw this.logger.error(t),t}}handleFeesCalls(){return Object(l.b)(this,void 0,void 0,function*(){try{let e=null;this.applicationDetails.applicantList.length>0&&(!0===this.isOnlineFeesPaymentOptional&&(e=yield this.getVfsServiceFees()),this.loadServiceFees(e),this.dataShareService.editYourDetail||this.setViewApplicantsList(!0))}catch(e){this.logger.error(e)}})}submitV2Captcha(e){this.utilityService.patchCaptchaValue(this.currentFormGroup,e,this.captchaVersionConst.alternate,"captcha_key_applicant")}registerOnPageLoadCompleteListener(){try{this.subs.sink=this.dataShareService.pageLoadComplete$.subscribe(e=>{var t,a,i;null==this.sessionService.editApplicantDetailsIdx||this.isEditingFromSamePage||(this.editApplicantIndex=this.sessionService.editApplicantDetailsIdx);const o=this.sessionService.applicationDetailValue;if(e&&0===(null===(t=null==o?void 0:o.applicantList)||void 0===t?void 0:t.length)&&this.currentFormGroup.value&&!this.sessionService.editApplicantDetailsIdx&&!this.isEditModeFlag){const e=this.sessionService.documentExtractionData;(null==e?void 0:e.length)>0&&this.currentFormGroup.patchValue(e[0])}if(this.documentextracted){this.currentFormGroup.patchValue(this.extractedFields);for(const e in this.extractedFields)null===(a=this.currentFormGroup.get(e))||void 0===a||a.enable(),this.extractedFields.hasOwnProperty(e)&&null!==this.extractedFields[e]&&(null===(i=this.currentFormGroup.get(e))||void 0===i||i.disable())}this.isEditModeFlag&&this.updateFormForEdit(),e&&this.onEditMode()})}catch(e){console.log(e)}}dropped(e){return Object(l.b)(this,void 0,void 0,function*(){yield this.urlGeneration(e),this.sessionService.clearDocumentExtration(),e.forEach((t,a)=>{t.fileEntry.isFile&&t.fileEntry.file(t=>Object(l.b)(this,void 0,void 0,function*(){var a,i,o;return"pdf"!==(null===(o=null===(i=null===(a=null==t?void 0:t.name)||void 0===a?void 0:a.split("."))||void 0===i?void 0:i.pop())||void 0===o?void 0:o.toLowerCase())?(this.errorDescription="applicantInformation.messages.errorMessages.message39",void setTimeout(()=>this.errorDescription="",5e3)):t.size>2097152?(this.errorDescription="applicantInformation.messages.errorMessages.message38",void setTimeout(()=>this.errorDescription="",5e3)):new Promise((a,i)=>{const o=new FileReader;o.readAsDataURL(t),o.onload=()=>Object(l.b)(this,void 0,void 0,function*(){var t,n,s,l,c,d;const u={urn:(null===(n=null===(t=this.applicationDetails)||void 0===t?void 0:t.applicantList)||void 0===n?void 0:n.length)>0?null===(s=this.sessionService)||void 0===s?void 0:s.urn:"",missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.centerCode,loginUser:this.sessionService.getLoggedEmail(),fileBytes:null===(c=null===(l=o.result)||void 0===l?void 0:l.toString())||void 0===c?void 0:c.split("base64,")[1]},m=yield this.httpService.payloadPost(r.c.api.uploadDocument,u).toPromise();null===(null==m?void 0:m.error)?(this.files=e,yield this.checkForResult(m),a(m)):(this.errorDescription=null===(d=null==m?void 0:m.error)||void 0===d?void 0:d.description,setTimeout(()=>this.errorDescription="",5e3),i(m))})})}))})})}checkForResult(e){var t,a,i;return Object(l.b)(this,void 0,void 0,function*(){try{if(e){if(this.documentextracted=!0,null!==(null==e?void 0:e.dateOfBirth)){const t=e.dateOfBirth.split("/");e.dateOfBirth={year:Number(t[2]),month:Number(t[1]),day:Number(t[0])}}if(null!==(null==e?void 0:e.passportExpiryDate)){const a=null===(t=e.passportExpiryDate)||void 0===t?void 0:t.split("/");e.passportExpirtyDate={year:Number(a[2]),month:Number(a[1]),day:Number(a[0])}}else e.passportExpirtyDate=null;0===(null==e?void 0:e.gender)&&(e.gender=null),this.extractedFields=e,this.currentFormGroup.patchValue(e);for(const t in e)null===(a=this.currentFormGroup.get(t))||void 0===a||a.enable(),e.hasOwnProperty(t)&&null!==e[t]&&(null===(i=this.currentFormGroup.get(t))||void 0===i||i.disable());this.utilityService.stopNgxUiSpinner()}}catch(o){this.utilityService.stopNgxUiSpinner()}})}urlGeneration(e){this.dragFleError=e.length>1?"Only one file at time allow":""}get isEditingFromSamePage(){return this.currentPageEditFlag}set isEditingFromSamePage(e){this.currentPageEditFlag=e}checkIsEditMode(){try{return null!=this.sessionService.editApplicantDetailsIdx}catch(e){return console.log(e),!1}}onEditMode(){try{const e=this.sessionService.editApplicantDetailsIdx,t=this.sessionService.applicationDetailValue;null!=e&&t&&t.applicantList.length>e&&this.editApplicantDetails(e)}catch(e){console.log(e)}}appendReferenceNumber(e){var t,a;return Object(l.b)(this,void 0,void 0,function*(){try{return this.commonService.checkIfPostal(this.applicationDetails.applicationType)&&e.contains("centreCodeForRefenceNumber")&&e.contains("referenceNumber")&&(null===(t=e.get("referenceNumber"))||void 0===t||t.setValue(this.sessionService.centerCode+(null===(a=e.get("referenceNumber"))||void 0===a?void 0:a.value))),e}catch(i){this.logger.log(i)}})}saveAndContinue(e,t){var a,i,o,n,s,r,c,d;return Object(l.b)(this,void 0,void 0,function*(){try{if(this.submitAttempt=!0,!this.currentFormGroup||!this.currentFormGroup.valid){this.commonService.touchAllFields(this.currentFormGroup);const e=document.querySelector(".form-error");return void(null==e||e.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}))}if(!this.isEditModeFlag&&this.isDocumentUploadEnabled&&!this.documentextracted&&!this.isChild){const e=document.getElementById("error");return null==e||e.scrollIntoView({behavior:"smooth",block:"center"}),this.errorDescription="applicantInformation.messages.errorMessages.message37",void setTimeout(()=>this.errorDescription="",4e3)}yield this.appendReferenceNumber(this.currentFormGroup),this.sessionService.updateFees=!0,this.tempurl=e;const t={dl_category:"Applicants Details",dl_action:"Form Submission - Applicant Details",dl_label:(null===(a=this.applicationDetails)||void 0===a?void 0:a.applicantList.length)+1,value:void 0};let l;this.utilityService.fireCustomEvent(t),this.isPtFlow||this.config.isPassportExpiryDateDisabled||(l=(null===(o=null===(i=this.currentFormGroup.value)||void 0===i?void 0:i.passportExpirtyDate)||void 0===o?void 0:o.day)+"/"+(null===(s=null===(n=this.currentFormGroup.value)||void 0===n?void 0:n.passportExpirtyDate)||void 0===s?void 0:s.month)+"/"+(null===(c=null===(r=this.currentFormGroup.value)||void 0===r?void 0:r.passportExpirtyDate)||void 0===c?void 0:c.year));const u={dl_event:"your_details",dl_category:"Your Details",dl_action:"Save",dl_label:"Successful","Current Nationality":this.currentFormGroup.value.nationalityCode,"Passport Number":this.currentFormGroup.value.passportNumber,"Passport Expiry Date":this.isPtFlow||(null===(d=this.config)||void 0===d?void 0:d.isPassportExpiryDateDisabled)?null:l,"Contact Number":this.currentFormGroup.value.contactNumber,Email:this.currentFormGroup.value.emailId};this.utilityService.pushDataLayerGA(u),this.saveApplicant()}catch(t){console.log(t)}})}saveApplicant(){var e;return Object(l.b)(this,void 0,void 0,function*(){try{const t=this.currentFormGroup.getRawValue();!this.isPtFlow&&this.commonService.checkIfPostal(null===(e=this.applicationDetails)||void 0===e?void 0:e.applicationType)&&delete t.centreCodeForRefenceNumber,null===t.gender&&(t.gender=0),this.commonService.loadClientIp();const a=this.constructApplicantDetails(t),i=this.constructSingleApplicantApplicationDetails(this.applicationDetails,a);this.utilityService.startNgxUiSpinner();const o=JSON.parse(JSON.stringify(i));if(this.isPtFlow)return this.updateApplicationDetailsLocally(o),this.routeNext(),void this.utilityService.stopNgxUiSpinner();const n=yield this.saveApplicantToDB(this.tempurl,o);if(this.tempurl=null,!n.hasOwnProperty("error")||null!==n.error){if(n.hasOwnProperty("error")&&n.error.code){let e=n.error.description;1037===n.error.code&&(this.subs.sink=this.translateService.get("applicantInformation.messages.infoMessages.message2").subscribe(t=>e=t)),this.utilityService.stopNgxUiSpinner(),this.showErrorMsgPopup(e,n.error.code)}const e=this.splitReferenceNumber(this.currentFormGroup.value);throw this.currentFormGroup.patchValue(e),new Error(n.error.description)}{this.applicationDetails.applicantList.push(a);const e=this.updateUrnAndArn(this.applicationDetails,n);this.updateApplicationDetailsLocally(e);let t=null;yield this.viewApplicationSummary(),!0===this.isOnlineFeesPaymentOptional&&(t=yield this.getVfsServiceFees()),yield this.loadServiceFees(t),this.utilityService.stopNgxUiSpinner()}}catch(t){if(this.utilityService.stopNgxUiSpinner(),!this.allowedCaptcha)return;c.a.captchaFallbackEnabled&&(this.currentCaptcha=this.captchaVersionConst.alternate,this.utilityService.formcontrolReset(this.currentFormGroup,Co),this.utilityService.resetCaptcha())}})}addApplicant(){var e;this.sessionService.clearEditApplicationIdx(),this.setEditModeFlag(!1),this.setViewApplicantsList(!1);const t={dl_category:"Applicants Details",dl_action:"Add Applicant from Your Details Page",dl_label:(null===(e=this.applicationDetails)||void 0===e?void 0:e.applicantList.length)+1,value:void 0};this.utilityService.fireCustomEvent(t)}get isAddApplicantAllowed(){var e,t;return(null===(t=null===(e=this.applicationDetails)||void 0===e?void 0:e.applicantList)||void 0===t?void 0:t.length)<this.config.allowMaxGroupSize}updateApplicant(e,t){return Object(l.b)(this,void 0,void 0,function*(){try{if(!this.currentFormGroup||!this.currentFormGroup.valid){this.commonService.touchAllFields(this.currentFormGroup);const e=document.querySelector(".form-error");return void(null==e||e.scrollIntoView({behavior:"smooth",block:"center"}))}if(this.editApplicantIndex>=this.applicationDetails.applicantList.length)throw new Error("error: invalid_data_index_passed");yield this.appendReferenceNumber(this.currentFormGroup),this.tempurl=e,this.updateApplicants(),this.utilityService.pushDataLayerGA({dl_event:"your_details",dl_category:"Your Details",dl_action:"Update",dl_label:"page_url"})}catch(t){console.log(t)}})}updateApplicants(){return Object(l.b)(this,void 0,void 0,function*(){try{const e=this.currentFormGroup.value;this.commonService.checkIfPostal(this.applicationDetails.applicationType)&&delete e.centreCodeForRefenceNumber;const t=this.constructApplicantDetails(e,this.applicationDetails.applicantList[this.editApplicantIndex]),a=this.constructSingleApplicantApplicationDetails(this.applicationDetails,t,!0);this.utilityService.startNgxUiSpinner();const i=JSON.parse(JSON.stringify(a)),o=yield this.saveApplicantToDB(this.tempurl,i);if(this.tempurl=null,!o.hasOwnProperty("error")||null!==o.error){if(o.hasOwnProperty("error")&&o.error.code){let e=o.error.description;1037===o.error.code&&(this.subs.sink=this.translateService.get("applicantInformation.messages.infoMessages.message2").subscribe(t=>e=t)),this.utilityService.stopNgxUiSpinner(),this.showErrorMsgPopup(e)}const e=this.splitReferenceNumber(this.currentFormGroup.value);throw this.currentFormGroup.patchValue(e),new Error(o)}{this.applicationDetails.applicantList[this.editApplicantIndex]=t,this.updateApplicationDetailsToSession(this.applicationDetails),yield this.viewApplicationSummary(),this.sessionService.updateFees=!0;let e=null;!0===this.isOnlineFeesPaymentOptional&&(e=yield this.getVfsServiceFees()),yield this.loadServiceFees(e),this.utilityService.stopNgxUiSpinner()}}catch(e){console.log(e)}})}showErrorMsgPopup(e,t){try{const t=this.dialog.open(Gi,{data:e});this.subs.sink=t.afterClosed().subscribe(e=>Object(l.b)(this,void 0,void 0,function*(){})),this.subs.sink=this.router.events.subscribe(()=>{t.close()})}catch(a){console.log(a)}}saveApplicantToDB(e,t){return Object(l.b)(this,void 0,void 0,function*(){try{return yield this.httpService.payloadPost(e,t).toPromise().then(e=>e).catch(e=>{throw e})}catch(a){throw a}})}updateFeeAmount(e){this.utilityService.updateTotalFees(e),this.sessionService.feeAmount=e}getVfsServiceFees(){return Object(l.b)(this,void 0,void 0,function*(){try{const e={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.centerCode,loginUser:this.sessionService.getLoggedEmail(),urn:this.sessionService.urn};return yield this.httpService.payloadPost(r.c.api.serviceFee,e).toPromise()}catch(e){this.logger.error(e)}})}loadServiceFees(e){var t,a,i,o;return Object(l.b)(this,void 0,void 0,function*(){try{let n=0;const s=yield this.utilityService.loadFees();s&&s.feeDetails&&(null===(t=s.feeDetails)||void 0===t?void 0:t.length)>0&&(this.sessionService.setCurrencyCode=(null==s?void 0:s.feeDetails[0].currency)||null,s.feeDetails&&0!==s.feeDetails.length&&(n=s.feeDetails.reduce((e,t)=>e+t.feeAmount,0)));const l=null===(a=null==s?void 0:s.feeDetails)||void 0===a?void 0:a.filter(e=>e.feeTypeCode===r.c.FEE_TYPE_CODES.VFSFEE);if((null==l?void 0:l.length)>0){this.sessionService.setCurrencyCode=(null===(i=l[0])||void 0===i?void 0:i.currency)||null;const e=l.reduce((e,t)=>e+t.feeAmount,0);this.serviceFees=(null===(o=l[0])||void 0===o?void 0:o.currency)+" "+this.addZeroes(e),this.feesAmount=e}else this.isOnlineFeesPaymentOptional&&e&&!(null==e?void 0:e.error)&&(this.sessionService.setCurrencyCode=(null==e?void 0:e.currency)||null,this.feesAmount=null==e?void 0:e.amount,this.serviceFees=(null==e?void 0:e.currency)+" "+this.addZeroes(null==e?void 0:e.amount),n=!0===this.payServiceFeeOnline?n+Number(null==e?void 0:e.amount):n);this.updateFeeAmount(n)}catch(n){throw n}})}filterFees(e){return e.filter(e=>this.utilityService.strictCompare(e.feeTypeCode,r.c.FEE_TYPE_CODES.VISAFEE)||this.utilityService.strictCompare(e.feeTypeCode,r.c.FEE_TYPE_CODES.VFSFEE))}addZeroes(e){const t=String(e).split(".").length>0?String(e).split(".")[1]:e,a=t&&t.length>2?t.length:2;return Number(e).toFixed(a)}updatePayFeeOnlineFlag(e){return Object(l.b)(this,void 0,void 0,function*(){try{const t={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.centerCode,loginUser:this.sessionService.getLoggedEmail(),urn:this.sessionService.urn,feeTypeCode:e?[r.c.FEE_TYPE_CODES.VFSFEE]:[]};return yield this.httpService.payloadPost(r.c.api.mapFee,t).toPromise()}catch(t){this.logger.error(t)}})}continue(){return Object(l.b)(this,void 0,void 0,function*(){try{const e=this.sessionService.otpVerified;if(1==this.IsOTPEnable&&0==this.OTPSuccess&&0==e)this.OTPCard=!0,this.otpInProgress=!0,this.utilityService.pushDataLayerGA({dl_event:"your_details",dl_category:"Your Details",dl_action:"Continue_Step-2",dl_label:"page_url"});else{let e=!0;if(this.isOnlineFeesPaymentOptional&&this.payServiceFeeOnline!==this.sessionService.onlineFeePaymentModeOpted)if(null!==(yield this.updatePayFeeOnlineFlag(this.payServiceFeeOnline)).error)e=!1;else{this.sessionService.updateFees=!0;const e=yield this.utilityService.loadFees();if(e&&e.feeDetails){if(e.feeDetails&&e.feeDetails.length>0){const t=e.feeDetails.reduce((e,t)=>e+t.feeAmount,0);this.updateFeeAmount(t)}}else this.updateFeeAmount(0);this.sessionService.onlineFeePaymentModeOpted=this.payServiceFeeOnline}e&&this.routeNext()}}catch(e){this.logger.error(e)}})}get isOnlineFeesPaymentOptional(){return this.payOnlineMode=this.config.payOnlineEnabled,this.config.isMapFeeScreenRequired&&this.config.payOnlineEnabled}goBack(){this.utilityService.pushDataLayerGA({dl_event:"your_details",dl_category:"Your Details",dl_action:"Go Back_Step-2",dl_label:"page_url"}),super.routePrevious()}editApplicantDetails(e){try{this.isEditingFromSamePage=!0,this.editApplicantIndex=e,this.setEditModeFlag(!0),this.setViewApplicantsList(!1),this.utilityService.fireCustomEvent({dl_category:"Applicants Details",dl_action:"edit Applicant from Your Details Page",dl_label:e,value:void 0})}catch(t){this.logger.error(t)}}updateFormForEdit(){try{const e=this.applicationDetails.applicantList[this.editApplicantIndex],t=this.splitReferenceNumber(e);this.currentFormGroup.patchValue(t),this.isChild=e.isEndorsedChild}catch(e){console.log(e)}}splitReferenceNumber(e){try{const t=JSON.parse(JSON.stringify(e));if(this.commonService.checkIfPostal(this.applicationDetails.applicationType)&&this.currentFormGroup.contains("centreCodeForRefenceNumber")&&this.currentFormGroup.contains("referenceNumber")){const a=e.referenceNumber;t.centreCodeForRefenceNumber=a.substr(0,4),t.referenceNumber=a.substr(4,a.length)}return t}catch(t){this.logger.log(t)}}deleteApplicantDetails(e){return Object(l.b)(this,void 0,void 0,function*(){try{const t=yield this.commonService.deleteApplicantDetails(e);this.applicationDetails=t,0===t.applicantList.length&&(this.utilityService.clearInProgressApplication(),this.commonService.routeToDashboard()),this.sessionService.updateFees=!0;let a=null;!0===this.isOnlineFeesPaymentOptional&&(a=yield this.getVfsServiceFees()),this.loadServiceFees(a)}catch(t){console.log(t)}})}isEditMode(){return this.isEditModeFlag}viewApplicationSummary(){return Object(l.b)(this,void 0,void 0,function*(){this.files=[],this.documentextracted=!1,this.setEditModeFlag(!1),this.setViewApplicantsList(!0),this.editApplicantIndex=0,this.isEditingFromSamePage=!1})}updateApplicationDetailsLocally(e){this.applicationDetails=e,this.updateApplicationDetailsToSession(this.applicationDetails)}onIsChildSelection(e){var t;try{if(this.isDocumentUploadEnabled){this.currentFormGroup.reset();for(const e in this.extractedFields)null===(t=this.currentFormGroup.get(e))||void 0===t||t.enable();this.files=[],this.documentextracted=!1}this.isChildValidation(this.getFieldSchema("passportNumber")),this.isChildValidation(this.getFieldSchema("passportExpirtyDate"))}catch(a){console.log(a)}}getFieldSchema(e){try{let t;for(const a of this.currentModule.controls)for(const i of a.fields)this.utilityService.strictCompare(i.logicalName,e)&&(t=i);return t}catch(t){throw t}}isChildValidation(e){var t;try{if(this.isPtFlow)return;const a=this.currentFormGroup.get(e.logicalName);if(!a.value)return;let i="";const o=this.applicationDetails.applicantList.find(t=>this.utilityService.strictCompare(e.fieldType,r.c.controls.Textbox)?(i="passportNoMissmatchTest",String(t.passportNumber).toLowerCase()===String(a.value).toLowerCase()):this.utilityService.strictCompare(e.fieldType,r.c.controls.Datepicker)?(i="passportExpiryMissmatchTest",0===this.utilityService.momentInstance(this.commonService.convertToMomentDate(t.passportExpirtyDate)).diff(this.commonService.convertToMomentDate(a.value),"day")):""),n=null===(t=this.sessionService)||void 0===t?void 0:t.applicationConfiguration,s=!!(null==n?void 0:n.isPassportNoDisabled),l=!!(null==n?void 0:n.isPassportExpiryDateDisabled);if(!o&&this.isChild){const e={};e[i]=!0,a.setErrors(e)}else this.commonService.removeError(a,i);s&&this.commonService.removeError(a,"passportNoMissmatchTest"),l&&this.commonService.removeError(a,"passportExpiryMissmatchTest")}catch(a){console.log(a)}}get viewIsChildFlag(){var e,t;try{const a=null===(t=null===(e=this.applicationDetails)||void 0===e?void 0:e.applicantList)||void 0===t?void 0:t.length;return!0===this.config.enableEndorsedchild&&(!this.isEditModeFlag&&a>=1||this.isEditModeFlag&&this.editApplicantIndex>0)}catch(a){console.log(a)}}openDialog(e){try{const t=new La.e;t.data={header:"commonSections.headerLabel.label3",translateHeader:!0,dialogDisplay:"small",body:"applicantInformation.messages.infoMessages.message1",translateBody:!0,rightButton:"commonSections.buttons.button37",translateRightButton:!0,leftButton:"commonSections.buttons.button3",translateLeftButton:!0};const a=this.dialog.open(Na.a,t);this.subs.sink=a.afterClosed().subscribe(t=>{t&&this.deleteApplicantDetails(Number(e))})}catch(t){console.log(t)}}hideShowAsPerConfig(e,t,a,i){var o,n,s;try{this.config.isVLNEnabled=(null===(o=this.sessionService)||void 0===o?void 0:o.isVLNRequired)||!1,this.config.enableReferenceNumber=(null===(n=this.sessionService)||void 0===n?void 0:n.isGRNEnabled)&&(null===(s=this.config)||void 0===s?void 0:s.enableReferenceNumber);const e=this.config;let t=!0;const a=Object.values(i).pop(),l=r.a.indexOf(a)>-1;return a&&this.config.hasOwnProperty(a)&&!l&&(t=!e[a]),l&&(t=!(!(null==e?void 0:e.enableCourierAddress)||e[a])),t}catch(l){return console.log(l),!0}}routePrevious(){try{this.utilityService.pushDataLayerGA({dl_event:"your_details",dl_category:"Your Details",dl_action:"Cancel",dl_label:"page_url"}),this.applicationDetails.applicantList.length>0?this.viewApplicationSummary():super.routePrevious()}catch(e){console.log(e)}}getDisplayInfo(){try{const e=this.sessionService.applicationConfiguration,t=null==e?void 0:e.xTravelDaysToBeAllowed;return`Your Date of Departure must be between ${this.utilityService.momentInstance().format("DD/MM/YYYY")} and ${this.utilityService.momentInstance().add(t-1,"days").format("DD/MM/YYYY")}.`}catch(e){return console.log(e),"-"}}constructApplicantDetails(e,t){try{const a=t||this.getApplicantDetailsBase();for(const t of Object.keys(e))a.hasOwnProperty(t)&&(a[t]=e[t]);return a.ipAddress=this.sessionService.clientIpAddress,a.isEndorsedChild=this.isChild||!1,this.isChild&&(a.parentPassportNumber=e.passportNumber,a.parentPassportExpiry=e.passportExpirtyDate),a}catch(a){throw a}}getApplicantDetailsBase(){var e;const t=null===(e=this.sessionService)||void 0===e?void 0:e.eligibilityDetails;return{urn:"",arn:"",loginUser:this.sessionService.getLoggedEmail(),firstName:"",middleName:"",lastName:"",salutation:"",gender:0,nationalId:"",VisaToken:"",contactNumber:"",dialCode:"",passportNumber:"",passportExpirtyDate:"",dateOfBirth:this.isPtFlow?"01/01/2000":"",emailId:"",nationalityCode:"",state:"",city:"",isEndorsedChild:!1,applicantType:0,addressline1:"",addressline2:"",pincode:"",referenceNumber:"",vlnNumber:"",applicantGroupId:0,parentPassportNumber:"",parentPassportExpiry:"",dateOfDeparture:"",gwfNumber:"",entryType:(null==t?void 0:t.entryType)?null==t?void 0:t.entryType:"",eoiVisaType:(null==t?void 0:t.visaType)?null==t?void 0:t.visaType:"",passportType:""}}updateApplicationDetailsToSession(e){this.sessionService.applicationDetailValue=e}setViewApplicantsList(e){this.viewApplicantsListFlag=e,e&&(this.sessionService.clearEditApplicationIdx(),this.dataShareService.editYourDetail=!1)}setEditModeFlag(e){this.isEditModeFlag=e}get disableAddApplicant(){var e,t,a,i;return(null===(t=null===(e=this.applicationDetails)||void 0===e?void 0:e.applicantList)||void 0===t?void 0:t.length)===(null===(i=null===(a=this.sessionService)||void 0===a?void 0:a.applicationConfiguration)||void 0===i?void 0:i.noOfMaxAllowedApplicant)}constructSingleApplicantApplicationDetails(e,t,a=!1){var i,o;try{const n=Object.assign({},e);n.applicantList=[],(null===(o=null===(i=this.applicationDetails)||void 0===i?void 0:i.applicantList)||void 0===o?void 0:o.length)>0&&(t.urn=this.applicationDetails.applicantList[0].urn),n.applicantList.push(t),n.isEdit=a,n.isWaitlist=this.sessionService.waitlistJourney,n.languageCode=this.sessionService.appCultureCode,this.allowedCaptcha&&(n.captcha_key_applicant=this.currentFormGroup.value.captcha_key_applicant,n.captcha_version=this.currentFormGroup.value.captcha_version);const s=this.sessionService.eligibilityDetails;n.feeEntryTypeCode=(null==s?void 0:s.entryTypes)||null,n.feeExemptionTypeCode=(null==s?void 0:s.feeExcemption)||null,n.feeExemptionDetailsCode=(null==s?void 0:s.feeExemptionDetails)||null;for(const e of n.applicantList)e.nationalityCode&&""!==e.nationalityCode||(e.nationalityCode=null==s?void 0:s.nationalityCode);return n}catch(n){throw n}}updateUrnAndArn(e,t){try{const a=Object.assign({},e);if(!t.hasOwnProperty("applicantList"))throw new Error("error: invalid_data_passed");let i=0;for(const e of t.applicantList){const o=a.applicantList;o.length>1&&(o[i].arn=e.arn,o[i].urn=t.urn,this.sessionService.urn=t.urn,i++),1===o.length&&(o[0].arn=e.arn,o[0].urn=t.urn,this.sessionService.urn=t.urn)}return a}catch(a){throw a}}get isBannerDisplayed(){var e,t;return this.viewApplicantsListFlag&&(null===(t=null===(e=this.applicationDetails)||void 0===e?void 0:e.applicantList)||void 0===t?void 0:t.length)>0&&this.feesAmount>0}sendOTP(e,t){try{0===this.createOTPLimit?(this.otpLimitExceed=!0,setTimeout(()=>{this.otpLimitExceed=!1},5e3),setTimeout(()=>{this.commonService.logoutAndRouteToLogin()},3e3)):(this.OTPHandler=!!t,this.otpPayLoad({OTP:"",scanCode:e}).then(e=>{this.createOTPLimit=null==e?void 0:e.OTPresendLimit}).catch(e=>{console.log(e)}))}catch(a){throw a}}verifyOTP(){try{this.otpPayLoad({OTP:this.enteredOTP}).then(e=>{"Success"==e.result?this.OTPSuccess=!0:e.error&&(this.OTPUnsuccess=!0,setTimeout(()=>{this.OTPUnsuccess=!1},5e3))})}catch(e){throw e}}otpPayLoad(e){return Object(l.b)(this,void 0,void 0,function*(){try{const t={urn:this.sessionService.applicationDetailValue.applicantList[0].urn,email:this.sessionService.getLoggedEmail(),missionCode:this.sessionService.tenent,countryCode:this.sessionService.applicationDetailValue.countryCode,centerCode:this.sessionService.applicationDetailValue.centerCode,visaCategoryCode:this.sessionService.applicationDetailValue.visaCategoryCode,languageCode:this.sessionService.applicationDetailValue.languageCode};return yield this.httpService.doOTPPost(r.c.api.createverifyotp,Object.assign(Object.assign({},t),e)).toPromise()}catch(t){throw t}})}checkIfDisabled(){return!(!this.otpInProgress||this.OTPSuccess)}setVisaTokenRegExpression(){var e;try{const t=(null===(e=this.sessionService.applicationConfiguration)||void 0===e?void 0:e.VisaTokenRegExpression)||null;return null!==t?t:"^[a-zA-Z][a-zA-Z ]+$"}catch(t){this.logger.error(t)}}isNationalVisaEdit(e){var t;const a=null===(t=null==e?void 0:e.nationalityCode)||void 0===t?void 0:t.toLowerCase(),i=null==e?void 0:e.dateOfBirth,o=(new Date).getFullYear()-(null==i?void 0:i.year);return"blr"==a&&o>=18&&o<=60&&null!=(null==e?void 0:e.nationalId)&&null!=(null==e?void 0:e.VisaToken)}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(La.b))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-applicant-details"]],viewQuery:function(e,t){if(1&e&&o.Uc(Ui,1),2&e){let e;o.Ac(e=o.ic())&&(t.captchaContainer=e.first)}},features:[o.Ab],decls:5,vars:4,consts:[[1,"container","py-15","py-md-30"],["class","form-card timer-css text-right border-0 mb-5",4,"ngIf"],["class","form-card",4,"ngIf"],[4,"ngIf"],[1,"form-card","timer-css","text-right","border-0","mb-5"],[3,"config"],["cd",""],[1,"form-card"],[1,"c-brand-grey-para","mb-10"],["id","error",1,"fs-24","fs-sm-42","mb-30"],["class","border-info","style","border-left: 5px solid",4,"ngIf"],["class","c-brand-grey-para mb-20",4,"ngIf"],[1,"alert-danger",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-20"],[1,"row","no-gutters","align-items-center"],[1,"col-auto","ml-n5","pr-15"],[1,"fa","fa-times-circle","fs-24","mb-0"],[1,"col",3,"translate"],[1,"alert","alert-info","border-0","rounded-0","py-15","pl-50"],[1,"fa","fa-info-circle","fs-24","position-absolute","left-15","top-18"],[1,"card-upload-document"],["accept",".pdf",3,"multiple","onFileDrop"],["ngx-file-drop-content-tmp",""],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"asterisk"],[1,"file-upload-wrapper"],["type","button",1,"file-browse",3,"click"],["class","row no-gutters file-path-box",4,"ngFor","ngForOf"],[1,"row","no-gutters","file-path-box"],[1,"col","file-name","text-overflow"],[1,"check-mark","text-center","bg-brand-green"],[1,"c-brand-error","text-decoration-underline","cursor-pointer",3,"click"],[1,"errorMessage"],[1,"errorMessage","c-brand-error"],[1,"border-info",2,"border-left","5px solid"],[1,"mb-20"],[1,"c-brand-grey-para","mb-20"],["class","bg-brand-footer border-top-1 border-bottom-1 mx-n15 mx-md-n30 px-15 px-md-30 py-20 mt-n1",4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-right","mt-20"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-brand-orange",3,"disabled","click"],[1,"bg-brand-footer","border-top-1","border-bottom-1","mx-n15","mx-md-n30","px-15","px-md-30","py-20","mt-n1"],[1,"row","align-items-center"],[1,"col","fs-18"],[1,"c-brand-grey-para","mb-5"],[1,"w-wrap-break"],[1,"col-auto"],[1,"fa","fa-trash-o","c-brand-blue-light","fs-25","cursor-pointer","mr-25",3,"click"],["class","fa fa-edit c-brand-blue-light fs-24 cursor-pointer",3,"click",4,"ngIf"],[1,"fa","fa-edit","c-brand-blue-light","fs-24","cursor-pointer",3,"click"],[3,"formGroup",4,"ngIf"],[1,"fs-18","fs-sm-22","mb-20"],[1,"mb-30"],[1,"form-group","mb-20"],[1,"mat-checkbox-brand","w-wrap-break-all",3,"ngModel","ngModelChange"],[1,"fs-18","text-wrap"],[1,"c-brand-grey-para"],[3,"formGroup"],[3,"scope","schema","formGroupCopy"],[1,"form-card","p-0","border-0","shadow-none"],[3,"scope","schema"],[1,"row"],[1,"col-sm","mt-20"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange",3,"click"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],[1,"border-info","mt-40",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0","py-20"],[1,"fa","fa-check-circle-o","fs-24","mb-0"],["class","col",4,"ngIf"],["class","row no-gutters align-items-center","style","margin-top: 20px",4,"ngIf"],[1,"col"],[1,"row","no-gutters","align-items-center",2,"margin-top","20px"],[1,"mat-checkbox-brand",3,"ngModel","ngModelChange"],["class","p-15 mt-20 border rounded-5",4,"ngIf"],[1,"p-15","mt-20","border","rounded-5"],[1,"fs-18","fs-sm-21","mb-15"],[1,"max-sm-w-500","mt-20"],["mat-raised-button","","class","btn btn-block mat-btn-lg btn-brand-orange",3,"click",4,"ngIf"],["class","row align-items-end mt-20",4,"ngIf"],["class","border-success mt-20","style","border-left: 5px solid",4,"ngIf"],["mat-raised-button","",1,"btn","btn-block","mat-btn-lg","btn-brand-orange",3,"click"],[1,"row","align-items-end","mt-20"],[1,"col-12"],["class","border-danger","style","border-left: 5px solid",4,"ngIf"],[1,"col-12","col-sm-9","col-lg-12"],[1,"form-group","mb-0"],[1,"c-brand-grey-para","fs-14","mt-3","mb-5"],[1,"col-12","col-sm-9","col-lg-6"],["appearance","outline",1,"mat-form-field-outline-brand"],["placeholder","OTP","matInput","","type","text","maxlength","6","required","",3,"ngModel","ngModelChange"],[1,"col-12","col-sm-3","col-lg-2","my-15","my-sm-0"],[1,"col-12","mt-sm-10"],[1,"c-brand-grey-para","text-decoration-underline",2,"cursor","pointer",3,"click"],[1,"border-danger",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-15","pl-50"],[1,"fa","fa-check-circle","fs-24","position-absolute","left-15","top-13"],[1,"border-success","mt-20",2,"border-left","5px solid"],[1,"alert","alert-success","border-0","rounded-0","py-20","pl-sm-50","mb-0"],[1,"c-black","fs-18"],[1,"c-brand-grey-para","fs-14","mt-3","mb-8"],[1,"border-success"],[1,"alert","alert-success","border-0","rounded-0","py-15","pl-50"]],template:function(e,t){1&e&&(o.Wb(0,"section",0),o.Mc(1,Bi,5,4,"div",1),o.Mc(2,oo,14,13,"mat-card",2),o.Mc(3,no,3,2,"ng-container",3),o.Mc(4,So,13,9,"ng-container",3),o.Vb()),2&e&&(o.Db(1),o.tc("ngIf",t.isPtFlow),o.Db(1),o.tc("ngIf",0==t.otpInProgress),o.Db(1),o.tc("ngIf",!t.viewApplicantsListFlag),o.Db(1),o.tc("ngIf",t.viewApplicantsListFlag))},directives:[m.o,Ri.a,u.a,p.a,mt.a,mt.c,m.n,h.a,f.a,n.q,n.t,n.y,n.r,n.j,gt.e,b.b,g.b,n.d,n.l,n.w],pipes:[p.d],encapsulation:2}),e})();function Io(e,t){if(1&e){const e=o.Xb();o.Wb(0,"mat-card",4),o.Wb(1,"p",5),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Wb(4,"button",6),o.hc("click",function(){return o.Fc(e),o.lc(3).navigate()}),o.Oc(5),o.mc(6,"translate"),o.Vb(),o.Vb()}2&e&&(o.Db(2),o.Pc(o.nc(3,2,"paymentConfirmation.messages.infoMessages.message1")),o.Db(3),o.Qc(" ",o.nc(6,4,"paymentConfirmation.buttons.button1")," "))}function Vo(e,t){if(1&e){const e=o.Xb();o.Wb(0,"mat-card",4),o.Wb(1,"p",5),o.Oc(2),o.Vb(),o.Wb(3,"button",6),o.hc("click",function(){return o.Fc(e),o.lc(3).clearInProgressApplication()}),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Vb()}if(2&e){const e=o.lc(3);o.Db(2),o.Pc(e.alreadyConfirm),o.Db(2),o.Qc(" ",o.nc(5,2,"paymentConfirmation.formLabel.label5")," ")}}function Ao(e,t){if(1&e&&(o.Ub(0),o.Mc(1,Io,7,6,"mat-card",3),o.Mc(2,Vo,6,4,"mat-card",3),o.Tb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",!e.alreadyConfirm),o.Db(1),o.tc("ngIf",e.alreadyConfirm)}}function Oo(e,t){if(1&e){const e=o.Xb();o.Wb(0,"span",37),o.hc("click",function(){o.Fc(e);const t=o.lc(5);return t.printAppointmentLetter(t.applicationDetailAfterConfirmation.urn)}),o.Oc(1),o.mc(2,"translate"),o.Vb()}2&e&&(o.Db(1),o.Qc("",o.nc(2,1,"paymentConfirmation.pageDetails.para4")," "))}function To(e,t){1&e&&(o.Wb(0,"span"),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"paymentConfirmation.pageDetails.para4")," "))}function Lo(e,t){if(1&e&&(o.Wb(0,"div"),o.Wb(1,"div",32),o.Rb(2,"i",33),o.Vb(),o.Wb(3,"h2",34),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Wb(6,"p",5),o.Oc(7),o.mc(8,"translate"),o.Mc(9,Oo,3,3,"span",35),o.Mc(10,To,3,3,"span",2),o.Oc(11),o.mc(12,"translate"),o.Vb(),o.Wb(13,"p",36),o.Oc(14),o.mc(15,"translate"),o.Vb(),o.Vb()),2&e){const e=o.lc(4);o.Db(4),o.Pc(o.nc(5,6,"paymentConfirmation.pageDetails.para2")),o.Db(3),o.Qc(" ",o.nc(8,8,"paymentConfirmation.pageDetails.para3")," "),o.Db(2),o.tc("ngIf",!e.commonService.checkIfPostal(e.applicationType)&&!e.commonService.checkIfOWA(e.applicationType)&&e.applicationDetailAfterConfirmation),o.Db(1),o.tc("ngIf",e.commonService.checkIfPostal(e.applicationType)&&e.applicationDetailAfterConfirmation),o.Db(1),o.Qc(" ",o.nc(12,10,"paymentConfirmation.pageDetails.para5")," "),o.Db(3),o.Pc(o.nc(15,12,"paymentConfirmation.pageDetails.para6"))}}function No(e,t){1&e&&(o.Wb(0,"h2",34),o.Oc(1),o.mc(2,"translate"),o.Vb(),o.Wb(3,"p",5),o.Oc(4),o.mc(5,"translate"),o.Vb()),2&e&&(o.Db(1),o.Pc(o.nc(2,2,"paymentConfirmation.pageDetails.para8")),o.Db(3),o.Qc(" ",o.nc(5,4,"paymentConfirmation.pageDetails.para9")," "))}function Mo(e,t){if(1&e&&(o.Wb(0,"div",38),o.Wb(1,"div",39),o.Wb(2,"div",40),o.Wb(3,"div"),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Wb(6,"div",41),o.Oc(7),o.Vb(),o.Vb(),o.Wb(8,"div",42),o.Wb(9,"div"),o.Oc(10),o.mc(11,"translate"),o.Vb(),o.Wb(12,"div",41),o.Oc(13),o.mc(14,"date"),o.Vb(),o.Vb(),o.Wb(15,"div",40),o.Wb(16,"div"),o.Oc(17),o.mc(18,"translate"),o.Vb(),o.Wb(19,"div",41),o.Oc(20),o.mc(21,"number"),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e){const e=o.lc(4);o.Db(4),o.Pc(o.nc(5,7,"paymentConfirmation.formLabel.label1")),o.Db(3),o.Pc(e.successPaymentData.TransactionId),o.Db(3),o.Pc(o.nc(11,9,"paymentConfirmation.formLabel.label2")),o.Db(3),o.Pc(o.oc(14,11,e.currentDate,"dd/MM/yyyy")),o.Db(4),o.Pc(o.nc(18,14,"paymentConfirmation.formLabel.label4")),o.Db(3),o.Rc("",e.currencyCode," ",o.oc(21,16,null==e.paymentConfirmationData?null:e.paymentConfirmationData.overallTotal,"1.2-2"),"")}}function Eo(e,t){if(1&e&&(o.Wb(0,"mat-card",4),o.Mc(1,Lo,16,14,"div",29),o.Mc(2,No,6,6,"ng-template",null,30,o.Nc),o.Mc(4,Mo,22,19,"div",31),o.Vb()),2&e){const e=o.Bc(3),t=o.lc(3);o.Db(1),o.tc("ngIf",!(null!=t.applicationDetailAfterConfirmation&&t.applicationDetailAfterConfirmation.isWaitlist&&(null==t.applicationDetailAfterConfirmation?null:t.applicationDetailAfterConfirmation.waitlistStatus)===t.waitListStatus))("ngIfElse",e),o.Db(3),o.tc("ngIf",t.successPaymentData.TransactionId)}}function Wo(e,t){if(1&e&&(o.Wb(0,"mat-card",4),o.Wb(1,"div",32),o.Rb(2,"i",33),o.Vb(),o.Wb(3,"div"),o.Wb(4,"h2",34),o.Oc(5),o.mc(6,"translate"),o.Vb(),o.Wb(7,"p",43),o.Oc(8),o.mc(9,"translate"),o.Vb(),o.Wb(10,"div",44),o.Wb(11,"a",45),o.Wb(12,"span",46),o.Oc(13),o.mc(14,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(15,"div",44),o.Wb(16,"a",45),o.Wb(17,"span",46),o.Oc(18),o.mc(19,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(20,"div",44),o.Wb(21,"a",45),o.Wb(22,"span",46),o.Oc(23),o.mc(24,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(25,"div",44),o.Wb(26,"a",45),o.Wb(27,"span",46),o.Oc(28),o.mc(29,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(30,"div",44),o.Wb(31,"a",45),o.Wb(32,"span",46),o.Oc(33),o.mc(34,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e){const e=o.lc(3);o.Db(5),o.Pc(o.nc(6,12,"polandTurkey.pageDetails.para19")),o.Db(3),o.Qc(" ",o.nc(9,14,"polandTurkey.pageDetails.para20"),""),o.Db(3),o.tc("href",e.websiteCounsularFee,o.Hc),o.Db(2),o.Pc(o.nc(14,16,"polandTurkey.pageDetails.para21")),o.Db(3),o.tc("href",e.websiteAddressVAC,o.Hc),o.Db(2),o.Pc(o.nc(19,18,"polandTurkey.pageDetails.para22")),o.Db(3),o.tc("href",e.websiteCounsularFee,o.Hc),o.Db(2),o.Pc(o.nc(24,20,"polandTurkey.pageDetails.para23")),o.Db(3),o.tc("href",e.websiteMissionPoland,o.Hc),o.Db(2),o.Pc(o.nc(29,22,"polandTurkey.pageDetails.para24")),o.Db(3),o.tc("href",e.websiteVFSGlobal,o.Hc),o.Db(2),o.Pc(o.nc(34,24,"polandTurkey.pageDetails.para25"))}}const Po=function(e,t,a){return{date:e,endDate:t,bankName:a}};function ko(e,t){if(1&e&&(o.Wb(0,"mat-card",4),o.Wb(1,"div",32),o.Rb(2,"i",33),o.Vb(),o.Wb(3,"div"),o.Wb(4,"h2",34),o.Oc(5),o.mc(6,"translate"),o.Vb(),o.Wb(7,"p",43),o.Oc(8),o.mc(9,"translate"),o.Vb(),o.Wb(10,"p",43),o.Oc(11),o.mc(12,"translate"),o.Vb(),o.Wb(13,"div",44),o.Wb(14,"a",45),o.Wb(15,"span",46),o.Oc(16),o.mc(17,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(18,"div",44),o.Wb(19,"a",45),o.Wb(20,"span",46),o.Oc(21),o.mc(22,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(23,"div",44),o.Wb(24,"a",45),o.Wb(25,"span",46),o.Oc(26),o.mc(27,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(28,"div",44),o.Wb(29,"a",45),o.Wb(30,"span",46),o.Oc(31),o.mc(32,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(33,"div",44),o.Wb(34,"a",45),o.Wb(35,"span",46),o.Oc(36),o.mc(37,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e){const e=o.lc(3);o.Db(5),o.Pc(o.nc(6,13,"polandTurkey.pageDetails.para27")),o.Db(3),o.Qc(" ",o.oc(9,15,"polandTurkey.pageDetails.para28",o.zc(30,Po,e.payAtBankDetails.appointmentDate,e.payAtBankDetails.endDate,e.payAtBankDetails.bankName))," "),o.Db(3),o.Qc(" ",o.nc(12,18,"polandTurkey.pageDetails.para29"),""),o.Db(3),o.tc("href",e.websiteCounsularFee,o.Hc),o.Db(2),o.Pc(o.nc(17,20,"polandTurkey.pageDetails.para21")),o.Db(3),o.tc("href",e.websiteAddressVAC,o.Hc),o.Db(2),o.Pc(o.nc(22,22,"polandTurkey.pageDetails.para22")),o.Db(3),o.tc("href",e.websiteCounsularFee,o.Hc),o.Db(2),o.Pc(o.nc(27,24,"polandTurkey.pageDetails.para23")),o.Db(3),o.tc("href",e.websiteMissionPoland,o.Hc),o.Db(2),o.Pc(o.nc(32,26,"polandTurkey.pageDetails.para24")),o.Db(3),o.tc("href",e.websiteVFSGlobal,o.Hc),o.Db(2),o.Pc(o.nc(37,28,"polandTurkey.pageDetails.para25"))}}function wo(e,t){1&e&&(o.Ub(0),o.Wb(1,"mat-card",47),o.Rb(2,"app-medical-insurance",48),o.Vb(),o.Tb()),2&e&&(o.Db(2),o.tc("type","1"))}function Fo(e,t){if(1&e&&(o.Wb(0,"li",12),o.Wb(1,"div",13),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Wb(4,"div",14),o.Oc(5),o.Vb(),o.Vb()),2&e){const e=o.lc(4);o.Db(2),o.Pc(o.nc(3,2,"eligibilityCriteria.formLabel.label15")),o.Db(3),o.Pc(null==e.paymentConfirmationData?null:e.paymentConfirmationData.nationalityName)}}function _o(e,t){if(1&e&&(o.Wb(0,"li",12),o.Wb(1,"div",13),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Wb(4,"div",14),o.Oc(5),o.Vb(),o.Vb()),2&e){const e=o.lc(4);o.Db(2),o.Pc(o.nc(3,2,"reviewAndPayment.formLabel.label24")),o.Db(3),o.Pc(null==e.paymentConfirmationData?null:e.paymentConfirmationData.serviceType)}}function xo(e,t){if(1&e&&(o.Wb(0,"li",12),o.Wb(1,"div",13),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Wb(4,"div",14),o.Oc(5),o.Vb(),o.Vb()),2&e){const e=o.lc(4);o.Db(2),o.Pc(o.nc(3,2,"eligibilityCriteria.formLabel.label14")),o.Db(3),o.Pc(null==e.paymentConfirmationData?null:e.paymentConfirmationData.entryType)}}function Go(e,t){if(1&e&&(o.Wb(0,"li",12),o.Wb(1,"div",13),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Wb(4,"div",14),o.Oc(5),o.Vb(),o.Vb()),2&e){const e=o.lc(4);o.Db(2),o.Pc(o.nc(3,2,"eligibilityCriteria.formLabel.label13")),o.Db(3),o.Pc(null==e.paymentConfirmationData?null:e.paymentConfirmationData.visaType)}}function Ro(e,t){if(1&e&&(o.Wb(0,"li",12),o.Wb(1,"div",13),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Wb(4,"div",14),o.Oc(5),o.Vb(),o.Vb()),2&e){const e=o.lc(4);o.Db(2),o.Pc(o.nc(3,2,"eligibilityCriteria.formLabel.label12")),o.Db(3),o.Pc(null==e.paymentConfirmationData?null:e.paymentConfirmationData.applicationType)}}function Uo(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"li",12),o.Wb(2,"div",13),o.Oc(3),o.mc(4,"translate"),o.Vb(),o.Wb(5,"div",14),o.Oc(6),o.Vb(),o.Vb(),o.Wb(7,"li",12),o.Wb(8,"div",13),o.Oc(9),o.mc(10,"translate"),o.Vb(),o.Wb(11,"div",14),o.Oc(12),o.Vb(),o.Vb(),o.Wb(13,"li",12),o.Wb(14,"div",13),o.Oc(15),o.mc(16,"translate"),o.Vb(),o.Wb(17,"div",14),o.Oc(18),o.Vb(),o.Vb(),o.Mc(19,Fo,6,4,"li",49),o.Mc(20,_o,6,4,"li",49),o.Mc(21,xo,6,4,"li",49),o.Mc(22,Go,6,4,"li",49),o.Mc(23,Ro,6,4,"li",49),o.Tb()),2&e){const e=o.lc(3);o.Db(3),o.Pc(o.nc(4,11,"reviewAndPayment.formLabel.label3")),o.Db(3),o.Pc(null==e.paymentConfirmationData?null:e.paymentConfirmationData.vacCodeName),o.Db(3),o.Pc(o.nc(10,13,"reviewAndPayment.formLabel.label4")),o.Db(3),o.Pc(null==e.paymentConfirmationData?null:e.paymentConfirmationData.visaCategoryName),o.Db(3),o.Pc(o.nc(16,15,"reviewAndPayment.formLabel.label5")),o.Db(3),o.Pc(null==e.paymentConfirmationData?null:e.paymentConfirmationData.visaSubCategoryName),o.Db(1),o.tc("ngIf",null==e.paymentConfirmationData?null:e.paymentConfirmationData.nationalityName),o.Db(1),o.tc("ngIf",null==e.paymentConfirmationData?null:e.paymentConfirmationData.serviceType),o.Db(1),o.tc("ngIf",null==e.paymentConfirmationData?null:e.paymentConfirmationData.entryType),o.Db(1),o.tc("ngIf",null==e.paymentConfirmationData?null:e.paymentConfirmationData.visaType),o.Db(1),o.tc("ngIf",null==e.paymentConfirmationData?null:e.paymentConfirmationData.applicationType)}}function Bo(e,t){if(1&e&&(o.Wb(0,"li",12),o.Wb(1,"div",13),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Wb(4,"div",14),o.Oc(5),o.Vb(),o.Vb()),2&e){const e=o.lc(4);o.Db(2),o.Qc("",o.nc(3,2,"paymentConfirmation.formLabel.label7")," #"),o.Db(3),o.Qc(" ",e.applicationDetailAfterConfirmation.urn," ")}}function jo(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div",53),o.Wb(1,"span",54),o.hc("click",function(){o.Fc(e);const t=o.lc().$implicit,a=o.lc(4);return a.downloadCourierDetails(t.arn,a.applicationDetailAfterConfirmation.vacCode,a.courierLabels.inLabel)}),o.Rb(2,"i",55),o.Wb(3,"span",56),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Vb(),o.Vb()}2&e&&(o.Db(4),o.Pc(o.nc(5,1,"postalInformation.headerLabel.label2")))}function Yo(e,t){if(1&e&&(o.Wb(0,"li",12),o.Wb(1,"div",13),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Wb(4,"div",14),o.Oc(5),o.Vb(),o.Wb(6,"div",51),o.Mc(7,jo,6,3,"div",52),o.Vb(),o.Vb()),2&e){const e=t.$implicit,a=t.index,i=o.lc(4);o.Db(2),o.Rc("",o.nc(3,5,"reviewAndPayment.formLabel.label6")," ",a+1,""),o.Db(3),o.Rc("",null==e?null:e.firstName," ",null==e?null:e.lastName,""),o.Db(2),o.tc("ngIf",i.commonService.checkIfPostal(i.applicationType)&&!i.commonService.checkIfPrepaidCourier(null==e||null==e.postalList[0]?null:e.postalList[0].courierType)&&i.applicationDetailAfterConfirmation)}}function Qo(e,t){if(1&e&&(o.Ub(0),o.Mc(1,Bo,6,4,"li",49),o.Mc(2,Yo,8,7,"li",50),o.Tb()),2&e){const e=o.lc(3);o.Db(1),o.tc("ngIf",(e.commonService.checkIfOWA(e.applicationType)||e.commonService.checkIfPostal(e.applicationType)||(null==e.applicationDetailAfterConfirmation?null:e.applicationDetailAfterConfirmation.isWaitlist))&&e.applicationDetailAfterConfirmation.urn),o.Db(1),o.tc("ngForOf",null==e.paymentConfirmationData?null:e.paymentConfirmationData.applicants)("ngForTrackBy",e.trackByFn)}}function $o(e,t){if(1&e&&(o.Wb(0,"li",12),o.Wb(1,"div",13),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Wb(4,"div",14),o.Oc(5),o.Vb(),o.Vb()),2&e){const e=o.lc(4);o.Db(2),o.Qc("",o.nc(3,2,"paymentConfirmation.formLabel.label7")," #"),o.Db(3),o.Qc(" ",e.applicationDetailAfterConfirmation.urn," ")}}function qo(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"h2",9),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Wb(4,"div",10),o.Wb(5,"ul",11),o.Mc(6,$o,6,4,"li",49),o.Wb(7,"li",12),o.Wb(8,"div",13),o.Oc(9),o.mc(10,"translate"),o.Vb(),o.Wb(11,"div",14),o.Oc(12),o.mc(13,"translate"),o.Vb(),o.Vb(),o.Wb(14,"li",12),o.Wb(15,"div",13),o.Oc(16),o.mc(17,"translate"),o.Vb(),o.Wb(18,"div",14),o.Oc(19),o.Vb(),o.Vb(),o.Wb(20,"li",12),o.Wb(21,"div",13),o.Oc(22),o.mc(23,"translate"),o.Vb(),o.Wb(24,"div",14),o.Oc(25),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Tb()),2&e){const e=o.lc(3);o.Db(2),o.Qc(" ",o.nc(3,8,"reviewAndPayment.headerLabel.label4")," "),o.Db(4),o.tc("ngIf",e.applicationDetailAfterConfirmation.urn),o.Db(3),o.Pc(o.nc(10,10,"reviewAndPayment.formLabel.label14")),o.Db(3),o.Pc(o.nc(13,12,null==e.paymentConfirmationData?null:e.paymentConfirmationData.appointment_type)),o.Db(4),o.Pc(o.nc(17,14,"reviewAndPayment.formLabel.label15")),o.Db(3),o.Pc(e.appointmentDateFormat),o.Db(3),o.Pc(o.nc(23,16,"reviewAndPayment.formLabel.label16")),o.Db(3),o.Pc(null==e.paymentConfirmationData?null:e.paymentConfirmationData.appointmentTime)}}function Ho(e,t){if(1&e&&(o.Wb(0,"div",60),o.Wb(1,"div",19),o.Wb(2,"div",61),o.Oc(3),o.Vb(),o.Wb(4,"div",62),o.Oc(5),o.mc(6,"translate"),o.Vb(),o.Wb(7,"div",63),o.Oc(8),o.mc(9,"number"),o.Vb(),o.Vb(),o.Vb()),2&e){const e=t.$implicit,a=o.lc(4);o.Db(3),o.Pc(null==e?null:e.name),o.Db(2),o.Rc("",null==e?null:e.quantity," ",o.nc(6,5,"reviewAndPayment.formLabel.label19"),""),o.Db(3),o.Rc("",a.currencyCode," ",o.oc(9,7,null==e?null:e.price,"1.2-2"),"")}}function Ko(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"h2",23),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Wb(4,"div",57),o.Mc(5,Ho,10,10,"div",58),o.Wb(6,"div",59),o.Wb(7,"div",19),o.Wb(8,"div",20),o.Oc(9),o.mc(10,"translate"),o.Vb(),o.Wb(11,"div",21),o.Oc(12),o.mc(13,"number"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Tb()),2&e){const e=o.lc(3);o.Db(2),o.Pc(o.nc(3,6,"reviewAndPayment.headerLabel.label6")),o.Db(3),o.tc("ngForOf",null==e.paymentConfirmationData?null:e.paymentConfirmationData.services)("ngForTrackBy",e.trackByFn),o.Db(4),o.Pc(o.nc(10,8,"reviewAndPayment.formLabel.label17")),o.Db(3),o.Rc(" ",e.currencyCode," ",o.oc(13,10,null==e.paymentConfirmationData?null:e.paymentConfirmationData.servicesTotal,"1.2-2")," ")}}function zo(e,t){if(1&e&&(o.Wb(0,"div",60),o.Wb(1,"div",19),o.Wb(2,"div",61),o.Oc(3),o.Vb(),o.Rb(4,"div",62),o.Wb(5,"div",63),o.Oc(6),o.mc(7,"number"),o.Vb(),o.Vb(),o.Vb()),2&e){const e=o.lc().$implicit,t=o.lc(3);o.Db(3),o.Pc(null==e?null:e.feeName),o.Db(3),o.Rc("",t.currencyCode," ",o.oc(7,3,null==e?null:e.feeAmount,"1.2-2"),"")}}function Zo(e,t){if(1&e&&(o.Ub(0),o.Mc(1,zo,8,6,"div",64),o.Tb()),2&e){const e=t.$implicit,a=o.lc(3);o.Db(1),o.tc("ngIf",(null==e?null:e.feeTypeCode)!==a.constants.FEE_TYPE_CODES.CVFEE&&(null==e?null:e.feeAmount)>0)}}function Jo(e,t){if(1&e&&(o.Wb(0,"div",60),o.Wb(1,"div",19),o.Wb(2,"div",61),o.Oc(3),o.Vb(),o.Rb(4,"div",62),o.Wb(5,"div",63),o.Oc(6),o.mc(7,"number"),o.Vb(),o.Vb(),o.Vb()),2&e){const e=o.lc().$implicit,t=o.lc(3);o.Db(3),o.Pc(null==e?null:e.feeName),o.Db(3),o.Rc("",t.currencyCode," ",o.oc(7,3,null==e?null:e.feeAmount,"1.2-2"),"")}}function Xo(e,t){if(1&e&&(o.Ub(0),o.Mc(1,Jo,8,6,"div",64),o.Tb()),2&e){const e=t.$implicit,a=o.lc(3);o.Db(1),o.tc("ngIf",(null==e?null:e.feeTypeCode)===a.constants.FEE_TYPE_CODES.CVFEE&&(null==e?null:e.feeAmount)>0)}}function en(e,t){if(1&e&&(o.Wb(0,"div",66),o.Wb(1,"div",19),o.Wb(2,"div",61),o.Oc(3),o.Vb(),o.Rb(4,"div",62),o.Wb(5,"div",63),o.Oc(6),o.mc(7,"number"),o.Vb(),o.Vb(),o.Vb()),2&e){const e=o.lc().$implicit,t=o.lc(3);o.Db(3),o.Qc(" ",null==e?null:e.title," "),o.Db(3),o.Rc("",t.currencyCode," ",o.oc(7,3,null==e?null:e.value,"1.2-2"),"")}}function tn(e,t){if(1&e&&(o.Ub(0),o.Mc(1,en,8,6,"div",65),o.Tb()),2&e){const e=t.$implicit;o.Db(1),o.tc("ngIf",(null==e?null:e.value)>0)}}function an(e,t){if(1&e&&(o.Wb(0,"div",19),o.Wb(1,"div",67),o.Oc(2),o.mc(3,"translate"),o.mc(4,"number"),o.Vb(),o.Vb()),2&e){const e=o.lc(3);o.Db(2),o.Sc(" ",o.nc(3,3,"reviewAndPayment.pageDetails.para3")," ",e.currencyCode," ",o.oc(4,5,null==e.paymentConfirmationData?null:e.paymentConfirmationData.serviceFeeTax,e.decimalConfiguration)," ")}}const on=function(){return[]};function nn(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Mc(1,Eo,5,3,"mat-card",3),o.Mc(2,Wo,35,26,"mat-card",3),o.Mc(3,ko,38,34,"mat-card",3),o.Mc(4,wo,3,1,"ng-container",2),o.Wb(5,"mat-card",7),o.Wb(6,"h1",8),o.Oc(7),o.mc(8,"translate"),o.Vb(),o.Wb(9,"h2",9),o.Oc(10),o.mc(11,"translate"),o.Vb(),o.Wb(12,"div",10),o.Wb(13,"ul",11),o.Wb(14,"li",12),o.Wb(15,"div",13),o.Oc(16),o.mc(17,"translate"),o.Vb(),o.Wb(18,"div",14),o.Oc(19),o.Vb(),o.Vb(),o.Wb(20,"li",12),o.Wb(21,"div",13),o.Oc(22),o.mc(23,"translate"),o.Vb(),o.Wb(24,"div",14),o.Oc(25),o.Vb(),o.Vb(),o.Mc(26,Uo,24,17,"ng-container",2),o.Vb(),o.Vb(),o.Wb(27,"h2",9),o.Oc(28),o.mc(29,"translate"),o.Vb(),o.Wb(30,"div",10),o.Wb(31,"ul",11),o.Mc(32,Qo,3,3,"ng-container",2),o.Vb(),o.Vb(),o.Mc(33,qo,26,18,"ng-container",2),o.Mc(34,Ko,14,13,"ng-container",2),o.Wb(35,"h2",15),o.Oc(36),o.mc(37,"translate"),o.Vb(),o.Wb(38,"div",16),o.Mc(39,Zo,2,1,"ng-container",17),o.Wb(40,"div",18),o.Wb(41,"div",19),o.Wb(42,"div",20),o.Oc(43),o.mc(44,"translate"),o.Vb(),o.Wb(45,"div",21),o.Oc(46),o.mc(47,"number"),o.Vb(),o.Vb(),o.Vb(),o.Mc(48,Xo,2,1,"ng-container",17),o.Wb(49,"div",22),o.Wb(50,"div",20),o.Wb(51,"h2",23),o.Oc(52),o.mc(53,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(54,"div",24),o.Wb(55,"div",25),o.Mc(56,tn,2,1,"ng-container",17),o.Wb(57,"div",26),o.Wb(58,"div",19),o.Wb(59,"div",20),o.Oc(60),o.mc(61,"translate"),o.Vb(),o.Wb(62,"div",21),o.Oc(63),o.mc(64,"number"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(65,"div",27),o.Wb(66,"div",19),o.Wb(67,"div",20),o.Oc(68),o.mc(69,"translate"),o.Vb(),o.Wb(70,"div",21),o.Oc(71),o.mc(72,"number"),o.Vb(),o.Vb(),o.Mc(73,an,5,8,"div",28),o.Vb(),o.Vb(),o.Wb(74,"button",6),o.hc("click",function(){return o.Fc(e),o.lc(2).clearInProgressApplication()}),o.Oc(75),o.mc(76,"translate"),o.Vb(),o.Vb(),o.Tb()}if(2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",!e.isPtFlow&&!e.isPayAtBankSelected),o.Db(1),o.tc("ngIf",e.isPtFlow&&!e.isPayAtBankSelected),o.Db(1),o.tc("ngIf",e.isPtFlow&&e.isPayAtBankSelected),o.Db(1),o.tc("ngIf",e.insuranceBox),o.Db(3),o.Pc(o.nc(8,34,"paymentConfirmation.formLabel.label3")),o.Db(3),o.Pc(o.nc(11,36,"reviewAndPayment.headerLabel.label2")),o.Db(6),o.Pc(o.nc(17,38,"eligibilityCriteria.formLabel.label4")),o.Db(3),o.Pc(null==e.paymentConfirmationData?null:e.paymentConfirmationData.countryName),o.Db(3),o.Pc(o.nc(23,40,"eligibilityCriteria.formLabel.label5")),o.Db(3),o.Pc(null==e.paymentConfirmationData?null:e.paymentConfirmationData.missionName),o.Db(1),o.tc("ngIf",e.applicationDetailAfterConfirmation),o.Db(2),o.Pc(o.nc(29,42,"reviewAndPayment.headerLabel.label3")),o.Db(4),o.tc("ngIf",null==e.paymentConfirmationData?null:e.paymentConfirmationData.applicants),o.Db(1),o.tc("ngIf",!e.commonService.checkIfPostal(e.applicationType)&&!e.commonService.checkIfOWA(e.applicationType)&&e.applicationDetailAfterConfirmation&&e.appointmentDetail),o.Db(1),o.tc("ngIf",!(null!=e.applicationDetailAfterConfirmation&&e.applicationDetailAfterConfirmation.isWaitlist&&(null==e.applicationDetailAfterConfirmation?null:e.applicationDetailAfterConfirmation.waitlistStatus)===e.waitListStatus)),o.Db(2),o.Pc(o.nc(37,44,"reviewAndPayment.headerLabel.label5")),o.Db(3),o.tc("ngForOf",(null==e.paymentConfirmationData?null:e.paymentConfirmationData.fees_list)||o.wc(65,on))("ngForTrackBy",e.trackByFn),o.Db(4),o.Pc(o.nc(44,46,"reviewAndPayment.formLabel.label17")),o.Db(3),o.Rc(" ",e.currencyCode," ",o.oc(47,48,e.calFeesTotal,"1.2-2")," "),o.Db(2),o.tc("ngForOf",(null==e.paymentConfirmationData?null:e.paymentConfirmationData.fees_list)||o.wc(66,on))("ngForTrackBy",e.trackByFn),o.Db(4),o.Pc(o.nc(53,51,"reviewAndPayment.headerLabel.label8")),o.Db(4),o.tc("ngForOf",(null==e.paymentConfirmationData?null:e.paymentConfirmationData.additionalFee)||o.wc(67,on))("ngForTrackBy",e.trackByFn),o.Db(4),o.Pc(o.nc(61,53,"reviewAndPayment.formLabel.label17")),o.Db(3),o.Rc(" ",e.currencyCode," ",o.oc(64,55,null==e.paymentConfirmationData?null:e.paymentConfirmationData.additionalFeeTotal,"1.2-2")," "),o.Db(5),o.Pc(o.nc(69,58,"reviewAndPayment.formLabel.label20")),o.Db(3),o.Rc(" ",e.currencyCode," ",o.oc(72,60,null==e.paymentConfirmationData?null:e.paymentConfirmationData.overallTotal,"1.2-2")," "),o.Db(2),o.tc("ngIf",(null==e.paymentConfirmationData?null:e.paymentConfirmationData.serviceFeeTax)>0),o.Db(2),o.Qc(" ",o.nc(76,63,"paymentConfirmation.formLabel.label5")," ")}}function sn(e,t){if(1&e&&(o.Wb(0,"section",1),o.Mc(1,Ao,3,2,"ng-container",2),o.Mc(2,nn,77,68,"ng-container",2),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",e.successPaymentData&&"False"===e.successPaymentData.PaymentStatus),o.Db(1),o.tc("ngIf",e.successPaymentData&&"False"!==e.successPaymentData.PaymentStatus)}}let ln=(()=>{class e extends d.a{constructor(e,t){var a;super(),this.activatedRoute=e,this.contentfulService=t,this.walkinCode=r.v,this.primeTimeCode=r.m,this.primeLongueCode=r.k,this.constants=r.c,this.websiteVFSGlobal=c.a.websiteVFSGlobal,this.websiteMissionPoland=c.a.websiteMissionPoland,this.isPayAtBankSelected=!1,this.payAtBankDetails=[],this.sessionService.resourceGroupData=null===(a=this.sessionService)||void 0===a?void 0:a.resourceGroupDataTemp,this.notStandardCode=[...this.primeLongueCode,...this.walkinCode],this.insuranceBox=!1,this.successPaymentData={},this.applicationDetailAfterConfirmation={},this.subVisaCategoryCode=[],this.visaCategoryCode=[],this.appointmentDetail={},this.nationalityList=[],this.currencyCode=this.sessionService.currencyCode||"",this.alreadyConfirm="",this.requestComplete=!1,this.vacList=[],this.currentDate=new Date,this.waitListStatus=r.A.waitlisted,this.configuration=this.sessionService.applicationConfiguration,this.decimalConfiguration=this.sessionService.decimalConfiguration}ngOnInit(){this.initialLoad(),this.isPayAtBankSelected=this.sessionService.isPayAtBankSelected,this.isPtFlow&&this.isPayAtBankSelected&&this.getDateinPayAtBankSelected();const e=this.sessionService.eligibilityDetails;this.applicationType=e.applicationType?e.applicationType:null,this.utilityService.pushDataLayerGA({dl_event:"appointment_confirmation",dl_category:"Appointment Confirmation Page",dl_action:"Appointment Confirmation Success",dl_label:"page_url"})}initialLoad(){var e,t,a,i,o,n;return Object(l.b)(this,void 0,void 0,function*(){const s=this.sessionService.paymentDetails;if(this.sessionService.resourceGroupData=null===(e=this.sessionService)||void 0===e?void 0:e.resourceGroupDataTemp,s&&s.ispaymentrequired){const e=null===(t=this.activatedRoute.snapshot.queryParams)||void 0===t?void 0:t.PaymentStatus,l=(null===(a=this.activatedRoute.snapshot.queryParams)||void 0===a?void 0:a.RequestRefNo)||s.requestrefno,c=(null===(i=this.activatedRoute.snapshot.queryParams)||void 0===i?void 0:i.TransactionId)||this.sessionService.transactionId,d=null===(o=this.sessionService)||void 0===o?void 0:o.paymentData;if(this.successPaymentData={RequestRefNo:l,TransactionId:c,PaymentStatus:e},"False"===e)return this.requestComplete=!0,!1;const u=`/payments/trackpaymentstatus?RequestRefNo=${l}`,m=yield this.httpService.doGet(u).toPromise().then(e=>e).catch(e=>e);if("SUCCESS"===m.Status){const e={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,loginUser:this.sessionService.getLoggedEmail(),urn:this.sessionService.urn,bankReferenceNo:c||(null==m?void 0:m.TransactionId),requestReferenceNo:String(l),amount:null==d?void 0:d.amount,currency:this.sessionService.currencyCode,cultureCode:this.sessionService.appCultureCode,centerCode:null===(n=this.sessionService.eligibilityDetails)||void 0===n?void 0:n.centerCode};null===this.successPaymentData.TransactionId&&(this.successPaymentData.TransactionId=null==m?void 0:m.TransactionId);const t=this.commonService.checkIfPostal(this.applicationType)||this.commonService.checkIfOWA(this.applicationType)?r.c.api.paymentConfirm:r.c.api.confirmAppointment,a=yield this.httpService.payloadPost(t,e).toPromise().then(e=>e).catch(e=>e);a.urn?(this.requestComplete=!0,this.callApplication()):(this.requestComplete=!0,this.successPaymentData={PaymentStatus:"False"},this.alreadyConfirm=a.error.description)}else this.requestComplete=!0,this.successPaymentData={PaymentStatus:"False"}}else this.requestComplete=!0,this.successPaymentData={PaymentStatus:"True"},this.callApplication()})}checkAndLoadTravelInsurance(){return Object(l.b)(this,void 0,void 0,function*(){this.insuranceBox=yield this.contentfulService.getTravelInsurance()})}get travelInsurance(){return this.utilityService.externalUrlAppend("travel-insurance")}getSubvisaCategoryCode(){return Object(l.b)(this,void 0,void 0,function*(){try{const e=this.sessionService.centerCode,t=this.sessionService.eligibilityDetails,a=null==t?void 0:t.selectedSubvisaCategory,i=yield this.commonService.getSubVisaCategories(e,a);this.subVisaCategoryCode=i}catch(e){console.log(`Error Status: ${e.status}\nMessage: ${e.message} : ${e.error.data}`)}})}getVisaCategoryCode(){return Object(l.b)(this,void 0,void 0,function*(){try{const e=this.sessionService.centerCode,t=yield this.commonService.getVisaCategories(e);this.visaCategoryCode=t}catch(e){console.log(`Error Status: ${e.status}\nMessage: ${e.message} : ${e.error.data}`)}})}callApplication(){return Object(l.b)(this,void 0,void 0,function*(){this.checkAndLoadTravelInsurance(),this.getActiveApplicationList()})}getActiveApplicationList(){var e;return Object(l.b)(this,void 0,void 0,function*(){const t=yield this.httpService.payloadPost(r.c.api.getActiveApplication,{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,loginUser:this.sessionService.getLoggedEmail(),aurn:"",emailId:"",countactNumber:"",passportNumber:""}).toPromise().then(e=>e).catch(e=>e);if(t){const a=null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.filter(e=>e.urn===this.sessionService.urn);(null==a?void 0:a.length)>0&&this.loadPaymentConfirmationData(a[0])}})}loadPaymentConfirmationData(e){var t,a,i,o,n,s,r,d,u,m,p,b,g,f,h,v,y,S,C,D;return Object(l.b)(this,void 0,void 0,function*(){this.utilityService.startNgxUiSpinner(),this.applicationDetailAfterConfirmation=e,this.appointmentDetail=e.applicants[0].appointment;let l=this.sessionService.applicationDetailValue;l=Object.assign(Object.assign({},l),this.sessionService.calculatedCodeData);const I=[this.loadNationality(),this.getApplicationData(),this.getVisaCategoryCode(),this.getSubvisaCategoryCode()];let V,A,O,T;(null===(t=this.configuration)||void 0===t?void 0:t.enableEntryType)?(V=this.commonService.loadEntryType(),I.push(V)):I.push(void 0),(null===(a=this.configuration)||void 0===a?void 0:a.enableServiceType)?(A=this.commonService.loadServiceType(),I.push(A)):I.push(void 0),(null===(i=this.configuration)||void 0===i?void 0:i.enableVisaType)&&(null===(o=this.configuration)||void 0===o?void 0:o.enableServiceType)?(O=this.commonService.loadEOIVisaType(),I.push(O)):I.push(void 0),(null===(n=this.configuration)||void 0===n?void 0:n.enableApplicationType)?(T=this.commonService.loadSubmissionType(),I.push(T)):I.push(void 0);const L=yield Promise.all(I),N=[this.utilityService.getnationalityName(this.nationalityList,this.sessionService.countryCode),this.utilityService.getnationalityName(this.nationalityList,this.sessionService.tenent),this.utilityService.filterVacFromCode(this.vacList,e.vacCode,"centerName"),this.utilityService.getNameFromCode(this.visaCategoryCode,e.parentVisaCategoryCode),this.utilityService.getNameFromCode(this.subVisaCategoryCode,e.visaCategoryCode),this.sessionService.vacFees,this.getFromConstant(null===(r=null===(s=null==e?void 0:e.applicants[0])||void 0===s?void 0:s.appointment)||void 0===r?void 0:r.categoryCode)];let M,E,W,P,k;(null===(d=this.configuration)||void 0===d?void 0:d.enableEntryType)&&l.entryType?(M=this.utilityService.getCodeName(L[4].entryTypes,l.entryType),N.push(M)):N.push(void 0),(null===(u=this.configuration)||void 0===u?void 0:u.enableServiceType)&&l.serviceType?(E=this.utilityService.getCodeName(L[5],l.serviceType),N.push(E)):N.push(void 0),(null===(m=this.configuration)||void 0===m?void 0:m.enableVisaType)&&(null===(p=this.configuration)||void 0===p?void 0:p.enableServiceType)&&l.visaType?(W=this.utilityService.getCodeName(L[6].eoiVisaTypes,l.visaType),N.push(W)):N.push(void 0),(null===(b=this.configuration)||void 0===b?void 0:b.enableApplicationType)&&l.applicationType?(P=this.utilityService.getCodeName(L[7],l.applicationType),N.push(P)):N.push(void 0),(null===(g=this.configuration)||void 0===g?void 0:g.enableNationalityFilterForVisaCategory)&&l.countryCode?(k=this.utilityService.getnationalityName(this.nationalityList,l.countryCode),N.push(k)):N.push(void 0);const w=yield Promise.all(N),F=null===(h=null===(f=null==e?void 0:e.applicants[0])||void 0===f?void 0:f.appointment)||void 0===h?void 0:h.appoinmentDate,_=null===(y=null===(v=null==e?void 0:e.applicants[0])||void 0===v?void 0:v.appointment)||void 0===y?void 0:y.appointmentTime;this.paymentConfirmationData={},this.paymentConfirmationData.vacCode=e.vacCode,this.paymentConfirmationData.entryType=w[7],this.paymentConfirmationData.serviceType=w[8],this.paymentConfirmationData.visaType=w[9],this.paymentConfirmationData.applicationType=w[10],this.paymentConfirmationData.nationalityName=w[11],this.paymentConfirmationData.applicants=e.applicants,this.paymentConfirmationData.countryName=w[0],this.paymentConfirmationData.missionName=w[1],this.paymentConfirmationData.vacCodeName=w[2],this.paymentConfirmationData.visaCategoryName=w[3],this.paymentConfirmationData.visaSubCategoryName=w[4],this.paymentConfirmationData.appointment_type=w[6],this.paymentConfirmationData.appointment_date=F,this.appointmentDateFormat=this.utilityService.momentInstance(F,"DD/MM/YYYY").format(this.dateFormat.toUpperCase()),this.paymentConfirmationData.appointmentTime=_,this.paymentConfirmationData.fees_list=w[5],this.paymentConfirmationData.feesTotal=w[5].length>0?w[5].reduce((e,t)=>e+t.feeAmount,0):0,this.paymentConfirmationData.additionalFee=this.sessionService.additionalFees||[],this.paymentConfirmationData.additionalFeeTotal=(null===(S=this.sessionService.additionalFees)||void 0===S?void 0:S.length)>0?this.sessionService.additionalFees.reduce((e,t)=>e+((null==t?void 0:t.value)||0),0):0;const x=[];e.applicants.forEach(e=>{var t;null===(t=e.vas)||void 0===t||t.forEach(e=>{var t,a,i;if("TMIPS"!==e.vasCode){const o=this.sessionService.applicantService.map(e=>e.code).indexOf(e.vasCode),n=x.map(e=>e.vasCode).indexOf(e.vasCode);n>-1?(x[n].price=x[n].price+(null===(t=this.sessionService.applicantService[o])||void 0===t?void 0:t.amount),x[n].quantity=x[n].quantity+1):(e.unitPrice=null===(a=this.sessionService.applicantService[o])||void 0===a?void 0:a.amount,e.price=null===(i=this.sessionService.applicantService[o])||void 0===i?void 0:i.amount,e.quantity=1,x.push(e))}})}),this.paymentConfirmationData.services=x,this.paymentConfirmationData.serviceFeeTax=this.sessionService.serviceTax,this.paymentConfirmationData.servicesTotal=(null===(C=this.paymentConfirmationData.services)||void 0===C?void 0:C.length)>0?this.paymentConfirmationData.services.reduce((e,t)=>e+(t.price||0),0):0,this.paymentConfirmationData.overallTotal=this.paymentConfirmationData.servicesTotal+this.paymentConfirmationData.feesTotal+this.paymentConfirmationData.additionalFeeTotal;const G=this.sessionService.applicantService.find(e=>"TMIPS"===e.code);G&&x.push(G),this.paymentConfirmationData.services=x,(null===(D=this.sessionService.tmiVas)||void 0===D?void 0:D.length)>0&&(this.paymentConfirmationData.servicesTotal+=null==G?void 0:G.amount,this.paymentConfirmationData.overallTotal+=null==G?void 0:G.amount),this.fetchAddress(),c.a.production&&this.summaryGA(e),this.utilityService.stopNgxUiSpinner()})}get calFeesTotal(){var e,t,a,i,o;const n=null===(t=null===(e=this.paymentConfirmationData)||void 0===e?void 0:e.fees_list)||void 0===t?void 0:t.filter(e=>e.feeTypeCode===r.c.FEE_TYPE_CODES.CVFEE);return n&&n.length>0?(null===(a=this.paymentConfirmationData)||void 0===a?void 0:a.feesTotal)-(null===(i=n[0])||void 0===i?void 0:i.feeAmount):null===(o=this.paymentConfirmationData)||void 0===o?void 0:o.feesTotal}summaryGA(e){var t,a,i,o,n;return Object(l.b)(this,void 0,void 0,function*(){const s=this.sessionService.applicationConfiguration,l=e.applicants.filter(e=>null!==e.vas).length,r=null===(t=e.applicants)||void 0===t?void 0:t.length,c=e.applicants.reduce((e,t)=>{var a;return e+(null===(a=t.vas)||void 0===a?void 0:a.length)||0},0),d=Number(this.paymentConfirmationData.serviceFeeTax),u={ecommerce:{Applicants:r,"Vas Applicants":l,"Vas Quantity":c,currencyCode:this.currencyCode,purchase:{actionField:{id:this.activatedRoute.snapshot.queryParams.TransactionId||this.sessionService.urn,Applicants:r,"Vas Applicants":l,"Vas Quantity":c,affiliation:s.payAtVACEnabled?"Pay at vac":"Online Store",revenue:null===(a=this.paymentConfirmationData)||void 0===a?void 0:a.overallTotal.toFixed(Math.max(((Number(null===(i=this.paymentConfirmationData)||void 0===i?void 0:i.overallTotal)+"").split(".")[1]||"").length,2)),tax:d.toFixed(Math.max(((d+"").split(".")[1]||"").length,2)),shipping:"0.00",coupon:"",action:"purchase"},products:[]}}};c>0?null===(o=this.paymentConfirmationData.services)||void 0===o||o.forEach(e=>{u.ecommerce.purchase.products.push({name:e.name,id:e.vasId,price:e.price,brand:`${this.utilityService.countrynameByIso(window.location.pathname.split("/")[1])}/${this.utilityService.countrynameByIso(window.location.pathname.split("/")[3])}`,category:"VAS",variant:this.paymentConfirmationData.vacCodeName,quantity:e.quantity})}):u.ecommerce.purchase.products=[{name:"Applicant Count",id:"Applicant Count",price:this.paymentConfirmationData.overallTotal,brand:`${this.utilityService.countrynameByIso(window.location.pathname.split("/")[1])}/${this.utilityService.countrynameByIso(window.location.pathname.split("/")[3])}`,category:"VAC",variant:this.paymentConfirmationData.vacCodeName,quantity:null===(n=e.applicants)||void 0===n?void 0:n.length}],this.utilityService.sendConfirmationPageAnalytics(u)})}getApplicationData(){var e;return Object(l.b)(this,void 0,void 0,function*(){const t=yield this.commonService.getVacCenters(null===(e=this.sessionService)||void 0===e?void 0:e.appCultureCode);t&&(this.vacList=t)})}loadNationality(){return Object(l.b)(this,void 0,void 0,function*(){this.nationalityList=yield this.commonService.loadNationality()})}printAppointmentLetter(e){return Object(l.b)(this,void 0,void 0,function*(){const t=yield this.httpService.payloadPost(r.c.api.downloadPdf,{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,loginUser:this.sessionService.getLoggedEmail(),urn:e,emailId:"",countactNumber:"",passportNumber:""}).toPromise().then(e=>e).catch(e=>e);this.utilityService.showFile(t)})}navigate(){this.sessionService.updateFees=!0,this.commonService.routeToPostLoginModule(r.q.REVIEW_AND_PAY)}clearInProgressApplication(){this.utilityService.pushDataLayerGA({dl_event:"appointment_confirmation",dl_category:"Appointment Confirmation Page",dl_action:"Home",dl_label:"page_url"}),this.utilityService.clearInProgressApplication(),this.navigateToDashboard()}navigateToDashboard(){this.commonService.routeToDashboard()}getFromConstant(e){return-1===this.notStandardCode.indexOf(e)?"reviewAndPayment.pageDetails.para16":this.primeLongueCode.indexOf(e)>-1?"reviewAndPayment.pageDetails.para17":this.walkinCode.indexOf(e)>-1?"reviewAndPayment.pageDetails.para18":e}fetchAddress(){var e;return Object(l.b)(this,void 0,void 0,function*(){if(this.commonService.checkIfPostal(this.applicationType))for(const t of null===(e=this.paymentConfirmationData)||void 0===e?void 0:e.applicants){t.postalList=[];const e=yield this.httpService.payloadPost(r.c.api.getAddress,{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,centerCode:this.paymentConfirmationData.vacCode,loginUser:this.sessionService.getLoggedEmail(),aurn:null==t?void 0:t.arn}).toPromise().then(e=>e).catch(e=>e);e&&t.postalList.push(e)}})}get websiteAddressVAC(){return this.utilityService.externalUrlAppend("attend-centre")}get websiteCounsularFee(){var e;return null===(e=this.sessionService.resourceGroupData)||void 0===e?void 0:e.onepager}getDateinPayAtBankSelected(){var e;this.payAtBankDetails.appointmentDate=this.utilityService.momentInstance(null===(e=this.sessionService.getAppointmentDetails())||void 0===e?void 0:e.date).format("DD/MM/YYYY"),this.payAtBankDetails.endDate=this.utilityService.momentInstance(this.utilityService.momentInstance(this.payAtBankDetails.appointmentDate,"DD/MM/YYYY").add(5,"days")).format("DD/MM/YYYY")}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(s.a),o.Qb(ie.a))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-payment-confirmation"]],features:[o.Ab],decls:1,vars:1,consts:[["class","container py-15 py-md-30",4,"ngIf"],[1,"container","py-15","py-md-30"],[4,"ngIf"],["class","form-card mb-20 mb-sm-50",4,"ngIf"],[1,"form-card","mb-20","mb-sm-50"],[1,"c-brand-grey-para","fs-sm-18","mb-8"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"],[1,"form-card","p-0","border-0","shadow-none","mat-card"],[1,"fs-24","fs-sm-42","mb-30"],[1,"fs-18","fs-sm-24","mb-15"],[1,"card","border-bottom-2","mb-40"],[1,"list-group","list-group-flush"],[1,"list-group-item","bg-brand-footer","px-md-25"],[1,"c-brand-grey-para"],[1,"fs-18","mt-8"],[1,"fs-18","fs-sm-24","mb-20"],[1,"card","fs-sm-18","border-0","border-bottom-1"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"card-body","px-md-25","bg-brand-footer","rounded-4","mb-40"],[1,"row"],[1,"col"],[1,"col-auto","c-brand-green","text-right"],[1,"row","mb-20","mt-40"],[1,"fs-18","fs-sm-24","mb-0"],[1,"card","fs-sm-18","border-0","border-bottom-1","mb-0"],[1,"card"],[1,"card-body","p-15","px-md-25","bg-brand-footer","rounded-4"],[1,"card-body","px-md-25"],["class","row",4,"ngIf"],[4,"ngIf","ngIfElse"],["waitlistJourney",""],["class","payment-info mt-30 mb-n15 mx-md-n15 mb-n30 mb-sm-n15 mb-md-n30",4,"ngIf"],[1,"text-center","mb-20"],[1,"fa","fa-check-circle-o","fs-30","c-brand-green"],[1,"text-center","fs-21","fs-sm-24","mb-10"],["class","c-brand-orange text-decoration-underline cursor-pointer",3,"click",4,"ngIf"],[1,"c-brand-grey-para","fs-sm-18"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer",3,"click"],[1,"payment-info","mt-30","mb-n15","mx-md-n15","mb-n30","mb-sm-n15","mb-md-n30"],[1,"row","border-top","py-md-15","text-center"],[1,"col-12","col-md","py-15"],[1,"ff-500"],[1,"col-12","col-md","py-15","brd-middle"],[1,"c-brand-grey-para","fs-sm-18","mb-10"],[1,"mb-10"],["target","_blank",3,"href"],[1,"c-brand-orange","fs-sm-18","text-decoration-underline","cursor-pointer"],[1,"border-0","form-card","mat-card","mat-focus-indicator","mb-sm-50","p-0","shadow-none"],[1,"row","mt-auto",3,"type"],["class","list-group-item bg-brand-footer px-md-25",4,"ngIf"],["class","list-group-item bg-brand-footer px-md-25",4,"ngFor","ngForOf","ngForTrackBy"],[1,"row","no-gutters"],["class","col-12 col-md-6 my-15 pl-35",4,"ngIf"],[1,"col-12","col-md-6","my-15","pl-35"],[1,"cursor-pointer",3,"click"],[1,"fa","fa-print","fs-25","c-brand-blue-light","position-absolute","top-n3","left-0"],[1,"c-brand-grey-para","text-decoration-underline","cursor-pointer"],[1,"card","fs-sm-18","border-0","border-bottom-1","mb-40"],["class","card-body border-bottom-1 px-md-25",4,"ngFor","ngForOf","ngForTrackBy"],[1,"card-body","border-bottom-1","px-md-25","bg-brand-footer","rounded-4"],[1,"card-body","border-bottom-1","px-md-25"],[1,"col-12","col-sm-7"],[1,"col","c-brand-grey-para"],[1,"col-auto","text-right"],["class","card-body border-bottom-1 px-md-25",4,"ngIf"],["class","card-body border-bottom-1 p-15 px-md-25",4,"ngIf"],[1,"card-body","border-bottom-1","p-15","px-md-25"],[1,"col","fs-13","text-right"]],template:function(e,t){1&e&&o.Mc(0,sn,3,2,"section",0),2&e&&o.tc("ngIf",t.requestComplete)},directives:[m.o,u.a,h.a,m.n,ja],pipes:[p.d,m.f,m.e],encapsulation:2}),e})();var rn=a("IvIE");const cn=["fullcalendar"];function dn(e,t){if(1&e&&(o.Wb(0,"div",24),o.Oc(1),o.mc(2,"translate"),o.Rb(3,"countdown",25,26),o.Vb()),2&e){const e=o.lc();o.Db(1),o.Qc(" ",o.nc(2,2,"header.headerLabel.label17"),""),o.Db(2),o.tc("config",e.config)}}function un(e,t){1&e&&(o.Wb(0,"div",28),o.Wb(1,"mat-radio-button",29),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()),2&e&&(o.Db(1),o.tc("value",1),o.Db(1),o.Qc("",o.nc(3,2,"bookAppointment.radioBtn.label2")," "))}function mn(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Wb(1,"mat-radio-group",27),o.hc("ngModelChange",function(t){return o.Fc(e),o.lc().slotType=t})("change",function(t){return o.Fc(e),o.lc().radioChange(t)}),o.Wb(2,"div",28),o.Wb(3,"mat-radio-button",29),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Vb(),o.Mc(6,un,4,4,"div",30),o.Vb(),o.Tb()}if(2&e){const e=o.lc();o.Db(1),o.tc("ngModel",e.slotType),o.Db(2),o.tc("value",0),o.Db(1),o.Qc("",o.nc(5,4,"bookAppointment.radioBtn.label1")," "),o.Db(2),o.tc("ngIf",e.appConfiguration&&!e.isPtFlow&&e.appConfiguration.walkInOperationHours)}}function pn(e,t){1&e&&(o.Wb(0,"div",28),o.Wb(1,"mat-radio-button",29),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()),2&e&&(o.Db(1),o.tc("value",0),o.Db(1),o.Qc("",o.nc(3,2,"bookAppointment.radioBtn.label1")," "))}function bn(e,t){1&e&&(o.Wb(0,"div",28),o.Wb(1,"mat-radio-button",29),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()),2&e&&(o.Db(1),o.tc("value",1),o.Db(1),o.Qc("",o.nc(3,2,"bookAppointment.radioBtn.label2")," "))}function gn(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Wb(1,"mat-radio-group",27),o.hc("ngModelChange",function(t){return o.Fc(e),o.lc().slotType=t})("change",function(t){return o.Fc(e),o.lc().radioChange(t)}),o.Mc(2,pn,4,4,"div",30),o.Mc(3,bn,4,4,"div",30),o.Vb(),o.Tb()}if(2&e){const e=o.lc();o.Db(1),o.tc("ngModel",e.slotType),o.Db(1),o.tc("ngIf",e.isRescheduleAptmntMode&&0===e.slotType),o.Db(1),o.tc("ngIf",e.appConfiguration&&!e.isPtFlow&&e.appConfiguration.walkInOperationHours&&e.isRescheduleAptmntMode&&1===e.slotType)}}function fn(e,t){1&e&&(o.Ub(0),o.Wb(1,"div",31),o.Wb(2,"div",32),o.Wb(3,"div",33),o.Oc(4,"\xa0"),o.Vb(),o.Vb(),o.Oc(5),o.mc(6,"translate"),o.Vb(),o.Tb()),2&e&&(o.Db(5),o.Qc(" ",o.nc(6,1,"bookAppointment.pageDetails.para3")," "))}function hn(e,t){1&e&&(o.Ub(0),o.Wb(1,"td"),o.Wb(2,"div"),o.Oc(3),o.mc(4,"translate"),o.Vb(),o.Rb(5,"br"),o.Wb(6,"div",49),o.Oc(7),o.mc(8,"translate"),o.Vb(),o.Vb(),o.Tb()),2&e&&(o.Db(3),o.Pc(o.nc(4,2,"bookAppointment.pageDetails.para6")),o.Db(4),o.Qc(" ",o.nc(8,4,"bookAppointment.pageDetails.para7")," "))}function vn(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"td"),o.Wb(2,"div"),o.Oc(3),o.mc(4,"translate"),o.Vb(),o.Rb(5,"br"),o.Wb(6,"div",49),o.Oc(7),o.Vb(),o.Vb(),o.Tb()),2&e){const e=o.lc(4);o.Db(3),o.Pc(o.nc(4,3,"bookAppointment.pageDetails.para9")),o.Db(4),o.Rc("",e.currencyCode," ",null==e.priceWithCurrency?null:e.priceWithCurrency.primetime,"")}}function yn(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"td"),o.Wb(2,"div"),o.Oc(3),o.mc(4,"translate"),o.Vb(),o.Wb(5,"div",49),o.Oc(6),o.Vb(),o.Vb(),o.Tb()),2&e){const e=o.lc(4);o.Db(3),o.Pc(o.nc(4,3,"bookAppointment.pageDetails.para11")),o.Db(3),o.Rc("",e.currencyCode," ",null==e.priceWithCurrency?null:e.priceWithCurrency.premiumlongue,"")}}function Sn(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"td"),o.Wb(2,"div"),o.Oc(3),o.mc(4,"translate"),o.Vb(),o.Wb(5,"div",49),o.Oc(6),o.Vb(),o.Vb(),o.Tb()),2&e){const e=o.lc(4);o.Db(3),o.Pc(o.nc(4,3,"bookAppointment.pageDetails.para10")),o.Db(3),o.Rc("",e.currencyCode," ",e.priceWithCurrency.premiumprime,"")}}function Cn(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"td"),o.Wb(2,"div"),o.Oc(3),o.mc(4,"translate"),o.Vb(),o.Wb(5,"div",49),o.Oc(6),o.Vb(),o.Vb(),o.Tb()),2&e){const e=o.lc(4);o.Db(3),o.Pc(o.nc(4,2,"bookAppointment.pageDetails.para21")),o.Db(3),o.Pc(e.currencyCode)}}function Dn(e,t){1&e&&(o.Ub(0),o.Wb(1,"td",50),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Tb()),2&e&&(o.Db(2),o.Pc(o.nc(3,1,"bookAppointment.pageDetails.para8")))}function In(e,t){1&e&&(o.Ub(0),o.Wb(1,"td",50),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Tb()),2&e&&(o.Db(2),o.Pc(o.nc(3,1,"bookAppointment.pageDetails.para12")))}function Vn(e,t){1&e&&(o.Ub(0),o.Wb(1,"td",50),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Tb()),2&e&&(o.Db(2),o.Pc(o.nc(3,1,"bookAppointment.pageDetails.para13")))}function An(e,t){1&e&&(o.Ub(0),o.Wb(1,"td",50),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Tb()),2&e&&(o.Db(2),o.Pc(o.nc(3,1,"bookAppointment.pageDetails.para13")))}function On(e,t){1&e&&(o.Ub(0),o.Wb(1,"td",50),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Tb()),2&e&&(o.Db(2),o.Pc(o.nc(3,1,"bookAppointment.pageDetails.para22")))}const Tn=function(e){return{active:e}};function Ln(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Wb(1,"div",53),o.Oc(2),o.Vb(),o.Wb(3,"div",54),o.Wb(4,"input",55),o.hc("click",function(){o.Fc(e);const t=o.lc(2).$implicit,a=o.lc(4);return a.selectedTime=null==t?null:t.time,a.slotTypeName="reviewAndPayment.pageDetails.para16",a.selectedSlotCategory="Standard",a.selectedAllocationId=null==t||null==t.st?null:t.st.allocationId,a.selectedSlotRange=null==t||null==t.st?null:t.st.timeSlot,a.slotService=null,a.savePageDataToSession()}),o.Vb(),o.Wb(5,"label",56),o.Wb(6,"div",57),o.Wb(7,"div",58),o.Oc(8),o.mc(9,"translate"),o.Vb(),o.Wb(10,"div",59),o.Rb(11,"i",60),o.Oc(12),o.mc(13,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Tb()}if(2&e){const e=o.lc(2),t=e.$implicit,a=e.index,i=o.lc(4);o.Db(2),o.Pc(null!=t&&null!=t.st&&t.st.allocationId?null==t||null==t.st?null:t.st.allocationId:""),o.Db(2),o.vc("id","STRadio",a+1,""),o.tc("ngClass",o.xc(10,Tn,i.selectedAllocationId==(null==t||null==t.st?null:t.st.allocationId))),o.Db(1),o.vc("for","STRadio",a+1,""),o.Db(3),o.Pc(o.nc(9,6,"commonSections.formLabel.label1")),o.Db(4),o.Qc("",o.nc(13,8,"bookAppointment.pageDetails.para20")," ")}}function Nn(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"td"),o.Mc(2,Ln,14,12,"ng-container",7),o.Vb(),o.Tb()),2&e){const e=o.lc().$implicit;o.Db(2),o.tc("ngIf",0!==(null==e||null==e.st?null:e.st.remainingSeats))}}function Mn(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Wb(1,"div",53),o.Oc(2),o.Vb(),o.Wb(3,"div",54),o.Wb(4,"input",55),o.hc("click",function(){o.Fc(e);const t=o.lc(2).$implicit,a=o.lc(4);return a.selectedTime=null==t?null:t.time,a.slotTypeName="reviewAndPayment.pageDetails.para16",a.selectedSlotCategory="Standard",a.selectedAllocationId=null==t||null==t.pt?null:t.pt.allocationId,a.selectedSlotRange=null==t||null==t.pt?null:t.pt.timeSlot,a.slotService=a.getFees(a.PRIMETIME_VASCODE),a.savePageDataToSession()}),o.Vb(),o.Wb(5,"label",61),o.Wb(6,"div",57),o.Wb(7,"div",58),o.Oc(8),o.mc(9,"translate"),o.Vb(),o.Wb(10,"div",59),o.Rb(11,"i",60),o.Oc(12),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Tb()}if(2&e){const e=o.lc(2),t=e.$implicit,a=e.index,i=o.lc(4);o.Db(2),o.Pc(null!=t&&null!=t.pt&&t.pt.allocationId?null==t||null==t.pt?null:t.pt.allocationId:""),o.Db(2),o.vc("id","PTRadio",a+1,""),o.tc("ngClass",o.xc(9,Tn,i.selectedAllocationId==(null==t||null==t.pt?null:t.pt.allocationId))),o.Db(1),o.vc("for","PTRadio",a+1,""),o.Db(3),o.Pc(o.nc(9,7,"commonSections.formLabel.label1")),o.Db(4),o.Rc(" ",i.currencyCode," ",null==i.priceWithCurrency?null:i.priceWithCurrency.primetime," ")}}function En(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"td"),o.Mc(2,Mn,13,11,"ng-container",7),o.Vb(),o.Tb()),2&e){const e=o.lc().$implicit;o.Db(2),o.tc("ngIf",0!==(null==e||null==e.pt?null:e.pt.remainingSeats))}}function Wn(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Wb(1,"div",53),o.Oc(2),o.Vb(),o.Wb(3,"div",54),o.Wb(4,"input",55),o.hc("click",function(){o.Fc(e);const t=o.lc(2).$implicit,a=o.lc(4);return a.selectedTime=null==t?null:t.time,a.slotTypeName="reviewAndPayment.pageDetails.para17",a.selectedSlotCategory="PL",a.selectedAllocationId=null==t||null==t.pl?null:t.pl.allocationId,a.selectedSlotRange=null==t||null==t.pl?null:t.pl.timeSlot,a.slotService=a.getFees(a.PRIMELONGUE_VASCODE),a.savePageDataToSession()}),o.Vb(),o.Wb(5,"label",61),o.Wb(6,"div",57),o.Wb(7,"div",58),o.Oc(8),o.mc(9,"translate"),o.Vb(),o.Wb(10,"div",59),o.Rb(11,"i",60),o.Oc(12),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Tb()}if(2&e){const e=o.lc(2),t=e.$implicit,a=e.index,i=o.lc(4);o.Db(2),o.Pc(null!=t&&null!=t.pl&&t.pl.allocationId?null==t||null==t.pl?null:t.pl.allocationId:""),o.Db(2),o.vc("id","PLRadio",a+1,""),o.tc("ngClass",o.xc(9,Tn,i.selectedAllocationId==(null==t||null==t.pl?null:t.pl.allocationId))),o.Db(1),o.vc("for","PLRadio",a+1,""),o.Db(3),o.Pc(o.nc(9,7,"commonSections.formLabel.label1")),o.Db(4),o.Rc(" ",i.currencyCode," ",null==i.priceWithCurrency?null:i.priceWithCurrency.premiumlongue," ")}}function Pn(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"td"),o.Mc(2,Wn,13,11,"ng-container",7),o.Vb(),o.Tb()),2&e){const e=o.lc().$implicit;o.Db(2),o.tc("ngIf",0!==(null==e||null==e.pl?null:e.pl.remainingSeats))}}function kn(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Wb(1,"div",53),o.Oc(2),o.Vb(),o.Wb(3,"div",54),o.Wb(4,"input",55),o.hc("click",function(){o.Fc(e);const t=o.lc(2).$implicit,a=o.lc(4);return a.selectedTime=null==t?null:t.time,a.selectedSlotCategory="Prime Lounge",a.selectedAllocationId=null==t||null==t.ptpl?null:t.ptpl.allocationId,a.selectedSlotRange=null==t||null==t.ptpl?null:t.ptpl.timeSlot,a.slotService=a.primePremiumService,a.savePageDataToSession()}),o.Vb(),o.Wb(5,"label",61),o.Wb(6,"div",57),o.Wb(7,"div",58),o.Oc(8),o.mc(9,"translate"),o.Vb(),o.Wb(10,"div",59),o.Rb(11,"i",60),o.Oc(12),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Tb()}if(2&e){const e=o.lc(2),t=e.$implicit,a=e.index,i=o.lc(4);o.Db(2),o.Pc(null!=t&&null!=t.ptpl&&t.ptpl.allocationId?null==t||null==t.ptpl?null:t.ptpl.allocationId:""),o.Db(2),o.vc("id","PLRadio",a+1,""),o.tc("ngClass",o.xc(9,Tn,i.selectedAllocationId==(null==t||null==t.ptpl?null:t.ptpl.allocationId))),o.Db(1),o.vc("for","PLRadio",a+1,""),o.Db(3),o.Pc(o.nc(9,7,"commonSections.formLabel.label1")),o.Db(4),o.Rc(" ",i.currencyCode," ",i.priceWithCurrency.premiumprime," ")}}function wn(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"td"),o.Mc(2,kn,13,11,"ng-container",7),o.Vb(),o.Tb()),2&e){const e=o.lc().$implicit;o.Db(2),o.tc("ngIf",0!==(null==e||null==e.ptpl?null:e.ptpl.remainingSeats))}}function Fn(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Wb(1,"div",53),o.Oc(2),o.Vb(),o.Wb(3,"div",54),o.Wb(4,"input",55),o.hc("click",function(){o.Fc(e);const t=o.lc(2).$implicit,a=o.lc(4);return a.selectedTime=null==t?null:t.time,a.slotTypeName="VAYD",a.selectedSlotCategory="VAYD",a.selectedAllocationId=null==t||null==t.vayd?null:t.vayd.allocationId,a.selectedSlotRange=null==t||null==t.vayd?null:t.vayd.timeSlot,a.slotService=a.getFees(a.VAYD_VASCODE),a.savePageDataToSession()}),o.Vb(),o.Wb(5,"label",61),o.Wb(6,"div",57),o.Wb(7,"div",58),o.Oc(8),o.mc(9,"translate"),o.Vb(),o.Wb(10,"div",59),o.Rb(11,"i",60),o.Oc(12),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Tb()}if(2&e){const e=o.lc(2),t=e.$implicit,a=e.index,i=o.lc(4);o.Db(2),o.Pc(null!=t&&null!=t.vayd&&t.vayd.allocationId?null==t||null==t.vayd?null:t.vayd.allocationId:""),o.Db(2),o.vc("id","VAYDRadio",a+1,""),o.tc("ngClass",o.xc(9,Tn,i.selectedAllocationId==(null==t||null==t.vayd?null:t.vayd.allocationId))),o.Db(1),o.vc("for","VAYDRadio",a+1,""),o.Db(3),o.Pc(o.nc(9,7,"commonSections.formLabel.label1")),o.Db(4),o.Rc(" ",i.currencyCode,"",null==i.priceWithCurrency?null:i.priceWithCurrency.vayd," ")}}function _n(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"td"),o.Mc(2,Fn,13,11,"ng-container",7),o.Vb(),o.Tb()),2&e){const e=o.lc().$implicit;o.Db(2),o.tc("ngIf",0!==(null==e||null==e.vayd?null:e.vayd.remainingSeats))}}const xn=function(e){return{"d-none":e}};function Gn(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"tr",51),o.Wb(2,"td",52),o.Oc(3),o.Vb(),o.Mc(4,Nn,3,1,"ng-container",7),o.Mc(5,En,3,1,"ng-container",7),o.Mc(6,Pn,3,1,"ng-container",7),o.Mc(7,wn,3,1,"ng-container",7),o.Mc(8,_n,3,1,"ng-container",7),o.Vb(),o.Tb()),2&e){const e=t.$implicit,a=t.index,i=o.lc(4);o.Db(1),o.tc("ngClass",o.xc(7,xn,a>=i.slotBracketSize)),o.Db(2),o.Pc(null==e?null:e.time),o.Db(1),o.tc("ngIf",i.checkIfExist("st")&&(!i.isRescheduleAptmntMode||i.isRescheduleAptmntMode&&-1===i.notStandardCode.indexOf(i.selectedSlotCategory))),o.Db(1),o.tc("ngIf",i.checkIfExist("pt")&&(!i.isRescheduleAptmntMode||i.isRescheduleAptmntMode)),o.Db(1),o.tc("ngIf",i.checkIfExist("pl")&&(!i.isRescheduleAptmntMode||i.isRescheduleAptmntMode&&"pl"===(null==i.selectedSlotCategory?null:i.selectedSlotCategory.toLowerCase()))),o.Db(1),o.tc("ngIf",i.checkIfExist("ptpl")&&(!i.isRescheduleAptmntMode||i.isRescheduleAptmntMode&&i.primeLongueCode.indexOf(i.selectedSlotCategory)>-1)),o.Db(1),o.tc("ngIf",i.checkIfExist("vayd")&&(!i.isRescheduleAptmntMode||i.isRescheduleAptmntMode))}}function Rn(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Wb(1,"div",42),o.Wb(2,"table",43),o.Wb(3,"tbody"),o.Wb(4,"tr",44),o.Wb(5,"td",45),o.Oc(6),o.mc(7,"translate"),o.Vb(),o.Mc(8,hn,9,6,"ng-container",7),o.Mc(9,vn,8,5,"ng-container",7),o.Mc(10,yn,7,5,"ng-container",7),o.Mc(11,Sn,7,5,"ng-container",7),o.Mc(12,Cn,7,4,"ng-container",7),o.Vb(),o.Wb(13,"tr",46),o.Rb(14,"td"),o.Mc(15,Dn,4,3,"ng-container",7),o.Mc(16,In,4,3,"ng-container",7),o.Mc(17,Vn,4,3,"ng-container",7),o.Mc(18,An,4,3,"ng-container",7),o.Mc(19,On,4,3,"ng-container",7),o.Vb(),o.Mc(20,Gn,9,9,"ng-container",47),o.Vb(),o.Vb(),o.Vb(),o.Wb(21,"button",48),o.hc("click",function(){return o.Fc(e),o.lc(3).showTopOnes("add")}),o.Oc(22),o.mc(23,"translate"),o.Vb(),o.Tb()}if(2&e){const e=o.lc(3);o.Db(6),o.Pc(o.nc(7,15,"bookAppointment.pageDetails.para5")),o.Db(2),o.tc("ngIf",e.checkIfExist("st")&&(!e.isRescheduleAptmntMode||e.isRescheduleAptmntMode&&-1===e.notStandardCode.indexOf(e.selectedSlotCategory))),o.Db(1),o.tc("ngIf",e.checkIfExist("pt")&&(!e.isRescheduleAptmntMode||e.isRescheduleAptmntMode)),o.Db(1),o.tc("ngIf",e.checkIfExist("pl")&&(!e.isRescheduleAptmntMode||e.isRescheduleAptmntMode&&"pl"===(null==e.selectedSlotCategory?null:e.selectedSlotCategory.toLowerCase()))),o.Db(1),o.tc("ngIf",e.checkIfExist("ptpl")&&(!e.isRescheduleAptmntMode||e.isRescheduleAptmntMode&&e.primeLongueCode.indexOf(e.selectedSlotCategory)>-1)),o.Db(1),o.tc("ngIf",e.checkIfExist("vayd")&&(!e.isRescheduleAptmntMode||e.isRescheduleAptmntMode)),o.Db(3),o.tc("ngIf",e.checkIfExist("st")&&(!e.isRescheduleAptmntMode||e.isRescheduleAptmntMode&&-1===e.notStandardCode.indexOf(e.selectedSlotCategory))),o.Db(1),o.tc("ngIf",e.checkIfExist("pt")&&(!e.isRescheduleAptmntMode||e.isRescheduleAptmntMode)),o.Db(1),o.tc("ngIf",e.checkIfExist("pl")&&(!e.isRescheduleAptmntMode||e.isRescheduleAptmntMode&&"pl"===(null==e.selectedSlotCategory?null:e.selectedSlotCategory.toLowerCase()))),o.Db(1),o.tc("ngIf",e.checkIfExist("ptpl")&&(!e.isRescheduleAptmntMode||e.isRescheduleAptmntMode&&e.primeLongueCode.indexOf(e.selectedSlotCategory)>-1)),o.Db(1),o.tc("ngIf",e.checkIfExist("vayd")&&(!e.isRescheduleAptmntMode||e.isRescheduleAptmntMode)),o.Db(1),o.tc("ngForOf",e.availableSlots)("ngForTrackBy",e.trackByFn),o.Db(1),o.tc("disabled",(null==e.availableSlots?null:e.availableSlots.length)<=e.slotBracketSize),o.Db(1),o.Qc(" ",o.nc(23,17,"commonSections.buttons.button33")," ")}}function Un(e,t){1&e&&(o.Ub(0),o.Wb(1,"div",62),o.Wb(2,"div",15),o.Oc(3),o.mc(4,"translate"),o.Vb(),o.Vb(),o.Tb()),2&e&&(o.Db(3),o.Qc(" ",o.nc(4,1,"bookAppointment.pageDetails.para18")," "))}function Bn(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Wb(1,"h2",34),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Wb(4,"div",35),o.Wb(5,"mat-form-field",36),o.Wb(6,"mat-select",37),o.hc("selectionChange",function(t){return o.Fc(e),o.lc(2).filterSlots(t)})("ngModelChange",function(t){return o.Fc(e),o.lc(2).filterSlot=t}),o.mc(7,"translate"),o.Wb(8,"mat-option",38),o.Oc(9),o.mc(10,"translate"),o.Vb(),o.Wb(11,"mat-option",39),o.Oc(12),o.mc(13,"translate"),o.Vb(),o.Wb(14,"mat-option",40),o.Oc(15),o.mc(16,"translate"),o.Vb(),o.Wb(17,"mat-option",41),o.Oc(18),o.mc(19,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Mc(20,Rn,24,19,"ng-container",7),o.Mc(21,Un,5,3,"ng-container",7),o.Tb()}if(2&e){const e=o.lc(2);o.Db(2),o.Pc(o.nc(3,9,"bookAppointment.headerLabel.label4")),o.Db(4),o.uc("placeholder",o.nc(7,11,"commonSections.formLabel.label1")),o.tc("ngModel",e.filterSlot),o.Db(3),o.Pc(o.nc(10,13,"bookAppointment.pageDetails.para14")),o.Db(3),o.Pc(o.nc(13,15,"bookAppointment.pageDetails.para15")),o.Db(3),o.Pc(o.nc(16,17,"bookAppointment.pageDetails.para16")),o.Db(3),o.Pc(o.nc(19,19,"bookAppointment.pageDetails.para17")),o.Db(2),o.tc("ngIf",e.checkIfExist("pt")||e.checkIfExist("st")||e.checkIfExist("pl")||e.checkIfExist("vayd")),o.Db(1),o.tc("ngIf",!(e.checkIfExist("pt")||e.checkIfExist("st")||e.checkIfExist("pl")||e.checkIfExist("vayd")))}}function jn(e,t){if(1&e&&(o.Ub(0),o.Mc(1,Bn,22,21,"ng-container",7),o.Tb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",(null==e.cloneSlots?null:e.cloneSlots.length)>0)}}function Yn(e,t){if(1&e&&(o.Ub(0),o.Oc(1),o.mc(2,"translate"),o.Tb()),2&e){const e=o.lc(2);o.Db(1),o.Rc(" ",o.nc(2,2,"bookAppointment.radioBtn.label2")," ",e.walkingMessage," ")}}function Qn(e,t){1&e&&(o.Oc(0),o.mc(1,"translate")),2&e&&o.Qc(" ",o.nc(1,1,"bookAppointment.pageDetails.para19")," ")}function $n(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"div",62),o.Wb(2,"div",15),o.Mc(3,Yn,3,4,"ng-container",63),o.Mc(4,Qn,2,3,"ng-template",null,64,o.Nc),o.Vb(),o.Vb(),o.Tb()),2&e){const e=o.Bc(5),t=o.lc();o.Db(3),o.tc("ngIf",t.selectedTime)("ngIfElse",e)}}function qn(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div",65),o.hc("click",function(){return o.Fc(e),o.lc().routeToDashboard()}),o.Wb(1,"button",66),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()}2&e&&(o.Db(2),o.Qc(" ",o.nc(3,1,"bookAppointment.buttons.button1")," "))}function Hn(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div",65),o.hc("click",function(){return o.Fc(e),o.lc().routePrevious()}),o.Wb(1,"button",66),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()}2&e&&(o.Db(2),o.Qc(" ",o.nc(3,1,"commonSections.buttons.button8")," "))}let Kn=(()=>{class e extends nt.a{constructor(e,t,a){super(),this.httpService=e,this.sessionService=t,this.cd=a,this.PRIMETIME_VASCODE=r.o,this.PRIMELONGUE_VASCODE=r.l,this.VAYD_VASCODE=r.u,this.environment=c.a,this.calendarOptions={showNonCurrentDates:!1,fixedWeekCount:!1,initialView:"dayGridMonth",firstDay:1,validRange:{start:rt()().startOf("month").format("YYYY-MM-DD"),end:rt()().add(c.a.slotDaysEnabled,"days").endOf("month").format("YYYY-MM-DD")},editable:!1,dateClick:this.handleDateClick.bind(this)},this.availableSlots=[],this.walkinCode=r.v,this.primeTimeCode=r.m,this.primeLongueCode=r.k,this.vaydcode=r.t,this.primeTimePremiumLoungeCode=r.n,this.availableDates=[],this.notStandardCode=[...this.primeLongueCode,...this.walkinCode,...this.vaydcode],this.initBaseForm(r.c.modules.BOOK_APPOINTMENT),this.allowedDates=[],this.timeSlots=[],this.slotType=0,this.tempTrStartValue=1,this.tempTrEndValue=5,this.tableRowCount=0,this.cloneSlots=[],this.appConfiguration=this.sessionService.applicationConfiguration,this.filterSlot="All",this.serviceList=[],this.loadVasByVac(),this.currencyCode="",this.walkingMessage="",this.selectedSlotRange="",this.selectedAllocationId="",this.priceWithCurrency={},this.slotTypeName="",this.increaseSlotBy=5}setupRangeAndDate(){try{const e=Number(this.utilityService.momentInstance(this.sessionService.latestSlotAvailiable,"DD/MM/YYYY").format("MM"))-Number(this.utilityService.momentInstance().format("MM"));this.startDate=e>0?this.utilityService.momentInstance().add(e,"months").startOf("month").format("YYYY-MM-DD hh:mm:ss"):this.utilityService.momentInstance().add(e,"months").add(1,"days").format("YYYY-MM-DD hh:mm:ss"),this.endDate=this.utilityService.momentInstance().add(e,"months").endOf("month").format("YYYY-MM-DD hh:mm:ss");for(let t=0;t<e;t++)$(".fc-next-button").click()}catch(e){console.log(e)}}ngOnInit(){const e={dl_category:"book appointment",dl_action:"book appointment pageview",dl_label:this.utilityService.countrynameByIso(this.sessionService.countryCode),value:void 0};this.utilityService.fireCustomEvent(e),this.commonService.loadClientIp(),this.timeLeft=String(300),this.isPtFlow&&!this.isRescheduleAptmntMode&&this.start(),this.calendarOptions.locale=this.sessionService.appCultureCode;const t=this.sessionService.applicantService,a=null==t?void 0:t.filter(e=>"timeslot"===e.timeslot);this.slotService=(null==a?void 0:a.length)>0?a:[],this.slotBracketSize=this.increaseSlotBy}ngAfterViewChecked(){this.calendarApi=this.calendarComponent.getApi()}start(){this.config={leftTime:this.timeLeft,format:"mm:ss",demand:!1},this.commonService.autoLogout(300)}ngAfterViewInit(){return Object(l.b)(this,void 0,void 0,function*(){try{this.sessionService.getAppointmentDetails()?yield this.initFocus():this.setupRangeAndDate();const e=this.sessionService.getAppointmentDetails();e&&(this.startDate=this.utilityService.momentInstance(null==e?void 0:e.date).isAfter(this.utilityService.momentInstance().endOf("month"))?this.utilityService.momentInstance(null==e?void 0:e.date).startOf("month").format("YYYY-MM-DD"):this.utilityService.momentInstance().add(1,"days").format("YYYY-MM-DD"),this.endDate=this.utilityService.momentInstance(null==e?void 0:e.date).endOf("month").format("YYYY-MM-DD")),this.loadAppointmentSlots(),$(".fc-prev-button").click(()=>{setTimeout(()=>{$("td.date-availiable > .active").removeClass("active")}),this.selectedDate=null,this.startDate=this.utilityService.momentInstance(this.calendarApi.view.activeStart).isBefore(this.utilityService.momentInstance())&&this.utilityService.momentInstance(this.calendarApi.view.activeStart).isSame(new Date,"month")?this.utilityService.momentInstance().add(1,"days").format("YYYY-MM-DD hh:mm:ss"):this.utilityService.momentInstance(this.calendarApi.view.activeStart).format("YYYY-MM-DD hh:mm:ss"),this.endDate=this.utilityService.momentInstance(this.utilityService.momentInstance(this.calendarApi.view.activeStart).endOf("month").format()).format("YYYY-MM-DD hh:mm:ss"),this.loadAppointmentSlots()}),$(".fc-next-button").click(()=>{setTimeout(()=>{$("td.date-availiable > .active").removeClass("active")}),this.selectedDate=null,this.startDate=this.utilityService.momentInstance(this.calendarApi.view.activeStart).format("YYYY-MM-DD hh:mm:ss"),this.endDate=this.utilityService.momentInstance(this.utilityService.momentInstance(this.calendarApi.view.activeStart).endOf("month").format()).format("YYYY-MM-DD hh:mm:ss"),this.loadAppointmentSlots()})}catch(e){console.log(e)}})}initFocus(){try{return new Promise(e=>{const t=this.sessionService.getAppointmentDetails();if(!t)return void e(!0);this.selectedDate=t.date;const a=this.utilityService.momentInstance(t.date).month()-this.utilityService.momentInstance().month();for(let i=0;i<a;i++)$(".fc-next-button").click();e(!0)})}catch(e){console.log(e)}}handleDateClick(e){return Object(l.b)(this,void 0,void 0,function*(){const t=this.allowedDates.filter(t=>t.start===e.dateStr);t.length>0&&(0===this.slotType?(this.selectedDate=null,this.walkingMessage="",this.selectedTime=null,this.selectedSlotCategory=null,this.selectedAllocationId="",this.selectedSlotRange="",this.slotService=[],this.detectChanges(),this.showTimeSlots(t[0])):(this.selectedDate=e.dateStr,$("td.date-availiable > .active").removeClass("active"),$(`td[data-date="${t[0].start}"]`).children().addClass("active"),this.handleWalkin()))})}detectChanges(){this.cd.detectChanges()}filterWalkindata(e){return new Promise(t=>{var a,i;t(null===(i=null===(a=e.otherRespose.counters.filter(e=>this.walkinCode.includes(e.categoryCode))[0])||void 0===a?void 0:a.groups[0])||void 0===i?void 0:i.timeSlots[0])})}radioChange(e){return Object(l.b)(this,void 0,void 0,function*(){this.selectedDate&&this.handleDateClick({dateStr:this.selectedDate}),1===e.value&&this.selectedDate&&this.handleWalkin()})}handleWalkin(){return Object(l.b)(this,void 0,void 0,function*(){const e=this.allowedDates.filter(e=>e.start===this.selectedDate),t=yield this.filterWalkindata(e[0]);this.selectedTime=null==t?void 0:t.timeSlot,this.selectedSlotCategory="WWA",this.slotTypeName="Walk-in Anytime",this.selectedAllocationId=null==t?void 0:t.allocationId,this.selectedSlotRange=null==t?void 0:t.timeSlot,this.slotService=[],this.walkingMessage="Walk-in hours are from "+(null==t?void 0:t.timeSlot)})}showTimeSlots(e){var t;return Object(l.b)(this,void 0,void 0,function*(){const a=e.start;$("td.date-availiable > .active").removeClass("active"),$(`td[data-date="${a}"]`).children().addClass("active"),this.filterSlot="All",this.tempTrStartValue=1,this.tempTrEndValue=5,this.selectedDate=a;const i=yield this.generateTimeSlots(e.otherRespose.counters);this.timeSlots=i,this.cloneSlots=yield this.constructSlotWiseData(e.otherRespose.counters),this.availableSlots=this.cloneSlots,this.tableRowCount=null===(t=this.availableSlots)||void 0===t?void 0:t.length,setTimeout(()=>{this.availableSlots.length<this.slotBracketSize&&(this.slotBracketSize=this.availableSlots.length),this.detectChanges(),this.showTopOnes()},1e3)})}generateTimeSlots(e){return new Promise((t,a)=>{const i=[];e.map((a,o)=>{a.groups.map(a=>{a.timeSlots.map(a=>Object(l.b)(this,void 0,void 0,function*(){const n=a.timeSlot.split("-"),s=Number(n[0].split(":")[0]);let l,r=n[0],c=n[1];s<12?(l="Morning",r=n[0].split(":")[0].length>1?n[0]:"0"+n[0],c=n[1].split(":")[0].length>1?n[1]:"0"+n[1]):l=s<18?"Afternoon":"Evening",i.push({time:r,slotType:l,range:`${r}-${c}`}),o===e.length-1&&(i.reduceRight((e,t,a)=>(e[t.time]?i.splice(a,1):e[t.time]=!0,e),Object.create(null)),yield i.sort((e,t)=>Number(e.time.replace(/:/g,""))-Number(t.time.replace(/:/g,""))),t(i))}))})})})}checkIfExist(e){return this.availableSlots.reduce((t,a)=>"st"===e?(t[a.st]=(t[a.st]||0)+1,t):"pt"===e?(t[a.pt]=(t[a.pt]||0)+1,t):"pl"===e?(t[a.pl]=(t[a.pl]||0)+1,t):"vayd"===e?(t[a.vayd]=(t[a.vayd]||0)+1,t):"ptpl"===e?(t[a.ptpl]=(t[a.ptpl]||0)+1,t):void 0,{}).hasOwnProperty("[object Object]")}filterSlots(e){this.filterSlot=e.value,this.tempTrStartValue=1,this.tempTrEndValue=5;const t=this.cloneSlots;"All"===e.value?(this.availableSlots=t,this.tableRowCount=this.availableSlots.length,setTimeout(()=>{this.showTopOnes()},1e3)):(this.availableSlots=t.filter(t=>t.slotType===e.value),this.tableRowCount=this.availableSlots.length,setTimeout(()=>{this.showTopOnes()},1e3))}showTopOnes(e){var t;(null===(t=this.availableSlots)||void 0===t?void 0:t.length)<=this.slotBracketSize||(this.utilityService.strictCompare(e,"add")&&(this.slotBracketSize=this.slotBracketSize+this.increaseSlotBy,this.slotBracketSize>this.availableSlots.length&&(this.slotBracketSize=this.availableSlots.length)),this.detectChanges())}savePageDataToSession(){try{this.sessionService.saveAppointmentDetails({slotTypeName:this.slotTypeName,slotType:this.selectedSlotCategory,date:this.selectedDate,time:this.selectedTime,allocationId:this.selectedAllocationId,allocationSlot:this.selectedSlotRange?this.selectedSlotRange:this.selectedTime,appointmentSlotType:this.slotType}),this.utilityService.fireCustomEvent({dl_category:"book appointment",dl_action:"appointment type selection",dl_label:"Choose a slot",value:this.selectedSlotRange})}catch(e){console.log(e)}}saveAndContinue(){return Object(l.b)(this,void 0,void 0,function*(){try{this.utilityService.fireCustomEvent({dl_category:"BookanAppointment",dl_action:"chooseaslot",dl_label:"BookanAppointmentCotinueClick",value:void 0}),yield this.addServiceToUser(),this.savePageDataToSession(),this.routeNext()}catch(e){console.log(e)}})}addServiceToUser(){var e;return Object(l.b)(this,void 0,void 0,function*(){let t=[];const a=this.sessionService.applicantService;a&&a.length>0&&(t=a.filter(e=>"timeslot"!==e.timeslot),this.sessionService.applicantService=t),(null===(e=this.slotService)||void 0===e?void 0:e.length)>0&&this.slotService.forEach((e,a)=>Object(l.b)(this,void 0,void 0,function*(){const i=yield this.commonService.modifyServiceList(e);this.slotService[a].unit=i.applicants.length,this.slotService[a].total=i.applicants.length*e.amount,this.slotService[a].modifiedList=i.applicants,this.slotService[a].timeslot="timeslot";const o=t.findIndex(t=>t.code===e.code);o>-1&&t.splice(o,1),t.push(e),this.sessionService.applicantService=t,this.sessionService.updateFees=!0}))})}get primePremiumService(){return this.serviceList.filter(e=>"Prime Time"===e.name||"Premium Lounge Service"===e.name)}checkIfDisabled(){return!(this.selectedSlotCategory&&this.selectedDate&&this.selectedTime)}constructSlotWiseData(e){return Object(l.b)(this,void 0,void 0,function*(){try{const t=[],a=yield this.extractStandardSlots(e),i=yield this.extractTimeSlots(e,this.vaydcode),o=yield this.extractTimeSlots(e,this.primeLongueCode),n=yield this.extractSlotByTypeAndCondition(a,"prime"),s=yield this.extractSlotByTypeAndCondition(a,"normal"),l=yield this.extractSlotByTypeAndCondition(o,"prime"),r=yield this.extractSlotByTypeAndCondition(o,"normal"),c=yield this.extractSlotByTypeAndCondition(i,"normal");for(const e of this.timeSlots){const a={time:null,st:null,pt:null,pl:null,slotType:null,ptpl:null,vayd:null};a.slotType=e.slotType,a.time=e.time,a.st=this.checkIfSlotExistsForCategory(e.range,s),a.pt=this.checkIfSlotExistsForCategory(e.range,n),a.pl=this.checkIfSlotExistsForCategory(e.range,r),a.ptpl=this.checkIfSlotExistsForCategory(e.range,l),a.vayd=this.checkIfSlotExistsForCategory(e.range,c),t.push(a)}for(const e in t)void 0===t[e].st&&void 0===t[e].pt&&void 0===t[e].pl&&void 0===t[e].vayd&&delete t[e];return t.filter(e=>null!=e)}catch(t){console.log(t)}})}checkIfSlotExistsForCategory(e,t){try{return t.find(t=>String(t.timeSlot).split(" ").join("")===e.split(" ").join(""))}catch(a){throw a}}extractTimeSlots(e,t){return Object(l.b)(this,void 0,void 0,function*(){try{const a=e.find(e=>t.indexOf(e.categoryCode)>-1);let i;return a&&(i=yield this.alterMappedData(a.groups[0].timeSlots)),a?i:[]}catch(a){throw a}})}extractStandardSlots(e){return Object(l.b)(this,void 0,void 0,function*(){try{const t=e.find(e=>-1===this.notStandardCode.indexOf(e.categoryCode));let a;return t&&(a=yield this.alterMappedData(t.groups[0].timeSlots)),t?a:[]}catch(t){throw t}})}extractSlotByTypeAndCondition(e,t){return Object(l.b)(this,void 0,void 0,function*(){try{return e.filter(e=>"prime"===t?"Primetime"===e.slotType:"Primetime"!==e.slotType)}catch(a){throw a}})}alterMappedData(e){return new Promise(t=>{t(e.map(e=>{const t=e.timeSlot.split("-"),a=("0"+t[0].split(":")[0]).slice(-2)+":"+t[0].split(":")[1],i=("0"+t[1].split(":")[0]).slice(-2)+":"+t[1].split(":")[1];return e.timeSlot=a+"-"+i,e}))})}loadAppointmentSlots(){var e;return Object(l.b)(this,void 0,void 0,function*(){try{const t=this.sessionService.applicationDetailValue;if(!t)return;const a=this.sessionService.applicationDetailValue,i=this.commonService.formatDateDMY(this.endDate),o=this.commonService.formatDateDMY(this.startDate),n={applicantsCount:t.applicantList.length,slotType:this.isRescheduleAptmntMode?Number(null===(e=a.applicantList[0])||void 0===e?void 0:e.appointment.slotType):2,days:c.a.slotDaysEnabled,centerCode:t.centerCode,visaCategoryCode:t.visaCategoryCode,fromDate:o,toDate:i},s=yield this.commonService.loadAppointmentSlots(n);s&&s.length>0&&null===s[0].error&&(this.disableCalendarDates(s),this.checkAndLoadDetailsForEdit(),1==this.sessionService.applicationConfiguration.isUserActionAuditRequired&&(this.availableDates=s,this.vss4PayLoad()))}catch(t){throw new Error(`${r.d.INVALID_REGISTRATION_RESPONSE}: ${t}`)}})}checkAndLoadDetailsForEdit(){try{const e=this.sessionService.getAppointmentDetails();if(!e)return!1;this.slotType=r.v.indexOf(null==e?void 0:e.slotType)>-1?1:0,this.slotTypeName=e.slotTypeName,this.selectedSlotCategory=e.slotType,this.selectedDate=e.date,this.selectedTime=e.time,this.selectedAllocationId=e.allocationId;const t=this.allowedDates.filter(e=>e.start===this.selectedDate);1===this.slotType&&this.handleWalkin(),t.length>0&&this.showTimeSlots(t[0])}catch(e){console.log(e)}}loadVasByVac(){return Object(l.b)(this,void 0,void 0,function*(){try{const e=yield this.commonService.loadServices();if(e&&(null==e?void 0:e.length)>0){const t=e.find(e=>e.code===r.o),a=e.find(e=>e.code===r.l),i=e.find(e=>e.code===r.u);this.priceWithCurrency={standard:"Free",primetime:null==t?void 0:t.amount,premiumlongue:null==a?void 0:a.amount,vayd:(null==i?void 0:i.amount)||0,premiumprime:(null==t?void 0:t.amount)+(null==a?void 0:a.amount)},this.serviceList=e,this.sessionService.setCurrencyCode=e[0].currency,this.currencyCode=e[0].currency}}catch(e){console.log("Error:",e)}})}getFees(e){const t=this.serviceList.filter(t=>t.code===e);return t.length>0?t:{}}formatDate(e,t){const a=t.split("/");return a[2]+e+a[0]+e+a[1]}disableCalendarDates(e){this.calendarOptions.events=[],this.allowedDates=[];const t=[];e.forEach(e=>{if(!e.date)return!1;const a={start:this.formatDate("-",e.date),end:this.formatDate("-",e.date),allDay:!0,editable:!1,className:["availiable"],otherRespose:e,title:"availiable"};t.push(a)}),this.allowedDates=t,this.calendarOptions.events=t,setTimeout(()=>{$(".availiable").parents(".fc-day").addClass("date-availiable")},1e3),this.detectChanges()}routeToDashboard(){this.sessionService.setIsWaitlistScheduleMode(!1),this.sessionService.saveApplicationSchemaInBrowser(this.sessionService.tempAppSchema),this.commonService.routeToDashboard()}get isRescheduleAptmntMode(){return this.sessionService.isRescheduleAptmntMode}get iswaitlistScheduleMode(){return this.sessionService.iswaitlistScheduleMode}vss4PayLoad(){return Object(l.b)(this,void 0,void 0,function*(){try{const e=this.sessionService.clientIpAddress,t={missionCode:this.sessionService.applicationDetailValue.missionCode,countryCode:this.sessionService.applicationDetailValue.countryCode,centerCode:this.sessionService.applicationDetailValue.centerCode,loginUser:this.sessionService.getLoggedEmail(),urn:this.sessionService.urn,firstEarliestSlotDate:this.utilityService.momentInstance(this.availableDates[0].date).format("DD/MM/YYYY"),firstEarliestSlotTime:this.availableDates[0].counters[0].groups[0].timeSlots[0].timeSlot,action:this.isRescheduleAptmntMode?"reschedule":"schedule",ipAddress:e};return yield this.httpService.payloadPost(r.c.api.vss4ReportData,t).toPromise()}catch(e){throw e}})}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(te.a),o.Qb(ae.a),o.Qb(o.h))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-book-appointment"]],viewQuery:function(e,t){if(1&e&&o.Uc(cn,1),2&e){let e;o.Ac(e=o.ic())&&(t.calendarComponent=e.first)}},features:[o.Ab],decls:44,vars:32,consts:[[1,"container","py-15","py-md-30"],["class","form-card timer-css text-right border-0 mb-5",4,"ngIf"],[1,"form-card"],[1,"c-brand-grey-para","mb-5"],[1,"fs-24","fs-sm-32","fs-md-42","mb-20"],[1,"c-brand-grey-para","mb-40"],[1,"fs-18","fs-sm-24","mb-20"],[4,"ngIf"],[1,"fs-24","fs-sm-28","fs-md-32","mb-20"],[1,"bg-light","text-dark","border-left-4","p-15","p-sm-25","mb-20"],[1,"row","justify-content-center","fs-sm-18"],[1,"col-12","col-sm",3,"ngClass"],[1,"d-inline-block","px-2","lh-20","border","border-dark","rounded-5","mr-5"],[1,"d-inline-block","min-w-15","lh-16","bg-black","rounded-3"],[1,"ba-calender-card","card","shadow-sm"],[1,"card-body"],[1,"ba-calender-container","mx-auto"],[3,"options"],["fullcalendar",""],[1,"form-card","p-0","border-0","shadow-none","mat-card"],[1,"row"],["class","col-12 col-sm-6 mt-20",3,"click",4,"ngIf"],[1,"col-12","col-sm-6","mt-20"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],[1,"form-card","timer-css","text-right","border-0","mb-5"],[3,"config"],["cd",""],[1,"row","mat-radio-group-brand","mb-10",3,"ngModel","ngModelChange","change"],[1,"col-12","col-sm-6","mb-15"],[1,"mat-block",3,"value"],["class","col-12 col-sm-6 mb-15",4,"ngIf"],[1,"col-12","col-sm","col-lg-auto","min-lg-w-210","mb-10","mb-sm-0"],[1,"d-inline-block","px-2","lh-20","border","border-brand-dark-green","rounded-5","mr-5"],[1,"d-inline-block","min-w-15","lh-16","bg-brand-dark-green","rounded-3"],[1,"fs-18","fs-sm-24","mt-40","mb-20"],[1,"form-group","mb-40"],["appearance","outline",1,"mat-form-field-outline-brand"],[3,"placeholder","ngModel","selectionChange","ngModelChange"],["value","All"],["value","Morning"],["value","Afternoon"],["value","Evening"],[1,"table-responsive-lg"],[1,"table","ba-slot-table","w-auto"],[1,"text-center"],[1,"text-left"],[1,"c-brand-grey-para","fs-14"],[4,"ngFor","ngForOf","ngForTrackBy"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","load-more",3,"disabled","click"],[1,"mt-5","c-brand-grey-para"],[2,"width","200px"],[1,"hidden-item",3,"ngClass"],[1,"align-middle"],[1,"ba-slot-allocation"],[1,"ba-slot-box"],["type","radio","name","SlotRadio",1,"ba-slot-radio",3,"ngClass","id","click"],[1,"ba-slot-radio-label","standard",3,"for"],[1,"ba-slot-radio-label-inner"],[1,"ba-slot-radio-label-text1"],[1,"ba-slot-radio-label-text2"],[1,"fa","fa-check","mr-5"],[1,"ba-slot-radio-label","prime-time",3,"for"],[1,"card","bg-brand-dark-green","text-white","rounded-0","mt-20"],[4,"ngIf","ngIfElse"],["noslot",""],[1,"col-12","col-sm-6","mt-20",3,"click"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange"]],template:function(e,t){1&e&&(o.Wb(0,"section",0),o.Mc(1,dn,5,4,"div",1),o.Wb(2,"mat-card",2),o.Wb(3,"p",3),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Wb(6,"h1",4),o.Oc(7),o.mc(8,"translate"),o.Vb(),o.Wb(9,"p",5),o.Oc(10),o.mc(11,"translate"),o.Vb(),o.Wb(12,"h2",6),o.Oc(13),o.mc(14,"translate"),o.Vb(),o.Mc(15,mn,7,6,"ng-container",7),o.Mc(16,gn,4,3,"ng-container",7),o.Wb(17,"h2",8),o.Oc(18),o.mc(19,"translate"),o.Vb(),o.Wb(20,"div",9),o.Wb(21,"div",10),o.Mc(22,fn,7,3,"ng-container",7),o.Wb(23,"div",11),o.Wb(24,"div",12),o.Wb(25,"div",13),o.Oc(26,"\xa0"),o.Vb(),o.Vb(),o.Oc(27),o.mc(28,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(29,"div",14),o.Wb(30,"div",15),o.Wb(31,"div",16),o.Rb(32,"full-calendar",17,18),o.Vb(),o.Vb(),o.Vb(),o.Mc(34,jn,2,1,"ng-container",7),o.Mc(35,$n,6,2,"ng-container",7),o.Vb(),o.Wb(36,"mat-card",19),o.Wb(37,"div",20),o.Mc(38,qn,4,3,"div",21),o.Mc(39,Hn,4,3,"div",21),o.Wb(40,"div",22),o.Wb(41,"button",23),o.hc("click",function(){return t.saveAndContinue()}),o.Oc(42),o.mc(43,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e&&(o.Db(1),o.tc("ngIf",!t.isRescheduleAptmntMode&&t.isPtFlow),o.Db(3),o.Pc(o.nc(5,18,"bookAppointment.pageDetails.para1")),o.Db(3),o.Pc(o.nc(8,20,"bookAppointment.headerLabel.label1")),o.Db(3),o.Pc(o.nc(11,22,"bookAppointment.pageDetails.para2")),o.Db(3),o.Pc(o.nc(14,24,"bookAppointment.headerLabel.label2")),o.Db(2),o.tc("ngIf",!t.isRescheduleAptmntMode),o.Db(1),o.tc("ngIf",t.isRescheduleAptmntMode),o.Db(2),o.Pc(o.nc(19,26,"bookAppointment.headerLabel.label3")),o.Db(4),o.tc("ngIf",t.allowedDates.length>0),o.Db(1),o.tc("ngClass",t.allowedDates.length>0?"col-lg-7":"col-lg-12"),o.Db(4),o.Qc(" ",o.nc(28,28,"bookAppointment.pageDetails.para4")," "),o.Db(5),o.tc("options",t.calendarOptions),o.Db(2),o.tc("ngIf",0===t.slotType&&t.selectedDate),o.Db(1),o.tc("ngIf",1===t.slotType&&t.walkingMessage&&t.selectedDate),o.Db(3),o.tc("ngIf",t.isRescheduleAptmntMode||t.iswaitlistScheduleMode),o.Db(1),o.tc("ngIf",!(t.isRescheduleAptmntMode||t.iswaitlistScheduleMode)),o.Db(2),o.tc("disabled",t.checkIfDisabled()),o.Db(1),o.Qc(" ",o.nc(43,30,"commonSections.buttons.button19")," "))},directives:[m.o,u.a,m.m,rn.a,h.a,Ri.a,ne.b,n.q,n.t,ne.a,b.b,dt.a,bt.j,m.n],pipes:[p.d],encapsulation:2,changeDetection:0}),e})();var zn=a("/Yn+"),Zn=a("vbKG");let Jn=(()=>{class e{constructor(){}_returnHtmlFromRichText(e){const t={renderNode:{[Zn.INLINES.HYPERLINK]:(e,t)=>`<a  href="${e.data.uri}"' target="_blank" '}><span class="c-brand-orange fs-sm-18 text-decoration-underline cursor-pointer">${t(e.content)}</span></a>`}};return null==e||"document"!==e.nodeType?"<p>Error</p>":Object(zn.documentToHtmlString)(e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Kb({type:e,selectors:[["app-contentful-richtext"]],inputs:{richData:"richData"},decls:1,vars:1,consts:[[3,"innerHtml"]],template:function(e,t){1&e&&o.Rb(0,"div",0),2&e&&o.tc("innerHtml",t._returnHtmlFromRichText(t.richData),o.Gc)},encapsulation:2}),e})();function Xn(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"div",9),o.Rb(2,"img",19),o.Vb(),o.Tb()),2&e){const e=o.lc();o.Db(2),o.tc("src",e.service.contentful.icon.fields.file.url,o.Hc)}}function es(e,t){if(1&e&&(o.Wb(0,"div",20),o.Wb(1,"div",11),o.Wb(2,"mat-checkbox",21),o.hc("ngModelChange",function(e){return t.$implicit.checked_state=e}),o.Wb(3,"span",13),o.Oc(4),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e){const e=t.$implicit;o.Db(2),o.tc("ngModel",e.checked_state),o.Db(2),o.Rc("",e.firstName," ",e.lastName,"")}}function ts(e,t){1&e&&(o.Ub(0),o.Wb(1,"button",22),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Tb()),2&e&&(o.Db(2),o.Qc(" ",o.nc(3,1,"commonSections.buttons.button36")," "))}function as(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Wb(1,"button",23),o.hc("click",function(){return o.Fc(e),o.lc().confirm()}),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Tb()}if(2&e){const e=o.lc();o.Db(1),o.tc("disabled",e.checkedApplicant()),o.Db(1),o.Qc(" ",o.nc(3,2,"add"===e.actionType?"commonSections.buttons.button4":"commonSections.buttons.button36")," ")}}function is(e,t){if(1&e&&(o.Ub(0),o.Rb(1,"app-contentful-richtext",24),o.Tb()),2&e){const e=o.lc();o.Db(1),o.tc("richData",e.service.contentful.description)}}function os(e,t){if(1&e&&(o.Wb(0,"p"),o.Oc(1),o.Vb()),2&e){const e=o.lc();o.Db(1),o.Pc(e.service.description)}}const ns=function(e){return{applicantLength:e}};let ss=(()=>{class e extends d.a{constructor(e,t){super(),this.data=e,this.dialogRef=t,this.applicantList={},this.currencyCode=this.sessionService.currencyCode||"",this.actionType=e.action,this.service=e.services}ngOnInit(){if(this.applicantList=this.sessionService.applicationDetailValue.applicantList,"add"===this.actionType)this.checkAll({checked:!0});else{const e=this.sessionService.applicantService.filter(e=>e.id===this.service.id)[0].modifiedList;this.applicantList.forEach(t=>t.checked_state=e.some(e=>e.arn===t.arn))}}get editableBtn(){return["timeslot","isMandatory"].indexOf(this.service.timeslot)>-1}addZeroes(e){const t=String(e).split(".")[1],a=t&&t.length>2?t.length:2;return Number(e).toFixed(a)}checkAll(e){this.applicantList.forEach(t=>t.checked_state=e.checked)}isAllChecked(){return this.applicantList.every(e=>e.checked_state)}confirm(){return Object(l.b)(this,void 0,void 0,function*(){const e=yield this.modifyList(),t=this.sessionService.applicantService;if(t&&t.length>0)if("remove"===this.actionType){const a=t.findIndex(e=>e.id===this.service.id);t[a].unit=e.applicants.length,t[a].total=e.applicants.length*this.service.amount,t[a].modifiedList=e.applicants,this.sessionService.applicantService=t}else this.service.unit=e.applicants.length,this.service.total=e.applicants.length*this.service.amount,this.service.modifiedList=e.applicants,t.push(this.service),this.sessionService.applicantService=t;else this.service.modifiedList=e.applicants,this.service.unit=e.applicants.length,this.service.total=e.applicants.length*this.service.amount,this.sessionService.applicantService=[this.service];this.close(!0)})}modifyList(){return new Promise(e=>{const t=this.applicantList.filter(e=>!0===e.checked_state).map(e=>({arn:e.arn,vasId:this.service.id.toString(),vasCode:this.service.code})),a={};a.loginuser=this.sessionService.getLoggedEmail(),a.missioncode=this.sessionService.tenent,a.countrycode=this.sessionService.countryCode,a.urn=this.applicantList[0].urn,a.applicants=t,e(a)})}checkedApplicant(){return!(this.applicantList.filter(e=>!0===e.checked_state).length>0)}close(e=!1){this.dialogRef.close(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(La.a),o.Qb(La.h))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-sms-service-modal"]],features:[o.Ab],decls:27,vars:18,consts:[[1,"mat-modal-container",2,"max-width","750px"],[1,"position-absolute","top-10","right-10"],[1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"fs-24","fs-md-36","pr-18"],[1,"my-20"],[1,"row"],[1,"col-12","col-sm","order-sm-2"],[4,"ngIf"],[1,"fs-24","mb-20"],[1,"form-group"],[1,"pl-35"],[1,"mat-checkbox-brand","ml-n35",3,"checked","change"],[1,"text-wrap","mr-5"],[1,"mt-0","mb-20"],["class","form-group mb-20",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-sm","order-sm-1","text-justify"],[4,"ngIf","ngIfElse"],["notnocontentfulDesc",""],["alt","vas image",3,"src"],[1,"form-group","mb-20"],["name","sizecb[]",1,"mat-checkbox-brand","ml-n35",3,"ngModel","ngModelChange"],["mat-raised-button","","disabled","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","my-20"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","my-20",3,"disabled","click"],[3,"richData"]],template:function(e,t){if(1&e&&(o.Wb(0,"div",0),o.Wb(1,"div",1),o.Wb(2,"button",2),o.hc("click",function(){return t.close()}),o.Rb(3,"img",3),o.Vb(),o.Vb(),o.Wb(4,"h1",4),o.Oc(5),o.Vb(),o.Rb(6,"hr",5),o.Wb(7,"mat-dialog-content"),o.Wb(8,"div",6),o.Wb(9,"div",7),o.Mc(10,Xn,3,1,"ng-container",8),o.Wb(11,"div",9),o.Oc(12),o.Vb(),o.Wb(13,"div",10),o.Wb(14,"div",11),o.Wb(15,"mat-checkbox",12),o.hc("change",function(e){return t.checkAll(e)}),o.Wb(16,"span",13),o.Oc(17),o.mc(18,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Rb(19,"hr",14),o.Mc(20,es,5,3,"div",15),o.Mc(21,ts,4,3,"ng-container",8),o.Mc(22,as,4,4,"ng-container",8),o.Vb(),o.Wb(23,"div",16),o.Mc(24,is,2,1,"ng-container",17),o.Mc(25,os,2,1,"ng-template",null,18,o.Nc),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e){const e=o.Bc(26);o.Db(3),o.vc("src","",t.getGlobalImagePath,"/close-btn.png",o.Hc),o.Db(2),o.Pc((null==t.service||null==t.service.contentful?null:t.service.contentful.heading)||(null==t.service?null:t.service.name)),o.Db(5),o.tc("ngIf",0!==(null==t.service.contentful?null:t.service.contentful.length)&&t.service.contentful.icon),o.Db(2),o.Rc(" ",t.currencyCode," ",t.addZeroes(t.service.amount)," "),o.Db(3),o.tc("checked",t.isAllChecked()),o.Db(2),o.Qc(" ",o.oc(18,13,"services.modalPopup.pageDetails.para11",o.xc(16,ns,t.applicantList.length))," "),o.Db(3),o.tc("ngForOf",t.applicantList)("ngForTrackBy",t.trackByFn),o.Db(1),o.tc("ngIf",t.editableBtn),o.Db(1),o.tc("ngIf",!t.editableBtn),o.Db(2),o.tc("ngIf",0!==(null==t.service.contentful?null:t.service.contentful.length))("ngIfElse",e)}},directives:[La.f,m.o,f.a,m.n,n.q,n.t,h.a,Jn],pipes:[p.d],encapsulation:2}),e})(),ls=(()=>{class e extends d.a{constructor(e,t){super(),this.data=e,this.dialogRef=t,this.applicantList={}}ngOnInit(){var e,t,a;this.applicantList=this.sessionService.applicationDetailValue.applicantList,this.serviceName=(null===(a=null===(t=null===(e=this.data)||void 0===e?void 0:e.service)||void 0===t?void 0:t.contentful)||void 0===a?void 0:a.heading)||this.data.service.name}get editableBtn(){return["isMandatory"].indexOf(this.data.service.timeSlot)>-1}deleteService(){var e;return Object(l.b)(this,void 0,void 0,function*(){const t=this.sessionService.applicantService;if(t&&t.length>0){const a=this.utilityService.removeByAttr(t,"id",this.data.service.id);this.sessionService.applicantService=a,(null===(e=this.data.service)||void 0===e?void 0:e.isODMV)&&(this.sessionService.clearAppointmentDetail(),this.commonService.routeToBookAppointment())}this.close(!0,"yes Delete service")})}close(e=!1,t){this.dialogRef.close(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(La.a),o.Qb(La.h))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-sms-service-remove-modal"]],features:[o.Ab],decls:20,vars:14,consts:[[1,"mat-modal-delete-document"],[1,"position-absolute","top-10","right-10"],[1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"fs-24","fs-md-36","pr-18"],[1,"my-20"],[1,"fs-sm-17","c-brand-grey-para","mb-30"],[1,"row"],[1,"col-12","col-sm"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mb-10","mb-sm-0",3,"click"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"]],template:function(e,t){1&e&&(o.Wb(0,"div",0),o.Wb(1,"div",1),o.Wb(2,"button",2),o.hc("click",function(){return t.close()}),o.Rb(3,"img",3),o.Vb(),o.Vb(),o.Wb(4,"h1",4),o.Oc(5),o.mc(6,"translate"),o.Vb(),o.Rb(7,"hr",5),o.Wb(8,"p",6),o.Oc(9),o.mc(10,"translate"),o.Vb(),o.Wb(11,"div",7),o.Wb(12,"div",8),o.Wb(13,"button",9),o.hc("click",function(){return t.close()}),o.Oc(14),o.mc(15,"translate"),o.Vb(),o.Vb(),o.Wb(16,"div",8),o.Wb(17,"button",10),o.hc("click",function(){return t.deleteService()}),o.Oc(18),o.mc(19,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e&&(o.Db(3),o.vc("src","",t.getGlobalImagePath,"/close-btn.png",o.Hc),o.Db(2),o.Rc(" ",o.nc(6,6,"services.modalPopup.headerLabel.label2")," ",(null==t.data.service||null==t.data.service.contentful?null:t.data.service.contentful.heading)||(null==t.data.service?null:t.data.service.name)," ? "),o.Db(4),o.Qc(" ",o.nc(10,8,t.data.service.timeslot?"services.modalPopup.pageDetails.para9":"services.modalPopup.pageDetails.para7")," "),o.Db(5),o.Qc(" ",o.nc(15,10,"commonSections.buttons.button15")," "),o.Db(4),o.Qc(" ",o.nc(19,12,"timeslot"!==t.data.service.timeslot?"services.modalPopup.pageDetails.para8":"commonSections.buttons.button19")," "))},directives:[h.a],pipes:[p.d],encapsulation:2}),e})();var rs=a("QrD/");const cs=["captchaContainer"],ds=["viewChangeAppointmentModal"],us=["radiobutton"];function ms(e,t){if(1&e&&(o.Wb(0,"div",12),o.Oc(1),o.mc(2,"translate"),o.Rb(3,"countdown",13,14),o.Vb()),2&e){const e=o.lc();o.Db(1),o.Qc(" ",o.nc(2,2,"header.headerLabel.label17"),""),o.Db(2),o.tc("config",e.config)}}function ps(e,t){if(1&e&&(o.Ub(0),o.Rb(1,"app-contentful-richtext",41),o.Tb()),2&e){const e=o.lc().$implicit;o.Db(1),o.tc("richData",e.contentful.description)}}function bs(e,t){if(1&e&&(o.Wb(0,"p"),o.Oc(1),o.Vb()),2&e){const e=o.lc().$implicit;o.Db(1),o.Pc(e.description)}}function gs(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Wb(1,"td",42),o.Wb(2,"i",43),o.hc("click",function(){o.Fc(e);const t=o.lc().$implicit;return o.lc(2).removeSMS(t)}),o.Vb(),o.Vb(),o.Tb()}}function fs(e,t){if(1&e&&(o.Ub(0),o.Rb(1,"app-contentful-richtext",41),o.Tb()),2&e){const e=o.lc().$implicit;o.Db(1),o.tc("richData",null==e||null==e.contentful?null:e.contentful.description)}}function hs(e,t){if(1&e&&(o.Wb(0,"p"),o.Oc(1),o.Vb()),2&e){const e=o.lc().$implicit;o.Db(1),o.Pc(null==e?null:e.description)}}function vs(e,t){if(1&e&&(o.Wb(0,"tr",45),o.Wb(1,"td",30),o.Wb(2,"div",31),o.Oc(3),o.Vb(),o.Wb(4,"div",32),o.Mc(5,fs,2,1,"ng-container",33),o.Mc(6,hs,2,1,"ng-template",null,34,o.Nc),o.Vb(),o.Wb(8,"span",46),o.Oc(9,"Read more \u2192"),o.Vb(),o.Vb(),o.Wb(10,"td",36),o.Wb(11,"div",37),o.Oc(12),o.Vb(),o.Vb(),o.Wb(13,"td",38),o.Wb(14,"div",39),o.Oc(15),o.mc(16,"number"),o.Vb(),o.Vb(),o.Wb(17,"td",38),o.Wb(18,"div",40),o.Oc(19),o.mc(20,"number"),o.Vb(),o.Vb(),o.Wb(21,"td",42),o.Wb(22,"button",47),o.Rb(23,"i",48),o.Vb(),o.Vb(),o.Vb()),2&e){const e=t.$implicit,a=o.Bc(7),i=o.lc(2).index,n=o.lc(2);o.Db(3),o.Pc((null==e||null==e.contentful?null:e.contentful.heading)||(null==e?null:e.name)),o.Db(2),o.tc("ngIf",0!==(null==e||null==e.contentful?null:e.contentful.length))("ngIfElse",a),o.Db(7),o.Pc(n.servicesInSession[i].unit),o.Db(3),o.Rc("",n.currencyCode," ",o.oc(16,8,null==e?null:e.amount,"1.2-2"),""),o.Db(4),o.Rc(" ",n.currencyCode," ",o.oc(20,11,(null==e?null:e.amount)*n.servicesInSession[i].unit,"1.2-2")," ")}}function ys(e,t){if(1&e&&(o.Ub(0),o.Mc(1,vs,24,14,"tr",44),o.Tb()),2&e){const e=o.lc().$implicit;o.Db(1),o.tc("ngForOf",null==e?null:e.complimentaryVAS)}}function Ss(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Wb(1,"tr",29),o.Wb(2,"td",30),o.Wb(3,"div",31),o.Oc(4),o.Vb(),o.Wb(5,"div",32),o.Mc(6,ps,2,1,"ng-container",33),o.Mc(7,bs,2,1,"ng-template",null,34,o.Nc),o.Vb(),o.Wb(9,"span",35),o.hc("click",function(){o.Fc(e);const a=t.$implicit;return o.lc(2).openSMS(a,"remove")}),o.Oc(10),o.mc(11,"translate"),o.Vb(),o.Vb(),o.Wb(12,"td",36),o.Wb(13,"div",37),o.Oc(14),o.Vb(),o.Vb(),o.Wb(15,"td",38),o.Wb(16,"div",39),o.Oc(17),o.mc(18,"number"),o.Vb(),o.Vb(),o.Wb(19,"td",38),o.Wb(20,"div",40),o.Oc(21),o.mc(22,"number"),o.Vb(),o.Vb(),o.Mc(23,gs,3,0,"ng-container",5),o.Vb(),o.Mc(24,ys,2,1,"ng-container",5),o.Tb()}if(2&e){const e=t.$implicit,a=o.Bc(8),i=o.lc(2);o.Db(4),o.Pc(e.contentful.heading||e.name),o.Db(2),o.tc("ngIf",0!==(null==e.contentful?null:e.contentful.length))("ngIfElse",a),o.Db(4),o.Qc("",o.nc(11,11,"services.buttons.button1")," \u2192"),o.Db(4),o.Pc(e.unit),o.Db(3),o.Rc("",i.currencyCode," ",o.oc(18,13,e.amount,"1.2-2"),""),o.Db(4),o.Rc("",i.currencyCode," ",o.oc(22,16,e.totalPrice,"1.2-2"),""),o.Db(2),o.tc("ngIf","isMandatory"!==e.timeslot),o.Db(1),o.tc("ngIf",(null==e||null==e.complimentaryVAS?null:e.complimentaryVAS.length)>0)}}function Cs(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"h2",15),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Wb(4,"div",16),o.Wb(5,"table",17),o.Wb(6,"tr",18),o.Wb(7,"td",19),o.Oc(8),o.mc(9,"translate"),o.Vb(),o.Wb(10,"td"),o.Oc(11),o.mc(12,"translate"),o.Vb(),o.Wb(13,"td"),o.Wb(14,"div",20),o.Oc(15),o.mc(16,"translate"),o.Vb(),o.Vb(),o.Wb(17,"td"),o.Oc(18),o.mc(19,"translate"),o.Vb(),o.Rb(20,"td",21),o.Vb(),o.Mc(21,Ss,25,19,"ng-container",22),o.Wb(22,"tr"),o.Wb(23,"td",23),o.Wb(24,"div",24),o.Oc(25,"\xa0"),o.Vb(),o.Vb(),o.Vb(),o.Wb(26,"tr",25),o.Wb(27,"td",26),o.Wb(28,"div",27),o.Oc(29),o.mc(30,"translate"),o.Vb(),o.Vb(),o.Rb(31,"td"),o.Rb(32,"td"),o.Wb(33,"td",28),o.Oc(34),o.mc(35,"number"),o.Vb(),o.Rb(36,"td",21),o.Vb(),o.Vb(),o.Vb(),o.Tb()),2&e){const e=o.lc();o.Db(2),o.Pc(o.nc(3,12,"services.headerLabel.label3")),o.Db(6),o.Pc(o.nc(9,14,"services.headerLabel.label4")),o.Db(3),o.Pc(o.nc(12,16,"services.headerLabel.label5")),o.Db(4),o.Rc("",o.nc(16,18,"services.headerLabel.label6")," (",e.currencyCode,")"),o.Db(3),o.Rc("",o.nc(19,20,"services.headerLabel.label7")," (",e.currencyCode,")"),o.Db(3),o.tc("ngForOf",e.selectedService)("ngForTrackBy",e.trackByFn),o.Db(8),o.Pc(o.nc(30,22,"services.headerLabel.label9")),o.Db(5),o.Rc("",e.currencyCode," ",o.oc(35,24,e.totalSelected,"1.2-2"),"")}}function Ds(e,t){if(1&e&&(o.Ub(0),o.Rb(1,"app-contentful-richtext",41),o.Tb()),2&e){const e=o.lc().$implicit;o.Db(1),o.tc("richData",e.contentful.description)}}function Is(e,t){if(1&e&&(o.Wb(0,"p"),o.Oc(1),o.Vb()),2&e){const e=o.lc().$implicit;o.Db(1),o.Pc(e.description)}}function Vs(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Wb(1,"tr",53),o.Wb(2,"td",30),o.Wb(3,"div",54),o.Oc(4),o.Vb(),o.Wb(5,"div",32),o.Mc(6,Ds,2,1,"ng-container",33),o.Mc(7,Is,2,1,"ng-template",null,55,o.Nc),o.Vb(),o.Wb(9,"div",56),o.Wb(10,"span",35),o.hc("click",function(){o.Fc(e);const a=t.$implicit;return o.lc(2).openSMS(a,"add")}),o.Oc(11),o.mc(12,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(13,"td",57),o.Wb(14,"div",58),o.Oc(15),o.mc(16,"number"),o.Vb(),o.Wb(17,"button",59),o.hc("click",function(){o.Fc(e);const a=t.$implicit;return o.lc(2).openSMS(a,"add")}),o.Oc(18),o.mc(19,"translate"),o.Vb(),o.Vb(),o.Wb(20,"td",60),o.Wb(21,"button",61),o.hc("click",function(){o.Fc(e);const a=t.$implicit;return o.lc(2).openSMS(a,"add")}),o.Oc(22),o.mc(23,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Tb()}if(2&e){const e=t.$implicit,a=o.Bc(8),i=o.lc(2);o.Db(4),o.Qc(" ",null!=e&&null!=e.contentful&&e.contentful.heading?null==e||null==e.contentful?null:e.contentful.heading:e.name," "),o.Db(2),o.tc("ngIf",0!==(null==e.contentful?null:e.contentful.length))("ngIfElse",a),o.Db(5),o.Qc("",o.nc(12,8,"services.buttons.button1")," \u2192"),o.Db(4),o.Rc("",i.currencyCode," ",o.oc(16,10,e.amount,"1.2-2"),""),o.Db(3),o.Qc(" ",o.nc(19,13,"commonSections.buttons.button35")," "),o.Db(4),o.Qc(" ",o.nc(23,15,"commonSections.buttons.button35")," ")}}function As(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"h2",49),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Wb(4,"div",50),o.Wb(5,"table",17),o.Wb(6,"tr",18),o.Wb(7,"td",19),o.Oc(8),o.mc(9,"translate"),o.Vb(),o.Wb(10,"td",51),o.Oc(11),o.mc(12,"translate"),o.Vb(),o.Rb(13,"td",52),o.Vb(),o.Mc(14,Vs,24,17,"ng-container",22),o.Vb(),o.Vb(),o.Tb()),2&e){const e=o.lc();o.Db(2),o.Pc(o.nc(3,6,"services.headerLabel.label2")),o.Db(6),o.Pc(o.nc(9,8,"services.headerLabel.label4")),o.Db(3),o.Rc("",o.nc(12,10,"services.headerLabel.label6")," (",e.currencyCode,")"),o.Db(3),o.tc("ngForOf",e.notSelectedService)("ngForTrackBy",e.trackByFn)}}function Os(e,t){1&e&&(o.Ub(0),o.Oc(1),o.mc(2,"translate"),o.Tb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"services.modalPopup.pageDetails.para9")," "))}function Ts(e,t){if(1&e&&(o.Ub(0),o.Mc(1,Os,3,3,"ng-container",5),o.Tb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",e.utilityService.strictCompare(null==e.serviceAction?null:e.serviceAction.service,e.VAYD_VASCODE))}}const Ls=function(e){return{serviceName:e}};function Ns(e,t){if(1&e&&(o.Ub(0),o.Ub(1),o.Oc(2),o.mc(3,"translate"),o.Tb(),o.Tb()),2&e){const e=o.lc(2);o.Db(2),o.Qc(" ",o.oc(3,1,"services.modalPopup.pageDetails.para12",o.xc(4,Ls,e.serviceName(null==e.serviceAction?null:e.serviceAction.service)))," ")}}function Ms(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div",62),o.Wb(1,"div",63),o.Wb(2,"button",64),o.hc("click",function(){return o.Fc(e),o.lc().gaForDeleteService("Close_icon")}),o.Rb(3,"img",65),o.Vb(),o.Vb(),o.Wb(4,"h2",66),o.Rb(5,"i",67),o.Oc(6),o.mc(7,"translate"),o.Vb(),o.Rb(8,"hr",68),o.Wb(9,"p",69),o.Mc(10,Ts,2,1,"ng-container",5),o.Mc(11,Ns,4,6,"ng-container",5),o.Vb(),o.Wb(12,"div",7),o.Wb(13,"div",70),o.Wb(14,"button",71),o.hc("click",function(){return o.Fc(e),o.lc().clearServices()}),o.Oc(15),o.mc(16,"translate"),o.Vb(),o.Vb(),o.Wb(17,"div",70),o.Wb(18,"button",72),o.hc("click",function(){return o.Fc(e),o.lc().deleteService()}),o.Oc(19),o.mc(20,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb()}if(2&e){const e=o.lc();o.Db(3),o.vc("src","",e.getGlobalImagePath,"/close-btn.png",o.Hc),o.Db(3),o.Qc(" ",o.nc(7,6,"commonSections.headerLabel.label3")," "),o.Db(4),o.tc("ngIf",e.utilityService.strictCompare(null==e.serviceAction?null:e.serviceAction.action,"ADD")),o.Db(1),o.tc("ngIf",e.utilityService.strictCompare(null==e.serviceAction?null:e.serviceAction.action,"REMOVE")),o.Db(4),o.Qc(" ",o.nc(16,8,"commonSections.buttons.button3")," "),o.Db(4),o.Qc(" ",o.nc(20,10,"commonSections.buttons.button19")," ")}}let Es=(()=>{class e extends nt.a{constructor(e){super(),this.dialog=e,this.constants=r.c,this.submitAttempt=!1,this.initBaseForm(r.c.modules.SERVICES),this.serviceList=[],this.VAYD_VASCODE=r.u,this.selectedService=[],this.notSelectedService=[],this.servicesInSession=[],this.allList=[],this.totalSelected="",this.allowedCaptcha=!1,this.currencyCode=this.sessionService.currencyCode||""}ngOnInit(){this.currentCaptcha=this.captchaVersionConst.default,this.captchaToken="",this.loadServices(),this.timeLeft=String(300),this.isPtFlow&&this.start()}checkCaptchaAllowed(){this.subs.sink=this.dataShareService.captchaAllowedRoutes.subscribe(e=>Object(l.b)(this,void 0,void 0,function*(){e?(this.allowedCaptcha=e.find(e=>r.c.api.applicant.includes(e.api_url)),this.allowedCaptcha&&this.sessionService.captchaMode===this.captchaVersionConst.alternate&&(this.currentCaptcha=this.captchaVersionConst.alternate)):this.allowedCaptcha=!1}))}start(){this.config={leftTime:this.timeLeft,format:"mm:ss",demand:!1},this.commonService.autoLogout(300)}updateTotalFees(){this.utilityService.updateTotalFees(Number(this.sessionService.feeAmount))}loadServices(){return Object(l.b)(this,void 0,void 0,function*(){try{const e=yield this.commonService.loadServices();if(e&&(null==e?void 0:e.length)>0){this.allList=e;const t=e.filter(e=>!0===e.isAvailableOnline&&!1===e.isMandatory||"VAYD"==e.name);this.utilityService.product_impression(t),this.serviceList=t,this.sessionService.setCurrencyCode=e[0].currency,this.currencyCode=e[0].currency,this.updateselectedAvailiable(t)}}catch(e){throw new Error(`${r.d.INVALID_REGISTRATION_RESPONSE}: ${e}`)}})}openSMS(e,t){this.utilityService.product_details(e),this.utilityService.product_click(e),this.utilityService.product_impression([e]);const a=this.dialog.open(ss,{data:{services:e,action:t},disableClose:!0,restoreFocus:!0});this.subs.sink=a.afterClosed().subscribe(a=>{if(this.updateselectedAvailiable(this.serviceList),a){if(this.utilityService.strictCompare(t,"add")){this.serviceAction={action:rs.d.ADD,service:null==e?void 0:e.code};const t=this.sessionService.getAppointmentDetails();this.utilityService.strictCompare(null==e?void 0:e.code,r.u)&&-1===r.t.indexOf(null==t?void 0:t.slotType)?this.openChangeAppointmentModal(e,rs.d.ADD):(this.updateselectedAvailiable(this.serviceList),this.utilityService.add_to_cart(e))}else this.serviceAction={action:rs.d.REMOVE,service:null==e?void 0:e.code};this.dataShareService.isServiceModified=!0}}),this.subs.sink=this.router.events.subscribe(()=>{a.close()})}openChangeAppointmentModal(e,t){var a;const i=null===(a=this.dialog)||void 0===a?void 0:a.open(this.changeAppointmentModal,{disableClose:!0,restoreFocus:!0});this.subs.sink=i.afterClosed().subscribe(a=>{this.utilityService.strictCompare(a,!0,!1)&&(this.utilityService.strictCompare(t,rs.d.REMOVE)&&(this.utilityService.strictCompare(e.timeslot,"timeslot")&&(this.sessionService.clearAppointmentDetail(),this.commonService.routeToBookAppointment()),this.updateselectedAvailiable(this.serviceList),this.utilityService.remove_to_cart(e),this.isServiceModified=!0),this.utilityService.strictCompare(t,rs.d.ADD)&&this.sessionService.setIsAddWalkinMode(!0),this.routePrevious())})}updateselectedAvailiable(e){try{const t=this.sessionService.applicantService,a=this.sessionService.getAppointmentDetails();if("VAYD"===(null==a?void 0:a.slotType)&&0===(null==t?void 0:t.filter(e=>e.code===r.u)).length){const a=null==e?void 0:e.filter(e=>e.code===r.u);if(a.length>0){const e=this.sessionService.applicationDetailValue.applicantList;a.forEach((t,a)=>{const i=e.map(e=>({arn:e.arn,vasId:t.id.toString(),vasCode:t.code}));t.modifiedList=i,t.total=t.amount,t.unit=null==e?void 0:e.length}),t.push(...a),this.sessionService.applicantService=t,this.X=t}}const i=[];if(null==t||t.map(e=>{var t;null===(t=null==e?void 0:e.complimentaryVAS)||void 0===t||t.forEach(e=>{i.push(e)})}),null==i||i.filter(e=>{const a=t.findIndex(t=>t.code===e.code);a>-1&&t.splice(a,1)}),this.servicesInSession=t,Array.isArray(t))for(const e of this.servicesInSession)e.totalPrice=Number(e.unit*e.amount);const o=e;if(!t||0===(null==t?void 0:t.length))return this.selectedService=[],this.notSelectedService=e,this.totalSelected="0",void this.updateTotalFees();const n=this.allList;this.selectedService=t.filter(e=>n.find(t=>e.id===t.id));const s=o.filter(e=>!i.find(({code:t})=>e.code===t));this.notSelectedService=s.filter(e=>!t.find(({id:t})=>e.id===t)),this.totalSelected=String(this.selectedService.reduce((e,t)=>e+this.utilityService.getNosOfUnit("unit",t.id)*t.amount,0)),this.updateTotalFees()}catch(t){console.log(t)}}removeSMS(e){const t=this.dialog.open(ls,{data:{service:e}});this.subs.sink=t.afterClosed().subscribe(t=>{this.updateselectedAvailiable(this.serviceList),t&&(this.utilityService.remove_to_cart(e),this.dataShareService.isServiceModified=!0)}),this.subs.sink=this.router.events.subscribe(()=>{t.close()})}saveAndContinue(){return Object(l.b)(this,void 0,void 0,function*(){try{this.utilityService.fireCustomEvent({dl_category:"VASPage",dl_action:"VASSelected",dl_label:"VASContinueClick",value:0}),this.saveAndContinueWithCaptcha()}catch(e){console.log(e)}})}get isVAYDServiceAdded(){try{return this.selectedService.some(e=>!0===e.isVAYD)}catch(e){throw e}}saveAndContinueWithCaptcha(){return Object(l.b)(this,void 0,void 0,function*(){try{if(this.submitAttempt=!0,this.allowedCaptcha&&!this.captchaToken&&this.captchaVersionConst.alternate===this.currentCaptcha)return;this.dataShareService.isServiceModified&&(this.sessionService.updateFees=!0);const e=this.sessionService.applicantService,t=yield this.modifyList(e);this.allowedCaptcha&&(t.captcha_version=this.currentCaptcha,t.api_captcha_mapvas=this.captchaToken);const a=yield this.httpService.payloadPost(r.c.api.mapVas,t).toPromise().then(e=>e).catch(e=>e);if(!a.urn)throw a;{this.sessionService.updateFees=!0,this.sessionService.completedModuleName=r.f.SERVICES,this.commonService.routeToPostLoginModule(r.q.REVIEW_AND_PAY);const e=this.sessionService.getSession("apt_dtls");let t=this.sessionService.getSession("application_services"),a=t.find(e=>1==e.isODMV);if("VAYD"==(null==e?void 0:e.slotType))return void this.commonService.routeToPostLoginModule(r.q.VAYD_ADDRESS);if(t.length>=1&&!0===a.isODMV)return void this.commonService.routeToPostLoginModule(r.q.VAYD_ADDRESS);this.appConfiguration=this.sessionService.applicationConfiguration;const i=this.selectedService.filter(e=>!0===e.isCourierService);(null==i?void 0:i.length)>0?this.commonService.routeToPostLoginModule(r.q.COURIER_ADDRESS):this.routeNext()}}catch(e){if(this.logger.error(e),!this.allowedCaptcha)return;if(c.a.captchaFallbackEnabled)this.currentCaptcha=this.captchaVersionConst.alternate,this.captchaToken="",this.utilityService.resetCaptcha();else{const e=yield this.captchaContainer.generateToken();this.captchaToken=e}}})}modifyList(e){return new Promise(t=>{let a;a=e&&0!==e.length?e.reduce((e,t)=>[...e,...t.modifiedList],[]):[];const i=this.sessionService.applicationDetailValue.applicantList,o={};o.loginuser=this.sessionService.getLoggedEmail(),o.missioncode=this.sessionService.tenent,o.countrycode=this.sessionService.countryCode,o.urn=i[0].urn,o.applicants=0!==a.length?a:[],t(o)})}serviceName(e){var t;return null===(t=this.serviceList.filter(t=>this.utilityService.strictCompare(t.code,e))[0])||void 0===t?void 0:t.name}submitV2Captcha(e){this.captchaToken=e,this.currentCaptcha=this.captchaVersionConst.alternate}checkIfDisabled(){return!0===this.sessionService.applicationConfiguration.isAtleastVASMandatory&&!(this.sessionService.applicantService.length>0)}gaForDeleteService(e){this.utilityService.GAForDeleteServicePage({action:e,label:this.selectedServiceTemp.name})}deleteService(){return Object(l.b)(this,void 0,void 0,function*(){let e=this.sessionService.applicantService;e&&e.length>0&&this.selectedService.forEach(t=>{t.code==r.u&&(e=[],this.sessionService.applicantService=e,this.commonService.routeToBookAppointment())})})}clearServices(){let e=this.sessionService.applicantService;e&&e.length>0&&this.selectedService.forEach(t=>{if("VAYD"==t.code){e=[],this.selectedService=e,this.sessionService.applicantService=e;const t=this.allList.filter(e=>!0===e.isAvailableOnline&&!1===e.isMandatory||"VAYD"==e.name);this.notSelectedService=t}})}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(La.b))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-manage-service"]],viewQuery:function(e,t){if(1&e&&(o.Uc(cs,1),o.Uc(ds,1),o.Uc(us,1,o.l)),2&e){let e;o.Ac(e=o.ic())&&(t.captchaContainer=e.first),o.Ac(e=o.ic())&&(t.changeAppointmentModal=e.first),o.Ac(e=o.ic())&&(t.radiobutton=e.first)}},features:[o.Ab],decls:23,vars:16,consts:[[1,"container","py-15","py-md-30"],["class","form-card text-right timer-css border-0 mb-5",4,"ngIf"],[1,"form-card"],[1,"fs-24","fs-sm-32","fs-md-42","mb-20"],[1,"c-brand-grey-para","mb-40"],[4,"ngIf"],[1,"form-card","p-0","border-0","shadow-none","mat-card"],[1,"row"],[1,"col-12","col-sm-6","mt-20"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange",3,"click"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],["viewChangeAppointmentModal",""],[1,"form-card","text-right","timer-css","border-0","mb-5"],[3,"config"],["cd",""],[1,"fs-18","fs-sm-24","mb-20"],[1,"card","border-bottom-0"],[1,"w-100"],[1,"bg-brand-footer","c-brand-grey-para","border-bottom-1"],[1,"pl-15","py-15"],[1,"d-none","d-lg-inline-block"],[1,"pr-15"],[4,"ngFor","ngForOf","ngForTrackBy"],["colspan","5"],[1,"card","mx-n2","mb-n3","border-top-0","border-bottom-2",2,"height","8px"],[1,"service-bottom-row"],[1,"pl-15","pt-25","pb-15"],[1,"ff-700","fs-sm-20"],[1,"ff-500","c-brand-green"],[1,"border-top-1"],[1,"align-top","py-25","pl-15"],[1,"ff-700","mt-7","fs-sm-18","mb-15"],[1,"c-brand-grey-para","fs-16","text-box-ellipsis"],[4,"ngIf","ngIfElse"],["nocontentfulDesc",""],[1,"fs-sm-18","c-brand-orange","text-decoration-underline","cursor-pointer",3,"click"],[1,"align-top","pt-25","ff-500"],[1,"mt-7"],[1,"align-top","pt-25","ff-500","c-brand-green"],[1,"mt-7","d-none","d-lg-inline-block"],[1,"mt-7","min-w-85"],[3,"richData"],[1,"align-top","pt-25","pr-15"],[1,"fa","fa-trash-o","c-brand-blue-light","fs-24","cursor-pointer",3,"click"],["class","border-top-1 disabled-6",4,"ngFor","ngForOf"],[1,"border-top-1","disabled-6"],[1,"fs-sm-18","c-brand-orange","text-decoration-underline"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-green-light","cursor-default"],[1,"fa","fa-check"],[1,"fs-18","fs-sm-24","mt-40","mb-20"],[1,"card"],[1,"text-center","pr-15","pr-sm-0"],[1,"pr-15","d-none","d-sm-table-cell"],[1,"border-bottom-1"],[1,"ff-700","fs-sm-18","mt-7","mb-15"],["notnocontentfulDesc",""],[1,"mb-3"],[1,"align-top","py-25","ff-500","position-relative"],[1,"mt-7","min-w-100","text-center","c-brand-green"],["mat-stroked-button","",1,"btn","btn-outline-brand-orange","d-sm-none","position-absolute","bottom-20",2,"transform","translateX(-50%)","left","50%",3,"click"],[1,"align-top","py-25","pr-15","text-center","d-none","d-sm-table-cell"],["mat-stroked-button","",1,"btn","btn-outline-brand-orange",3,"click"],[1,"mat-modal-delete-document"],[1,"position-absolute","top-10","right-10"],["matDialogClose","false",1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","","aria-label","Close",1,"cursor-pointer",3,"src"],[1,"fs-18","fs-sm-21","mb-10"],[1,"fa","fa-exclamation-triangle","mr-5"],[1,"my-20"],[1,"fs-sm-17","c-brand-grey-para","mb-30"],[1,"col-12","col-sm-6","col-sm"],["mat-stroked-button","","matDialogClose","false",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mb-10","mb-sm-0",3,"click"],["mat-stroked-button","","matDialogClose","true",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","mb-10","mb-sm-0",3,"click"]],template:function(e,t){1&e&&(o.Wb(0,"section",0),o.Mc(1,ms,5,4,"div",1),o.Wb(2,"mat-card",2),o.Wb(3,"h1",3),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Wb(6,"p",4),o.Oc(7),o.mc(8,"translate"),o.Vb(),o.Mc(9,Cs,37,27,"ng-container",5),o.Mc(10,As,15,12,"ng-container",5),o.Vb(),o.Wb(11,"mat-card",6),o.Wb(12,"div",7),o.Wb(13,"div",8),o.Wb(14,"button",9),o.hc("click",function(){return t.routePrevious()}),o.Oc(15),o.mc(16,"translate"),o.Vb(),o.Vb(),o.Wb(17,"div",8),o.Wb(18,"button",10),o.hc("click",function(){return t.saveAndContinue()}),o.Oc(19),o.mc(20,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Mc(21,Ms,21,12,"ng-template",null,11,o.Nc)),2&e&&(o.Db(1),o.tc("ngIf",t.isPtFlow),o.Db(3),o.Pc(o.nc(5,8,"services.headerLabel.label1")),o.Db(3),o.Pc(o.nc(8,10,"services.pageDetails.para1")),o.Db(2),o.tc("ngIf",t.selectedService.length>0),o.Db(1),o.tc("ngIf",t.notSelectedService.length>0),o.Db(5),o.Qc(" ",o.nc(16,12,"commonSections.buttons.button8")," "),o.Db(3),o.tc("disabled",t.checkIfDisabled()),o.Db(1),o.Qc(" ",o.nc(20,14,"commonSections.buttons.button19")," "))},directives:[m.o,u.a,h.a,Ri.a,m.n,Jn,La.d],pipes:[p.d,m.f],encapsulation:2}),e})(),Ws=(()=>{class e extends d.a{constructor(e){super(),this.dialogRef=e}close(){this.dialogRef.close(!0)}logout(){this.commonService.logoutAndRouteToLogin()}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(La.h))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-warning-login-modal"]],features:[o.Ab],decls:17,vars:10,consts:[[1,"mat-modal-delete-document"],[1,"position-absolute","top-10","right-10"],[1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"fs-18","fs-sm-21","mb-10"],[1,"fa","fa-exclamation-triangle","mr-5"],[1,"my-20"],[1,"fs-sm-17","c-brand-grey-para","mb-30"],[1,"row"],[1,"col-12","col-sm"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mb-10","mb-sm-0",3,"click"]],template:function(e,t){1&e&&(o.Wb(0,"div",0),o.Wb(1,"div",1),o.Wb(2,"button",2),o.hc("click",function(){return t.close()}),o.Rb(3,"img",3),o.Vb(),o.Vb(),o.Wb(4,"h4",4),o.Rb(5,"i",5),o.Oc(6),o.mc(7,"translate"),o.Vb(),o.Rb(8,"hr",6),o.Wb(9,"p",7),o.Oc(10),o.mc(11,"translate"),o.Vb(),o.Wb(12,"div",8),o.Wb(13,"div",9),o.Wb(14,"button",10),o.hc("click",function(){return t.close()})("click",function(){return t.close()}),o.Oc(15),o.mc(16,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e&&(o.Db(3),o.vc("src","",t.getGlobalImagePath,"/close-btn.png",o.Hc),o.Db(3),o.Qc(" ",o.nc(7,4,"commonSections.headerLabel.label3")," "),o.Db(4),o.Pc(o.nc(11,6,"commonSections.messages.errorMessages.message19")),o.Db(5),o.Qc(" ",o.nc(16,8,"commonSections.buttons.button24")," "))},directives:[h.a],pipes:[p.d],encapsulation:2}),e})();var Ps=a("+lv+");let ks=(()=>{class e extends d.a{constructor(e,t,a,i){super(),this.dialog=e,this.dialogRef=t,this.idle=a,this.changeRef=i}close(){this.dialogRef.close(),this.commonService.logoutAndRouteToLogin()}ngOnDestroy(){this.close()}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(La.b),o.Qb(La.h),o.Qb(Ps.b),o.Qb(o.h))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-session-timeout"]],features:[o.Ab],decls:17,vars:10,consts:[[1,"mat-modal-delete-document"],[1,"position-absolute","top-10","right-10"],[1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"fs-18","fs-sm-21","mb-10"],[1,"fa","fa-exclamation-triangle","mr-10"],[1,"my-20"],[1,"fs-sm-17","c-brand-grey-para","mb-30"],[1,"row"],[1,"col-12","col-sm"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mb-10","mb-sm-0",3,"click"]],template:function(e,t){1&e&&(o.Wb(0,"div",0),o.Wb(1,"div",1),o.Wb(2,"button",2),o.hc("click",function(){return t.close()}),o.Rb(3,"img",3),o.Vb(),o.Vb(),o.Wb(4,"h4",4),o.Rb(5,"i",5),o.Oc(6),o.mc(7,"translate"),o.Vb(),o.Rb(8,"hr",6),o.Wb(9,"p",7),o.Oc(10),o.mc(11,"translate"),o.Vb(),o.Wb(12,"div",8),o.Wb(13,"div",9),o.Wb(14,"button",10),o.hc("click",function(){return t.close()}),o.Oc(15),o.mc(16,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e&&(o.Db(3),o.vc("src","",t.getGlobalImagePath,"/close-btn.png",o.Hc),o.Db(3),o.Qc(" ",o.nc(7,4,"commonSections.headerLabel.label3")," "),o.Db(4),o.Pc(o.nc(11,6,"commonSections.messages.errorMessages.message20")),o.Db(5),o.Qc(" ",o.nc(16,8,"commonSections.buttons.button24")," "))},directives:[h.a],pipes:[p.d],encapsulation:2}),e})();function ws(e,t){1&e&&(o.Wb(0,"div",17),o.Oc(1,"Please Select Your Country"),o.Vb())}function Fs(e,t){if(1&e&&(o.Wb(0,"div",15),o.Mc(1,ws,2,0,"div",16),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",e.loginF.username.errors.required)}}function _s(e,t){if(1&e&&(o.Wb(0,"mat-option",18),o.Oc(1),o.Vb()),2&e){const e=t.$implicit;o.tc("value",e.isoCode),o.Db(1),o.Qc(" ",e.missionName," ")}}function xs(e,t){1&e&&(o.Wb(0,"div",17),o.Oc(1,"Please Select Country"),o.Vb())}function Gs(e,t){if(1&e&&(o.Wb(0,"div",15),o.Mc(1,xs,2,0,"div",16),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",e.loginF.password.errors.required)}}function Rs(e,t){if(1&e&&(o.Wb(0,"mat-option",18),o.Oc(1),o.Vb()),2&e){const e=t.$implicit;o.tc("value",e.isoCode),o.Db(1),o.Qc(" ",e.countryName," ")}}const Us=function(e){return{"form-error":e}};let Bs=(()=>{class e extends d.a{constructor(e,t){super(),this.formBuilder=e,this.translate=t,this.initLoginForm(),this.utilityService.setTitle("Welcome to VFS Global"),this.loadMissions(),this.countryList=[],this.missionList=[]}loadMissions(){return Object(l.b)(this,void 0,void 0,function*(){const e=yield this.httpService.doGet("/master/mission").toPromise();e&&(this.missionList=e)})}missionSelect(e){return Object(l.b)(this,void 0,void 0,function*(){const t=`/master/country/${e}`,a=yield this.httpService.doGet(t).toPromise();a&&(this.countryList=a)})}initLoginForm(){this.loginForm=this.formBuilder.group({username:[null,[n.x.required]],password:[null,n.x.required]})}get loginF(){return this.loginForm.controls}onSubmit(){return Object(l.b)(this,void 0,void 0,function*(){try{if(this.loginForm.invalid)return;const e=this.loginForm.value.username.toLowerCase(),t=this.loginForm.value.password.toLowerCase();this.sessionService.appLanguageCode="en",this.sessionService.appCultureCode="en-US",this.sessionService.tenent=t,this.sessionService.countryCode=e,this.translate.use("en"),this.router.navigateByUrl(`${e}/en/${t}`)}catch(e){console.log(`NAVIGATE_FAILED: ${e}`)}})}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(n.e),o.Qb(p.e))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-country-mission-selector"]],features:[o.Ab],decls:29,vars:19,consts:[[1,"container","py-15","py-md-30"],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-9","col-lg-7","col-xl-6"],[1,"form-card","px-md-50","py-md-40"],[1,"fs-21","fs-sm-24","mb-10"],[1,"c-brand-grey-para","fs-sm-18","mb-25"],[3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["placeholder","Select Your Country","formControlName","username",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"c-brand-error"],["placeholder","Select Country","formControlName","password"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[3,"value"]],template:function(e,t){1&e&&(o.Wb(0,"section",0),o.Wb(1,"div",1),o.Wb(2,"div",2),o.Wb(3,"mat-card",3),o.Wb(4,"h1",4),o.Oc(5,"Country selector"),o.Vb(),o.Wb(6,"p",5),o.Oc(7,"Please confirm your travel details"),o.Vb(),o.Wb(8,"form",6),o.hc("ngSubmit",function(){return t.onSubmit()}),o.Wb(9,"div",7),o.Wb(10,"div"),o.Oc(11,"I am a resident of"),o.Vb(),o.Mc(12,Fs,2,1,"div",8),o.Wb(13,"mat-form-field",9),o.Wb(14,"mat-select",10),o.hc("selectionChange",function(e){return t.missionSelect(e.value)}),o.Mc(15,_s,2,2,"mat-option",11),o.mc(16,"sortBy"),o.Vb(),o.Vb(),o.Vb(),o.Wb(17,"div",7),o.Wb(18,"div"),o.Oc(19,"Going to"),o.Wb(20,"span",12),o.Oc(21,"*"),o.Vb(),o.Vb(),o.Mc(22,Gs,2,1,"div",8),o.Wb(23,"mat-form-field",9),o.Wb(24,"mat-select",13),o.Mc(25,Rs,2,2,"mat-option",11),o.mc(26,"sortBy"),o.Vb(),o.Vb(),o.Vb(),o.Wb(27,"button",14),o.Oc(28,"Confirm"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e&&(o.Db(8),o.tc("formGroup",t.loginForm),o.Db(1),o.tc("ngClass",o.xc(15,Us,t.loginF.username.touched&&t.loginF.username.invalid)),o.Db(3),o.tc("ngIf",t.loginF.username.touched&&t.loginF.username.errors),o.Db(3),o.tc("ngForOf",o.oc(16,9,t.missionList,"missionName"))("ngForTrackBy",t.trackByFn),o.Db(2),o.tc("ngClass",o.xc(17,Us,t.loginF.password.touched&&t.loginF.password.invalid)),o.Db(5),o.tc("ngIf",t.loginF.password.touched&&t.loginF.password.errors),o.Db(3),o.tc("ngForOf",o.oc(26,12,t.countryList,"countryName"))("ngForTrackBy",t.trackByFn))},directives:[u.a,n.y,n.r,n.j,m.m,m.o,b.b,dt.a,n.q,n.h,m.n,h.a,bt.j],pipes:[gt.h],encapsulation:2}),e})();function js(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div",12),o.Wb(1,"a",13),o.hc("click",function(){return o.Fc(e),o.lc(2).routeToSignIn()}),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()}2&e&&(o.Db(2),o.Pc(o.nc(3,1,"commonSections.buttons.button6")))}function Ys(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"div",8),o.Wb(2,"div",9),o.Rb(3,"i",10),o.Wb(4,"div"),o.Oc(5),o.Vb(),o.Vb(),o.Vb(),o.Mc(6,js,4,3,"div",11),o.Tb()),2&e){const e=o.lc();o.Db(5),o.Pc(e.message),o.Db(1),o.tc("ngIf",e.successComp)}}function Qs(e,t){1&e&&(o.Wb(0,"div",25),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Pc(o.nc(2,1,"commonSections.messages.requiredMessages.message1")))}function $s(e,t){1&e&&(o.Wb(0,"div",25),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Pc(o.nc(2,1,"resetpassword.messages.message1")))}function qs(e,t){if(1&e&&(o.Wb(0,"div",23),o.Mc(1,Qs,3,3,"div",24),o.Mc(2,$s,3,3,"div",24),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",e.forgotF.password.errors.required),o.Db(1),o.tc("ngIf",e.forgotF.password.errors.pattern)}}function Hs(e,t){1&e&&(o.Wb(0,"div",25),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Pc(o.nc(2,1,"commonSections.messages.requiredMessages.message1")))}function Ks(e,t){1&e&&(o.Wb(0,"div",25),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Pc(o.nc(2,1,"commonSections.messages.misMatch.message1")))}function zs(e,t){if(1&e&&(o.Wb(0,"div",23),o.Mc(1,Hs,3,3,"div",24),o.Mc(2,Ks,3,3,"div",24),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",e.forgotF.confirmPassword.errors.required),o.Db(1),o.tc("ngIf",e.forgotF.confirmPassword.errors.passwordMismatch)}}const Zs=function(e){return{"form-error":e}};function Js(e,t){if(1&e){const e=o.Xb();o.Wb(0,"form",14),o.hc("ngSubmit",function(){return o.Fc(e),o.lc().onSubmit()}),o.Wb(1,"div",15),o.Wb(2,"div"),o.Oc(3),o.mc(4,"translate"),o.Wb(5,"span",16),o.Oc(6,"*"),o.Vb(),o.Vb(),o.Mc(7,qs,3,2,"div",17),o.Wb(8,"mat-form-field",18),o.Rb(9,"input",19),o.Wb(10,"i",20),o.hc("keypress",function(){o.Fc(e);const t=o.lc();return t.passwordToogle=!t.passwordToogle})("mouseenter",function(){return o.Fc(e),o.lc().passwordToogle=!0})("mouseleave",function(){return o.Fc(e),o.lc().passwordToogle=!1})("click",function(){return o.Fc(e),o.lc().passwordToogle=!0}),o.Vb(),o.Vb(),o.Vb(),o.Wb(11,"div",15),o.Wb(12,"div"),o.Oc(13),o.mc(14,"translate"),o.Wb(15,"span",16),o.Oc(16,"*"),o.Vb(),o.Vb(),o.Mc(17,zs,3,2,"div",17),o.Wb(18,"mat-form-field",18),o.Rb(19,"input",21),o.Wb(20,"i",20),o.hc("keypress",function(){o.Fc(e);const t=o.lc();return t.confirmPasswordToggle=!t.confirmPasswordToggle})("mouseenter",function(){return o.Fc(e),o.lc().confirmPasswordToggle=!0})("mouseleave",function(){return o.Fc(e),o.lc().confirmPasswordToggle=!1})("click",function(){return o.Fc(e),o.lc().confirmPasswordToggle=!0}),o.Vb(),o.Vb(),o.Vb(),o.Wb(21,"button",22),o.Oc(22),o.mc(23,"translate"),o.Vb(),o.Wb(24,"div",12),o.Wb(25,"a",13),o.hc("click",function(){return o.Fc(e),o.lc().routeToSignUp()}),o.Oc(26),o.mc(27,"translate"),o.Vb(),o.Vb(),o.Vb()}if(2&e){const e=o.lc();o.tc("formGroup",e.forgotPasswordForm),o.Db(1),o.tc("ngClass",o.xc(21,Zs,e.forgotF.password.touched&&e.forgotF.password.invalid)),o.Db(2),o.Pc(o.nc(4,13,"resetpassword.formLabel.label1")),o.Db(4),o.tc("ngIf",e.forgotF.password.touched&&e.forgotF.password.errors),o.Db(2),o.tc("type",e.passwordToogle?"text":"password"),o.Db(1),o.tc("ngClass",e.passwordToogle?"fa fa-eye-slash":"fa fa-eye"),o.Db(1),o.tc("ngClass",o.xc(23,Zs,e.forgotF.confirmPassword.touched&&e.forgotF.confirmPassword.invalid)),o.Db(2),o.Pc(o.nc(14,15,"resetpassword.formLabel.label2")),o.Db(4),o.tc("ngIf",e.forgotF.confirmPassword.touched&&e.forgotF.confirmPassword.errors),o.Db(2),o.tc("type",e.confirmPasswordToggle?"text":"password"),o.Db(1),o.tc("ngClass",e.confirmPasswordToggle?"fa fa-eye-slash":"fa fa-eye"),o.Db(2),o.Pc(o.nc(23,17,"resetpassword.buttons.button1")),o.Db(4),o.Pc(o.nc(27,19,"commonSections.buttons.button7"))}}let Xs=(()=>{class e extends d.a{constructor(e,t){super(),this.formBuilder=e,this.activatedRoute=t,this.intitForgotForm(),this.message="",this.confirmPasswordToggle=!1,this.passwordToogle=!1,this.successComp=!1}intitForgotForm(){const e=this.activatedRoute.queryParams;e._value.q||this.commonService.routeToLogin(),this.forgotPasswordForm=this.formBuilder.group({password:["",[n.x.pattern(r.z),n.x.required]],confirmPassword:["",n.x.required],missioncode:[this.sessionService.tenent,n.x.required],countrycode:[this.sessionService.countryCode,n.x.required],token:e._value.q},{validator:this.utilityService.MatchPassword("password","confirmPassword")})}get forgotF(){var e;return null===(e=this.forgotPasswordForm)||void 0===e?void 0:e.controls}onSubmit(){var e,t,a;return Object(l.b)(this,void 0,void 0,function*(){try{if(this.forgotPasswordForm.invalid)return;const i=yield this.httpService.payloadWithoutTokenPost(r.c.api.resetPassword,this.forgotPasswordForm.value).toPromise();i&&(this.successComp="508"!==(null===(e=null==i?void 0:i.error)||void 0===e?void 0:e.code),this.message=(null===(t=null==i?void 0:i.error)||void 0===t?void 0:t.description)||(null==i?void 0:i.message)||this.commonService.translateValue("commonSections.messages.statusMessages."+(null===(a=null==i?void 0:i.error)||void 0===a?void 0:a.code)))}catch(i){console.log(`${r.d.INVALID_RESPONSE}: ${i}`)}})}routeToSignUp(){this.commonService.routeToOnBoarding()}routeToSignIn(){this.commonService.routeToLogin()}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(n.e),o.Qb(s.a))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-resetpassword"]],features:[o.Ab],decls:10,vars:5,consts:[[1,"container","py-15","py-md-30"],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-9","col-lg-7","col-xl-6"],[1,"form-card","px-md-50","py-md-40"],[1,"d-none","d-block"],[1,"fs-21","fs-sm-24","mb-10"],[4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"border-info",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-check-circle-o","fs-24","position-absolute","left-15","top-18","mb-0"],["class","fs-sm-18 mt-20",4,"ngIf"],[1,"fs-sm-18","mt-20"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer",3,"click"],[3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],[1,"c-brand-error"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["matInput","","formControlName","password","placeholder","**********","autocomplete","off",3,"type"],["tabindex","0",1,"cursor-pointer","icon-toggle","position-absolute","right-0",3,"ngClass","keypress","mouseenter","mouseleave","click"],["matInput","","formControlName","confirmPassword","placeholder","**********","autocomplete","off",3,"type"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"]],template:function(e,t){1&e&&(o.Wb(0,"section",0),o.Wb(1,"div",1),o.Wb(2,"div",2),o.Wb(3,"mat-card",3),o.Wb(4,"div",4),o.Wb(5,"h1",5),o.Oc(6),o.mc(7,"translate"),o.Vb(),o.Mc(8,Ys,7,2,"ng-container",6),o.Mc(9,Js,28,25,"form",7),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e&&(o.Db(6),o.Pc(o.nc(7,3,"resetpassword.headerLabel.label1")),o.Db(2),o.tc("ngIf",t.message),o.Db(1),o.tc("ngIf",!t.successComp))},directives:[u.a,m.o,n.y,n.r,n.j,m.m,b.b,g.b,n.d,n.q,n.h,h.a],pipes:[p.d],encapsulation:2}),e})();var el=a("z6cu");let tl=(()=>{class e extends d.a{constructor(){super(),this.loginComponent=this.commonService.constructURLBeforeLogin(r.q.LOGIN)}ngOnInit(){try{if(this.sessionService.getJWT()){const e={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,username:this.sessionService.getLoggedEmail()};this.httpService.payloadPost(r.c.api.logout,e).toPromise().catch(e=>Object(el.a)(e)).then(e=>e)}this.sessionService.clearSession()}catch(e){console.log(e)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Kb({type:e,selectors:[["app-not-found"]],features:[o.Ab],decls:10,vars:10,consts:[[1,"container","py-15","py-sm-60"],[1,"fs-24","fs-sm-46","mb-15"],[1,"c-brand-grey-para","mb-30","fs-sm-20"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer",3,"href"]],template:function(e,t){1&e&&(o.Wb(0,"div",0),o.Wb(1,"h1",1),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Wb(4,"p",2),o.Oc(5),o.mc(6,"translate"),o.Vb(),o.Wb(7,"a",3),o.Oc(8),o.mc(9,"translate"),o.Vb(),o.Vb()),2&e&&(o.Db(2),o.Pc(o.nc(3,4,"notFound.pageTitle")),o.Db(3),o.Pc(o.nc(6,6,"notFound.label1")),o.Db(2),o.uc("href",t.loginComponent,o.Hc),o.Db(1),o.Pc(o.nc(9,8,"notFound.label2")))},pipes:[p.d],encapsulation:2}),e})();function al(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"div",6),o.Wb(2,"div",7),o.Rb(3,"i",8),o.Wb(4,"div"),o.Oc(5),o.Vb(),o.Vb(),o.Vb(),o.Tb()),2&e){const e=o.lc();o.Db(5),o.Pc(e.message)}}function il(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"h5",9),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Tb()),2&e){const e=o.lc();o.Db(2),o.Rc(" ",o.nc(3,2,"applicantInformation.pageDetails.para1")," ",e.isEditModeFlag?e.editApplicantIndex+1:(null==e.applicationDetails||null==e.applicationDetails.applicantList?null:e.applicationDetails.applicantList.length)+1," ")}}function ol(e,t){if(1&e&&(o.Wb(0,"h5",10),o.Oc(1),o.Vb()),2&e){const e=o.lc();o.Db(1),o.Qc(" ",e.firstLastName(e.editApplicantIndex)," ")}}function nl(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div",12),o.Wb(1,"div",13),o.Wb(2,"div",14),o.Wb(3,"div",15),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Wb(6,"div",16),o.Oc(7),o.Vb(),o.Vb(),o.Wb(8,"div",17),o.Wb(9,"button",18),o.hc("click",function(){o.Fc(e);const a=t.index;return o.lc(2).editPostalInfo(a)}),o.Oc(10),o.mc(11,"translate"),o.mc(12,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb()}if(2&e){const e=t.$implicit,a=t.index;o.Db(4),o.Rc("",o.nc(5,5,"applicantInformation.pageDetails.para1")," ",a+1,""),o.Db(3),o.Rc("",null==e?null:e.firstName," ",null==e?null:e.lastName,""),o.Db(3),o.Qc(" ",(null==e||null==e.postalList?null:e.postalList.length)>0?o.nc(11,7,"postalInformation.buttons.button2"):o.nc(12,9,"postalInformation.buttons.button1")," ")}}function sl(e,t){if(1&e&&(o.Ub(0),o.Mc(1,nl,13,11,"div",11),o.Tb()),2&e){const e=o.lc();o.Db(1),o.tc("ngForOf",null==e.applicationDetails?null:e.applicationDetails.applicantList)("ngForTrackBy",e.trackByFn)}}function ll(e,t){if(1&e){const e=o.Xb();o.Wb(0,"mat-checkbox",25),o.hc("ngModelChange",function(t){o.Fc(e);const a=o.lc(3);return a.applicationDetails.applicantList[a.editApplicantIndex].isSamePostalInfo=t})("ngModelChange",function(t){return o.Fc(e),o.lc(3).onIsSamePostalInfoSelection(t)}),o.Wb(1,"span",26),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()}if(2&e){const e=o.lc(3);o.tc("ngModel",e.applicationDetails.applicantList[e.editApplicantIndex].isSamePostalInfo),o.Db(2),o.Rc("",o.nc(3,3,"postalInformation.formLabel.label7")," ",e.firstLastName(0),"")}}function rl(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"h2",21),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Wb(4,"div",22),o.Wb(5,"div",23),o.Mc(6,ll,4,5,"mat-checkbox",24),o.Vb(),o.Vb(),o.Tb()),2&e){const e=o.lc(2);o.Db(2),o.Rc(" ",o.nc(3,3,"applicantInformation.pageDetails.para1")," ",e.isEditModeFlag?e.editApplicantIndex+1:(null==e.applicationDetails||null==e.applicationDetails.applicantList?null:e.applicationDetails.applicantList.length)+1," "),o.Db(4),o.tc("ngIf",e.applicationDetails.applicantList)}}function cl(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Mc(1,rl,7,5,"ng-container",3),o.Wb(2,"form",19),o.Wb(3,"app-dynamic-form",20),o.hc("formGroupCopy",function(t){return o.Fc(e),o.lc().postPageLoadActivities(t,!0)}),o.Vb(),o.Vb(),o.Tb()}if(2&e){const e=o.lc();o.Db(1),o.tc("ngIf",e.viewIsSamePostalInfoFlag),o.Db(1),o.tc("formGroup",e.currentFormGroup),o.Db(1),o.tc("scope",e.scope)("schema",e.currentModule)}}function dl(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"mat-card",27),o.Rb(2,"app-dynamic-form",28),o.Vb(),o.Tb()),2&e){const e=o.lc();o.Db(2),o.tc("scope",e.scope)("schema",e.currentModuleButtons)}}function ul(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Wb(1,"mat-card",27),o.Wb(2,"div",29),o.Wb(3,"div",30),o.Wb(4,"button",31),o.hc("click",function(){return o.Fc(e),o.lc().goBack()}),o.Oc(5),o.mc(6,"translate"),o.Vb(),o.Vb(),o.Wb(7,"div",30),o.Wb(8,"button",18),o.hc("click",function(){return o.Fc(e),o.lc().continue()}),o.Oc(9),o.mc(10,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Tb()}2&e&&(o.Db(5),o.Qc(" ",o.nc(6,2,"commonSections.buttons.button8")," "),o.Db(4),o.Qc(" ",o.nc(10,4,"commonSections.buttons.button19")," "))}let ml=(()=>{class e extends nt.a{constructor(e){super(),this.dialog=e,this.scope=this,this.viewApplicantsListFlag=!1,this.isEditModeFlag=!1,this.initBaseForm(r.c.modules.POSTAL_INFORMATION),this.isEditingFromSamePage=!1,this.message="",this.applicationDetails={},this.editApplicantIndex=0,this.config={},this.currentPageEditFlag=!1}ngOnInit(){this.config=this.sessionService.applicationConfiguration,this.applicationDetails=this.sessionService.applicationDetailValue,this.setEditModeFlag(this.checkIsEditMode()),this.applicationDetails.applicantList.length>0&&!this.dataShareService.editYourDetail&&this.setViewApplicantsList(!0),this.registerOnPageLoadCompleteListener()}firstLastName(e){var t,a,i,o,n,s,l,r;return(null===(a=null===(t=this.applicationDetails)||void 0===t?void 0:t.applicantList[e])||void 0===a?void 0:a.lastName)?(null===(o=null===(i=this.applicationDetails)||void 0===i?void 0:i.applicantList[e])||void 0===o?void 0:o.firstName)+(null===(s=null===(n=this.applicationDetails)||void 0===n?void 0:n.applicantList[e])||void 0===s?void 0:s.lastName):null===(r=null===(l=this.applicationDetails)||void 0===l?void 0:l.applicantList[e])||void 0===r?void 0:r.firstName}ngAfterViewChecked(){this.utilityService.translationTitleService("postalInformation.pageTitle")}registerOnPageLoadCompleteListener(){try{this.subs.sink=this.dataShareService.pageLoadComplete$.subscribe(e=>{null==this.sessionService.editApplicantDetailsIdx||this.isEditingFromSamePage||(this.editApplicantIndex=this.sessionService.editApplicantDetailsIdx),this.isEditModeFlag&&this.updateFormForEdit(),e&&this.onEditMode()})}catch(e){console.log(e)}}get isEditingFromSamePage(){return this.currentPageEditFlag}set isEditingFromSamePage(e){this.currentPageEditFlag=e}checkIsEditMode(){try{return null!=this.sessionService.editApplicantDetailsIdx}catch(e){return console.log(e),!1}}onEditMode(){try{const e=this.sessionService.editApplicantDetailsIdx,t=this.sessionService.applicationDetailValue;null!=e&&t&&t.applicantList.length>e&&this.editPostalInfo(e)}catch(e){console.log(e)}}saveAndContinue(e,t){return Object(l.b)(this,void 0,void 0,function*(){try{if(!this.currentFormGroup||!this.currentFormGroup.valid)return this.commonService.touchAllFields(this.currentFormGroup),void document.querySelector(".form-error").scrollIntoView({behavior:"smooth",block:"center"});this.submitCaptcha("save")}catch(e){console.log(e)}})}submitCaptcha(e){"save"===e?this.savePostal():this.updatePostals()}savePostal(){var e,t,a;return Object(l.b)(this,void 0,void 0,function*(){try{const i=this.currentFormGroup.value;this.utilityService.startNgxUiSpinner();const o=yield this.savePostalToDB(i);if(!o.hasOwnProperty("error")||null!==o.error){if(o.hasOwnProperty("error")&&o.error.code){const e=o.error.description;this.utilityService.stopNgxUiSpinner(),this.showErrorMsgPopup(e,o.error.code)}throw new Error(o.error.description)}null===(a=null===(t=null===(e=this.applicationDetails)||void 0===e?void 0:e.applicantList[this.editApplicantIndex])||void 0===t?void 0:t.postalList)||void 0===a||a.push(i),this.copyAddressToApplicant(i),this.updateApplicationDetailsToSession(this.applicationDetails),yield this.viewApplicationSummary(),this.utilityService.stopNgxUiSpinner()}catch(i){console.log(i)}})}updatePostal(e,t){return Object(l.b)(this,void 0,void 0,function*(){try{if(!this.currentFormGroup||!this.currentFormGroup.valid)return this.commonService.touchAllFields(this.currentFormGroup),void document.querySelector(".form-error").scrollIntoView({behavior:"smooth",block:"center"});if(this.editApplicantIndex>=this.applicationDetails.applicantList.length)throw new Error("error: invalid_data_index_passed");this.submitCaptcha("update")}catch(e){console.log(e)}})}updatePostals(){var e,t;return Object(l.b)(this,void 0,void 0,function*(){try{const a=this.currentFormGroup.value;this.utilityService.startNgxUiSpinner();const i=yield this.savePostalToDB(a);if(!i.hasOwnProperty("error")||null!==i.error){if(i.hasOwnProperty("error")&&i.error.code){const e=i.error.description;this.utilityService.stopNgxUiSpinner(),this.showErrorMsgPopup(e)}throw new Error(i)}null===(t=null===(e=this.applicationDetails)||void 0===e?void 0:e.applicantList[this.editApplicantIndex])||void 0===t||(t.postalList[0]=a),this.copyAddressToApplicant(a),this.updateApplicationDetailsToSession(this.applicationDetails),yield this.viewApplicationSummary(),this.utilityService.stopNgxUiSpinner()}catch(a){console.log(a)}})}copyAddressToApplicant(e){var t,a;for(const i of Object.keys(e))(null===(t=this.applicationDetails)||void 0===t?void 0:t.applicantList[this.editApplicantIndex].hasOwnProperty(i))&&(null===(a=this.applicationDetails)||void 0===a||(a.applicantList[this.editApplicantIndex][i]=e[i]))}showErrorMsgPopup(e,t){try{const a=this.dialog.open(Gi,{data:e});a.afterClosed().subscribe(e=>Object(l.b)(this,void 0,void 0,function*(){1069===t&&(this.utilityService.startNgxUiSpinner(),yield this.viewApplicationSummary(),this.utilityService.stopNgxUiSpinner())})),this.router.events.subscribe(()=>{a.close()})}catch(a){console.log(a)}}savePostalToDB(e){var t;return Object(l.b)(this,void 0,void 0,function*(){try{const a=this.commonService.checkIfPrepaidCourier(null==e?void 0:e.courierType)?r.c.api.updatePrepaidCourierInfo:r.c.api.updateVFSCourierInfo;return e.missionCode=this.sessionService.tenent,e.centerCode=this.sessionService.centerCode,e.loginUser=this.sessionService.getLoggedEmail(),this.commonService.checkIfPrepaidCourier(null==e?void 0:e.courierType)&&(e.countryCode=this.sessionService.countryCode.toUpperCase()),e.aurn=null===(t=this.applicationDetails.applicantList[this.editApplicantIndex])||void 0===t?void 0:t.arn,yield this.httpService.payloadPost(a,e).toPromise().then(e=>e).catch(e=>{throw e})}catch(a){throw a}})}continue(){var e,t;for(const a of null===(e=this.applicationDetails)||void 0===e?void 0:e.applicantList)if(!(null==a?void 0:a.postalList)||(null===(t=null==a?void 0:a.postalList)||void 0===t?void 0:t.length)<=0)return this.message=this.commonService.translateValue("postalInformation.messages.errorMessages.message4"),void setTimeout(()=>{this.message=""},1e4);this.routeNext()}goBack(){super.routePrevious()}editPostalInfo(e){var t,a,i;try{this.isEditingFromSamePage=!0,this.editApplicantIndex=e,this.setEditModeFlag(!0),this.setViewApplicantsList(!1),(null===(a=null===(t=this.applicationDetails)||void 0===t?void 0:t.applicantList[this.editApplicantIndex])||void 0===a?void 0:a.postalList)||(this.applicationDetails.applicantList[this.editApplicantIndex].postalList=[]),0===(null===(i=this.applicationDetails.applicantList[this.editApplicantIndex].postalList)||void 0===i?void 0:i.length)&&(this.applicationDetails.applicantList[this.editApplicantIndex].isSamePostalInfo=!1)}catch(o){console.log(o)}}updateFormForEdit(){var e,t;try{const a=null===(t=null===(e=this.applicationDetails)||void 0===e?void 0:e.applicantList[this.editApplicantIndex])||void 0===t?void 0:t.postalList[0];this.currentFormGroup.patchValue(a)}catch(a){console.log(a)}}isEditMode(){var e,t,a;return this.isEditModeFlag&&(null===(a=null===(t=null===(e=this.applicationDetails)||void 0===e?void 0:e.applicantList[this.editApplicantIndex])||void 0===t?void 0:t.postalList)||void 0===a?void 0:a.length)>0}viewApplicationSummary(){return Object(l.b)(this,void 0,void 0,function*(){this.setEditModeFlag(!1),this.setViewApplicantsList(!0),this.editApplicantIndex=0,this.isEditingFromSamePage=!1})}onIsSamePostalInfoSelection(e){var t,a,i,o,n,s;try{if(this.currentFormGroup.reset(),e)for(const e of Object.keys(null===(a=null===(t=this.applicationDetails)||void 0===t?void 0:t.applicantList[0])||void 0===a?void 0:a.postalList[0]))null===(i=this.currentFormGroup.get(e))||void 0===i||i.setValue(null===(n=null===(o=this.applicationDetails)||void 0===o?void 0:o.applicantList[0])||void 0===n?void 0:n.postalList[0][e]);else null===(s=this.currentFormGroup.get("countryCode"))||void 0===s||s.setValue("USA");this.currentFormGroup.updateValueAndValidity()}catch(l){console.log(l)}}get viewIsSamePostalInfoFlag(){var e,t;try{const a=null===(t=null===(e=this.applicationDetails)||void 0===e?void 0:e.applicantList)||void 0===t?void 0:t.length;return!this.isEditModeFlag&&a>=1||this.isEditModeFlag&&this.editApplicantIndex>0}catch(a){console.log(a)}}routePrevious(){try{this.applicationDetails.applicantList.length>0?this.viewApplicationSummary():super.routePrevious()}catch(e){console.log(e)}}updateApplicationDetailsToSession(e){this.sessionService.applicationDetailValue=e}setViewApplicantsList(e){this.viewApplicantsListFlag=e,e&&(this.sessionService.clearEditApplicationIdx(),this.dataShareService.editYourDetail=!1)}setEditModeFlag(e){this.isEditModeFlag=e}updateListenerTextField(e,t,a){var i,o,n,s;return Object(l.b)(this,void 0,void 0,function*(){try{if(!e.onChangeEvent||0===e.onChangeEvent.length)return;if((null==t?void 0:t.length)>4){$("input").blur();for(const t of e.onChangeEvent){const e=t.url,l=this.coreCommonService.extractAndConstructParams(t.params,this.currentFormGroup);l.missionCode=this.sessionService.tenent,l.countryCode=this.sessionService.countryCode,l.centerCode=this.sessionService.centerCode,l.loginUser=this.sessionService.getLoggedEmail(),l.aurn=null===(i=this.applicationDetails)||void 0===i?void 0:i.applicantList[this.editApplicantIndex].arn;const c=yield this.httpService.payloadPost(e,l).toPromise().then(e=>e);this.commonService.removeError(a,"invalidPostalCode");const d=yield this.httpService.slashParamsDoGet(r.c.api.masterState,{countryCode:this.sessionService.countryCode}).toPromise();if(this.formMetaData.metadata.dropdownDetails.state.options=d||[],null==c?void 0:c.error)null===(o=this.currentFormGroup.get("state"))||void 0===o||o.setValue(null),this.commonService.setError(a,"invalidPostalCode"),a.markAsTouched({onlySelf:!0}),this.message=(null===(n=null==c?void 0:c.error)||void 0===n?void 0:n.description)||this.commonService.translateValue("commonSections.messages.statusMessages."+(null===(s=null==c?void 0:c.error)||void 0===s?void 0:s.code)),setTimeout(()=>{this.message=""},1e4);else{this.commonService.removeError(a,"invalidPostalCode");const e=c.Address.map(e=>e.StateProvinceCode)||[];if(d.length>0){const t=d.filter(t=>e.indexOf(t.isoCode)>-1);if(this.formMetaData.metadata.dropdownDetails.state.options=t,1===t.length){const e=this.formMetaData.metadata.dropdownDetails.state.valueKey;setTimeout(()=>{var a;null===(a=this.currentFormGroup.get("state"))||void 0===a||a.setValue(t[0][e]),this.currentFormGroup.updateValueAndValidity()},500)}}}}}}catch(l){this.logger.error(l),this.commonService.setError(a,"invalidPostalCode"),a.markAsTouched({onlySelf:!0})}})}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(La.b))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-postal-information"]],features:[o.Ab],decls:15,vars:13,consts:[[1,"container","py-15","py-md-30"],[1,"form-card"],[1,"c-brand-grey-para","mb-10"],[4,"ngIf"],[1,"fs-24","fs-sm-42","mb-30"],["class","c-brand-grey-para mb-20",4,"ngIf"],[1,"border-danger",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-window-close-o","fs-24","position-absolute","left-15","top-18","mb-0"],[1,"mb-20"],[1,"c-brand-grey-para","mb-20"],["class","bg-brand-footer border-top-1 border-bottom-1 mx-n15 mx-md-n30 px-15 px-md-30 py-20 mt-n1",4,"ngFor","ngForOf","ngForTrackBy"],[1,"bg-brand-footer","border-top-1","border-bottom-1","mx-n15","mx-md-n30","px-15","px-md-30","py-20","mt-n1"],[1,"row","align-items-center"],[1,"col-12","col-sm","fs-18","mb-sm-0","mb-15"],[1,"c-brand-grey-para","mb-5"],[1,"w-wrap-break"],[1,"col-12","col-sm-auto"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"],[3,"formGroup"],[3,"scope","schema","formGroupCopy"],[1,"fs-18","fs-sm-22","mb-20"],[1,"mb-30"],[1,"form-group","mb-20"],["class","mat-checkbox-brand w-wrap-break-all",3,"ngModel","ngModelChange",4,"ngIf"],[1,"mat-checkbox-brand","w-wrap-break-all",3,"ngModel","ngModelChange"],[1,"fs-18","text-wrap"],[1,"form-card","p-0","border-0","shadow-none"],[3,"scope","schema"],[1,"row"],[1,"col-sm","mt-20"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange",3,"click"]],template:function(e,t){1&e&&(o.Wb(0,"section",0),o.Wb(1,"mat-card",1),o.Wb(2,"p",2),o.Oc(3),o.mc(4,"translate"),o.Vb(),o.Mc(5,al,6,1,"ng-container",3),o.Wb(6,"h1",4),o.Oc(7),o.mc(8,"translate"),o.Vb(),o.Mc(9,il,4,4,"ng-container",3),o.Mc(10,ol,2,1,"h5",5),o.Mc(11,sl,2,2,"ng-container",3),o.Mc(12,cl,4,4,"ng-container",3),o.Vb(),o.Mc(13,dl,3,2,"ng-container",3),o.Mc(14,ul,11,6,"ng-container",3),o.Vb()),2&e&&(o.Db(3),o.Pc(o.nc(4,9,"applicantInformation.para.label1")),o.Db(2),o.tc("ngIf",t.message),o.Db(2),o.Pc(o.nc(8,11,null==t.currentModule?null:t.currentModule.displayName)),o.Db(2),o.tc("ngIf",!t.viewApplicantsListFlag&&!t.viewIsSamePostalInfoFlag),o.Db(1),o.tc("ngIf",t.isEditModeFlag&&(null==t.applicationDetails||null==t.applicationDetails.applicantList?null:t.applicationDetails.applicantList.length)>0&&(null==t.applicationDetails?null:t.applicationDetails.applicantList)),o.Db(1),o.tc("ngIf",t.viewApplicantsListFlag&&(null==t.applicationDetails||null==t.applicationDetails.applicantList?null:t.applicationDetails.applicantList.length)>0),o.Db(1),o.tc("ngIf",!t.viewApplicantsListFlag),o.Db(1),o.tc("ngIf",!t.viewApplicantsListFlag),o.Db(1),o.tc("ngIf",t.viewApplicantsListFlag))},directives:[u.a,m.o,m.n,h.a,n.y,n.r,n.j,gt.e,f.a,n.q,n.t],pipes:[p.d],encapsulation:2}),e})();function pl(e,t){if(1&e&&(o.Wb(0,"div",17),o.Wb(1,"div",18),o.Rb(2,"i",19),o.Wb(3,"div"),o.Oc(4),o.Vb(),o.Vb(),o.Vb()),2&e){const e=o.lc();o.tc("ngClass",e.appointmentResult?"border-info":"border-danger"),o.Db(1),o.tc("ngClass",e.appointmentResult?"alert-info":"alert-danger"),o.Db(3),o.Pc(e.message)}}function bl(e,t){1&e&&(o.Wb(0,"div",22),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"commonSections.messages.requiredMessages.message1")," "))}function gl(e,t){1&e&&(o.Wb(0,"div",22),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"commonSections.messages.patternMessages.message1")," "))}function fl(e,t){if(1&e&&(o.Wb(0,"div",20),o.Mc(1,bl,3,3,"div",21),o.Mc(2,gl,3,3,"div",21),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",e.appointmentF.arn_number.errors.required),o.Db(1),o.tc("ngIf",e.appointmentF.arn_number.errors.pattern)}}function hl(e,t){1&e&&(o.Wb(0,"div",22),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"commonSections.messages.requiredMessages.message1")," "))}function vl(e,t){1&e&&(o.Wb(0,"div",22),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"commonSections.messages.patternMessages.message1")," "))}function yl(e,t){if(1&e&&(o.Wb(0,"div",20),o.Mc(1,hl,3,3,"div",21),o.Mc(2,vl,3,3,"div",21),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",e.appointmentF.passport.errors.required),o.Db(1),o.tc("ngIf",e.appointmentF.passport.errors.pattern)}}const Sl=function(e){return{"my-12":e}};function Cl(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"li",27),o.Oc(2),o.Vb(),o.Tb()),2&e){const e=t.$implicit,a=t.odd;o.Db(1),o.tc("ngClass",o.xc(2,Sl,a)),o.Db(1),o.Pc(null==e?null:e.value)}}function Dl(e,t){if(1&e&&(o.Wb(0,"ul",25),o.Mc(1,Cl,3,4,"ng-container",26),o.mc(2,"keyvalue"),o.mc(3,"translate"),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngForOf",o.nc(2,2,o.nc(3,4,"appointmentverification.pageDetails.para2")))("ngForTrackBy",e.trackByFn)}}function Il(e,t){1&e&&(o.Wb(0,"div",23),o.Mc(1,Dl,4,6,"ul",24),o.Vb()),2&e&&(o.Db(1),o.tc("ngIf","appointmentverification.pageDetails.para2".length>0))}const Vl=function(e){return{"form-error":e}};let Al=(()=>{class e extends d.a{constructor(e){super(),this.formBuilder=e,this.intitForgotForm(),this.message="",this.appointmentResult=!1}intitForgotForm(){this.appointmentverificationForm=this.formBuilder.group({arn_number:["",n.x.required],passport:["",n.x.required]})}get appointmentF(){var e;return null===(e=this.appointmentverificationForm)||void 0===e?void 0:e.controls}onSubmit(){return Object(l.b)(this,void 0,void 0,function*(){try{if(this.appointmentverificationForm.invalid)return;this.message="";const e=this.appointmentverificationForm.value.arn_number+"/"+this.appointmentverificationForm.value.passport;(yield this.httpService.doGet(r.c.api.appointmentVerify+"/"+e).toPromise()).result?(this.message=this.commonService.translateValue("appointmentverification.messages.message2"),this.appointmentResult=!0):(this.appointmentResult=!1,this.message=this.commonService.translateValue("appointmentverification.messages.message1"))}catch(e){console.log(`${r.d.INVALID_RESPONSE}: ${e}`)}})}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(n.e))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-appointment-verification"]],features:[o.Ab],decls:37,vars:32,consts:[[1,"container","py-15","py-md-30"],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-9","col-lg-7","col-xl-6"],[1,"form-card","px-md-50","py-md-40"],[1,"d-none","d-block"],[1,"fs-21","fs-sm-24","mb-10"],[1,"c-brand-grey-para","fs-sm-18","mb-25"],["style","border-left: 5px solid",3,"ngClass",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],[1,"c-brand-error"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["matInput","","formControlName","arn_number","type","text","autocomplete","off",3,"placeholder"],["matInput","","formControlName","passport","type","text","autocomplete","off",3,"placeholder"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange"],["class","text-lg-center col-md-auto px-0",4,"ngIf"],[2,"border-left","5px solid",3,"ngClass"],[1,"alert","border-0","rounded-0","py-20","pl-50",3,"ngClass"],[1,"fa","fa-check-circle-o","fs-24","position-absolute","left-15","top-18","mb-0"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[1,"text-lg-center","col-md-auto","px-0"],["class","c-brand-grey-para text-left mt-15 pl-20",4,"ngIf"],[1,"c-brand-grey-para","text-left","mt-15","pl-20"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngClass"]],template:function(e,t){1&e&&(o.Wb(0,"section",0),o.Wb(1,"div",1),o.Wb(2,"div",2),o.Wb(3,"mat-card",3),o.Wb(4,"div",4),o.Wb(5,"h1",5),o.Oc(6),o.mc(7,"translate"),o.Vb(),o.Wb(8,"p",6),o.Oc(9),o.mc(10,"translate"),o.Vb(),o.Mc(11,pl,5,3,"div",7),o.Wb(12,"form",8),o.hc("ngSubmit",function(){return t.onSubmit()}),o.Wb(13,"div",9),o.Wb(14,"div"),o.Oc(15),o.mc(16,"translate"),o.Wb(17,"span",10),o.Oc(18,"*"),o.Vb(),o.Vb(),o.Mc(19,fl,3,2,"div",11),o.Wb(20,"mat-form-field",12),o.Rb(21,"input",13),o.mc(22,"translate"),o.Vb(),o.Vb(),o.Wb(23,"div",9),o.Wb(24,"div"),o.Oc(25),o.mc(26,"translate"),o.Wb(27,"span",10),o.Oc(28,"*"),o.Vb(),o.Vb(),o.Mc(29,yl,3,2,"div",11),o.Wb(30,"mat-form-field",12),o.Rb(31,"input",14),o.mc(32,"translate"),o.Vb(),o.Vb(),o.Wb(33,"button",15),o.Oc(34),o.mc(35,"translate"),o.Vb(),o.Vb(),o.Mc(36,Il,2,1,"div",16),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e&&(o.Db(6),o.Pc(o.nc(7,14,"appointmentverification.headerLabel.label1")),o.Db(3),o.Pc(o.nc(10,16,"appointmentverification.pageDetails.para1")),o.Db(2),o.tc("ngIf",t.message),o.Db(1),o.tc("formGroup",t.appointmentverificationForm),o.Db(1),o.tc("ngClass",o.xc(28,Vl,t.appointmentF.arn_number.touched&&t.appointmentF.arn_number.invalid)),o.Db(2),o.Pc(o.nc(16,18,"appointmentverification.formLabel.label1")),o.Db(4),o.tc("ngIf",t.appointmentF.arn_number.touched&&t.appointmentF.arn_number.errors),o.Db(2),o.uc("placeholder",o.nc(22,20,"commonSections.formLabel.label2")),o.Db(2),o.tc("ngClass",o.xc(30,Vl,t.appointmentF.passport.touched&&t.appointmentF.passport.invalid)),o.Db(2),o.Pc(o.nc(26,22,"appointmentverification.formLabel.label2")),o.Db(4),o.tc("ngIf",t.appointmentF.passport.touched&&t.appointmentF.passport.errors),o.Db(2),o.uc("placeholder",o.nc(32,24,"commonSections.formLabel.label2")),o.Db(3),o.Qc(" ",o.nc(35,26,"appointmentverification.buttons.button1")," "),o.Db(2),o.tc("ngIf",t.appointmentResult))},directives:[u.a,m.o,n.y,n.r,n.j,m.m,b.b,g.b,n.d,n.q,n.h,h.a,m.n],pipes:[p.d,m.i],encapsulation:2}),e})();function Ol(e,t){1&e&&(o.Wb(0,"td",32),o.Wb(1,"span",33),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()),2&e&&(o.Db(2),o.Pc(o.nc(3,1,"travelMedicalInformation.headerLabel.label5")))}function Tl(e,t){if(1&e&&(o.Wb(0,"td",38),o.Oc(1),o.Vb()),2&e){const e=o.lc().$implicit;o.Db(1),o.Pc(null==e?null:e.age)}}const Ll=function(){return{standalone:!0}};function Nl(e,t){if(1&e&&(o.Wb(0,"tr",34),o.Wb(1,"td",32),o.Wb(2,"mat-checkbox",35),o.hc("ngModelChange",function(e){return t.$implicit.isTmiApplicant=e}),o.Vb(),o.Vb(),o.Wb(3,"td",36),o.Oc(4),o.Vb(),o.Mc(5,Tl,2,1,"td",37),o.Vb()),2&e){const e=t.$implicit;o.Db(2),o.tc("ngModel",e.isTmiApplicant)("ngModelOptions",o.wc(5,Ll)),o.Db(2),o.Rc("",null==e?null:e.firstName," ",null==e?null:e.lastName,""),o.Db(1),o.tc("ngIf",e.isTmiApplicant)}}function Ml(e,t){1&e&&(o.Wb(0,"div",41),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message1")," "))}function El(e,t){1&e&&(o.Wb(0,"div",41),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message3")," "))}function Wl(e,t){1&e&&(o.Wb(0,"div",41),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message3")," "))}function Pl(e,t){1&e&&(o.Wb(0,"div",41),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message8")," "))}function kl(e,t){if(1&e&&(o.Wb(0,"div",39),o.Mc(1,Ml,3,3,"div",40),o.Mc(2,El,3,3,"div",40),o.Mc(3,Wl,3,3,"div",40),o.Mc(4,Pl,3,3,"div",40),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",null==e.formGroup.controls.startdate||null==e.formGroup.controls.startdate.errors?null:e.formGroup.controls.startdate.errors.required),o.Db(1),o.tc("ngIf",null==e.formGroup.controls.startdate||null==e.formGroup.controls.startdate.errors?null:e.formGroup.controls.startdate.errors.formate),o.Db(1),o.tc("ngIf",null==e.formGroup.controls.startdate||null==e.formGroup.controls.startdate.errors?null:e.formGroup.controls.startdate.errors.validDate),o.Db(1),o.tc("ngIf",null==e.formGroup.controls.startdate||null==e.formGroup.controls.startdate.errors?null:e.formGroup.controls.startdate.errors.validStartandEnddates)}}function wl(e,t){1&e&&(o.Wb(0,"div",41),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message2")," "))}function Fl(e,t){1&e&&(o.Wb(0,"div",41),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message4")," "))}function _l(e,t){1&e&&(o.Wb(0,"div",41),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message3")," "))}function xl(e,t){1&e&&(o.Wb(0,"div",41),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message8")," "))}function Gl(e,t){if(1&e&&(o.Wb(0,"div",39),o.Mc(1,wl,3,3,"div",40),o.Mc(2,Fl,3,3,"div",40),o.Mc(3,_l,3,3,"div",40),o.Mc(4,xl,3,3,"div",40),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",null==e.formGroup.controls.enddate||null==e.formGroup.controls.enddate.errors?null:e.formGroup.controls.enddate.errors.required),o.Db(1),o.tc("ngIf",null==e.formGroup.controls.enddate||null==e.formGroup.controls.enddate.errors?null:e.formGroup.controls.enddate.errors.formate),o.Db(1),o.tc("ngIf",null==e.formGroup.controls.enddate||null==e.formGroup.controls.enddate.errors?null:e.formGroup.controls.enddate.errors.validDate),o.Db(1),o.tc("ngIf",null==e.formGroup.controls.enddate||null==e.formGroup.controls.enddate.errors?null:e.formGroup.controls.enddate.errors.validStartandEnddates)}}function Rl(e,t){1&e&&(o.Wb(0,"div",41),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message5")," "))}function Ul(e,t){if(1&e&&(o.Wb(0,"div",39),o.Mc(1,Rl,3,3,"div",40),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",null==e.formGroup.controls.countryofentry||null==e.formGroup.controls.countryofentry.errors?null:e.formGroup.controls.countryofentry.errors.required)}}function Bl(e,t){if(1&e&&(o.Wb(0,"mat-option",46),o.Oc(1),o.Vb()),2&e){const e=t.$implicit;o.tc("value",e.countryCode),o.Db(1),o.Qc(" ",null==e?null:e.countryDisplayName," ")}}const jl=function(e){return{"form-error":e}};function Yl(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"div",13),o.Wb(2,"div",42),o.Wb(3,"div"),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Mc(6,Ul,2,1,"div",15),o.Wb(7,"mat-form-field",43),o.Wb(8,"mat-select",44),o.mc(9,"translate"),o.Mc(10,Bl,2,2,"mat-option",45),o.mc(11,"sortBy"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Tb()),2&e){const e=o.lc();o.Db(1),o.tc("ngClass",o.xc(16,jl,(null==e.formGroup.controls.countryofentry?null:e.formGroup.controls.countryofentry.touched)&&(null==e.formGroup.controls.countryofentry?null:e.formGroup.controls.countryofentry.errors))),o.Db(1),o.tc("formGroup",e.formGroup),o.Db(2),o.Pc(o.nc(5,9,"travelMedicalInformation.formLabel.label3")),o.Db(2),o.tc("ngIf",(null==e.formGroup.controls.countryofentry?null:e.formGroup.controls.countryofentry.touched)&&(null==e.formGroup.controls.countryofentry?null:e.formGroup.controls.countryofentry.errors)),o.Db(2),o.uc("placeholder",o.nc(9,11,"travelMedicalInformation.placeholder.label2")),o.tc("options",e.nationalityList)("valueKey","countryCode"),o.Db(2),o.tc("ngForOf",o.oc(11,13,e.nationalityList,"countryDisplayName"))("ngForTrackBy",e.trackByFn)}}function Ql(e,t){1&e&&(o.Wb(0,"div",41),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message6")," "))}function $l(e,t){if(1&e&&(o.Wb(0,"div",39),o.Mc(1,Ql,3,3,"div",40),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",null==e.formGroup.controls.coveragetype||null==e.formGroup.controls.coveragetype.errors?null:e.formGroup.controls.coveragetype.errors.required)}}function ql(e,t){if(1&e&&(o.Wb(0,"mat-option",46),o.Oc(1),o.Vb()),2&e){const e=t.$implicit;o.tc("value",null==e?null:e.ctCode),o.Db(1),o.Qc(" ",null==e?null:e.ctDisplayName," ")}}function Hl(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"div",13),o.Wb(2,"div",42),o.Wb(3,"div"),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Mc(6,$l,2,1,"div",15),o.Wb(7,"mat-form-field",43),o.Wb(8,"mat-select",47),o.mc(9,"translate"),o.Mc(10,ql,2,2,"mat-option",45),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Tb()),2&e){const e=o.lc();o.Db(1),o.tc("ngClass",o.xc(13,jl,(null==e.formGroup.controls.coveragetype?null:e.formGroup.controls.coveragetype.touched)&&(null==e.formGroup.controls.coveragetype?null:e.formGroup.controls.coveragetype.errors))),o.Db(1),o.tc("formGroup",e.formGroup),o.Db(2),o.Pc(o.nc(5,9,"travelMedicalInformation.formLabel.label4")),o.Db(2),o.tc("ngIf",(null==e.formGroup.controls.coveragetype?null:e.formGroup.controls.coveragetype.touched)&&(null==e.formGroup.controls.coveragetype?null:e.formGroup.controls.coveragetype.errors)),o.Db(2),o.uc("placeholder",o.nc(9,11,"travelMedicalInformation.placeholder.label3")),o.tc("options",e.coverageTypes)("valueKey","ctCode"),o.Db(2),o.tc("ngForOf",e.coverageTypes)("ngForTrackBy",e.trackByFn)}}function Kl(e,t){1&e&&(o.Wb(0,"div",41),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message9")," "))}function zl(e,t){if(1&e&&(o.Wb(0,"div",39),o.Mc(1,Kl,3,3,"div",40),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",null==e.formGroup.controls.coveragelevel||null==e.formGroup.controls.coveragelevel.errors?null:e.formGroup.controls.coveragelevel.errors.required)}}function Zl(e,t){if(1&e&&(o.Wb(0,"mat-option",46),o.Oc(1),o.Vb()),2&e){const e=t.$implicit;o.tc("value",null==e?null:e.clCode),o.Db(1),o.Qc(" ",null==e?null:e.clDisplayName," ")}}function Jl(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"div",13),o.Wb(2,"div",42),o.Wb(3,"div"),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Mc(6,zl,2,1,"div",15),o.Wb(7,"mat-form-field",43),o.Wb(8,"mat-select",48),o.mc(9,"translate"),o.Mc(10,Zl,2,2,"mat-option",45),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Tb()),2&e){const e=o.lc();o.Db(1),o.tc("ngClass",o.xc(13,jl,(null==e.formGroup.controls.coveragelevel?null:e.formGroup.controls.coveragelevel.touched)&&(null==e.formGroup.controls.coveragelevel?null:e.formGroup.controls.coveragelevel.errors))),o.Db(1),o.tc("formGroup",e.formGroup),o.Db(2),o.Pc(o.nc(5,9,"travelMedicalInformation.formLabel.label5")),o.Db(2),o.tc("ngIf",(null==e.formGroup.controls.coveragelevel?null:e.formGroup.controls.coveragelevel.touched)&&(null==e.formGroup.controls.coveragelevel?null:e.formGroup.controls.coveragelevel.errors)),o.Db(2),o.uc("placeholder",o.nc(9,11,"travelMedicalInformation.placeholder.label4")),o.tc("options",e.coverageLevels)("valueKey","clCode"),o.Db(2),o.tc("ngForOf",e.coverageLevels)("ngForTrackBy",e.trackByFn)}}function Xl(e,t){1&e&&(o.Wb(0,"div",41),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message10")," "))}function er(e,t){if(1&e&&(o.Wb(0,"div",39),o.Mc(1,Xl,3,3,"div",40),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",null==e.formGroup.controls.extremesports||null==e.formGroup.controls.extremesports.errors?null:e.formGroup.controls.extremesports.errors.required)}}function tr(e,t){if(1&e&&(o.Wb(0,"mat-option",46),o.Oc(1),o.Vb()),2&e){const e=t.$implicit;o.tc("value",e.extCode),o.Db(1),o.Qc(" ",e.extDisplayName," ")}}function ar(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"div",13),o.Wb(2,"div",42),o.Wb(3,"div"),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Mc(6,er,2,1,"div",15),o.Wb(7,"mat-form-field",43),o.Wb(8,"mat-select",49),o.mc(9,"translate"),o.Mc(10,tr,2,2,"mat-option",45),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Tb()),2&e){const e=o.lc();o.Db(1),o.tc("ngClass",o.xc(13,jl,(null==e.formGroup.controls.extremesports?null:e.formGroup.controls.extremesports.touched)&&(null==e.formGroup.controls.extremesports?null:e.formGroup.controls.extremesports.errors))),o.Db(1),o.tc("formGroup",e.formGroup),o.Db(2),o.Pc(o.nc(5,9,"travelMedicalInformation.formLabel.label6")),o.Db(2),o.tc("ngIf",(null==e.formGroup.controls.extremesports?null:e.formGroup.controls.extremesports.touched)&&(null==e.formGroup.controls.extremesports?null:e.formGroup.controls.extremesports.errors)),o.Db(2),o.uc("placeholder",o.nc(9,11,"travelMedicalInformation.placeholder.label5")),o.tc("options",e.extremeSports)("valueKey","extCode"),o.Db(2),o.tc("ngForOf",e.extremeSports)("ngForTrackBy",e.trackByFn)}}function ir(e,t){1&e&&(o.Wb(0,"div",41),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message7")," "))}function or(e,t){if(1&e&&(o.Wb(0,"div",39),o.Mc(1,ir,3,3,"div",40),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",!1===e.formGroup.value.agreeToTermsAndCondition)}}let nr=(()=>{class e extends nt.a{constructor(e,t,a){super(),this.fb=e,this.datePipe=t,this.titlecase=a,this.scope=this,this.dataOtCpId=c.a.oneTrustPortal.dataOtCpId,this.loggedInUser="",this.travelStartDate=[],this.isSubmit=!1,this.initBaseForm(r.c.modules.TRAVEL_MEDICAL_INSURANCE),this.applicantList={},this.loggedInUser=this.sessionService.getLoggedEmail()}ngOnInit(){var e,t,a;this.coverageTypes=[],this.coverageLevels=[],this.extremeSports=[],this.applicantList=null===(t=null===(e=this.sessionService)||void 0===e?void 0:e.applicationDetailValue)||void 0===t?void 0:t.applicantList,this.agreeToTermsAndCondition=!1,this.tmiContentfulData=null===(a=this.sessionService)||void 0===a?void 0:a.tmiContentfulDetails,this.formGroup=this.initFormGroup(),this.loadTmiMasterData(),this.calculateApplicantAge(),this.startDates()}initFormGroup(){return new n.i({startdate:new n.f("",[n.x.required]),enddate:new n.f("",[n.x.required]),agreeToTermsAndCondition:new n.f(!1,[n.x.required])})}get isApplicantSelectedTmi(){return this.applicantList.some(e=>null==e?void 0:e.isTmiApplicant)}getQuotes(){var e,t;this.isSubmit=!0;try{if("INVALID"===this.formGroup.status||!(null===(e=this.formGroup.value)||void 0===e?void 0:e.agreeToTermsAndCondition)){this.commonService.touchAllFields(this.formGroup);const e=document.querySelector(".form-error");return void(null==e||e.scrollIntoView({behavior:"smooth",block:"center"}))}const a=null===(t=this.formGroup)||void 0===t?void 0:t.value;this.utilityService.fireCustomEvent({dl_category:"get_quote_travel_insurance",dl_action:"cta_click",dl_label:"cta_click",coverage_type:null==a?void 0:a.coveragetype,coverage_level:null==a?void 0:a.coveragelevel,extreme_sports:null==a?void 0:a.extremesports}),a.coverageTypes=this.coverageTypes,a.coverageLevels=this.coverageLevels,a.extremeSports=this.extremeSports,a.nationalityList=this.nationalityList,this.sessionService.tmiDetails=a,this.sessionService.optOutTmi=!1,this.sessionService.tmiVas=[];const i=this.sessionService.applicationDetailValue;i.applicantList=this.applicantList,this.sessionService.applicationDetailValue=i,this.sessionService.tmiProductView=!0,this.sessionService.tmiProductConsent=!1}catch(a){this.logger.error(a)}}loadExtremeSports(){return Object(l.b)(this,void 0,void 0,function*(){this.extremeSports=["Yes","No"]})}setSelectedValues(e){var t;return Object(l.b)(this,void 0,void 0,function*(){try{const a=null===(t=this.sessionService)||void 0===t?void 0:t.tmiDetails;if(a)this.formGroup.patchValue(a);else if(null==e?void 0:e.isCountryRequired){let e=[];const t=this.sessionService.tenent,a=yield this.commonService.loadNationality(),i=this.utilityService.getnationalityName(a,t);e.countryofentry=this.titlecase.transform(i),this.formGroup.patchValue(e)}}catch(a){this.logger.error(a)}})}checkifDisabled(){return!this.isApplicantSelectedTmi}loadNationality(){return Object(l.b)(this,void 0,void 0,function*(){this.nationalityList=yield this.commonService.loadNationality()})}loadTmiMasterData(){var e;return Object(l.b)(this,void 0,void 0,function*(){const t=(null===(e=this.sessionService.applicationConfiguration)||void 0===e?void 0:e.tmiPartnerCode)||"",a=yield this.commonService.loadMasterTmiData("lift",t);a&&null===(null==a?void 0:a.error)&&(this.masterData=a,this.addRequiredFields(this.masterData))})}addRequiredFields(e){(null==e?void 0:e.isCountryRequired)&&(this.formGroup.addControl("countryofentry",new n.f(null,n.x.required)),this.nationalityList=null==e?void 0:e.countries),(null==e?void 0:e.isCoverageTypeRequired)&&(this.formGroup.addControl("coveragetype",new n.f(null,n.x.required)),this.coverageTypes=null==e?void 0:e.coverageTypes),(null==e?void 0:e.isCoverageLevelRequired)&&(this.formGroup.addControl("coveragelevel",new n.f(null,n.x.required)),this.coverageLevels=null==e?void 0:e.coverageLevels),(null==e?void 0:e.isExtremeSportsRequired)&&(this.formGroup.addControl("extremesports",new n.f(null,n.x.required)),this.extremeSports=null==e?void 0:e.extremeSports),this.setSelectedValues(e)}calculateApplicantAge(){var e;try{null===(e=this.applicantList)||void 0===e||e.forEach(e=>{const t=this.utilityService.momentInstance().format("DD/MM/YYYY"),a=this.utilityService.convertJSONInDate(e.dateOfBirth),i=this.utilityService.momentInstance(t,"DD/MM/YYYY").diff(this.utilityService.momentInstance(a,"DD/MM/YYYY"),"years");e.age=i})}catch(t){this.logger.error(t)}}startDates(){var e;this.utilityService.momentInstance(null===(e=this.sessionService.getAppointmentDetails())||void 0===e?void 0:e.date).format("DD/MM/YYYY");const t=this.utilityService.momentInstance(this.utilityService.momentInstance().format("DD/MM/YYYY"),"DD/MM/YYYY"),a=this.utilityService.momentInstance(t,"DD/MM/YYYY").add(60,"days");this.travelStartDate.min={year:+t.format("YYYY"),month:+t.format("MM"),day:+t.format("DD")},this.travelStartDate.max={year:+a.format("YYYY"),month:+a.format("MM"),day:+a.format("DD")},this.formGroup.value.endate||(this.travelEndDate=Object.assign({},this.travelStartDate.min))}changeEndDate(e){var t;if(!this.formGroup.value.endate){const a=this.utilityService.momentInstance(null===(t=this.utilityService)||void 0===t?void 0:t.convertJSONInDate(e),"DD/MM/YYYY").add(1,"days");this.travelEndDate={year:+a.format("YYYY"),month:+a.format("MM"),day:+a.format("DD")}}}isDateFormatCheck(e){return this.utilityService.momentInstance(e,"DD/MM/YYYY").isValid()}dateFormatConversion(e){return this.utilityService.momentInstance(e).format("YYYY-MM-DD")}validateStartandEndDates(e,t){var a;this.formGroup.controls.startdate.updateValueAndValidity(),this.formGroup.controls.enddate.updateValueAndValidity(),this.utilityService.momentInstance(null===(a=this.sessionService.getAppointmentDetails())||void 0===a?void 0:a.date).format("DD/MM/YYYY");const i=this.utilityService.momentInstance(this.utilityService.momentInstance().format("DD/MM/YYYY"),"DD/MM/YYYY"),o=this.utilityService.momentInstance(i,"YYYY-MM-DD").add(60,"days"),n=(o.format("YYYY"),o.format("MM"),o.format("DD"),this.dateFormatConversion(this.formGroup.value.startdate.year+"-"+this.formGroup.value.startdate.month+"-"+this.formGroup.value.startdate.day)),s=this.dateFormatConversion(this.formGroup.value.enddate.year+"-"+this.formGroup.value.enddate.month+"-"+this.formGroup.value.enddate.day);if("startdate"===t){const e=this.datePipe.transform(n,this.dateFormat);this.dateFormatStartDate=e}if("enddate"===t){const e=this.datePipe.transform(s,this.dateFormat);this.dateFormatEndDate=e}const l=this.dateFormatConversion(e.year+"-"+e.month+"-"+e.day),r=this.isDateFormatCheck(e);r&&this.formGroup.controls[t].setErrors({formate:!0}),"startdate"!==t||r||this.utilityService.momentInstance(l).isSameOrAfter(i)||this.formGroup.controls[t].setErrors({validDate:!0}),this.formGroup.value.startdate&&("enddate"!==t||r||this.utilityService.momentInstance(l).isAfter(n)||this.formGroup.controls[t].setErrors({validStartandEnddates:!0})),this.formGroup.value.enddate&&("startdate"!==t||r||this.utilityService.momentInstance(l).isBefore(s)||this.formGroup.controls[t].setErrors({validStartandEnddates:!0}))}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(n.e),o.Qb(m.e),o.Qb(m.y))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-tmiform"]],features:[o.Cb([m.y]),o.Ab],decls:59,vars:57,consts:[["action","","method","post",1,"ot-form-consent",3,"formGroup","ngSubmit"],[1,"row","align-items-end"],[1,"col-12","mb-30"],[1,"fs-18","fs-sm-24","mb-10"],[1,"table","table-borderless"],[1,"c-brand-grey-para"],[1,"min-w-35","min-lg-w-100","px-0"],[1,"min-w-230","px-5"],["class","px-0",4,"ngIf"],["class","border-bottom-1",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12"],[1,"fs-18","fs-sm-24","mb-20"],[1,"col-12","col-sm"],[3,"ngClass"],[1,"datepicker-div","form-group"],["class","errorMessage",4,"ngIf"],["ngbDatepicker","","formControlName","startdate",1,"form-control","input-lg","mt-5",3,"minDate","value","placeholder","change","ngModelChange"],["datePickerReference","ngbDatepicker"],[1,"input-group-addon",3,"click"],[1,"col-12","col-sm",3,"formGroup"],[1,"form-group"],["ngbDatepicker","","formControlName","enddate",1,"form-control","input-lg","mt-5",3,"minDate","value","placeholder","change","ngModelChange"],["datePickerReference2","ngbDatepicker"],[4,"ngIf"],[1,"form-group","mt-30",3,"formGroup"],[1,"form-group",3,"ngClass"],[1,"pl-35"],["formControlName","agreeToTermsAndCondition","value","The personal details provided by all persons on this form may be shared with VFS' Insurance partners","type","checkbox",1,"mat-checkbox-brand","ml-n35"],[1,"fs-sm-18","text-wrap","mr-5"],[3,"richData"],["type","email","id","inputEmail","required","",1,"ot-form-control","d-none",3,"value"],["type","submit","id","trigger","mat-stroked-button","",1,"ot-submit-button","btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled"],[1,"px-0"],[1,"d-inline-block","min-lg-w-300"],[1,"border-bottom-1"],["name","sizecb[]",1,"mat-checkbox-brand",3,"ngModel","ngModelOptions","ngModelChange"],[1,"fs-sm-18","px-5"],["class","fs-sm-18 px-0",4,"ngIf"],[1,"fs-sm-18","px-0"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[1,"form-group",3,"formGroup"],["appearance","outline",1,"mat-form-field-outline-brand"],["appDefaultSelect","","formControlName","countryofentry",3,"options","valueKey","placeholder"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[3,"value"],["appDefaultSelect","","formControlName","coveragetype",3,"options","valueKey","placeholder"],["appDefaultSelect","","formControlName","coveragelevel",3,"options","valueKey","placeholder"],["appDefaultSelect","","formControlName","extremesports",3,"options","valueKey","placeholder"]],template:function(e,t){if(1&e){const e=o.Xb();o.Wb(0,"form",0),o.hc("ngSubmit",function(){return t.getQuotes()}),o.Wb(1,"div",1),o.Wb(2,"div",2),o.Wb(3,"h2",3),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Wb(6,"table",4),o.Wb(7,"tr",5),o.Rb(8,"td",6),o.Wb(9,"td",7),o.Oc(10),o.mc(11,"translate"),o.mc(12,"translate"),o.Vb(),o.Mc(13,Ol,4,3,"td",8),o.Vb(),o.Mc(14,Nl,6,6,"tr",9),o.Vb(),o.Vb(),o.Wb(15,"div",10),o.Wb(16,"h2",11),o.Oc(17),o.mc(18,"translate"),o.Vb(),o.Vb(),o.Wb(19,"div",12),o.Wb(20,"div",13),o.Wb(21,"div",14),o.Wb(22,"div"),o.Oc(23),o.mc(24,"translate"),o.Vb(),o.Mc(25,kl,5,4,"div",15),o.Wb(26,"div",14),o.Wb(27,"input",16,17),o.hc("change",function(){return t.validateStartandEndDates(t.formGroup.value.startdate,"startdate")})("ngModelChange",function(e){return t.changeEndDate(e),t.validateStartandEndDates(e,"startdate")}),o.mc(29,"translate"),o.Vb(),o.Wb(30,"div",18),o.hc("click",function(){return o.Fc(e),o.Bc(28).toggle()}),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(31,"div",19),o.Wb(32,"div",13),o.Wb(33,"div",20),o.Wb(34,"div"),o.Oc(35),o.mc(36,"translate"),o.Vb(),o.Mc(37,Gl,5,4,"div",15),o.Wb(38,"div",14),o.Wb(39,"input",21,22),o.hc("change",function(){return t.validateStartandEndDates(t.formGroup.value.enddate,"enddate")})("ngModelChange",function(e){return t.validateStartandEndDates(e,"enddate")}),o.mc(41,"translate"),o.Vb(),o.Wb(42,"div",18),o.hc("click",function(){return o.Fc(e),o.Bc(40).toggle()}),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(43,"div",10),o.Mc(44,Yl,12,18,"ng-container",23),o.Mc(45,Hl,11,15,"ng-container",23),o.Mc(46,Jl,11,15,"ng-container",23),o.Mc(47,ar,11,15,"ng-container",23),o.Wb(48,"div",24),o.Wb(49,"div",25),o.Mc(50,or,2,1,"div",15),o.Wb(51,"div",26),o.Wb(52,"mat-checkbox",27),o.Wb(53,"div",28),o.Rb(54,"app-contentful-richtext",29),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Rb(55,"input",30),o.Wb(56,"button",31),o.Oc(57),o.mc(58,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()}2&e&&(o.tc("formGroup",t.formGroup),o.Eb("data-ot-cp-id",t.dataOtCpId),o.Db(4),o.Qc(" ",o.nc(5,33,null==t.tmiContentfulData?null:t.tmiContentfulData.quoteFormSectionTitle1)," "),o.Db(6),o.Rc(" ",o.nc(11,35,"travelMedicalInformation.headerLabel.label3"),"",o.nc(12,37,"travelMedicalInformation.headerLabel.label4")," "),o.Db(3),o.tc("ngIf",t.isApplicantSelectedTmi),o.Db(1),o.tc("ngForOf",t.applicantList)("ngForTrackBy",t.trackByFn),o.Db(3),o.Pc(o.nc(18,39,null==t.tmiContentfulData?null:t.tmiContentfulData.quoteFormSectionTitle2)),o.Db(3),o.tc("ngClass",o.xc(51,jl,(null==t.formGroup.controls.startdate?null:t.formGroup.controls.startdate.touched)&&(null==t.formGroup.controls.startdate?null:t.formGroup.controls.startdate.errors))),o.Db(3),o.Pc(o.nc(24,41,"travelMedicalInformation.formLabel.label1")),o.Db(2),o.tc("ngIf",(null==t.formGroup.controls.startdate?null:t.formGroup.controls.startdate.touched)&&(null==t.formGroup.controls.startdate?null:t.formGroup.controls.startdate.errors)),o.Db(2),o.uc("placeholder",o.nc(29,43,"travelMedicalInformation.placeholder.label1")),o.tc("minDate",t.travelStartDate.min)("value",t.dateFormatStartDate),o.Db(4),o.tc("formGroup",t.formGroup),o.Db(1),o.tc("ngClass",o.xc(53,jl,(null==t.formGroup.controls.enddate?null:t.formGroup.controls.enddate.touched)&&(null==t.formGroup.controls.enddate?null:t.formGroup.controls.enddate.errors))),o.Db(3),o.Pc(o.nc(36,45,"travelMedicalInformation.formLabel.label2")),o.Db(2),o.tc("ngIf",(null==t.formGroup.controls.enddate?null:t.formGroup.controls.enddate.touched)&&(null==t.formGroup.controls.enddate?null:t.formGroup.controls.enddate.errors)),o.Db(2),o.uc("placeholder",o.nc(41,47,"travelMedicalInformation.placeholder.label1")),o.tc("minDate",t.travelEndDate)("value",t.dateFormatEndDate),o.Db(5),o.tc("ngIf",null==t.masterData?null:t.masterData.isCountryRequired),o.Db(1),o.tc("ngIf",null==t.masterData?null:t.masterData.isCoverageTypeRequired),o.Db(1),o.tc("ngIf",null==t.masterData?null:t.masterData.isCoverageLevelRequired),o.Db(1),o.tc("ngIf",null==t.masterData?null:t.masterData.isExtremeSportsRequired),o.Db(1),o.tc("formGroup",t.formGroup),o.Db(1),o.tc("ngClass",o.xc(55,jl,!1===t.formGroup.value.agreeToTermsAndCondition&&t.isSubmit)),o.Db(1),o.tc("ngIf",t.isSubmit),o.Db(4),o.tc("richData",null==t.tmiContentfulData?null:t.tmiContentfulData.quoteFormLegalConsent),o.Db(1),o.tc("value",t.loggedInUser),o.Db(1),o.tc("disabled",t.checkifDisabled()),o.Db(1),o.Qc(" ",o.nc(58,49,"travelMedicalInformation.buttons.button1")," "))},directives:[n.y,n.r,n.j,m.o,m.n,m.m,ct.d,n.d,n.q,n.h,f.a,Jn,h.a,n.t,b.b,dt.a,ut,bt.j],pipes:[p.d,gt.h],encapsulation:2}),e})();function sr(e,t){if(1&e&&(o.Wb(0,"li",7),o.Wb(1,"div",8),o.Oc(2,"\u2713"),o.Vb(),o.Wb(3,"div",9),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Wb(6,"div",10),o.Oc(7),o.Vb(),o.Vb()),2&e){const e=o.lc();o.Db(4),o.Pc(o.nc(5,2,"travelMedicalInformation.formLabel.label3")),o.Db(3),o.Pc(null==e.tmiDetails?null:e.tmiDetails.countryofentryName)}}function lr(e,t){if(1&e&&(o.Wb(0,"li",7),o.Wb(1,"div",8),o.Oc(2,"\u2713"),o.Vb(),o.Wb(3,"div",9),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Wb(6,"div",10),o.Oc(7),o.Vb(),o.Vb()),2&e){const e=o.lc();o.Db(4),o.Pc(o.nc(5,2,"travelMedicalInformation.formLabel.label4")),o.Db(3),o.Pc(null==e.tmiDetails?null:e.tmiDetails.coverageTypeName)}}function rr(e,t){if(1&e&&(o.Wb(0,"li",7),o.Wb(1,"div",8),o.Oc(2,"\u2713"),o.Vb(),o.Wb(3,"div",9),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Wb(6,"div",10),o.Oc(7),o.Vb(),o.Vb()),2&e){const e=o.lc();o.Db(4),o.Pc(o.nc(5,2,"travelMedicalInformation.formLabel.label5")),o.Db(3),o.Pc(null==e.tmiDetails?null:e.tmiDetails.coveragelevelName)}}function cr(e,t){if(1&e&&(o.Wb(0,"li",7),o.Wb(1,"div",8),o.Oc(2,"\u2713"),o.Vb(),o.Wb(3,"div",9),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Wb(6,"div",10),o.Oc(7),o.Vb(),o.Vb()),2&e){const e=o.lc();o.Db(4),o.Pc(o.nc(5,2,"travelMedicalInformation.formLabel.label6")),o.Db(3),o.Pc(null==e.tmiDetails?null:e.tmiDetails.extremeSportsName)}}function dr(e,t){1&e&&(o.Ub(0),o.Wb(1,"div",19),o.Wb(2,"div",20),o.Rb(3,"i",21),o.Wb(4,"div"),o.Oc(5),o.mc(6,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Tb()),2&e&&(o.Db(5),o.Pc(o.nc(6,1,"travelMedicalInformation.pageDetails.para6")))}function ur(e,t){if(1&e&&(o.Wb(0,"div",37),o.Rb(1,"img",38),o.Vb()),2&e){const e=o.lc().$implicit;o.Db(1),o.uc("src",null==e||null==e.contentful||null==e.contentful.insProviderIcon||null==e.contentful.insProviderIcon.fields||null==e.contentful.insProviderIcon.fields.file?null:e.contentful.insProviderIcon.fields.file.url,o.Hc)}}function mr(e,t){if(1&e&&(o.Wb(0,"div",39),o.Oc(1),o.Vb()),2&e){const e=o.lc().$implicit;o.Db(1),o.Qc(" ",null==e||null==e.contentful?null:e.contentful.insProviderName," ")}}function pr(e,t){if(1&e&&(o.Wb(0,"div",40),o.Rb(1,"app-contentful-richtext",41),o.Vb()),2&e){const e=o.lc().$implicit;o.Db(1),o.tc("richData",null==e||null==e.contentful?null:e.contentful.insPolicyDesc)}}const br=function(e){return{"same-coverage-container":e}};function gr(e,t){if(1&e&&(o.Wb(0,"div",47),o.Wb(1,"table",48),o.Wb(2,"tr"),o.Wb(3,"td",49),o.Wb(4,"div",50),o.Oc(5),o.Vb(),o.Vb(),o.Wb(6,"td",51),o.Wb(7,"div"),o.Oc(8),o.Vb(),o.Vb(),o.Wb(9,"td",52),o.Wb(10,"div"),o.Oc(11),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e){const e=t.$implicit,a=t.index,i=o.lc(4);o.tc("ngClass",o.xc(5,br,i.getSameCoverage(a,"coveragesListOne"))),o.Db(4),o.tc("ngClass",e.isCovered?"c-brand-green":"c-brand-error"),o.Db(1),o.Qc(" ",e.isCovered?"\u2713":"\u2716"," "),o.Db(3),o.Pc(e.name),o.Db(3),o.Pc(e.amountOrDays)}}function fr(e,t){if(1&e&&(o.Wb(0,"div",47),o.Wb(1,"table",48),o.Wb(2,"tr"),o.Wb(3,"td",49),o.Wb(4,"div",50),o.Oc(5),o.Vb(),o.Vb(),o.Wb(6,"td",51),o.Wb(7,"div"),o.Oc(8),o.Vb(),o.Vb(),o.Wb(9,"td",53),o.Wb(10,"div"),o.Oc(11),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e){const e=t.$implicit,a=t.index,i=o.lc(4);o.tc("ngClass",o.xc(5,br,i.getSameCoverage(a,"coveragesListTwo"))),o.Db(4),o.tc("ngClass",e.isCovered?"c-brand-green":"c-brand-error"),o.Db(1),o.Qc(" ",e.isCovered?"\u2713":"\u2716"," "),o.Db(3),o.Pc(e.name),o.Db(3),o.Pc(e.amountOrDays)}}function hr(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div",42),o.Wb(1,"div",43),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Wb(4,"div",44),o.Wb(5,"div",45),o.Mc(6,gr,12,7,"div",46),o.Vb(),o.Wb(7,"div",45),o.Mc(8,fr,12,7,"div",46),o.Vb(),o.Vb(),o.Wb(9,"a",30),o.hc("click",function(){return o.Fc(e),o.lc(3).showCoverage=null}),o.Oc(10," \u2190"),o.Wb(11,"span"),o.Oc(12),o.mc(13,"translate"),o.Vb(),o.Vb(),o.Vb()}if(2&e){const e=o.lc().index,t=o.lc(2);o.Ib("show",!(t.showCoverage===e)),o.Db(2),o.Pc(o.nc(3,6,"travelMedicalInformation.headerLabel.label12")),o.Db(4),o.tc("ngForOf",t.coveragesListOne),o.Db(2),o.tc("ngForOf",t.coveragesListTwo),o.Db(4),o.Pc(o.nc(13,8,"travelMedicalInformation.buttons.button2"))}}function vr(e,t){if(1&e&&(o.Wb(0,"div",54),o.Wb(1,"div",55),o.Oc(2),o.Vb(),o.Wb(3,"div",56),o.Oc(4),o.Vb(),o.Vb()),2&e){const e=t.$implicit;o.Db(2),o.Pc(e.name),o.Db(2),o.Pc(e.amountOrDays)}}function yr(e,t){if(1&e){const e=o.Xb();o.Wb(0,"button",57),o.hc("click",function(){o.Fc(e);const t=o.lc().$implicit;return o.lc(2).addService(t)}),o.Oc(1),o.mc(2,"translate"),o.Vb()}2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"commonSections.formLabel.label1")," "))}function Sr(e,t){1&e&&(o.Wb(0,"button",58),o.Oc(1," \u2713 "),o.Vb())}function Cr(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div",23),o.Wb(1,"div",0),o.Wb(2,"div",24),o.Wb(3,"div",25),o.Mc(4,ur,2,1,"div",26),o.Mc(5,mr,2,1,"div",27),o.Vb(),o.Mc(6,pr,2,1,"div",28),o.Wb(7,"div",29),o.Wb(8,"a",30),o.hc("click",function(){o.Fc(e);const a=t.index;return o.lc(2).viewMoreClick(a)}),o.Wb(9,"span"),o.Oc(10),o.mc(11,"translate"),o.Vb(),o.Oc(12," \u2192 "),o.Vb(),o.Mc(13,hr,14,10,"div",31),o.Vb(),o.Wb(14,"div",0),o.Mc(15,vr,5,2,"div",32),o.Vb(),o.Vb(),o.Wb(16,"div",33),o.Wb(17,"div",34),o.Wb(18,"div",35),o.Oc(19),o.Vb(),o.Wb(20,"div",36),o.Wb(21,"div"),o.Mc(22,yr,3,3,"button",16),o.Vb(),o.Wb(23,"div"),o.Mc(24,Sr,2,0,"button",17),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()}if(2&e){const e=t.$implicit,a=t.index,i=o.lc(2);o.Db(4),o.tc("ngIf",null==e||null==e.contentful||null==e.contentful.insProviderIcon||null==e.contentful.insProviderIcon.fields||null==e.contentful.insProviderIcon.fields.file?null:e.contentful.insProviderIcon.fields.file.url),o.Db(1),o.tc("ngIf",null==e||null==e.contentful?null:e.contentful.insProviderName),o.Db(1),o.tc("ngIf",null==e||null==e.contentful?null:e.contentful.insPolicyDesc),o.Db(4),o.Pc(o.nc(11,10,"services.buttons.button1")),o.Db(3),o.tc("ngIf",i.showCoverage===a),o.Db(2),o.tc("ngForOf",null==e?null:e.priorityCoverages),o.Db(4),o.Rc("",null==e?null:e.currency," ",null==e?null:e.amount,""),o.Db(3),o.tc("ngIf",!i.isSelected(e.productId)),o.Db(2),o.tc("ngIf",i.isSelected(e.productId))}}function Dr(e,t){if(1&e&&(o.Ub(0),o.Mc(1,Cr,25,12,"div",22),o.Tb()),2&e){const e=o.lc();o.Db(1),o.tc("ngForOf",e.availableServices)("ngForTrackBy",e.trackByFn)}}function Ir(e,t){if(1&e){const e=o.Xb();o.Wb(0,"button",57),o.hc("click",function(){return o.Fc(e),o.lc().optOutTmi()}),o.Oc(1),o.mc(2,"translate"),o.Vb()}2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"commonSections.formLabel.label1")," "))}function Vr(e,t){1&e&&(o.Wb(0,"button",58),o.Oc(1,"\u2713"),o.Vb())}function Ar(e,t){if(1&e&&(o.Wb(0,"div",63),o.Rb(1,"app-contentful-richtext",41),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("richData",e.selectedSevices[0].contentful.insPolicyTermsnCondition)}}function Or(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div",59),o.Wb(1,"div",60),o.Wb(2,"mat-checkbox",61),o.hc("ngModelChange",function(t){return o.Fc(e),o.lc().agreeToTermsAndCondition=t})("change",function(){return o.Fc(e),o.lc().agreeConditions()}),o.Mc(3,Ar,2,1,"div",62),o.Vb(),o.Vb(),o.Vb()}if(2&e){const e=o.lc();o.Db(2),o.tc("ngModel",e.agreeToTermsAndCondition),o.Db(1),o.tc("ngIf",null==e.selectedSevices[0]||null==e.selectedSevices[0].contentful?null:e.selectedSevices[0].contentful.insPolicyTermsnCondition)}}let Tr=(()=>{class e extends nt.a{constructor(){super(),this.tmiProductSelected=new o.n,this.showCoverage=null,this.availableServices=[],this.nationalityList=[]}ngOnInit(){var e,t,a,i,o,n,s,l;this.applicantList=this.sessionService.applicationDetailValue.applicantList,this.selectedSevices=[],this.currencyCode=null===(e=this.sessionService)||void 0===e?void 0:e.currencyCode,this.tmiContentfulData=null===(t=this.sessionService)||void 0===t?void 0:t.tmiContentfulDetails;const r=this.sessionService.tmiDetails;r.startDate=this.utilityService.convertJSONInDate(r.startdate),r.endDate=this.utilityService.convertJSONInDate(r.enddate);const c=this.utilityService.momentInstance(r.startDate,"DD/MM/YYYY").format(this.dateFormat.toUpperCase());this.dateFormatStartDate=c;const d=this.utilityService.momentInstance(r.endDate,"DD/MM/YYYY").format(this.dateFormat.toUpperCase());this.dateFormatEndDate=d,r.coveragelevelName=null===(a=null==r?void 0:r.coverageLevels.find(e=>e.clCode===(null==r?void 0:r.coveragelevel)))||void 0===a?void 0:a.clDisplayName,r.extremeSportsName=null===(i=null==r?void 0:r.extremeSports.find(e=>e.extCode===(null==r?void 0:r.extremesports)))||void 0===i?void 0:i.extDisplayName,r.coverageTypeName=null===(n=null===(o=null==r?void 0:r.coverageTypes)||void 0===o?void 0:o.find(e=>e.ctCode===(null==r?void 0:r.coveragetype)))||void 0===n?void 0:n.ctDisplayName,r.countryofentryName=null===(l=null===(s=null==r?void 0:r.nationalityList)||void 0===s?void 0:s.find(e=>e.countryCode===(null==r?void 0:r.countryofentry)))||void 0===l?void 0:l.countryDisplayName,this.tmiDetails=r,this.getNationality(),this.getTMIProducts()}showTmiFormView(){this.sessionService.tmiProductView=!1}isSelected(e){return this.selectedSevices.some(t=>t.productId===e)}addService(e){try{this.utilityService.fireCustomEvent({dl_category:"plan_selected",dl_action:null==e?void 0:e.productName,dl_label:null==e?void 0:e.amount}),this.utilityService.startNgxUiSpinner();const t=[];t.push(e),this.selectedSevices=t,this.sessionService.tmiVas=t,this.optedOutTmi=!1,this.sessionService.optOutTmi=!1,this.utilityService.stopNgxUiSpinner(),this.tmiProductSelected.emit(!0)}catch(t){this.logger.error(t)}}get tmiApplicantsName(){let e="";return this.applicantList.forEach(t=>{t.isTmiApplicant&&(e+=t.firstName+" "+t.lastName+", ")}),e.slice(0,-2)}optOutTmi(){this.selectedSevices=[],this.sessionService.tmiVas=[],this.optedOutTmi=!0,this.sessionService.optOutTmi=!0,this.agreeToTermsAndCondition=!1,this.sessionService.tmiProductConsent=!1}agreeConditions(){this.sessionService.tmiProductConsent=this.agreeToTermsAndCondition}getNationality(){return Object(l.b)(this,void 0,void 0,function*(){this.nationalityList=yield this.commonService.loadNationality(),this.residentCountry=this.utilityService.getnationalityName(this.nationalityList,this.sessionService.countryCode),this.destinationCountry=this.utilityService.getnationalityName(this.nationalityList,this.sessionService.tenent)})}getTMIProducts(){return Object(l.b)(this,void 0,void 0,function*(){try{const e=this.tmiDetails,t=[];this.applicantList.forEach(e=>{e.isTmiApplicant&&t.push({arn:e.arn,firstName:null==e?void 0:e.firstName,lastName:null==e?void 0:e.lastName,age:null==e?void 0:e.age,dateOfBirth:this.utilityService.convertJSONInDate(null==e?void 0:e.dateOfBirth),emailId:null==e?void 0:e.emailId,contactNumber:null==e?void 0:e.contactNumber,dialCode:null==e?void 0:e.dialCode})});const a={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.centerCode,cultureCode:this.sessionService.appCultureCode,loginUser:this.sessionService.getLoggedEmail(),URN:this.sessionService.urn,productPageNumber:"123",applicants:t,insuranceTravelDetails:{coverageLevel:null==e?void 0:e.coveragelevel,coverageType:null==e?void 0:e.coveragetype,startDate:null==e?void 0:e.startDate,endDate:null==e?void 0:e.endDate,firstCountryOfEntry:null==e?void 0:e.countryofentry,isRequiredExtraSports:!!(null==e?void 0:e.extremesports)&&JSON.parse(null==e?void 0:e.extremesports)}},i=yield this.httpService.payloadPost(r.c.api.getTMIProducts,a).toPromise().catch(e=>{throw this.productsNotAvailable=!0,this.sessionService.isTmiProductsAvailable=!1,e}).then(e=>e);if(i&&null===i.error&&(null==i?void 0:i.products.length)>0){this.availableServices=null==i?void 0:i.products,this.availableServices.forEach(e=>{var t;const a=null===(t=null==e?void 0:e.coverages)||void 0===t?void 0:t.slice(0,4);e.priorityCoverages=a||[]});const e=Math.min.apply(Math,this.availableServices.map(e=>e.amount)),t=this.availableServices.find(function(t){return t.amount==e});this.addService(t);const a=yield this.commonService.constructTMIProductData(this.availableServices);(null==a?void 0:a.length)>0&&(this.availableServices=a),this.productsNotAvailable=!1,this.sessionService.isTmiProductsAvailable=!0}else this.productsNotAvailable=!0,this.sessionService.isTmiProductsAvailable=!1}catch(e){this.logger.error(e)}})}trimPackageLength(e){return(null==e?void 0:e.length)?Math.round(e.length/2):0}getSameCoverage(e,t){const a="coveragesListOne"===t?this.coveragesListOne:this.coveragesListTwo,i=a[e];return!!a.find((t,a)=>t.id===i.id&&a>e&&t.id)}viewMoreClick(e){var t,a,i;const o=null===(t=this.availableServices[e])||void 0===t?void 0:t.coverages;this.setProductList=o,this.showCoverage=e;const n={dl_category:"read_more_insurance_details",dl_action:null===(a=this.availableServices[e])||void 0===a?void 0:a.productName,dl_label:null===(i=this.availableServices[e])||void 0===i?void 0:i.amount};this.utilityService.fireCustomEvent(n)}set setProductList(e){const t=JSON.parse(JSON.stringify(e));t.sort((e,t)=>(null==e?void 0:e.isCovered)==(null==t?void 0:t.isCovered)?0:(null==e?void 0:e.isCovered)>(null==t?void 0:t.isCovered)?-1:1);const a=Math.ceil(t.length/2);this.coveragesListOne=t.splice(0,a),this.coveragesListTwo=t.splice(-a)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Kb({type:e,selectors:[["app-tmilist"]],outputs:{tmiProductSelected:"tmiProductSelected"},features:[o.Ab],decls:63,vars:37,consts:[[1,"row"],[1,"col"],[1,"fs-18","fs-sm-24","mb-20"],[1,"col-auto"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer",3,"click"],[1,"col-12"],[1,"list-group","mb-40"],[1,"list-group-item","bg-brand-footer","p-15","pl-60"],[1,"position-absolute","left-16","top-13","min-w-25","lh-25","bg-brand-green","rounded-circle","text-center","text-white"],[1,"c-brand-grey-para"],[1,"fs-18","mt-5"],["class","list-group-item bg-brand-footer p-15 pl-60",4,"ngIf"],[4,"ngIf"],[1,"card","p-15","px-md-30","py-md-20"],[1,"row","align-items-center"],[1,"col","fs-sm-18"],["mat-stroked-button","","class","btn py-3 btn-block min-w-110 btn-outline-brand-orange",3,"click",4,"ngIf"],["mat-stroked-button","","class","btn py-3 btn-block min-w-110 btn-brand-green-light",4,"ngIf"],["class","form-group mt-30",4,"ngIf"],[1,"border-danger","mt-20",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-times-circle","fs-24","position-absolute","left-15","top-18","mb-0"],["class","card p-15 px-md-30 py-md-20 mb-20",4,"ngFor","ngForOf","ngForTrackBy"],[1,"card","p-15","px-md-30","py-md-20","mb-20"],[1,"col-12","col-sm","pr-sm-0"],[1,"row","no-gutters","mb-10","align-items-end"],["class","col-auto pr-15",4,"ngIf"],["class","col fs-16 fs-sm-20 lh-20",4,"ngIf"],["class","c-brand-grey-para fs-15 mt-10",4,"ngIf"],[1,"clearfix","fs-15","mb-25"],["role","button",1,"c-brand-orange","text-decoration-underline",3,"click"],["class","position-relative bg-white pt-20 mt-n22",3,"show",4,"ngIf"],["class","col-12 col-sm-6 col-lg d-flex flex-column mb-15 mb-lg-0",4,"ngFor","ngForOf"],[1,"col-12","col-sm-auto","mt-20","mt-sm-0"],[1,"row","align-items-center","d-sm-inline-block","text-right"],[1,"col","col-sm-12","c-brand-green","text-right","mb-sm-13"],[1,"col-auto","col-sm-12"],[1,"col-auto","pr-15"],["alt","Noor Takaful Insurance",2,"width","70px",3,"src"],[1,"col","fs-16","fs-sm-20","lh-20"],[1,"c-brand-grey-para","fs-15","mt-10"],[3,"richData"],[1,"position-relative","bg-white","pt-20","mt-n22"],[1,"mb-5"],[1,"card","tmi-table","overflow-x-auto","mb-15"],[1,"row","no-gutters","fs-13"],["class","col-6 border-top brd-right mt-n1",3,"ngClass",4,"ngFor","ngForOf"],[1,"col-6","border-top","brd-right","mt-n1",3,"ngClass"],[1,"table","mt-n1","mb-0"],["width","40"],[1,"fs-18","lh-16","ff-900",3,"ngClass"],[1,"px-0"],["width","150",1,"text-right"],["width","100",1,"text-right"],[1,"col-12","col-sm-6","col-lg","d-flex","flex-column","mb-15","mb-lg-0"],[1,"fs-15","c-brand-grey-para","mb-4"],[1,"fs-15","mt-auto"],["mat-stroked-button","",1,"btn","py-3","btn-block","min-w-110","btn-outline-brand-orange",3,"click"],["mat-stroked-button","",1,"btn","py-3","btn-block","min-w-110","btn-brand-green-light"],[1,"form-group","mt-30"],[1,"pl-35"],[1,"mat-checkbox-brand","ml-n35",3,"ngModel","ngModelChange","change"],["class","fs-sm-18 text-wrap mr-5",4,"ngIf"],[1,"fs-sm-18","text-wrap","mr-5"]],template:function(e,t){1&e&&(o.Wb(0,"div",0),o.Wb(1,"div",1),o.Wb(2,"h2",2),o.Oc(3),o.mc(4,"translate"),o.Vb(),o.Vb(),o.Wb(5,"div",3),o.Wb(6,"a",4),o.hc("click",function(){return t.showTmiFormView()}),o.Oc(7),o.mc(8,"translate"),o.Vb(),o.Vb(),o.Wb(9,"div",5),o.Wb(10,"ul",6),o.Wb(11,"li",7),o.Wb(12,"div",8),o.Oc(13,"\u2713"),o.Vb(),o.Wb(14,"div",9),o.Oc(15),o.mc(16,"translate"),o.Vb(),o.Wb(17,"div",10),o.Oc(18),o.Vb(),o.Vb(),o.Wb(19,"li",7),o.Wb(20,"div",8),o.Oc(21,"\u2713"),o.Vb(),o.Wb(22,"div",9),o.Oc(23),o.mc(24,"translate"),o.Vb(),o.Wb(25,"div",10),o.Oc(26),o.Vb(),o.Vb(),o.Wb(27,"li",7),o.Wb(28,"div",8),o.Oc(29,"\u2713"),o.Vb(),o.Wb(30,"div",9),o.Oc(31),o.mc(32,"translate"),o.Vb(),o.Wb(33,"div",10),o.Oc(34),o.Vb(),o.Vb(),o.Wb(35,"li",7),o.Wb(36,"div",8),o.Oc(37,"\u2713"),o.Vb(),o.Wb(38,"div",9),o.Oc(39),o.mc(40,"translate"),o.Vb(),o.Wb(41,"div",10),o.Oc(42),o.Vb(),o.Vb(),o.Mc(43,sr,8,4,"li",11),o.Mc(44,lr,8,4,"li",11),o.Mc(45,rr,8,4,"li",11),o.Mc(46,cr,8,4,"li",11),o.Vb(),o.Vb(),o.Wb(47,"div",5),o.Wb(48,"h2",2),o.Oc(49),o.mc(50,"translate"),o.Vb(),o.Mc(51,dr,7,3,"ng-container",12),o.Mc(52,Dr,2,2,"ng-container",12),o.Wb(53,"div",13),o.Wb(54,"div",14),o.Wb(55,"div",15),o.Oc(56),o.mc(57,"translate"),o.Vb(),o.Wb(58,"div",3),o.Wb(59,"div"),o.Mc(60,Ir,3,3,"button",16),o.Mc(61,Vr,2,0,"button",17),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Mc(62,Or,4,2,"div",18),o.Vb(),o.Vb()),2&e&&(o.Db(3),o.Pc(o.nc(4,21,null==t.tmiContentfulData?null:t.tmiContentfulData.plansListingPageSectionTitle1)),o.Db(4),o.Pc(o.nc(8,23,"reviewAndPayment.buttons.button1")),o.Db(8),o.Pc(o.nc(16,25,"travelMedicalInformation.headerLabel.label7")),o.Db(3),o.Pc(t.tmiApplicantsName),o.Db(5),o.Pc(o.nc(24,27,"travelMedicalInformation.headerLabel.label8")),o.Db(3),o.Pc(t.dateFormatStartDate+" - "+t.dateFormatEndDate),o.Db(5),o.Pc(o.nc(32,29,"travelMedicalInformation.headerLabel.label9")),o.Db(3),o.Pc(t.residentCountry),o.Db(5),o.Pc(o.nc(40,31,"travelMedicalInformation.headerLabel.label10")),o.Db(3),o.Pc(t.destinationCountry),o.Db(1),o.tc("ngIf",null==t.tmiDetails?null:t.tmiDetails.countryofentry),o.Db(1),o.tc("ngIf",null==t.tmiDetails?null:t.tmiDetails.coveragetype),o.Db(1),o.tc("ngIf",null==t.tmiDetails?null:t.tmiDetails.coveragelevel),o.Db(1),o.tc("ngIf",null==t.tmiDetails?null:t.tmiDetails.extremesports),o.Db(3),o.Pc(o.nc(50,33,null==t.tmiContentfulData?null:t.tmiContentfulData.plansListingPageSectionTitle2)),o.Db(2),o.tc("ngIf",t.productsNotAvailable),o.Db(1),o.tc("ngIf",(null==t.availableServices?null:t.availableServices.length)>0),o.Db(4),o.Pc(o.nc(57,35,"travelMedicalInformation.formLabel.label11")),o.Db(4),o.tc("ngIf",!t.optedOutTmi),o.Db(1),o.tc("ngIf",t.optedOutTmi),o.Db(1),o.tc("ngIf",(null==t.selectedSevices?null:t.selectedSevices.length)>0))},directives:[m.o,m.n,Jn,m.m,h.a,f.a,n.q,n.t],pipes:[p.d],encapsulation:2}),e})();function Lr(e,t){1&e&&(o.Wb(0,"div",42),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message1")," "))}function Nr(e,t){1&e&&(o.Wb(0,"div",42),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message3")," "))}function Mr(e,t){1&e&&(o.Wb(0,"div",42),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message3")," "))}function Er(e,t){1&e&&(o.Wb(0,"div",42),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message8")," "))}function Wr(e,t){if(1&e&&(o.Wb(0,"div",40),o.Mc(1,Lr,3,3,"div",41),o.Mc(2,Nr,3,3,"div",41),o.Mc(3,Mr,3,3,"div",41),o.Mc(4,Er,3,3,"div",41),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",null==e.formGroup.controls.startdate||null==e.formGroup.controls.startdate.errors?null:e.formGroup.controls.startdate.errors.required),o.Db(1),o.tc("ngIf",null==e.formGroup.controls.startdate||null==e.formGroup.controls.startdate.errors?null:e.formGroup.controls.startdate.errors.formate),o.Db(1),o.tc("ngIf",null==e.formGroup.controls.startdate||null==e.formGroup.controls.startdate.errors?null:e.formGroup.controls.startdate.errors.validDate),o.Db(1),o.tc("ngIf",null==e.formGroup.controls.startdate||null==e.formGroup.controls.startdate.errors?null:e.formGroup.controls.startdate.errors.validStartandEnddates)}}function Pr(e,t){1&e&&(o.Wb(0,"div",42),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message2")," "))}function kr(e,t){1&e&&(o.Wb(0,"div",42),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message4")," "))}function wr(e,t){1&e&&(o.Wb(0,"div",42),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message3")," "))}function Fr(e,t){1&e&&(o.Wb(0,"div",42),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message8")," "))}function _r(e,t){if(1&e&&(o.Wb(0,"div",40),o.Mc(1,Pr,3,3,"div",41),o.Mc(2,kr,3,3,"div",41),o.Mc(3,wr,3,3,"div",41),o.Mc(4,Fr,3,3,"div",41),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",null==e.formGroup.controls.enddate||null==e.formGroup.controls.enddate.errors?null:e.formGroup.controls.enddate.errors.required),o.Db(1),o.tc("ngIf",null==e.formGroup.controls.enddate||null==e.formGroup.controls.enddate.errors?null:e.formGroup.controls.enddate.errors.formate),o.Db(1),o.tc("ngIf",null==e.formGroup.controls.enddate||null==e.formGroup.controls.enddate.errors?null:e.formGroup.controls.enddate.errors.validDate),o.Db(1),o.tc("ngIf",null==e.formGroup.controls.enddate||null==e.formGroup.controls.enddate.errors?null:e.formGroup.controls.enddate.errors.validStartandEnddates)}}function xr(e,t){1&e&&(o.Wb(0,"div",42),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message10")," "))}function Gr(e,t){if(1&e&&(o.Wb(0,"div",40),o.Mc(1,xr,3,3,"div",41),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",null==e.formGroup.controls.countryofentry||null==e.formGroup.controls.countryofentry.errors?null:e.formGroup.controls.countryofentry.errors.required)}}function Rr(e,t){1&e&&(o.Wb(0,"div",42),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message10")," "))}function Ur(e,t){if(1&e&&(o.Wb(0,"div",40),o.Mc(1,Rr,3,3,"div",41),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",null==e.formGroup.controls.coveragetype||null==e.formGroup.controls.coveragetype.errors?null:e.formGroup.controls.coveragetype.errors.required)}}function Br(e,t){1&e&&(o.Wb(0,"div",42),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message10")," "))}function jr(e,t){if(1&e&&(o.Wb(0,"div",40),o.Mc(1,Br,3,3,"div",41),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",null==e.formGroup.controls.coveragelevel||null==e.formGroup.controls.coveragelevel.errors?null:e.formGroup.controls.coveragelevel.errors.required)}}function Yr(e,t){1&e&&(o.Wb(0,"div",42),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message10")," "))}function Qr(e,t){if(1&e&&(o.Wb(0,"div",40),o.Mc(1,Yr,3,3,"div",41),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",null==e.formGroup.controls.extremesports||null==e.formGroup.controls.extremesports.errors?null:e.formGroup.controls.extremesports.errors.required)}}function $r(e,t){1&e&&(o.Wb(0,"div",42),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message10")," "))}function qr(e,t){if(1&e&&(o.Wb(0,"div",40),o.Mc(1,$r,3,3,"div",41),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",null==e.formGroup.controls.insuredPerson||null==e.formGroup.controls.insuredPerson.errors?null:e.formGroup.controls.insuredPerson.errors.required)}}function Hr(e,t){1&e&&(o.Wb(0,"div",42),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message10")," "))}function Kr(e,t){if(1&e&&(o.Wb(0,"div",40),o.Mc(1,Hr,3,3,"div",41),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",null==e.formGroup.controls.mobileNo||null==e.formGroup.controls.mobileNo.errors?null:e.formGroup.controls.mobileNo.errors.required)}}function zr(e,t){1&e&&(o.Wb(0,"div",42),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message10")," "))}function Zr(e,t){if(1&e&&(o.Wb(0,"div",40),o.Mc(1,zr,3,3,"div",41),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",null==e.formGroup.controls.addressline1||null==e.formGroup.controls.addressline1.errors?null:e.formGroup.controls.addressline1.errors.required)}}function Jr(e,t){1&e&&(o.Wb(0,"div",42),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message10")," "))}function Xr(e,t){if(1&e&&(o.Wb(0,"div",40),o.Mc(1,Jr,3,3,"div",41),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",null==e.formGroup.controls.addressline2||null==e.formGroup.controls.addressline2.errors?null:e.formGroup.controls.addressline2.errors.required)}}function ec(e,t){1&e&&(o.Wb(0,"div",42),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message10")," "))}function tc(e,t){if(1&e&&(o.Wb(0,"div",40),o.Mc(1,ec,3,3,"div",41),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",null==e.formGroup.controls.state||null==e.formGroup.controls.state.errors?null:e.formGroup.controls.state.errors.required)}}function ac(e,t){1&e&&(o.Wb(0,"div",42),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message10")," "))}function ic(e,t){if(1&e&&(o.Wb(0,"div",40),o.Mc(1,ac,3,3,"div",41),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",null==e.formGroup.controls.city||null==e.formGroup.controls.city.errors?null:e.formGroup.controls.city.errors.required)}}function oc(e,t){1&e&&(o.Wb(0,"div",42),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message10")," "))}function nc(e,t){if(1&e&&(o.Wb(0,"div",40),o.Mc(1,oc,3,3,"div",41),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",null==e.formGroup.controls.postCode||null==e.formGroup.controls.postCode.errors?null:e.formGroup.controls.postCode.errors.required)}}function sc(e,t){1&e&&(o.Wb(0,"div",42),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message7")," "))}function lc(e,t){if(1&e&&(o.Wb(0,"div",40),o.Mc(1,sc,3,3,"div",41),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",!1===e.formGroup.value.agreeToTermsAndCondition)}}const rc=function(e){return{"form-error":e}};let cc=(()=>{class e extends d.a{constructor(){super(),this.travelStartDate=[],this.isSubmit=!1}ngOnInit(){this.formGroup=this.initFormGroup()}initFormGroup(){return new n.i({startdate:new n.f("",[n.x.required]),enddate:new n.f("",[n.x.required]),countryofentry:new n.f("",[n.x.required]),coveragetype:new n.f("",[n.x.required]),coveragelevel:new n.f("",[n.x.required]),extremesports:new n.f("",[n.x.required]),insuredPerson:new n.f("",[n.x.required]),mobileNo:new n.f("",[n.x.required]),addressline1:new n.f("",[n.x.required]),addressline2:new n.f("",[n.x.required]),state:new n.f("",[n.x.required]),city:new n.f("",[n.x.required]),postCode:new n.f("",[n.x.required]),agreeToTermsAndCondition:new n.f(!1,[n.x.required])})}startDates(){const e=this.utilityService.momentInstance(this.utilityService.momentInstance().format("DD/MM/YYYY"),"DD/MM/YYYY"),t=this.utilityService.momentInstance(e,"DD/MM/YYYY").add(60,"days");this.travelStartDate.min={year:+e.format("YYYY"),month:+e.format("MM"),day:+e.format("DD")},this.travelStartDate.max={year:+t.format("YYYY"),month:+t.format("MM"),day:+t.format("DD")},this.formGroup.value.endate||(this.travelEndDate=Object.assign({},this.travelStartDate.min))}changeEndDate(e){var t;if(!this.formGroup.value.endate){const a=this.utilityService.momentInstance(null===(t=this.utilityService)||void 0===t?void 0:t.convertJSONInDate(e),"DD/MM/YYYY").add(1,"days");this.travelEndDate={year:+a.format("YYYY"),month:+a.format("MM"),day:+a.format("DD")}}}isDateFormatCheck(e){return this.utilityService.momentInstance(e,"DD/MM/YYYY").isValid()}dateFormatConversion(e){return this.utilityService.momentInstance(e).format("YYYY-MM-DD")}validateStartandEndDates(e,t){this.formGroup.controls.startdate.updateValueAndValidity(),this.formGroup.controls.enddate.updateValueAndValidity();const a=this.utilityService.momentInstance(this.utilityService.momentInstance().format("DD/MM/YYYY"),"DD/MM/YYYY"),i=this.utilityService.momentInstance(a,"YYYY-MM-DD").add(60,"days"),o=(i.format("YYYY"),i.format("MM"),i.format("DD"),this.dateFormatConversion(this.formGroup.value.startdate.year+"-"+this.formGroup.value.startdate.month+"-"+this.formGroup.value.startdate.day)),n=this.dateFormatConversion(this.formGroup.value.enddate.year+"-"+this.formGroup.value.enddate.month+"-"+this.formGroup.value.enddate.day),s=this.dateFormatConversion(e.year+"-"+e.month+"-"+e.day),l=this.isDateFormatCheck(e);l&&this.formGroup.controls[t].setErrors({formate:!0}),"startdate"!==t||l||this.utilityService.momentInstance(s).isSameOrAfter(a)||this.formGroup.controls[t].setErrors({validDate:!0}),this.formGroup.value.startdate&&("enddate"!==t||l||this.utilityService.momentInstance(s).isAfter(o)||this.formGroup.controls[t].setErrors({validStartandEnddates:!0})),this.formGroup.value.enddate&&("startdate"!==t||l||this.utilityService.momentInstance(s).isBefore(n)||this.formGroup.controls[t].setErrors({validStartandEnddates:!0}))}getQuotes(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Kb({type:e,selectors:[["app-tmi-oab-list"]],features:[o.Ab],decls:167,vars:59,consts:[[1,"mt-30","mb-20"],[3,"formGroup","ngSubmit"],[1,"row","align-items-end","mt-20"],[1,"col-12","col-sm"],[3,"ngClass"],[1,"form-group"],[1,"asterisk"],["class","errorMessage",4,"ngIf"],[1,"datepicker-div","form-group"],["placeholder","DD/MM/YYYY","ngbDatepicker","","formControlName","startdate",1,"form-control","input-lg","mt-5",3,"minDate","change","ngModelChange"],["datePickerReference","ngbDatepicker"],[1,"input-group-addon",3,"click"],["placeholder","DD/MM/YYYY","ngbDatepicker","","formControlName","enddate",1,"form-control","input-lg","mt-5",3,"minDate","change","ngModelChange"],["datePickerReference1","ngbDatepicker"],[1,"col-12"],["appearance","outline",1,"mat-form-field-outline-brand"],["placeholder","Select","formControlName","countryofentry"],["value","Global"],["value","Schengen"],["placeholder","Select","formControlName","coveragetype"],["placeholder","Select","formControlName","coveragelevel"],["value","50000"],["value","100000"],["placeholder","Select","formControlName","extremesports"],["value","Yes"],["value","No"],["placeholder","","matInput","","type","tel","formControlName","insuredPerson"],[1,"my-20"],["placeholder","+7 (903) 123-45-67","matInput","","type","tel","formControlName","mobileNo"],["matInput","","type","text","formControlName","addressline1"],["matInput","","type","text","formControlName","addressline2"],["matInput","","type","text","formControlName","state"],["matInput","","type","text","formControlName","city"],["matInput","","type","text","formControlName","postCode"],[1,"col-12","mt-20"],[1,"form-group",3,"ngClass"],[1,"pl-35"],["formControlName","agreeToTermsAndCondition","type","checkbox",1,"mat-checkbox-brand","ml-n35"],[1,"fs-sm-18","text-wrap","mr-5"],["mat-stroked-button","",1,"btn","btn-block","mat-btn-lg","btn-brand-orange"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"]],template:function(e,t){if(1&e){const e=o.Xb();o.Wb(0,"h5",0),o.Oc(1,"Travel details"),o.Vb(),o.Wb(2,"form",1),o.hc("ngSubmit",function(){return t.getQuotes()}),o.Wb(3,"div",2),o.Wb(4,"div",3),o.Wb(5,"div",4),o.Wb(6,"div",5),o.Wb(7,"div"),o.Oc(8,"Start date"),o.Wb(9,"span",6),o.Oc(10,"*"),o.Vb(),o.Vb(),o.Mc(11,Wr,5,4,"div",7),o.Wb(12,"div",8),o.Wb(13,"input",9,10),o.hc("change",function(){return t.validateStartandEndDates(t.formGroup.value.startdate,"startdate")})("ngModelChange",function(e){return t.changeEndDate(e),t.validateStartandEndDates(e,"startdate")}),o.Vb(),o.Wb(15,"div",11),o.hc("click",function(){return o.Fc(e),o.Bc(14).toggle()}),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(16,"div",3),o.Wb(17,"div",4),o.Wb(18,"div",5),o.Wb(19,"div"),o.Oc(20,"End date"),o.Wb(21,"span",6),o.Oc(22,"*"),o.Vb(),o.Vb(),o.Mc(23,_r,5,4,"div",7),o.Wb(24,"div",8),o.Wb(25,"input",12,13),o.hc("change",function(){return t.validateStartandEndDates(t.formGroup.value.enddate,"enddate")})("ngModelChange",function(e){return t.validateStartandEndDates(e,"enddate")}),o.Vb(),o.Wb(27,"div",11),o.hc("click",function(){return o.Fc(e),o.Bc(26).toggle()}),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(28,"div",14),o.Wb(29,"div",4),o.Wb(30,"div",5),o.Wb(31,"div"),o.Oc(32,"First country of entry"),o.Wb(33,"span",6),o.Oc(34,"*"),o.Vb(),o.Vb(),o.Mc(35,Gr,2,1,"div",7),o.Wb(36,"mat-form-field",15),o.Wb(37,"mat-select",16),o.Wb(38,"mat-option",17),o.Oc(39,"Global"),o.Vb(),o.Wb(40,"mat-option",18),o.Oc(41,"Schengen"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(42,"div",14),o.Wb(43,"div",4),o.Wb(44,"div",5),o.Wb(45,"div"),o.Oc(46,"Coverage type"),o.Wb(47,"span",6),o.Oc(48,"*"),o.Vb(),o.Vb(),o.Mc(49,Ur,2,1,"div",7),o.Wb(50,"mat-form-field",15),o.Wb(51,"mat-select",19),o.Wb(52,"mat-option",17),o.Oc(53,"Global"),o.Vb(),o.Wb(54,"mat-option",18),o.Oc(55,"Schengen"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(56,"div",14),o.Wb(57,"div",4),o.Wb(58,"div",5),o.Wb(59,"div"),o.Oc(60,"Coverage level (Euro)"),o.Wb(61,"span",6),o.Oc(62,"*"),o.Vb(),o.Vb(),o.Mc(63,jr,2,1,"div",7),o.Wb(64,"mat-form-field",15),o.Wb(65,"mat-select",20),o.Wb(66,"mat-option",21),o.Oc(67,"50000"),o.Vb(),o.Wb(68,"mat-option",22),o.Oc(69,"100000"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(70,"div",14),o.Wb(71,"div",4),o.Wb(72,"div",5),o.Wb(73,"div"),o.Oc(74,"Do you want to add extreme sports?"),o.Wb(75,"span",6),o.Oc(76,"*"),o.Vb(),o.Vb(),o.Mc(77,Qr,2,1,"div",7),o.Wb(78,"mat-form-field",15),o.Wb(79,"mat-select",23),o.Wb(80,"mat-option",24),o.Oc(81,"Yes"),o.Vb(),o.Wb(82,"mat-option",25),o.Oc(83,"No"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(84,"div",14),o.Wb(85,"div",4),o.Wb(86,"div",5),o.Wb(87,"div"),o.Oc(88,"Insured Person"),o.Wb(89,"span",6),o.Oc(90,"*"),o.Vb(),o.Vb(),o.Mc(91,qr,2,1,"div",7),o.Wb(92,"mat-form-field",15),o.Rb(93,"input",26),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(94,"div",14),o.Rb(95,"hr",27),o.Vb(),o.Wb(96,"div",14),o.Wb(97,"div",4),o.Wb(98,"div",5),o.Wb(99,"div"),o.Oc(100,"Contact number"),o.Wb(101,"span",6),o.Oc(102,"*"),o.Vb(),o.Vb(),o.Mc(103,Kr,2,1,"div",7),o.Wb(104,"mat-form-field",15),o.Rb(105,"input",28),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(106,"div",14),o.Wb(107,"div",4),o.Wb(108,"div",5),o.Wb(109,"div"),o.Oc(110,"Address Line 1"),o.Wb(111,"span",6),o.Oc(112,"*"),o.Vb(),o.Vb(),o.Mc(113,Zr,2,1,"div",7),o.Wb(114,"mat-form-field",15),o.Rb(115,"input",29),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(116,"div",14),o.Wb(117,"div",4),o.Wb(118,"div",5),o.Wb(119,"div"),o.Oc(120,"Address Line 2"),o.Wb(121,"span",6),o.Oc(122,"*"),o.Vb(),o.Vb(),o.Mc(123,Xr,2,1,"div",7),o.Wb(124,"mat-form-field",15),o.Rb(125,"input",30),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(126,"div",14),o.Wb(127,"div",4),o.Wb(128,"div",5),o.Wb(129,"div"),o.Oc(130,"State"),o.Wb(131,"span",6),o.Oc(132,"*"),o.Vb(),o.Vb(),o.Mc(133,tc,2,1,"div",7),o.Wb(134,"mat-form-field",15),o.Rb(135,"input",31),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(136,"div",14),o.Wb(137,"div",4),o.Wb(138,"div",5),o.Wb(139,"div"),o.Oc(140,"City"),o.Wb(141,"span",6),o.Oc(142,"*"),o.Vb(),o.Vb(),o.Mc(143,ic,2,1,"div",7),o.Wb(144,"mat-form-field",15),o.Rb(145,"input",32),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(146,"div",14),o.Wb(147,"div",4),o.Wb(148,"div",5),o.Wb(149,"div"),o.Oc(150,"Postcode"),o.Wb(151,"span",6),o.Oc(152,"*"),o.Vb(),o.Vb(),o.Mc(153,nc,2,1,"div",7),o.Wb(154,"mat-form-field",15),o.Rb(155,"input",33),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(156,"div",34),o.Wb(157,"div",35),o.Wb(158,"div",5),o.Mc(159,lc,2,1,"div",7),o.Wb(160,"div",36),o.Wb(161,"mat-checkbox",37),o.Wb(162,"div",38),o.Oc(163,"I agree that my personal data may be shared with VFS' insurance partners. I have read and agree to the Terms and condition"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(164,"div",14),o.Wb(165,"button",39),o.Oc(166," Get quote "),o.Vb(),o.Vb(),o.Vb(),o.Vb()}2&e&&(o.Db(2),o.tc("formGroup",t.formGroup),o.Db(3),o.tc("ngClass",o.xc(31,rc,(null==t.formGroup.controls.startdate?null:t.formGroup.controls.startdate.touched)&&(null==t.formGroup.controls.startdate?null:t.formGroup.controls.startdate.errors))),o.Db(6),o.tc("ngIf",(null==t.formGroup.controls.startdate?null:t.formGroup.controls.startdate.touched)&&(null==t.formGroup.controls.startdate?null:t.formGroup.controls.startdate.errors)),o.Db(2),o.tc("minDate",t.travelStartDate.min),o.Db(4),o.tc("ngClass",o.xc(33,rc,(null==t.formGroup.controls.enddate?null:t.formGroup.controls.enddate.touched)&&(null==t.formGroup.controls.enddate?null:t.formGroup.controls.enddate.errors))),o.Db(6),o.tc("ngIf",(null==t.formGroup.controls.enddate?null:t.formGroup.controls.enddate.touched)&&(null==t.formGroup.controls.enddate?null:t.formGroup.controls.enddate.errors)),o.Db(2),o.tc("minDate",t.travelEndDate),o.Db(4),o.tc("ngClass",o.xc(35,rc,(null==t.formGroup.controls.countryofentry?null:t.formGroup.controls.countryofentry.touched)&&(null==t.formGroup.controls.countryofentry?null:t.formGroup.controls.countryofentry.errors))),o.Db(6),o.tc("ngIf",(null==t.formGroup.controls.countryofentry?null:t.formGroup.controls.countryofentry.touched)&&(null==t.formGroup.controls.countryofentry?null:t.formGroup.controls.countryofentry.errors)),o.Db(8),o.tc("ngClass",o.xc(37,rc,(null==t.formGroup.controls.coveragetype?null:t.formGroup.controls.coveragetype.touched)&&(null==t.formGroup.controls.coveragetype?null:t.formGroup.controls.coveragetype.errors))),o.Db(6),o.tc("ngIf",(null==t.formGroup.controls.coveragetype?null:t.formGroup.controls.coveragetype.touched)&&(null==t.formGroup.controls.coveragetype?null:t.formGroup.controls.coveragetype.errors)),o.Db(8),o.tc("ngClass",o.xc(39,rc,(null==t.formGroup.controls.coveragelevel?null:t.formGroup.controls.coveragelevel.touched)&&(null==t.formGroup.controls.coveragelevel?null:t.formGroup.controls.coveragelevel.errors))),o.Db(6),o.tc("ngIf",(null==t.formGroup.controls.coveragelevel?null:t.formGroup.controls.coveragelevel.touched)&&(null==t.formGroup.controls.coveragelevel?null:t.formGroup.controls.coveragelevel.errors)),o.Db(8),o.tc("ngClass",o.xc(41,rc,(null==t.formGroup.controls.extremesports?null:t.formGroup.controls.extremesports.touched)&&(null==t.formGroup.controls.extremesports?null:t.formGroup.controls.extremesports.errors))),o.Db(6),o.tc("ngIf",(null==t.formGroup.controls.extremesports?null:t.formGroup.controls.extremesports.touched)&&(null==t.formGroup.controls.extremesports?null:t.formGroup.controls.extremesports.errors)),o.Db(8),o.tc("ngClass",o.xc(43,rc,(null==t.formGroup.controls.insuredPerson?null:t.formGroup.controls.insuredPerson.touched)&&(null==t.formGroup.controls.insuredPerson?null:t.formGroup.controls.insuredPerson.errors))),o.Db(6),o.tc("ngIf",(null==t.formGroup.controls.insuredPerson?null:t.formGroup.controls.insuredPerson.touched)&&(null==t.formGroup.controls.insuredPerson?null:t.formGroup.controls.insuredPerson.errors)),o.Db(6),o.tc("ngClass",o.xc(45,rc,(null==t.formGroup.controls.mobileNo?null:t.formGroup.controls.mobileNo.touched)&&(null==t.formGroup.controls.mobileNo?null:t.formGroup.controls.mobileNo.errors))),o.Db(6),o.tc("ngIf",(null==t.formGroup.controls.mobileNo?null:t.formGroup.controls.mobileNo.touched)&&(null==t.formGroup.controls.mobileNo?null:t.formGroup.controls.mobileNo.errors)),o.Db(4),o.tc("ngClass",o.xc(47,rc,(null==t.formGroup.controls.addressline1?null:t.formGroup.controls.addressline1.touched)&&(null==t.formGroup.controls.addressline1?null:t.formGroup.controls.addressline1.errors))),o.Db(6),o.tc("ngIf",(null==t.formGroup.controls.addressline1?null:t.formGroup.controls.addressline1.touched)&&(null==t.formGroup.controls.addressline1?null:t.formGroup.controls.addressline1.errors)),o.Db(4),o.tc("ngClass",o.xc(49,rc,(null==t.formGroup.controls.addressline2?null:t.formGroup.controls.addressline2.touched)&&(null==t.formGroup.controls.addressline2?null:t.formGroup.controls.addressline2.errors))),o.Db(6),o.tc("ngIf",(null==t.formGroup.controls.addressline2?null:t.formGroup.controls.addressline2.touched)&&(null==t.formGroup.controls.addressline2?null:t.formGroup.controls.addressline2.errors)),o.Db(4),o.tc("ngClass",o.xc(51,rc,(null==t.formGroup.controls.state?null:t.formGroup.controls.state.touched)&&(null==t.formGroup.controls.state?null:t.formGroup.controls.state.errors))),o.Db(6),o.tc("ngIf",(null==t.formGroup.controls.state?null:t.formGroup.controls.state.touched)&&(null==t.formGroup.controls.state?null:t.formGroup.controls.state.errors)),o.Db(4),o.tc("ngClass",o.xc(53,rc,(null==t.formGroup.controls.city?null:t.formGroup.controls.city.touched)&&(null==t.formGroup.controls.city?null:t.formGroup.controls.city.errors))),o.Db(6),o.tc("ngIf",(null==t.formGroup.controls.city?null:t.formGroup.controls.city.touched)&&(null==t.formGroup.controls.city?null:t.formGroup.controls.city.errors)),o.Db(4),o.tc("ngClass",o.xc(55,rc,(null==t.formGroup.controls.postCode?null:t.formGroup.controls.postCode.touched)&&(null==t.formGroup.controls.postCode?null:t.formGroup.controls.postCode.errors))),o.Db(6),o.tc("ngIf",(null==t.formGroup.controls.postCode?null:t.formGroup.controls.postCode.touched)&&(null==t.formGroup.controls.postCode?null:t.formGroup.controls.postCode.errors)),o.Db(4),o.tc("ngClass",o.xc(57,rc,!1===t.formGroup.value.agreeToTermsAndCondition&&t.isSubmit)),o.Db(2),o.tc("ngIf",t.isSubmit))},directives:[n.y,n.r,n.j,m.m,m.o,ct.d,n.d,n.q,n.h,b.b,dt.a,bt.j,g.b,f.a,h.a],pipes:[p.d],encapsulation:2}),e})();function dc(e,t){1&e&&(o.Wb(0,"div",23),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message11")," "))}function uc(e,t){1&e&&(o.Wb(0,"div",23),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message14")," "))}function mc(e,t){if(1&e&&(o.Wb(0,"div",21),o.Mc(1,dc,3,3,"div",22),o.Mc(2,uc,3,3,"div",22),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",null==e.applicantForm.controls.firstName||null==e.applicantForm.controls.firstName.errors?null:e.applicantForm.controls.firstName.errors.required),o.Db(1),o.tc("ngIf",null==e.applicantForm.controls.firstName||null==e.applicantForm.controls.firstName.errors?null:e.applicantForm.controls.firstName.errors.pattern)}}function pc(e,t){1&e&&(o.Wb(0,"div",23),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message12")," "))}function bc(e,t){1&e&&(o.Wb(0,"div",23),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message14")," "))}function gc(e,t){if(1&e&&(o.Wb(0,"div",21),o.Mc(1,pc,3,3,"div",22),o.Mc(2,bc,3,3,"div",22),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",null==e.applicantForm.controls.lastName||null==e.applicantForm.controls.lastName.errors?null:e.applicantForm.controls.lastName.errors.required),o.Db(1),o.tc("ngIf",null==e.applicantForm.controls.lastName||null==e.applicantForm.controls.lastName.errors?null:e.applicantForm.controls.lastName.errors.pattern)}}function fc(e,t){1&e&&(o.Wb(0,"div",23),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"travelMedicalInformation.messages.errorMessages.message13")," "))}function hc(e,t){if(1&e&&(o.Wb(0,"div",21),o.Mc(1,fc,3,3,"div",22),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",null==e.applicantForm.controls.dateOfBirth||null==e.applicantForm.controls.dateOfBirth.errors?null:e.applicantForm.controls.dateOfBirth.errors.required)}}function vc(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Wb(1,"h1"),o.Oc(2,"Insurance for obtaining"),o.Vb(),o.Wb(3,"p"),o.Oc(4,"Please provide information about the type of visa you wish to apply for. Be aware that the appointment category Applicant 1 chooses will be applied to each of the applicants added to your appointment booking."),o.Vb(),o.Wb(5,"h5",1),o.Oc(6),o.Vb(),o.Wb(7,"form",2),o.hc("ngSubmit",function(){return o.Fc(e),o.lc().submitApplicant()}),o.Wb(8,"div",3),o.Wb(9,"div",4),o.Wb(10,"div",5),o.Wb(11,"div"),o.Oc(12,"First name"),o.Wb(13,"span",6),o.Oc(14,"*"),o.Vb(),o.Vb(),o.Mc(15,mc,3,2,"div",7),o.Wb(16,"mat-form-field",8),o.Wb(17,"input",9),o.hc("input",function(){o.Fc(e);const t=o.lc();return t.applicantForm.controls.firstName.setValue(t.applicantForm.controls.firstName.value.toUpperCase())}),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(18,"div",4),o.Wb(19,"div",5),o.Wb(20,"div"),o.Oc(21,"Last name"),o.Wb(22,"span",6),o.Oc(23,"*"),o.Vb(),o.Vb(),o.Mc(24,gc,3,2,"div",7),o.Wb(25,"mat-form-field",8),o.Wb(26,"input",10),o.hc("input",function(){o.Fc(e);const t=o.lc();return t.applicantForm.controls.lastName.setValue(t.applicantForm.controls.lastName.value.toUpperCase())}),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(27,"div",11),o.Wb(28,"div",5),o.Wb(29,"div"),o.Oc(30,"Date of birth"),o.Wb(31,"span",6),o.Oc(32,"*"),o.Vb(),o.Vb(),o.Mc(33,hc,2,1,"div",7),o.Wb(34,"div",12),o.Rb(35,"input",13,14),o.mc(37,"translate"),o.Wb(38,"div",15),o.hc("click",function(){return o.Fc(e),o.Bc(36).toggle()}),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(39,"div",16),o.Wb(40,"div",5),o.Wb(41,"div",17),o.Wb(42,"mat-checkbox",18),o.hc("change",function(t){return o.Fc(e),o.lc().checkIsDisabled(t)}),o.Wb(43,"div",19),o.Oc(44,"I am the buyer"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(45,"div",11),o.Wb(46,"button",20),o.Oc(47),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Tb()}if(2&e){const e=o.lc();o.Db(6),o.Qc("Applicant ",e.applicationDetails.applicantList.length+1,""),o.Db(1),o.tc("formGroup",e.applicantForm),o.Db(8),o.tc("ngIf",(null==e.applicantForm.controls.firstName?null:e.applicantForm.controls.firstName.touched)&&(null==e.applicantForm.controls.firstName?null:e.applicantForm.controls.firstName.errors)),o.Db(9),o.tc("ngIf",(null==e.applicantForm.controls.lastName?null:e.applicantForm.controls.lastName.touched)&&(null==e.applicantForm.controls.lastName?null:e.applicantForm.controls.lastName.errors)),o.Db(9),o.tc("ngIf",(null==e.applicantForm.controls.dateOfBirth?null:e.applicantForm.controls.dateOfBirth.touched)&&(null==e.applicantForm.controls.dateOfBirth?null:e.applicantForm.controls.dateOfBirth.errors)),o.Db(2),o.uc("placeholder",o.nc(37,8,"travelMedicalInformation.placeholder.label1")),o.Db(11),o.tc("disabled",e.enableSubmitbutton()),o.Db(1),o.Qc(" ",0==e.isEditModeFlag?"Save and continue":"update and continue"," ")}}function yc(e,t){if(1&e){const e=o.Xb();o.Wb(0,"i",35),o.hc("click",function(){o.Fc(e);const t=o.lc().index;return o.lc(2).removeApplicant(t)}),o.Vb()}}function Sc(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div",29),o.Wb(1,"div",30),o.Wb(2,"div",31),o.Oc(3),o.Vb(),o.Vb(),o.Wb(4,"div",32),o.Mc(5,yc,1,0,"i",33),o.Wb(6,"i",34),o.hc("click",function(){o.Fc(e);const a=t.$implicit,i=t.index;return o.lc(2).editApplicant(a,i)}),o.Vb(),o.Vb(),o.Vb()}if(2&e){const e=t.$implicit,a=t.index;o.Db(3),o.Tc("",a+1," | ",e.firstName," ",e.lastName," | ",e.age,""),o.Db(2),o.tc("ngIf",a>0)}}function Cc(e,t){1&e&&(o.Ub(0),o.Wb(1,"div",36),o.Wb(2,"div",37),o.Wb(3,"h2",38),o.Oc(4,"Quote summary"),o.Vb(),o.Vb(),o.Wb(5,"div",32),o.Wb(6,"span",39),o.Oc(7,"Edit"),o.Vb(),o.Vb(),o.Vb(),o.Wb(8,"div",40),o.Wb(9,"ul",41),o.Wb(10,"li",42),o.Wb(11,"div",43),o.Oc(12,"Applicant(s)"),o.Vb(),o.Wb(13,"div",44),o.Oc(14,"1 | Sagar Maspog | 36yrs"),o.Vb(),o.Vb(),o.Wb(15,"li",42),o.Wb(16,"div",43),o.Oc(17,"Travel dates"),o.Vb(),o.Wb(18,"div",44),o.Oc(19,"08/07/2022 - 16/07/2022"),o.Vb(),o.Vb(),o.Wb(20,"li",42),o.Wb(21,"div",43),o.Oc(22,"Coverage type"),o.Vb(),o.Wb(23,"div",44),o.Oc(24,"Global"),o.Vb(),o.Vb(),o.Wb(25,"li",42),o.Wb(26,"div",43),o.Oc(27,"Coverage level"),o.Vb(),o.Wb(28,"div",44),o.Oc(29,"50000"),o.Vb(),o.Vb(),o.Wb(30,"li",42),o.Wb(31,"div",43),o.Oc(32,"Do you want to add extreme sports?"),o.Vb(),o.Wb(33,"div",44),o.Oc(34,"Yes"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(35,"h2",45),o.Oc(36,"Choose your plan"),o.Vb(),o.Wb(37,"div",46),o.Wb(38,"table",47),o.Wb(39,"tr",48),o.Wb(40,"td",49),o.Oc(41,"Plan"),o.Vb(),o.Wb(42,"td",50),o.Oc(43,"Cost (INR)"),o.Vb(),o.Rb(44,"td",51),o.Vb(),o.Wb(45,"tr",52),o.Wb(46,"td",53),o.Wb(47,"div",54),o.Wb(48,"div",32),o.Rb(49,"div",55),o.Vb(),o.Wb(50,"div",56),o.Oc(51,"ICICI"),o.Vb(),o.Vb(),o.Wb(52,"div",57),o.Wb(53,"p",58),o.Oc(54,"Lorem ipsum is placeholder text commonly used in the graphic, print, and publishing industries for previewing layouts and visual mockups."),o.Vb(),o.Vb(),o.Wb(55,"div",59),o.Wb(56,"span",60),o.Oc(57,"Read more \u2192"),o.Vb(),o.Vb(),o.Vb(),o.Wb(58,"td",61),o.Wb(59,"div",62),o.Oc(60,"INR 5000.00"),o.Vb(),o.Wb(61,"button",63),o.Oc(62," Select "),o.Vb(),o.Vb(),o.Wb(63,"td",64),o.Wb(64,"button",65),o.Oc(65," Select "),o.Vb(),o.Vb(),o.Vb(),o.Wb(66,"tr",52),o.Wb(67,"td",53),o.Wb(68,"div",54),o.Wb(69,"div",32),o.Rb(70,"div",66),o.Vb(),o.Wb(71,"div",56),o.Oc(72,"Care"),o.Vb(),o.Vb(),o.Wb(73,"div",57),o.Wb(74,"p",58),o.Oc(75,"Lorem ipsum is placeholder text commonly used in the graphic, print, and publishing industries for previewing layouts and visual mockups."),o.Vb(),o.Vb(),o.Wb(76,"div",59),o.Wb(77,"span",60),o.Oc(78,"Read more \u2192"),o.Vb(),o.Vb(),o.Vb(),o.Wb(79,"td",61),o.Wb(80,"div",62),o.Oc(81,"INR 6500.00"),o.Vb(),o.Wb(82,"button",63),o.Oc(83," Select "),o.Vb(),o.Vb(),o.Wb(84,"td",64),o.Wb(85,"button",65),o.Oc(86," Select "),o.Vb(),o.Vb(),o.Vb(),o.Wb(87,"tr",52),o.Wb(88,"td",53),o.Wb(89,"div",54),o.Wb(90,"div",32),o.Rb(91,"div",67),o.Vb(),o.Wb(92,"div",56),o.Oc(93,"HDFC Ergo"),o.Vb(),o.Vb(),o.Wb(94,"div",57),o.Wb(95,"p",58),o.Oc(96,"Lorem ipsum is placeholder text commonly used in the graphic, print, and publishing industries for previewing layouts and visual mockups."),o.Vb(),o.Vb(),o.Wb(97,"div",59),o.Wb(98,"span",60),o.Oc(99,"Read more \u2192"),o.Vb(),o.Vb(),o.Vb(),o.Wb(100,"td",61),o.Wb(101,"div",62),o.Oc(102,"INR 7500.00"),o.Vb(),o.Wb(103,"button",63),o.Oc(104," Select "),o.Vb(),o.Vb(),o.Wb(105,"td",64),o.Wb(106,"button",65),o.Oc(107," Select "),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(108,"div",68),o.Wb(109,"div",69),o.Wb(110,"button",70),o.Oc(111," Go back "),o.Vb(),o.Vb(),o.Wb(112,"div",69),o.Wb(113,"button",71),o.Oc(114," Make payment "),o.Vb(),o.Vb(),o.Vb(),o.Tb())}function Dc(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Wb(1,"div",24),o.Wb(2,"div",25),o.Oc(3,"Applicant(S)"),o.Vb(),o.Mc(4,Sc,7,5,"div",26),o.Vb(),o.Wb(5,"div",27),o.Wb(6,"button",28),o.hc("click",function(){return o.Fc(e),o.lc().addAnotherApplicant()}),o.Oc(7," Add another applicant "),o.Vb(),o.Vb(),o.Rb(8,"app-tmi-oab-list"),o.Rb(9,"br"),o.Rb(10,"br"),o.Rb(11,"br"),o.Mc(12,Cc,115,0,"ng-container",0),o.Tb()}if(2&e){const e=o.lc();o.Db(4),o.tc("ngForOf",e.applicantionList),o.Db(8),o.tc("ngIf",e.applicantsListFlag)}}let Ic=(()=>{class e extends d.a{constructor(){super(),this.applicantsListFlag=!1,this.initDate=[],this.isApplicantSelected=!1,this.addApplicantsFlag=!1,this.isEditModeFlag=!1,this.applicationDetails={}}ngOnInit(){this.applicantForm=this.initForm(),this.applicationDetails=this.sessionService.applicationDetailValue,this.initDatepicker(),this.applicantList(this.sessionService.isTmiOabAddApplicant),this.applicantionList=this.applicationDetails.applicantList,this.calculateApplicantAge()}initForm(){return new n.i({firstName:new n.f("",[n.x.pattern("^[a-zA-Z][a-zA-Z ]+$"),n.x.required]),lastName:new n.f("",[n.x.pattern("^[a-zA-Z][a-zA-Z ]+$"),n.x.required]),dateOfBirth:new n.f("",[n.x.required]),urn:new n.f(""),arn:new n.f(""),loginUser:new n.f(""),salutation:new n.f(""),gender:new n.f(0),contactNumber:new n.f(""),dialCode:new n.f(""),passportNumber:new n.f(""),passportExpirtyDate:new n.f(""),emailId:new n.f(""),nationalityCode:new n.f(""),stateCode:new n.f("0"),cityCode:new n.f("0"),isEndorsedChild:new n.f(!1),applicantType:new n.f(0),addressline1:new n.f(""),addressline2:new n.f(""),pincode:new n.f(""),referenceNumber:new n.f(""),applicantGroupId:new n.f(0),parentPassportNumber:new n.f(""),parentPassportExpiry:new n.f(""),dateOfDeparture:new n.f(""),ipAddress:new n.f("11.22.33.44"),state:new n.f(""),city:new n.f(""),age:new n.f("")})}get applicantF(){return this.applicantForm.controls}initDatepicker(){const e=this.utilityService.momentInstance(this.utilityService.momentInstance().format("DD/MM/YYYY"),"DD/MM/YYYY");this.initDate.maxDOB={year:+e.format("YYYY"),month:+e.format("MM"),day:+e.format("DD")}}submitApplicant(){try{this.applicantForm.invalid||(!1===this.isEditModeFlag?this.addApplicant():!0===this.isEditModeFlag&&this.updateApplicant())}catch(e){console.log(e)}}addApplicant(){return Object(l.b)(this,void 0,void 0,function*(){try{this.applicantForm.invalid||(console.log(this.applicantForm.value),this.applicationDetails.applicantList.push(this.applicantForm.value),this.sessionService.applicationDetailValue=this.applicationDetails,this.applicantionList=this.applicationDetails.applicantList,this.calculateApplicantAge(),this.applicantList(!0))}catch(e){console.log(e)}})}updateApplicant(){console.log(this.applicantForm.value);try{!this.applicantForm.invalid&&this.isEditModeFlag&&(this.applicationDetails.applicantList[this.editApplicantNo]=this.applicantForm.value,this.applicantionList=this.applicationDetails.applicantList,this.calculateApplicantAge(),this.isEditModeFlag=!1,this.applicantList(!0))}catch(e){console.log(e)}}checkIsDisabled(e){return Object(l.b)(this,void 0,void 0,function*(){this.isApplicantSelected=e.checked})}enableSubmitbutton(){return!this.isApplicantSelected||!this.applicantForm.valid}applicantList(e){return this.sessionService.isTmiOabAddApplicant=e,this.addApplicantsFlag=e}addAnotherApplicant(){this.applicantForm.reset(),this.isApplicantSelected=!this.isApplicantSelected,this.applicantList(!1)}editApplicant(e,t){this.isEditModeFlag=!0,this.editApplicantNo=t,this.applicantForm.patchValue(e),this.isApplicantSelected=!this.isApplicantSelected,this.applicantList(!1)}removeApplicant(e){this.applicationDetails.applicantList.splice(e,1),this.applicantionList=this.applicationDetails.applicantList,this.calculateApplicantAge(),console.log(this.applicantionList)}calculateApplicantAge(){for(let e of this.applicantionList){const t=this.utilityService.momentInstance().format("DD/MM/YYYY"),a=this.utilityService.convertJSONInDate(e.dateOfBirth),i=this.utilityService.momentInstance(t,"DD/MM/YYYY").diff(this.utilityService.momentInstance(a,"DD/MM/YYYY"),"years");e.age=i}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Kb({type:e,selectors:[["app-tmi-addapplicant"]],features:[o.Ab],decls:2,vars:2,consts:[[4,"ngIf"],[1,"mb-20"],[3,"formGroup","ngSubmit"],[1,"row","align-items-end","mt-20"],[1,"col-12","col-sm"],[1,"form-group"],[1,"asterisk"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["placeholder","First name","formControlName","firstName","matInput","","type","text","required","",2,"text-transform","uppercase",3,"input"],["placeholder","Last name","formControlName","lastName","matInput","","type","text","required","",2,"text-transform","uppercase",3,"input"],[1,"col-12"],[1,"datepicker-div","form-group"],["ngbDatepicker","","formControlName","dateOfBirth",1,"form-control","input-lg","mt-5",3,"placeholder"],["datePickerReference1","ngbDatepicker"],[1,"input-group-addon",3,"click"],[1,"col-12","my-20"],[1,"pl-35"],["type","checkbox",1,"mat-checkbox-brand","ml-n35",3,"change"],[1,"fs-sm-18","text-wrap","mr-5"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[1,"mx-n15","mx-md-n30","px-15","px-md-30"],[1,"c-brand-grey-para","mb-5"],["class","row no-gutters align-items-center border-bottom-1 py-15",4,"ngFor","ngForOf"],[1,"text-right","mt-20"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-brand-orange",3,"click"],[1,"row","no-gutters","align-items-center","border-bottom-1","py-15"],[1,"col","fs-18"],[1,"w-wrap-break"],[1,"col-auto"],["class","fa fa-trash-o c-brand-blue-light fs-25 cursor-pointer mx-25",3,"click",4,"ngIf"],[1,"fa","fa-edit","c-brand-blue-light","fs-24","cursor-pointer",3,"click"],[1,"fa","fa-trash-o","c-brand-blue-light","fs-25","cursor-pointer","mx-25",3,"click"],[1,"row","mb-20"],[1,"col"],[1,"fs-18","fs-sm-24","mb-0"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer"],[1,"card","border-bottom-2","mb-40"],[1,"list-group","list-group-flush"],[1,"list-group-item","px-md-25"],[1,"c-brand-grey-para"],[1,"fs-18","mt-8"],[1,"fs-18","fs-sm-24","mt-40","mb-20"],[1,"card"],[1,"w-100"],[1,"bg-brand-footer","c-brand-grey-para","border-bottom-1"],[1,"pl-15","py-15"],[1,"text-center","pr-15","pr-sm-0"],[1,"pr-15","d-none","d-sm-table-cell"],[1,"border-bottom-1"],[1,"align-top","py-25","pl-15"],[1,"row","align-items-center","mb-15"],[1,"insurance-logo",2,"background-image","url('https://is2-ssl.mzstatic.com/image/thumb/Purple123/v4/81/97/7d/81977da9-c7a2-59a8-290a-30a5c6728e52/source/256x256bb.jpg')"],[1,"col","ff-700","fs-sm-18","pl-0"],[1,"c-brand-grey-para","fs-16","text-box-ellipsis"],[1,"ng-star-inserted"],[1,"mb-3"],[1,"fs-sm-18","c-brand-orange","text-decoration-underline","cursor-pointer"],[1,"align-top","py-25","ff-500","position-relative"],[1,"mt-7","min-w-100","text-center","c-brand-green"],["mat-stroked-button","",1,"btn","btn-outline-brand-orange","d-sm-none","position-absolute","bottom-20",2,"transform","translateX(-50%)","left","50%"],[1,"align-top","py-25","pr-15","text-center","d-none","d-sm-table-cell"],["mat-stroked-button","",1,"btn","btn-outline-brand-orange"],[1,"insurance-logo",2,"background-image","url('https://upload.wikimedia.org/wikipedia/commons/9/90/Care_health_insurance_logo.png')"],[1,"insurance-logo",2,"background-image","url('https://thelivenagpur.com/wp-content/uploads/2021/10/HDFC-ERGO.jpg')"],[1,"row"],[1,"col-12","col-sm-6","mt-20"],["mat-stroked-button","",1,"btn","btn-block","mat-btn-lg","btn-outline-brand-orange"],["mat-stroked-button","",1,"btn","btn-block","mat-btn-lg","btn-brand-orange"]],template:function(e,t){1&e&&(o.Mc(0,vc,48,10,"ng-container",0),o.Mc(1,Dc,13,2,"ng-container",0)),2&e&&(o.tc("ngIf",!t.addApplicantsFlag),o.Db(1),o.tc("ngIf",t.addApplicantsFlag&&t.applicationDetails.applicantList.length>0))},directives:[m.o,n.y,n.r,n.j,b.b,n.d,g.b,n.q,n.h,n.w,ct.d,f.a,h.a,m.n,cc],pipes:[p.d],encapsulation:2}),e})();const Vc=["viewChangeAppointmentModal"];function Ac(e,t){if(1&e&&(o.Wb(0,"h1",9),o.Oc(1),o.mc(2,"translate"),o.Vb(),o.Wb(3,"p",10),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Rb(6,"app-tmiform")),2&e){const e=o.lc(2);o.Db(1),o.Pc(o.nc(2,2,null==e.tmiContentfulData?null:e.tmiContentfulData.quoteFormPageTitle)),o.Db(3),o.Pc(o.nc(5,4,null==e.tmiContentfulData?null:e.tmiContentfulData.quoteFormPageSubTitle))}}function Oc(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Wb(1,"h1",9),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Wb(4,"p",10),o.Oc(5),o.mc(6,"translate"),o.Vb(),o.Wb(7,"app-tmilist",11),o.hc("tmiProductSelected",function(t){return o.Fc(e),o.lc(2).tmiProductSelected(t)}),o.Vb(),o.Tb()}if(2&e){const e=o.lc(2);o.Db(2),o.Pc(o.nc(3,2,null==e.tmiContentfulData?null:e.tmiContentfulData.plansListingPagePageTitle)),o.Db(3),o.Pc(o.nc(6,4,null==e.tmiContentfulData?null:e.tmiContentfulData.plansListingPageSubTitle))}}function Tc(e,t){if(1&e&&(o.Wb(0,"mat-card",6),o.Mc(1,Ac,7,6,"ng-template",null,7,o.Nc),o.Mc(3,Oc,8,6,"ng-container",8),o.Vb()),2&e){const e=o.Bc(2),t=o.lc();o.Db(3),o.tc("ngIf",t.tmiProductsView)("ngIfElse",e)}}function Lc(e,t){if(1&e&&(o.Wb(0,"h1",9),o.Oc(1),o.mc(2,"translate"),o.Vb(),o.Wb(3,"p",10),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Rb(6,"app-tmi-addapplicant")),2&e){const e=o.lc(2);o.Db(1),o.Pc(o.nc(2,2,null==e.tmiContentfulData?null:e.tmiContentfulData.quoteFormPageTitle)),o.Db(3),o.Pc(o.nc(5,4,null==e.tmiContentfulData?null:e.tmiContentfulData.quoteFormPageSubTitle))}}function Nc(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Wb(1,"h1",9),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Wb(4,"p",10),o.Oc(5),o.mc(6,"translate"),o.Vb(),o.Wb(7,"app-tmilist",11),o.hc("tmiProductSelected",function(t){return o.Fc(e),o.lc(2).tmiProductSelected(t)}),o.Vb(),o.Tb()}if(2&e){const e=o.lc(2);o.Db(2),o.Pc(o.nc(3,2,null==e.tmiContentfulData?null:e.tmiContentfulData.plansListingPagePageTitle)),o.Db(3),o.Pc(o.nc(6,4,null==e.tmiContentfulData?null:e.tmiContentfulData.plansListingPageSubTitle))}}function Mc(e,t){if(1&e&&(o.Wb(0,"mat-card",6),o.Mc(1,Lc,7,6,"ng-template",null,7,o.Nc),o.Mc(3,Nc,8,6,"ng-container",8),o.Vb()),2&e){const e=o.Bc(2),t=o.lc();o.Db(3),o.tc("ngIf",t.tmiProductsView)("ngIfElse",e)}}function Ec(e,t){1&e&&o.Sb(0)}function Wc(e,t){if(1&e){const e=o.Xb();o.Wb(0,"mat-card",12),o.Wb(1,"div",13),o.Wb(2,"div",14),o.Wb(3,"button",15),o.hc("click",function(){return o.Fc(e),o.lc().routePrevious()}),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Vb(),o.Wb(6,"div",14),o.Mc(7,Ec,1,0,"ng-container",16),o.Vb(),o.Vb(),o.Vb()}if(2&e){const e=o.lc(),t=o.Bc(9),a=o.Bc(7);o.Db(4),o.Qc(" ",o.nc(5,2,"commonSections.buttons.button8")," "),o.Db(3),o.tc("ngTemplateOutlet",e.tmiProductsView&&!e.checkOptOutTmi?t:a)}}function Pc(e,t){if(1&e&&(o.Wb(0,"div",17),o.Wb(1,"div",18),o.Wb(2,"button",19),o.Rb(3,"img",20),o.Vb(),o.Vb(),o.Wb(4,"h2",21),o.Rb(5,"i",22),o.Oc(6),o.mc(7,"translate"),o.Vb(),o.Rb(8,"hr",23),o.Wb(9,"p",24),o.Oc(10),o.mc(11,"translate"),o.Vb(),o.Wb(12,"div",13),o.Wb(13,"div",25),o.Wb(14,"button",26),o.Oc(15),o.mc(16,"translate"),o.Vb(),o.Vb(),o.Wb(17,"div",25),o.Wb(18,"button",27),o.Oc(19),o.mc(20,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e){const e=o.lc();o.Db(3),o.vc("src","",e.getGlobalImagePath,"/close-btn.png",o.Hc),o.Db(3),o.Qc(" ",o.nc(7,5,"commonSections.headerLabel.label3")," "),o.Db(4),o.Qc(" ",o.nc(11,7,(null==e.tmiContentfulData?null:e.tmiContentfulData.popUpMessage)||"travelMedicalInformation.pageDetails.para7")," "),o.Db(5),o.Qc(" ",o.nc(16,9,"commonSections.buttons.button3")," "),o.Db(4),o.Qc(" ",o.nc(20,11,"commonSections.buttons.button4")," ")}}function kc(e,t){if(1&e){const e=o.Xb();o.Wb(0,"button",28),o.hc("click",function(){return o.Fc(e),o.lc().routetoNextModule()}),o.Oc(1),o.mc(2,"translate"),o.Vb()}if(2&e){const e=o.lc();o.tc("disabled",e.checkIfDisabled),o.Db(1),o.Qc(" ",o.nc(2,2,"commonSections.buttons.button19")," ")}}function wc(e,t){if(1&e){const e=o.Xb();o.Wb(0,"form",29),o.hc("ngSubmit",function(){return o.Fc(e),o.lc().routetoNextModule()}),o.Rb(1,"input",30),o.Rb(2,"input",31),o.Wb(3,"button",32),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Vb()}if(2&e){const e=o.lc();o.Eb("data-ot-cp-id",e.dataOtCpId),o.Db(1),o.tc("value",e.loggedInUser),o.Db(2),o.tc("disabled",e.checkIfDisabled),o.Db(1),o.Qc(" ",o.nc(5,4,"commonSections.buttons.button19")," ")}}let Fc=(()=>{class e extends nt.a{constructor(e){var t;super(),this.dialog=e,this.scope=this,this.dataOtCpId=c.a.oneTrustPortal.dataOtCpId,this.loggedInUser="",this.isTmiOabEnable=!1,this.tmiContentfulData=null===(t=this.sessionService)||void 0===t?void 0:t.tmiContentfulDetails,this.initBaseForm(r.c.modules.TRAVEL_MEDICAL_INSURANCE),this.loggedInUser=this.sessionService.getLoggedEmail()}ngOnInit(){this.utilityService.startNgxUiSpinner(),this.utilityService.fireCustomEvent({dl_category:"travel medical insurance",dl_action:"travel medical insurance pageview",dl_label:1,value:0}),this.sessionService.tmiProductView=!1,this.utilityService.stopNgxUiSpinner(),this.isTmiOabEnable=this.sessionService.isTmiOabEnable}routePrevious(){this.commonService.removeTmiProductSelection(),super.routePrevious()}ngAfterViewInit(){this.utilityService.appendScriptForConsent()}routetoNextModule(){var e;const t=()=>{var e,t;const i={dl_category:"continue_travel_insurance",dl_action:(null===(e=a[0])||void 0===e?void 0:e.productName)||void 0,dl_label:(null===(t=a[0])||void 0===t?void 0:t.amount)||void 0};this.utilityService.fireCustomEvent(i),this.sessionService.completedModuleName=r.f.TRAVEL_MEDICAL_INSURANCE,this.sessionService.updateFees=!0,0!==a.length&&this.tmiProductsView||(this.uncheckAllApplicants(),this.deleteTMIDetails()),this.routeNext()},a=this.sessionService.tmiVas||[];if(this.tmiProductsView&&(!this.sessionService.optOutTmi||a.length>0||!this.sessionService.isTmiProductsAvailable))this.updateTMIProductSelection(),t();else{const a=null===(e=this.dialog)||void 0===e?void 0:e.open(this.changeAppointmentModal,{disableClose:!0,restoreFocus:!0});this.subs.sink=a.afterClosed().subscribe(e=>{"true"===e&&(this.sessionService.tmiVas=[],this.sessionService.optOutTmi=!1,this.sessionService.tmiProductConsent=!1,t(),this.commonService.removeTmiProductSelection(),this.mapTMIVas())})}}updateTMIProductSelection(){return Object(l.b)(this,void 0,void 0,function*(){return new Promise(e=>Object(l.b)(this,void 0,void 0,function*(){var t,a,i,o;let n=[];const s=this.sessionService.applicantService||[],l=null==s?void 0:s.filter(e=>"TMIPS"!=e.code),r=this.sessionService.tmiVas||[],c=this.sessionService.applicationDetailValue.applicantList.filter(e=>!0===e.isTmiApplicant);if(r.length>0){r.vasCode="TMIPS",r.vasId=(null===(t=this.sessionService)||void 0===t?void 0:t.tmiVasID)?parseInt(null===(a=this.sessionService)||void 0===a?void 0:a.tmiVasID):null,this.sessionService.tmiVas=r;const e={id:1,name:"Travel Assistance with Insurance",code:"TMIPS",amount:null===(i=r[0])||void 0===i?void 0:i.amount,unit:c.length>0?c.length:0,price:null===(o=r[0])||void 0===o?void 0:o.amount,quantity:c.length>0?c.length:0};l.push(e),n=yield this.constructTmiApplicantList(r,c)}this.sessionService.applicantService=l;const d=yield this.mapTMIVas(n);e(!!(null==d?void 0:d.urn))}))})}mapTMIVas(e){var t;return Object(l.b)(this,void 0,void 0,function*(){try{const a=null===(t=this.sessionService.tmiVas[0])||void 0===t?void 0:t.amount,i={loginuser:this.sessionService.getLoggedEmail(),missioncode:this.sessionService.tenent,countrycode:this.sessionService.countryCode,urn:this.sessionService.urn,totalAmount:a||0,applicants:(null==e?void 0:e.length)>0?e:[]};return yield this.httpService.payloadPost(r.c.api.mapTmiVas,i).toPromise().then(e=>e).catch(e=>e)}catch(a){this.logger.error(a)}})}uncheckAllApplicants(){var e;const t=this.sessionService.applicationDetailValue;null===(e=t.applicantList)||void 0===e||e.forEach(e=>e.isTmiApplicant=!1),this.sessionService.applicationDetailValue=t}deleteTMIDetails(){this.sessionService.cleartmiDetails()}constructTmiApplicantList(e,t){var a,i,o;return Object(l.b)(this,void 0,void 0,function*(){let n=[];for(let s=0;s<t.length;s++){const l={arn:null===(a=t[s])||void 0===a?void 0:a.arn,vasId:null==e?void 0:e.vasId,vasCode:null==e?void 0:e.vasCode,productCode:null===(i=e[0])||void 0===i?void 0:i.productId,amount:s<1?null===(o=e[0])||void 0===o?void 0:o.amount:0};n.push(l)}return n})}get tmiProductsView(){var e;return null===(e=this.sessionService)||void 0===e?void 0:e.tmiProductView}get checkIfDisabled(){return this.tmiProductsView&&this.sessionService.isTmiProductsAvailable&&!(this.checkOptOutTmi||this.sessionService.tmiProductConsent)}get checkOptOutTmi(){var e;return null===(e=this.sessionService)||void 0===e?void 0:e.optOutTmi}tmiProductSelected(e){e&&this.utilityService.appendScriptForConsent()}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(La.b))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-travel-medical-insurance"]],viewQuery:function(e,t){if(1&e&&o.Uc(Vc,1),2&e){let e;o.Ac(e=o.ic())&&(t.changeAppointmentModal=e.first)}},features:[o.Ab],decls:10,vars:3,consts:[[1,"container","py-15","py-md-30"],["class","form-card",4,"ngIf"],["class","form-card p-0 border-0 shadow-none mat-card",4,"ngIf"],["viewChangeAppointmentModal",""],["continueBtn",""],["submitBtn",""],[1,"form-card"],["tmiFormView",""],[4,"ngIf","ngIfElse"],[1,"fs-24","fs-sm-32","fs-md-42","mb-20"],[1,"c-brand-grey-para","mb-40"],[3,"tmiProductSelected"],[1,"form-card","p-0","border-0","shadow-none","mat-card"],[1,"row"],[1,"col-12","col-sm-6","mt-20"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange",3,"click"],[4,"ngTemplateOutlet"],[1,"mat-modal-delete-document"],[1,"position-absolute","top-10","right-10"],["matDialogClose","false",1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999"],["alt","","aria-label","Close",1,"cursor-pointer",3,"src"],[1,"fs-18","fs-sm-21","mb-10"],[1,"fa","fa-exclamation-triangle","mr-5"],[1,"my-20"],[1,"fs-sm-17","c-brand-grey-para","mb-30"],[1,"col-12","col-sm-6","col-sm"],["mat-stroked-button","","matDialogClose","false",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mb-10","mb-sm-0"],["mat-stroked-button","","matDialogClose","true",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","mb-10","mb-sm-0"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],["action","","method","post",1,"ot-form-consent",3,"ngSubmit"],["type","email","id","inputEmail","required","",1,"ot-form-control","d-none",3,"value"],["value","The personal details provided by all persons on this form may be shared with VFS' Insurance partners","checked","true","type","checkbox",1,"d-none"],["type","submit","id","trigger","mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled"]],template:function(e,t){1&e&&(o.Wb(0,"section",0),o.Mc(1,Tc,4,2,"mat-card",1),o.Mc(2,Mc,4,2,"mat-card",1),o.Mc(3,Wc,8,4,"mat-card",2),o.Vb(),o.Mc(4,Pc,21,13,"ng-template",null,3,o.Nc),o.Mc(6,kc,3,4,"ng-template",null,4,o.Nc),o.Mc(8,wc,6,6,"ng-template",null,5,o.Nc)),2&e&&(o.Db(1),o.tc("ngIf",!t.isTmiOabEnable),o.Db(1),o.tc("ngIf",t.isTmiOabEnable),o.Db(1),o.tc("ngIf",!t.isTmiOabEnable))},directives:[m.o,u.a,nr,Tr,Ic,h.a,m.t,La.d,n.y,n.r,n.s],pipes:[p.d],encapsulation:2}),e})();var _c=a("tk/3");function xc(e,t){1&e&&(o.Wb(0,"div",19),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"updatecategory.messages.errorMessages.message1")," "))}function Gc(e,t){if(1&e&&(o.Wb(0,"div",17),o.Mc(1,xc,3,3,"div",18),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.visaCategory||null==e.formGroup.controls.visaCategory.errors?null:e.formGroup.controls.visaCategory.errors.required)}}function Rc(e,t){if(1&e&&(o.Wb(0,"mat-option",20),o.Oc(1),o.Vb()),2&e){const e=t.$implicit;o.tc("value",e.code),o.Db(1),o.Qc(" ",null==e?null:e.name," ")}}function Uc(e,t){1&e&&(o.Wb(0,"div",19),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"updatecategory.messages.errorMessages.message2")," "))}function Bc(e,t){if(1&e&&(o.Wb(0,"div",17),o.Mc(1,Uc,3,3,"div",18),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.subVisaCategory||null==e.formGroup.controls.subVisaCategory.errors?null:e.formGroup.controls.subVisaCategory.errors.required)}}function jc(e,t){if(1&e&&(o.Wb(0,"mat-option",20),o.Oc(1),o.Vb()),2&e){const e=t.$implicit;o.tc("value",e.code),o.Db(1),o.Qc(" ",null==e?null:e.name," ")}}const Yc=function(e){return{"form-error":e}};let Qc=(()=>{class e extends nt.a{constructor(e,t,a){super(),this.fb=e,this.sessionService=t,this.http=a,this.visaTypes=[],this.visaCategories=[],this.applicationDetail={}}ngOnInit(){this.applicationDetail=this.sessionService.applicationDetailValue,this.initFormGroup(),this.getCategories()}initFormGroup(){this.formGroup=this.fb.group({visaCategory:["",n.x.required],subVisaCategory:["",n.x.required]})}submitForm(){return Object(l.b)(this,void 0,void 0,function*(){try{const e=this.applicationDetail,t={missionCode:e.missionCode,countryCode:e.countryCode,centerCode:e.centerCode,loginUser:e.loginUser,visaCategoryCode:this.formGroup.value.subVisaCategory,urn:this.sessionService.urn},a=yield this.httpService.payloadPost(r.c.api.updateApplicant,t).toPromise().then(e=>e).catch(e=>e);1==(null==a?void 0:a.IsUpdatedWaitlistVisa)&&this.commonService.routeToDashboard()}catch(e){this.logger.error(e)}})}getCategories(){var e;return Object(l.b)(this,void 0,void 0,function*(){this.visaTypes=[],this.visaCategories=[];const t=null===(e=this.applicationDetail)||void 0===e?void 0:e.centerCode,a=yield this.commonService.getVisaCategories(t);a&&(this.visaTypes=a.filter(e=>!0===(null==e?void 0:e.iswaitlist)))})}appointmentCatgoryChange(e){return Object(l.b)(this,void 0,void 0,function*(){this.visaCategories=[];const t=this.applicationDetail.centerCode;let a=e.value;const i=yield this.commonService.getSubVisaCategories(t,a);i&&(this.visaCategories=i.filter(e=>!0===(null==e?void 0:e.iswaitlist)))})}get disableButton(){return this.formGroup.invalid}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(n.e),o.Qb(ae.a),o.Qb(_c.c))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-update-category"]],features:[o.Ab],decls:47,vars:51,consts:[[1,"container","py-15","py-md-30"],[1,"form-card"],[1,"c-brand-grey","mb-5"],[1,"fs-24","fs-sm-46","mb-25"],[1,"c-brand-grey-para","mb-30"],[3,"formGroup"],[1,"form-group",3,"ngClass"],[1,"c-brand-error"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["formControlName","visaCategory","appDefaultSelect","",3,"placeholder","options","valueKey","selectionChange"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["formControlName","subVisaCategory","appDefaultSelect","",3,"placeholder","options","valueKey"],[1,"border-info","mb-0",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0"],[1,"form-card","p-0","border-0","mt-20","shadow-none"],["type","button","mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[3,"value"]],template:function(e,t){1&e&&(o.Wb(0,"section",0),o.Wb(1,"form"),o.Wb(2,"mat-card",1),o.Wb(3,"p",2),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Wb(6,"h1",3),o.Oc(7),o.mc(8,"translate"),o.Vb(),o.Wb(9,"p",4),o.Oc(10),o.mc(11,"translate"),o.Vb(),o.Wb(12,"form",5),o.Wb(13,"div",6),o.Wb(14,"div"),o.Oc(15),o.mc(16,"translate"),o.Wb(17,"span",7),o.Oc(18,"*"),o.Vb(),o.Vb(),o.Mc(19,Gc,2,1,"div",8),o.Wb(20,"mat-form-field",9),o.Wb(21,"mat-select",10),o.hc("selectionChange",function(e){return t.appointmentCatgoryChange(e)}),o.mc(22,"translate"),o.Mc(23,Rc,2,2,"mat-option",11),o.mc(24,"sortBy"),o.Vb(),o.Vb(),o.Vb(),o.Rb(25,"hr"),o.Wb(26,"div",6),o.Wb(27,"div"),o.Oc(28),o.mc(29,"translate"),o.Wb(30,"span",7),o.Oc(31,"*"),o.Vb(),o.Vb(),o.Mc(32,Bc,2,1,"div",8),o.Wb(33,"mat-form-field",9),o.Wb(34,"mat-select",12),o.mc(35,"translate"),o.Mc(36,jc,2,2,"mat-option",11),o.mc(37,"sortBy"),o.Vb(),o.Vb(),o.Vb(),o.Rb(38,"hr"),o.Wb(39,"div",13),o.Wb(40,"div",14),o.Oc(41),o.mc(42,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(43,"mat-card",15),o.Wb(44,"button",16),o.hc("click",function(){return t.submitForm()}),o.Oc(45),o.mc(46,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e&&(o.Db(4),o.Pc(o.nc(5,23,"updatecategory.pageDetails.para1")),o.Db(3),o.Pc(o.nc(8,25,"updatecategory.headerLabel.label1")),o.Db(3),o.Pc(o.nc(11,27,"updatecategory.pageDetails.para2")),o.Db(2),o.tc("formGroup",t.formGroup),o.Db(1),o.tc("ngClass",o.xc(47,Yc,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.visaCategory?null:t.formGroup.controls.visaCategory.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.visaCategory?null:t.formGroup.controls.visaCategory.invalid))),o.Db(2),o.Pc(o.nc(16,29,"updatecategory.formLabel.label1")),o.Db(4),o.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.visaCategory?null:t.formGroup.controls.visaCategory.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.visaCategory?null:t.formGroup.controls.visaCategory.errors)),o.Db(2),o.uc("placeholder",o.nc(22,31,"updatecategory.placeholder.label1")),o.tc("options",t.visaTypes)("valueKey","code"),o.Db(2),o.tc("ngForOf",o.oc(24,33,t.visaTypes,"name"))("ngForTrackBy",t.trackByFn),o.Db(3),o.tc("ngClass",o.xc(49,Yc,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.subVisaCategory?null:t.formGroup.controls.subVisaCategory.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.subVisaCategory?null:t.formGroup.controls.subVisaCategory.invalid))),o.Db(2),o.Pc(o.nc(29,36,"updatecategory.formLabel.label2")),o.Db(4),o.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.subVisaCategory?null:t.formGroup.controls.subVisaCategory.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.subVisaCategory?null:t.formGroup.controls.subVisaCategory.errors)),o.Db(2),o.uc("placeholder",o.nc(35,38,"updatecategory.placeholder.label2")),o.tc("options",t.visaCategories)("valueKey","code"),o.Db(2),o.tc("ngForOf",o.oc(37,40,t.visaCategories,"name"))("ngForTrackBy",t.trackByFn),o.Db(5),o.Qc(" ",o.nc(42,43,"updatecategory.pageDetails.para3")," "),o.Db(3),o.tc("disabled",t.disableButton),o.Db(1),o.Qc(" ",o.nc(46,45,"commonSections.buttons.button36")," "))},directives:[n.y,n.r,n.s,u.a,n.j,m.m,m.o,b.b,dt.a,n.q,n.h,ut,m.n,h.a,bt.j],pipes:[p.d,gt.h],encapsulation:2}),e})();function $c(e,t){1&e&&(o.Wb(0,"div",18),o.Wb(1,"div",19),o.Rb(2,"i",20),o.Wb(3,"div"),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Vb(),o.Vb()),2&e&&(o.Db(4),o.Pc(o.nc(5,1,"resendemailactivation.messages.successMessages.message1")))}function qc(e,t){if(1&e&&(o.Wb(0,"div",21),o.Wb(1,"div",22),o.Rb(2,"i",20),o.Wb(3,"div"),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Vb(),o.Vb()),2&e){const e=o.lc();o.Db(4),o.Pc(o.nc(5,1,e.errorMessage))}}const Hc=function(e,t){return{limit:e,activationTimeOut:t}};function Kc(e,t){if(1&e&&(o.Wb(0,"div",21),o.Wb(1,"div",22),o.Rb(2,"i",20),o.Wb(3,"div"),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Vb(),o.Vb()),2&e){const e=o.lc();o.Db(4),o.Pc(o.oc(5,1,"resendemailactivation.messages.errorMessages.message1",o.yc(4,Hc,e.errorDescription[0],e.errorDescription[1])))}}function zc(e,t){1&e&&(o.Wb(0,"div",25),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"commonSections.messages.requiredMessages.message1")," "))}function Zc(e,t){1&e&&(o.Wb(0,"div",25),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"commonSections.messages.patternMessages.message1")," "))}function Jc(e,t){if(1&e&&(o.Wb(0,"div",23),o.Mc(1,zc,3,3,"div",24),o.Mc(2,Zc,3,3,"div",24),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",e.resendF.emailid.errors.required),o.Db(1),o.tc("ngIf",e.resendF.emailid.errors.pattern)}}const Xc=function(e){return{"form-error":e}};let ed=(()=>{class e extends d.a{constructor(e,t){super(),this.formBuilder=e,this.sessionService=t,this.message=!1,this.submitAttempt=!1,this.isErrorMessage=!1,this.errorMessage="",this.errorDescription=[]}ngOnInit(){this.intitForgotForm()}intitForgotForm(){this.resendEmailForm=this.formBuilder.group({emailid:["",[n.x.pattern(r.s.email_caps_allowed),n.x.required]],missioncode:[this.sessionService.tenent,n.x.required],countrycode:[this.sessionService.countryCode,n.x.required],url:[`${c.a.activateLink}${this.sessionService.countryCode}/${this.sessionService.appLanguageCode}/${this.sessionService.tenent}/activateemail?q=`]})}get resendF(){var e;return null===(e=this.resendEmailForm)||void 0===e?void 0:e.controls}routeToSignUp(){this.commonService.routeToOnBoarding()}onSubmit(){return Object(l.b)(this,void 0,void 0,function*(){try{if(this.submitAttempt=!0,this.resendEmailForm.invalid)return;const e=this.resendEmailForm.value,t=yield this.httpService.payloadWithoutTokenPost(r.c.api.resendEmailActivation,e).toPromise();t.error&&"1022"===t.error.code&&(this.errorDescription=t.error.description.split(","),this.isErrorMessage=!0,setTimeout(()=>{this.isErrorMessage=!1},5e3)),t.error&&"1022"!==t.error.code?(this.errorMessage=this.commonService.translateValue("commonSections.messages.statusMessages."+t.error.code),setTimeout(()=>{this.errorMessage=""},5e3)):"200"===t.code&&(this.message=!0,setTimeout(()=>{this.message=!1},5e3))}catch(e){}})}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(n.e),o.Qb(ae.a))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-resend-email-activate"]],features:[o.Ab],decls:32,vars:26,consts:[[1,"container","py-15","py-md-30"],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-9","col-lg-7","col-xl-6"],[1,"form-card","px-md-50","py-md-40"],[1,"d-none","d-block"],[1,"fs-21","fs-sm-24","mb-10"],[1,"c-brand-grey-para","fs-sm-18","mb-25"],["class","border-info","style","border-left: 5px solid",4,"ngIf"],["class","border-danger","style","border-left: 5px solid",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],[1,"c-brand-error"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["matInput","","formControlName","emailid","type","text","autocomplete","off",3,"placeholder"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange"],[1,"fs-sm-18","mt-20"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer",3,"click"],[1,"border-info",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-check-circle-o","fs-24","position-absolute","left-15","top-18","mb-0"],[1,"border-danger",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-20","pl-50"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"]],template:function(e,t){1&e&&(o.Wb(0,"section",0),o.Wb(1,"div",1),o.Wb(2,"div",2),o.Wb(3,"mat-card",3),o.Wb(4,"div",4),o.Wb(5,"h1",5),o.Oc(6),o.mc(7,"translate"),o.Vb(),o.Wb(8,"p",6),o.Oc(9),o.mc(10,"translate"),o.Vb(),o.Mc(11,$c,6,3,"div",7),o.Mc(12,qc,6,3,"div",8),o.Mc(13,Kc,6,7,"div",8),o.Wb(14,"form",9),o.hc("ngSubmit",function(){return t.onSubmit()}),o.Wb(15,"div",10),o.Wb(16,"div"),o.Oc(17),o.mc(18,"translate"),o.Wb(19,"span",11),o.Oc(20,"*"),o.Vb(),o.Vb(),o.Mc(21,Jc,3,2,"div",12),o.Wb(22,"mat-form-field",13),o.Rb(23,"input",14),o.mc(24,"translate"),o.Vb(),o.Vb(),o.Wb(25,"button",15),o.Oc(26),o.mc(27,"translate"),o.Vb(),o.Wb(28,"div",16),o.Wb(29,"a",17),o.hc("click",function(){return t.routeToSignUp()}),o.Oc(30),o.mc(31,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e&&(o.Db(6),o.Pc(o.nc(7,12,"resendemailactivation.headerLabel.label1")),o.Db(3),o.Pc(o.nc(10,14,"resendemailactivation.pageDetails.para1")),o.Db(2),o.tc("ngIf",t.message),o.Db(1),o.tc("ngIf",t.errorMessage),o.Db(1),o.tc("ngIf",t.isErrorMessage),o.Db(1),o.tc("formGroup",t.resendEmailForm),o.Db(1),o.tc("ngClass",o.xc(24,Xc,t.resendF.emailid.touched&&t.resendF.emailid.invalid)),o.Db(2),o.Pc(o.nc(18,16,"resendemailactivation.formLabel.label1")),o.Db(4),o.tc("ngIf",t.resendF.emailid.touched&&t.resendF.emailid.errors),o.Db(2),o.uc("placeholder",o.nc(24,18,"commonSections.formLabel.label2")),o.Db(3),o.Qc(" ",o.nc(27,20,"resendemailactivation.buttons.button1")," "),o.Db(4),o.Pc(o.nc(31,22,"resendemailactivation.buttons.button2")))},directives:[u.a,m.o,n.y,n.r,n.j,m.m,b.b,g.b,n.d,n.q,n.h,h.a],pipes:[p.d],encapsulation:2}),e})();function td(e,t){if(1&e&&(o.Wb(0,"div",23),o.Oc(1),o.mc(2,"translate"),o.Rb(3,"countdown",24,25),o.Vb()),2&e){const e=o.lc();o.Db(1),o.Qc(" ",o.nc(2,2,"header.headerLabel.label17"),""),o.Db(2),o.tc("config",e.config)}}function ad(e,t){1&e&&(o.Wb(0,"div",28),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"polandTurkey.messages.errorMessages.message1")," "))}function id(e,t){if(1&e&&(o.Wb(0,"div",26),o.Mc(1,ad,3,3,"div",27),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.selectedSubvisaCategory||null==e.formGroup.controls.selectedSubvisaCategory.errors?null:e.formGroup.controls.selectedSubvisaCategory.errors.required)}}function od(e,t){if(1&e&&(o.Wb(0,"mat-option",29),o.Oc(1),o.Vb()),2&e){const e=t.$implicit;o.tc("value",e.code),o.Db(1),o.Qc(" ",null==e?null:e.name," ")}}function nd(e,t){1&e&&(o.Wb(0,"div",28),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"polandTurkey.messages.errorMessages.message2")," "))}function sd(e,t){if(1&e&&(o.Wb(0,"div",26),o.Mc(1,nd,3,3,"div",27),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.visaCategoryCode||null==e.formGroup.controls.visaCategoryCode.errors?null:e.formGroup.controls.visaCategoryCode.errors.required)}}function ld(e,t){if(1&e&&(o.Wb(0,"mat-option",29),o.Oc(1),o.Vb()),2&e){const e=t.$implicit;o.tc("value",e.code),o.Db(1),o.Qc(" ",null==e?null:e.name," ")}}function rd(e,t){if(1&e&&(o.Wb(0,"h6",30),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e){const e=o.lc();o.Db(1),o.Rc(" ",null==e.vacCenters?null:e.vacCenters.length," ",o.nc(2,2,"polandTurkey.formLabel.label4")," ")}}function cd(e,t){1&e&&(o.Wb(0,"div",28),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"polandTurkey.messages.errorMessages.message3")," "))}function dd(e,t){if(1&e&&(o.Wb(0,"div",26),o.Mc(1,cd,3,3,"div",27),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.centerCode||null==e.formGroup.controls.centerCode.errors?null:e.formGroup.controls.centerCode.errors.required)}}function ud(e,t){1&e&&(o.Wb(0,"div",28),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"polandTurkey.messages.errorMessages.message4")," "))}function md(e,t){if(1&e&&(o.Wb(0,"div",26),o.Mc(1,ud,3,3,"div",27),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",e.centersNotAvailable)}}function pd(e,t){if(1&e&&(o.Wb(0,"mat-option",29),o.Oc(1),o.Vb()),2&e){const e=t.$implicit;o.tc("value",e.isoCode),o.Db(1),o.Qc(" ",null==e?null:e.centerName," ")}}function bd(e,t){1&e&&(o.Wb(0,"div",31),o.Wb(1,"div",32),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()),2&e&&(o.Db(2),o.Qc(" ",o.nc(3,1,"polandTurkey.formLabel.label5")," "))}function gd(e,t){if(1&e&&(o.Wb(0,"div",31),o.Wb(1,"div",32),o.Oc(2),o.mc(3,"translate"),o.mc(4,"date"),o.Vb(),o.Vb()),2&e){const e=o.lc();o.Db(2),o.Rc(" ",o.nc(3,2,"polandTurkey.formLabel.label6")," : ",o.nc(4,4,e.latestAvailableDate)," ")}}function fd(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"div",33),o.Wb(2,"div",34),o.Wb(3,"div",35),o.Wb(4,"div",36),o.Rb(5,"i",37),o.Vb(),o.Wb(6,"div",38),o.Oc(7),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Tb()),2&e){const e=o.lc();o.Db(7),o.Pc(e.errorDescription)}}const hd=function(e){return{serviceFees:e}};function vd(e,t){if(1&e&&(o.Wb(0,"div",31),o.Wb(1,"div",39),o.Rb(2,"i",40),o.Wb(3,"div"),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Vb(),o.Vb()),2&e){const e=o.lc();o.Db(4),o.Pc(o.oc(5,1,"polandTurkey.formLabel.label7",o.xc(4,hd,e.serviceFees)))}}const yd=function(e){return{"form-error":e}};let Sd=(()=>{class e extends nt.a{constructor(e,t,a){var i;super(),this.ngbCalendar=e,this.fb=t,this.httpService=a,this.environment=c.a,this.constants=r.c,this.initBaseForm(r.c.modules.ELIGIBILITY_CRITERIA),this.appointmentSlots=!1,this.centersNotAvailable=!1,this.visaTypes=[],this.visaCategories=[],this.vacCenters=[],this.latestAvailableDate=(null===(i=this.sessionService)||void 0===i?void 0:i.latestSlotAvailiable)||null,this.isServiceFees=!1,this.serviceFees=null}ngOnInit(){try{this.isPtFlow&&(this.timeLeft=String(600),this.start()),this.initFormGroup()}catch(e){this.logger.error(e)}}get isPtFlow(){var e,t;return this.utilityService.strictCompare(null===(e=this.sessionService.resourceGroupData)||void 0===e?void 0:e.isloginConcentRequired,"true")||this.utilityService.strictCompare(null===(t=this.sessionService.resourceGroupDataTemp)||void 0===t?void 0:t.isloginConcentRequired,"true")}start(){this.config={leftTime:this.timeLeft,format:"mm:ss",demand:!1},this.commonService.autoLogout(600)}initFormGroup(){var e;return Object(l.b)(this,void 0,void 0,function*(){this.formGroup=this.fb.group({centerCode:[null,n.x.required],selectedSubvisaCategory:[null,n.x.required],visaCategoryCode:[null,n.x.required]});const t=null===(e=this.sessionService)||void 0===e?void 0:e.eligibilityDetails;t?(yield this.loadVisaType(),this.formGroup.patchValue(t)):this.loadVisaType()})}loadVisaType(){var e;return Object(l.b)(this,void 0,void 0,function*(){try{this.visaTypes=[],this.visaCategories=[],this.vacCenters=[],this.isServiceFees=!1;const t={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,cultureCode:this.sessionService.appCultureCode},a=yield this.getValue(r.c.api.visaCategoryCodeWithoutCenter,t);return a.length>0&&(null===(null===(e=a[0])||void 0===e?void 0:e.error)||null===(null==a?void 0:a.error))&&(this.visaTypes=a),!0}catch(t){this.logger.error(t)}})}getValue(e,t){return this.httpService.slashParamsDoGet(e,t).toPromise()}appointmentCatgoryChange(e){var t,a,i;return Object(l.b)(this,void 0,void 0,function*(){try{if(!e)return;this.vacCenters=[],this.visaCategories=[],this.sessionService.eligibilityDetails||(null===(t=this.formGroup.get("visaCategoryCode"))||void 0===t||t.reset(),null===(a=this.formGroup.get("centerCode"))||void 0===a||a.reset()),this.isServiceFees=!1,this.appointmentSlots=!1,this.serviceFees=null,this.latestAvailableDate=null;const o={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,visaCategoryCode:e,cultureCode:this.sessionService.appCultureCode},n=yield this.getValue(r.c.api.subVisacategoryWithoutCenter,o);return n.length>0&&(null===(null===(i=n[0])||void 0===i?void 0:i.error)||null===(null==n?void 0:n.error))&&(this.visaCategories=n),!0}catch(o){this.logger.error(o)}})}visaSubCategoryChange(e){var t,a;return Object(l.b)(this,void 0,void 0,function*(){try{if(!e)return;this.vacCenters=[],this.isServiceFees=!1,this.appointmentSlots=!1,this.serviceFees=null,this.latestAvailableDate=null;const i={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,visaCategoryCode:e,cultureCode:this.sessionService.appCultureCode},o=yield this.getValue(r.c.api.centerWithSlots,i);return o.length>0&&(null===(null===(t=o[0])||void 0===t?void 0:t.error)||null===(null==o?void 0:o.error))?(this.centersNotAvailable=!1,this.vacCenters=o,this.sessionService.eligibilityDetails||null===(a=this.formGroup.get("centerCode"))||void 0===a||a.reset()):this.centersNotAvailable=!0,!0}catch(i){console.log(i)}})}centerCodeChange(e){var t;return Object(l.b)(this,void 0,void 0,function*(){try{if(!e)return;this.isServiceFees=!1,this.appointmentSlots=!1,this.serviceFees=null,this.latestAvailableDate=null;const a=yield this.getServiceFees(e);if(!a)return;yield this.checkSlotAvailability(),this.sessionService.eligibilityDetails=null,(null==a?void 0:a.error)||1100==(null===(t=null==a?void 0:a.error)||void 0===t?void 0:t.code)?this.isServiceFees=!1:(this.fees=a,this.serviceFees=(null==a?void 0:a.currency)+" "+(null==a?void 0:a.amount),this.isServiceFees=!0)}catch(a){console.log(a)}})}checkSlotAvailability(){var e,t,a,i,o;return Object(l.b)(this,void 0,void 0,function*(){try{if(!(null===(e=this.formGroup.get("visaCategoryCode"))||void 0===e?void 0:e.value))return;const n=null===(t=this.formGroup.get("visaCategoryCode"))||void 0===t?void 0:t.value;this.appointmentSlots=!1;const s={applicantsCount:1,slotType:2,days:c.a.slotDaysEnabled,centerCode:null===(a=this.formGroup.get("centerCode"))||void 0===a?void 0:a.value,visaCategoryCode:n||(null===(i=this.sessionService.eligibilityDetails)||void 0===i?void 0:i.visaCategoryCode),fromDate:this.commonService.formatDateDMY(this.utilityService.momentInstance().add(1,"days").format("YYYY-MM-DD")),toDate:this.commonService.formatDateDMY(this.utilityService.momentInstance().add(c.a.slotDaysEnabled+1,"days").format("YYYY-MM-DD"))},l=yield this.commonService.loadAppointmentSlots(s);if(l&&l.length>0&&null===l[0].error){if(this.appointmentSlots=!0,this.latestAvailableDate=(null===(o=l[0])||void 0===o?void 0:o.date)?this.utilityService.momentInstance(l[0].date,"MM/DD/YYYY").format("DD/MM/YYYY"):null,this.sessionService.latestSlotAvailiable=this.latestAvailableDate||"",this.latestAvailableDate){const e=rt()(this.latestAvailableDate,"DD/MM/YYYY");this.latestAvailableDate=e.toDate()}}else this.slotsNotAvailable=!0,setTimeout(()=>{this.slotsNotAvailable=!1},5e3)}catch(n){throw new Error(`${r.d.INVALID_REGISTRATION_RESPONSE}: ${n}`)}})}getServiceFees(e){var t,a;return Object(l.b)(this,void 0,void 0,function*(){try{const i=null===(t=this.formGroup.get("visaCategoryCode"))||void 0===t?void 0:t.value,o=this.sessionService.applicationDetailValue,n={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:e,loginUser:this.sessionService.getLoggedEmail(),subVisaCategoryCode:i||(null===(a=this.sessionService.eligibilityDetails)||void 0===a?void 0:a.visaCategoryCode),urn:null,nationalityCode:o.applicantList[0].nationalityCode,applicantCount:1};return yield this.httpService.payloadPost(r.c.api.serviceFeeswithoutUrn,n).toPromise()}catch(i){console.log(i)}})}updateUrnAndArn(e,t){try{const a=Object.assign({},e);if(!t.hasOwnProperty("applicantList"))throw new Error("error: invalid_data_passed");let i=0;for(const e of t.applicantList){const o=a.applicantList;o.length>1&&(o[i].arn=e.arn,o[i].urn=t.urn,this.sessionService.urn=t.urn,i++),1===o.length&&(o[0].arn=e.arn,o[0].urn=t.urn,this.sessionService.urn=t.urn)}return a}catch(a){throw a}}initApplicationDetails(){return{feeExemptionDetailsCode:null,feeEntryTypeCode:null,feeExemptionTypeCode:null,countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,centerCode:"",loginUser:this.sessionService.getLoggedEmail()||"",visaCategoryCode:"",isEdit:!1,applicantList:[],languageCode:this.sessionService.appCultureCode}}getApplicationDetails(e){const t=this.initApplicationDetails();for(const a of Object.keys(e))t.hasOwnProperty(a)&&(t[a]=e[a]);return t}updateApplicationDetailsToSession(e){this.sessionService.applicationDetailValue=e}submitForm(){var e,t,a,i,o;return Object(l.b)(this,void 0,void 0,function*(){try{const n=this.sessionService.applicationDetailValue;this.sessionService.centerCode=this.formGroup.value.centerCode,this.sessionService.visaSubCategory=this.formGroup.value.selectedSubvisaCategory,this.sessionService.setCurrApplicantVisaType(this.formGroup.value.visaCategoryCode);const s=this.getApplicationDetails(this.formGroup.value);s.applicantList=null==n?void 0:n.applicantList,this.sessionService.eligibilityDetails=this.formGroup.value;const l=s;(null===(e=null==l?void 0:l.applicantList[0])||void 0===e?void 0:e.urn)&&(l.isEdit=!0),this.sessionService.applicationDetailValue=l;const c=yield this.httpService.payloadPost(r.c.api.applicant,l).toPromise();if(null===(null==c?void 0:c.error)){this.sessionService.setCurrencyCode=(null===(t=this.fees)||void 0===t?void 0:t.currency)||null,this.isServiceFees&&this.updateFeeAmount(Number(null===(a=this.fees)||void 0===a?void 0:a.amount));const e=this.updateUrnAndArn(l,c);this.updateApplicationDetailsToSession(e),this.routeNext()}else if(c.hasOwnProperty("error")&&(null===(i=c.error)||void 0===i?void 0:i.code)){let e=c.error.description;1037===(null===(o=c.error)||void 0===o?void 0:o.code)&&(this.subs.sink=this.translateService.get("applicantInformation.messages.infoMessages.message2").subscribe(t=>e=t)),this.errorDescription=e,setTimeout(()=>{this.errorDescription=null},5e3)}}catch(n){console.log(n)}})}updateFeeAmount(e){this.utilityService.updateTotalFees(e),this.sessionService.feeAmount=e}get disableButton(){return this.formGroup.invalid}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(ct.b),o.Qb(n.e),o.Qb(te.a))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-application-details"]],features:[o.Ab],decls:70,vars:72,consts:[[1,"container","py-15","py-md-30"],["class","form-card timer-css text-right border-0 mb-5",4,"ngIf"],[1,"form-card"],[1,"c-brand-grey","mb-5"],[1,"fs-24","fs-sm-46","mb-25"],[1,"c-brand-grey-para","mb-30"],[3,"formGroup"],[1,"form-group",3,"ngClass"],[1,"c-brand-error"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["formControlName","selectedSubvisaCategory",3,"placeholder","ngModelChange"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["formControlName","visaCategoryCode",3,"placeholder","ngModelChange"],[1,"mt-15"],["class","d-inline pull-right text-right",4,"ngIf"],["formControlName","centerCode",3,"placeholder","ngModelChange"],["class","border-info mb-0","style","border-left: 5px solid",4,"ngIf"],[4,"ngIf"],[1,"text-wrap","mr-5"],[1,"mb-0","font-weight-bold"],[1,"form-card","p-0","border-0","mt-20","shadow-none"],["type","button","mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],[1,"form-card","timer-css","text-right","border-0","mb-5"],[3,"config"],["cd",""],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[3,"value"],[1,"d-inline","pull-right","text-right"],[1,"border-info","mb-0",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0"],[1,"alert-danger",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-20"],[1,"row","no-gutters","align-items-center"],[1,"col-auto","ml-n5","pr-15"],[1,"fa","fa-times-circle","fs-24","mb-0"],[1,"col"],[1,"alert","alert-info","border-0","pl-50","rounded-0"],[1,"fa","fa-check-circle-o","fs-24","left-15","position-absolute","top-18"]],template:function(e,t){1&e&&(o.Wb(0,"section",0),o.Mc(1,td,5,4,"div",1),o.Wb(2,"form"),o.Wb(3,"mat-card",2),o.Wb(4,"p",3),o.Oc(5),o.mc(6,"translate"),o.Vb(),o.Wb(7,"h1",4),o.Oc(8),o.mc(9,"translate"),o.Vb(),o.Wb(10,"p",5),o.Oc(11),o.mc(12,"translate"),o.Vb(),o.Wb(13,"form",6),o.Wb(14,"div",7),o.Wb(15,"div"),o.Oc(16),o.mc(17,"translate"),o.Wb(18,"span",8),o.Oc(19,"*"),o.Vb(),o.Vb(),o.Mc(20,id,2,1,"div",9),o.Wb(21,"mat-form-field",10),o.Wb(22,"mat-select",11),o.hc("ngModelChange",function(e){return t.appointmentCatgoryChange(e)}),o.mc(23,"translate"),o.Mc(24,od,2,2,"mat-option",12),o.mc(25,"sortBy"),o.Vb(),o.Vb(),o.Vb(),o.Rb(26,"hr"),o.Wb(27,"div",7),o.Wb(28,"div"),o.Oc(29),o.mc(30,"translate"),o.Wb(31,"span",8),o.Oc(32,"*"),o.Vb(),o.Vb(),o.Mc(33,sd,2,1,"div",9),o.Wb(34,"mat-form-field",10),o.Wb(35,"mat-select",13),o.hc("ngModelChange",function(e){return t.visaSubCategoryChange(e)}),o.mc(36,"translate"),o.Mc(37,ld,2,2,"mat-option",12),o.mc(38,"sortBy"),o.Vb(),o.Vb(),o.Vb(),o.Rb(39,"hr"),o.Wb(40,"div",7),o.Wb(41,"div",14),o.Oc(42),o.mc(43,"translate"),o.Wb(44,"span",8),o.Oc(45,"*"),o.Vb(),o.Mc(46,rd,3,4,"h6",15),o.Vb(),o.Mc(47,dd,2,1,"div",9),o.Mc(48,md,2,1,"div",9),o.Wb(49,"mat-form-field",10),o.Wb(50,"mat-select",16),o.hc("ngModelChange",function(e){return t.centerCodeChange(e)}),o.mc(51,"translate"),o.Mc(52,pd,2,2,"mat-option",12),o.mc(53,"sortBy"),o.Vb(),o.Vb(),o.Vb(),o.Rb(54,"hr"),o.Mc(55,bd,4,3,"div",17),o.Mc(56,gd,5,6,"div",17),o.Mc(57,fd,8,1,"ng-container",18),o.Mc(58,vd,6,6,"div",17),o.Wb(59,"div",19),o.Wb(60,"p",20),o.Oc(61),o.mc(62,"translate"),o.Vb(),o.Wb(63,"p"),o.Oc(64),o.mc(65,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(66,"mat-card",21),o.Wb(67,"button",22),o.hc("click",function(){return t.submitForm()}),o.Oc(68),o.mc(69,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e&&(o.Db(1),o.tc("ngIf",t.isPtFlow),o.Db(4),o.Pc(o.nc(6,33,"polandTurkey.pageDetails.para1")),o.Db(3),o.Pc(o.nc(9,35,"polandTurkey.headerLabel.label1")),o.Db(3),o.Pc(o.nc(12,37,"polandTurkey.pageDetails.para2")),o.Db(2),o.tc("formGroup",t.formGroup),o.Db(1),o.tc("ngClass",o.xc(66,yd,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.selectedSubvisaCategory?null:t.formGroup.controls.selectedSubvisaCategory.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.selectedSubvisaCategory?null:t.formGroup.controls.selectedSubvisaCategory.invalid))),o.Db(2),o.Pc(o.nc(17,39,"polandTurkey.formLabel.label1")),o.Db(4),o.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.selectedSubvisaCategory?null:t.formGroup.controls.selectedSubvisaCategory.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.selectedSubvisaCategory?null:t.formGroup.controls.selectedSubvisaCategory.errors)),o.Db(2),o.uc("placeholder",o.nc(23,41,"polandTurkey.placeholder.label1")),o.Db(2),o.tc("ngForOf",o.oc(25,43,t.visaTypes,"name"))("ngForTrackBy",t.trackByFn),o.Db(3),o.tc("ngClass",o.xc(68,yd,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.visaCategoryCode?null:t.formGroup.controls.visaCategoryCode.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.visaCategoryCode?null:t.formGroup.controls.visaCategoryCode.invalid))),o.Db(2),o.Pc(o.nc(30,46,"polandTurkey.formLabel.label2")),o.Db(4),o.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.visaCategoryCode?null:t.formGroup.controls.visaCategoryCode.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.visaCategoryCode?null:t.formGroup.controls.visaCategoryCode.errors)),o.Db(2),o.uc("placeholder",o.nc(36,48,"polandTurkey.placeholder.label2")),o.Db(2),o.tc("ngForOf",o.oc(38,50,t.visaCategories,"name"))("ngForTrackBy",t.trackByFn),o.Db(3),o.tc("ngClass",o.xc(70,yd,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.centerCode?null:t.formGroup.controls.centerCode.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.centerCode?null:t.formGroup.controls.centerCode.invalid)||t.centersNotAvailable)),o.Db(2),o.Qc(" ",o.nc(43,53,"polandTurkey.formLabel.label3"),""),o.Db(4),o.tc("ngIf",null==t.vacCenters?null:t.vacCenters.length),o.Db(1),o.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.centerCode?null:t.formGroup.controls.centerCode.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.centerCode?null:t.formGroup.controls.centerCode.errors)&&!t.centersNotAvailable),o.Db(1),o.tc("ngIf",t.centersNotAvailable),o.Db(2),o.uc("placeholder",o.nc(51,55,"polandTurkey.placeholder.label3")),o.Db(2),o.tc("ngForOf",o.oc(53,57,t.vacCenters,"centerName"))("ngForTrackBy",t.trackByFn),o.Db(3),o.tc("ngIf",t.slotsNotAvailable),o.Db(1),o.tc("ngIf",(null==t.formGroup?null:t.formGroup.valid)&&t.appointmentSlots&&t.latestAvailableDate),o.Db(1),o.tc("ngIf",t.errorDescription),o.Db(1),o.tc("ngIf",(null==t.formGroup?null:t.formGroup.valid)&&t.isServiceFees),o.Db(3),o.Pc(o.nc(62,60,"polandTurkey.pageDetails.para3")),o.Db(3),o.Qc(" ",o.nc(65,62,"polandTurkey.pageDetails.para4")," "),o.Db(3),o.tc("disabled",t.disableButton),o.Db(1),o.Qc(" ",o.nc(69,64,"commonSections.buttons.button19")," "))},directives:[m.o,n.y,n.r,n.s,u.a,n.j,m.m,b.b,dt.a,n.q,n.h,m.n,h.a,Ri.a,bt.j],pipes:[p.d,gt.h,m.e],encapsulation:2}),e})();const Cd=["captchaContainer"];function Dd(e,t){1&e&&(o.Wb(0,"div",35),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"courierAddressDetails.messages.errorMessages.message1")," "))}function Id(e,t){1&e&&(o.Wb(0,"div",35),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"courierAddressDetails.messages.errorMessages.message2")," "))}function Vd(e,t){1&e&&(o.Wb(0,"div",35),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"courierAddressDetails.messages.errorMessages.message12")," "))}function Ad(e,t){if(1&e&&(o.Wb(0,"div",33),o.Mc(1,Dd,3,3,"div",34),o.Mc(2,Id,3,3,"div",34),o.Mc(3,Vd,3,3,"div",34),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.address1||null==e.formGroup.controls.address1.errors?null:e.formGroup.controls.address1.errors.required),o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.address1?null:e.formGroup.controls.address1.hasError("maxlength")),o.Db(1),o.tc("ngIf",(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.address1?null:e.formGroup.controls.address1.hasError("pattern"))&&!(null!=e.formGroup&&null!=e.formGroup.controls&&null!=e.formGroup.controls.address1&&e.formGroup.controls.address1.hasError("maxlength")))}}function Od(e,t){1&e&&(o.Wb(0,"div",35),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"courierAddressDetails.messages.errorMessages.message3")," "))}function Td(e,t){1&e&&(o.Wb(0,"div",35),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"courierAddressDetails.messages.errorMessages.message12")," "))}function Ld(e,t){if(1&e&&(o.Wb(0,"div",33),o.Mc(1,Od,3,3,"div",34),o.Mc(2,Td,3,3,"div",34),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.address2?null:e.formGroup.controls.address2.hasError("maxlength")),o.Db(1),o.tc("ngIf",(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.address2?null:e.formGroup.controls.address2.hasError("pattern"))&&!(null!=e.formGroup&&null!=e.formGroup.controls&&null!=e.formGroup.controls.address2&&e.formGroup.controls.address2.hasError("maxlength")))}}function Nd(e,t){1&e&&(o.Wb(0,"div",35),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"courierAddressDetails.messages.errorMessages.message4")," "))}function Md(e,t){1&e&&(o.Wb(0,"div",35),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"courierAddressDetails.messages.errorMessages.message5")," "))}function Ed(e,t){1&e&&(o.Wb(0,"div",35),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"courierAddressDetails.messages.errorMessages.message6")," "))}function Wd(e,t){if(1&e&&(o.Wb(0,"div",33),o.Mc(1,Nd,3,3,"div",34),o.Mc(2,Md,3,3,"div",34),o.Mc(3,Ed,3,3,"div",34),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.city||null==e.formGroup.controls.city.errors?null:e.formGroup.controls.city.errors.required),o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.city?null:e.formGroup.controls.city.hasError("maxlength")),o.Db(1),o.tc("ngIf",(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.city?null:e.formGroup.controls.city.hasError("pattern"))&&!(null!=e.formGroup&&null!=e.formGroup.controls&&null!=e.formGroup.controls.city&&e.formGroup.controls.city.hasError("maxlength")))}}function Pd(e,t){1&e&&(o.Wb(0,"div",35),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"courierAddressDetails.messages.errorMessages.message7")," "))}function kd(e,t){1&e&&(o.Wb(0,"div",35),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"courierAddressDetails.messages.errorMessages.message8")," "))}function wd(e,t){1&e&&(o.Wb(0,"div",35),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"courierAddressDetails.messages.errorMessages.message9")," "))}function Fd(e,t){if(1&e&&(o.Wb(0,"div",33),o.Mc(1,Pd,3,3,"div",34),o.Mc(2,kd,3,3,"div",34),o.Mc(3,wd,3,3,"div",34),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.state||null==e.formGroup.controls.state.errors?null:e.formGroup.controls.state.errors.required),o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.state?null:e.formGroup.controls.state.hasError("maxlength")),o.Db(1),o.tc("ngIf",(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.state?null:e.formGroup.controls.state.hasError("pattern"))&&!(null!=e.formGroup&&null!=e.formGroup.controls&&null!=e.formGroup.controls.state&&e.formGroup.controls.state.hasError("maxlength")))}}function _d(e,t){1&e&&(o.Wb(0,"div",35),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"courierAddressDetails.messages.errorMessages.message18")," "))}function xd(e,t){1&e&&(o.Wb(0,"div",35),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"courierAddressDetails.messages.errorMessages.message16")," "))}function Gd(e,t){1&e&&(o.Wb(0,"div",35),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"courierAddressDetails.messages.errorMessages.message17")," "))}function Rd(e,t){if(1&e&&(o.Wb(0,"div",33),o.Mc(1,_d,3,3,"div",34),o.Mc(2,xd,3,3,"div",34),o.Mc(3,Gd,3,3,"div",34),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.country||null==e.formGroup.controls.country.errors?null:e.formGroup.controls.country.errors.required),o.Db(1),o.tc("ngIf",(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.country?null:e.formGroup.controls.country.hasError("pattern"))&&!(null!=e.formGroup&&null!=e.formGroup.controls&&null!=e.formGroup.controls.country&&e.formGroup.controls.country.hasError("maxlength"))),o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.country?null:e.formGroup.controls.country.hasError("maxlength"))}}function Ud(e,t){1&e&&(o.Wb(0,"div",35),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"courierAddressDetails.messages.errorMessages.message15")," "))}function Bd(e,t){1&e&&(o.Wb(0,"div",35),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"courierAddressDetails.messages.errorMessages.message10")," "))}function jd(e,t){1&e&&(o.Wb(0,"div",35),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"courierAddressDetails.messages.errorMessages.message11")," "))}function Yd(e,t){if(1&e&&(o.Wb(0,"div",33),o.Mc(1,Ud,3,3,"div",34),o.Mc(2,Bd,3,3,"div",34),o.Mc(3,jd,3,3,"div",34),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.postalCode||null==e.formGroup.controls.postalCode.errors?null:e.formGroup.controls.postalCode.errors.required),o.Db(1),o.tc("ngIf",(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.postalCode?null:e.formGroup.controls.postalCode.hasError("pattern"))&&!(null!=e.formGroup&&null!=e.formGroup.controls&&null!=e.formGroup.controls.postalCode&&e.formGroup.controls.postalCode.hasError("maxlength"))),o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.postalCode?null:e.formGroup.controls.postalCode.hasError("maxlength"))}}function Qd(e,t){1&e&&(o.Wb(0,"div",39),o.Wb(1,"div",35),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()),2&e&&(o.Db(2),o.Qc(" ",o.nc(3,1,"commonSections.messages.requiredMessages.message1")," "))}function $d(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Wb(1,"app-captcha-container",36,37),o.hc("v2CaptchaSet",function(t){return o.Fc(e),o.lc(2).submitV2Captcha(t)}),o.Vb(),o.Mc(3,Qd,4,3,"div",38),o.Tb()}if(2&e){const e=o.lc(2);o.Db(1),o.tc("action",e.constants.captcha_action.COURIER)("captchaType",e.currentCaptcha),o.Db(2),o.tc("ngIf",e.currentCaptcha!==e.captchaVersionConst.default&&(null==e.formGroup.controls.captcha_api_key||null==e.formGroup.controls.captcha_api_key.errors?null:e.formGroup.controls.captcha_api_key.errors.required))}}const qd=function(e){return{"form-error":e}};function Hd(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"div",15),o.Wb(2,"div",16),o.Wb(3,"div",17),o.Mc(4,Ad,4,3,"div",18),o.Wb(5,"div"),o.Oc(6),o.mc(7,"translate"),o.Wb(8,"span",19),o.Oc(9,"* "),o.Rb(10,"span",20),o.mc(11,"translate"),o.Vb(),o.Wb(12,"mat-form-field",21),o.Rb(13,"input",22),o.mc(14,"translate"),o.mc(15,"translate"),o.mc(16,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(17,"div",16),o.Wb(18,"div",23),o.Mc(19,Ld,3,2,"div",18),o.Wb(20,"div"),o.Oc(21),o.mc(22,"translate"),o.Wb(23,"mat-form-field",21),o.Rb(24,"input",24),o.mc(25,"translate"),o.mc(26,"translate"),o.mc(27,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Ub(28),o.Wb(29,"div",16),o.Wb(30,"div",25),o.Mc(31,Wd,4,3,"div",18),o.Wb(32,"div"),o.Oc(33),o.mc(34,"translate"),o.Wb(35,"span",19),o.Oc(36,"* "),o.Rb(37,"span",20),o.mc(38,"translate"),o.Vb(),o.Wb(39,"mat-form-field",21),o.Rb(40,"input",26),o.mc(41,"translate"),o.mc(42,"translate"),o.mc(43,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(44,"div",16),o.Wb(45,"div",27),o.Mc(46,Fd,4,3,"div",18),o.Wb(47,"div"),o.Oc(48),o.mc(49,"translate"),o.Wb(50,"span",19),o.Oc(51,"* "),o.Rb(52,"span",20),o.mc(53,"translate"),o.Vb(),o.Wb(54,"mat-form-field",21),o.Rb(55,"input",28),o.mc(56,"translate"),o.mc(57,"translate"),o.mc(58,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(59,"div",16),o.Wb(60,"div",29),o.Mc(61,Rd,4,3,"div",18),o.Wb(62,"div"),o.Oc(63),o.mc(64,"translate"),o.Wb(65,"span",19),o.Oc(66,"* "),o.Rb(67,"span",20),o.mc(68,"translate"),o.Vb(),o.Wb(69,"mat-form-field",21),o.Rb(70,"input",30),o.mc(71,"translate"),o.mc(72,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(73,"div",16),o.Wb(74,"div",31),o.Mc(75,Yd,4,3,"div",18),o.Wb(76,"div"),o.Oc(77),o.mc(78,"translate"),o.Wb(79,"span",19),o.Oc(80,"* "),o.Rb(81,"span",20),o.mc(82,"translate"),o.Vb(),o.Wb(83,"mat-form-field",21),o.Rb(84,"input",32),o.mc(85,"translate"),o.mc(86,"translate"),o.mc(87,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Tb(),o.Mc(88,$d,4,3,"ng-container",8),o.Vb(),o.Tb()),2&e){const e=o.lc();o.Db(3),o.tc("ngClass",o.xc(97,qd,(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.address1?null:e.formGroup.controls.address1.touched)&&(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.address1?null:e.formGroup.controls.address1.invalid))),o.Db(1),o.tc("ngIf",(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.address1?null:e.formGroup.controls.address1.touched)&&(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.address1?null:e.formGroup.controls.address1.errors)),o.Db(2),o.Qc(" ",o.nc(7,41,"courierAddressDetails.formLabel.label1")," "),o.Db(4),o.Eb("aria-label",o.nc(11,43,"commonSections.formLabel.label7")),o.Db(3),o.vc("placeholder"," ",o.nc(14,45,"courierAddressDetails.formLabel.label1"),""),o.uc("matTooltip",o.nc(15,47,"courierAddressDetails.formLabel.label1")),o.Eb("aria-label",o.nc(16,49,"courierAddressDetails.formLabel.label1")),o.Db(5),o.tc("ngClass",o.xc(99,qd,(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.address2?null:e.formGroup.controls.address2.touched)&&(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.address2?null:e.formGroup.controls.address2.invalid))),o.Db(1),o.tc("ngIf",(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.address2?null:e.formGroup.controls.address2.touched)&&(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.address2?null:e.formGroup.controls.address2.errors)),o.Db(2),o.Qc(" ",o.nc(22,51,"courierAddressDetails.formLabel.label2")," "),o.Db(3),o.vc("placeholder"," ",o.nc(25,53,"courierAddressDetails.formLabel.label2"),""),o.uc("matTooltip",o.nc(26,55,"courierAddressDetails.formLabel.label2")),o.Eb("aria-label",o.nc(27,57,"courierAddressDetails.formLabel.label2")),o.Db(6),o.tc("ngClass",o.xc(101,qd,(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.city?null:e.formGroup.controls.city.touched)&&(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.city?null:e.formGroup.controls.city.invalid))),o.Db(1),o.tc("ngIf",(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.city?null:e.formGroup.controls.city.touched)&&(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.city?null:e.formGroup.controls.city.errors)),o.Db(2),o.Qc(" ",o.nc(34,59,"courierAddressDetails.formLabel.label3")," "),o.Db(4),o.Eb("aria-label",o.nc(38,61,"commonSections.formLabel.label7")),o.Db(3),o.vc("placeholder"," ",o.nc(41,63,"courierAddressDetails.formLabel.label3"),""),o.uc("matTooltip",o.nc(42,65,"courierAddressDetails.formLabel.label3")),o.Eb("aria-label",o.nc(43,67,"courierAddressDetails.formLabel.label3")),o.Db(5),o.tc("ngClass",o.xc(103,qd,(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.state?null:e.formGroup.controls.state.touched)&&(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.state?null:e.formGroup.controls.state.invalid))),o.Db(1),o.tc("ngIf",(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.state?null:e.formGroup.controls.state.touched)&&(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.state?null:e.formGroup.controls.state.errors)),o.Db(2),o.Qc(" ",o.nc(49,69,"courierAddressDetails.formLabel.label4")," "),o.Db(4),o.Eb("aria-label",o.nc(53,71,"commonSections.formLabel.label7")),o.Db(3),o.vc("placeholder"," ",o.nc(56,73,"courierAddressDetails.formLabel.label4"),""),o.uc("matTooltip",o.nc(57,75,"courierAddressDetails.formLabel.label4")),o.Eb("aria-label",o.nc(58,77,"courierAddressDetails.formLabel.label4")),o.Db(5),o.tc("ngClass",o.xc(105,qd,(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.country?null:e.formGroup.controls.country.touched)&&(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.country?null:e.formGroup.controls.country.invalid))),o.Db(1),o.tc("ngIf",(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.country?null:e.formGroup.controls.country.touched)&&(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.country?null:e.formGroup.controls.country.errors)),o.Db(2),o.Qc(" ",o.nc(64,79,"courierAddressDetails.formLabel.label5")," "),o.Db(4),o.Eb("aria-label",o.nc(68,81,"commonSections.formLabel.label7")),o.Db(3),o.vc("placeholder"," ",o.nc(71,83,"courierAddressDetails.formLabel.label5"),""),o.Eb("aria-label",o.nc(72,85,"courierAddressDetails.formLabel.label5")),o.Db(4),o.tc("ngClass",o.xc(107,qd,(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.postalCode?null:e.formGroup.controls.postalCode.touched)&&(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.postalCode?null:e.formGroup.controls.postalCode.invalid))),o.Db(1),o.tc("ngIf",(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.postalCode?null:e.formGroup.controls.postalCode.touched)&&(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.postalCode?null:e.formGroup.controls.postalCode.errors)),o.Db(2),o.Qc(" ",o.nc(78,87,"courierAddressDetails.formLabel.label6")," "),o.Db(4),o.Eb("aria-label",o.nc(82,89,"commonSections.formLabel.label7")),o.Db(3),o.vc("placeholder"," ",o.nc(85,91,"courierAddressDetails.formLabel.label6"),""),o.uc("matTooltip",o.nc(86,93,"courierAddressDetails.formLabel.label6")),o.Eb("aria-label",o.nc(87,95,"courierAddressDetails.formLabel.label6")),o.Db(4),o.tc("ngIf",e.allowedCaptcha)}}let Kd=(()=>{class e extends nt.a{constructor(e){super(),this.el=e,this.formGroup=new n.i({}),this.constants=r.c,this.allowedCaptcha=!1}ngOnInit(){this.currentCaptcha=this.captchaVersionConst.default;const e={dl_category:"Courier Address",dl_action:"Courier Address Page View",dl_label:this.utilityService.countrynameByIso(this.sessionService.countryCode||""),value:void 0};this.utilityService.fireCustomEvent(e),this.initModule(),this.checkCaptchaAllowed()}initModule(){return Object(l.b)(this,void 0,void 0,function*(){try{this.formGroup=this.getInitForm()}catch(e){this.logger.error(e)}})}getInitForm(){try{let e;return e=new n.i({address1:new n.f("",[n.x.required,n.x.pattern(r.s.ADDRESS_LINE_1),n.x.maxLength(35)]),address2:new n.f("",[n.x.pattern(r.s.ALPHA_NUMERIC_WITH_HYPEN_AND_SPACE),n.x.maxLength(70)]),state:new n.f("",[n.x.required,n.x.maxLength(30),n.x.pattern(r.s.ALPHA_NUMERIC_WITH_SPACE)]),city:new n.f(null,[n.x.required,n.x.maxLength(30),n.x.pattern(r.s.ALPHA_NUMERIC_WITH_SPACE)]),country:new n.f(null,[n.x.required,n.x.maxLength(30),n.x.pattern(r.s.ALPHA_NUMERIC_WITH_SPACE)]),postalCode:new n.f(null,[n.x.required,n.x.pattern(r.s.NO_SPACE_APLHA_NUMERIC),n.x.maxLength(10)]),missionCode:new n.f(this.sessionService.tenent),countryCode:new n.f(this.sessionService.countryCode),loginUser:new n.f(this.sessionService.getLoggedEmail()),urn:new n.f(this.sessionService.urn)}),e}catch(e){throw e}}ngAfterViewInit(){this.sessionService.courierDetails&&this.formGroup.patchValue(this.sessionService.courierDetails)}checkCaptchaAllowed(){this.subs.sink=this.dataShareService.captchaAllowedRoutes.subscribe(e=>Object(l.b)(this,void 0,void 0,function*(){e&&(this.allowedCaptcha=e.indexOf(r.q.COURIER_ADDRESS)>-1,this.allowedCaptcha&&(this.utilityService.makeFieldRequired(this.formGroup,["captcha_version","captcha_api_key"]),setTimeout(()=>Object(l.b)(this,void 0,void 0,function*(){const e=yield this.captchaContainer.generateToken();this.utilityService.patchCaptchaValue(this.formGroup,e,this.captchaVersionConst.default)}),1e3)))}))}saveAndContinue(){return Object(l.b)(this,void 0,void 0,function*(){try{if(this.formGroup.invalid)return void this.setErrorFieldFocus(this.formGroup);if(this.utilityService.fireCustomEvent({dl_category:"Courier Addess",dl_action:"Add Courier Address",dl_label:"Courier Address Cotinue Click",value:void 0}),this.formGroup.invalid)return void this.formGroup.markAllAsTouched();this.saveCourierDetails()}catch(e){this.logger.error(e)}})}setErrorFieldFocus(e){var t;try{e.markAllAsTouched();for(const a of Object.keys(e.controls))if(e.controls[a].invalid){const e=this.el.nativeElement.querySelector(`[formcontrolname="${a}"]`);null===(t=null==e?void 0:e.closest(".form-group"))||void 0===t||t.focus();break}}catch(a){this.logger.error(a)}}submitV2Captcha(e){this.utilityService.patchCaptchaValue(this.formGroup,e,this.captchaVersionConst.alternate)}goBack(){try{this.commonService.routeToPostLoginModule(r.q.SERVICES)}catch(e){this.logger.error(e)}}saveCourierDetails(){return Object(l.b)(this,void 0,void 0,function*(){try{if(this.formGroup.valid){let e=this.formGroup.value;this.sessionService.courierDetails=e,!0===(yield this.httpService.payloadPost(r.c.api.saveCourierAddress,e).toPromise().then(e=>e).catch(e=>e)).isSaved&&this.commonService.routeToPostLoginModule(this.sessionService.tmiEnabled?r.q.TRAVEL_MEDICAL_INSURANCE:r.q.REVIEW_AND_PAY)}}catch(e){this.logger.error(e)}})}get isSaveAndContinueDisabled(){var e,t,a;return this.allowedCaptcha?(null===(e=this.formGroup)||void 0===e?void 0:e.invalid)||!(null===(t=this.formGroup.get("captcha_api_key"))||void 0===t?void 0:t.value):null===(a=this.formGroup)||void 0===a?void 0:a.invalid}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(o.l))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-courier-address"]],viewQuery:function(e,t){if(1&e&&o.Uc(Cd,1),2&e){let e;o.Ac(e=o.ic())&&(t.captchaContainer=e.first)}},features:[o.Ab],decls:32,vars:21,consts:[[1,"container","py-15","py-md-30"],[1,"form-card"],[1,"row","align-items-center","mb-25","mt-10"],[1,"col"],[1,"c-brand-grey-para"],[1,"row","align-items-center","mb-25"],[1,"fs-24","fs-sm-46","mb-0"],[3,"formGroup"],[4,"ngIf"],[1,"form-card","p-0","border-0","mt-20","shadow-none"],[1,"row"],[1,"col-12","col-sm-6","mt-20",3,"click"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange"],[1,"col-12","col-sm-6","mt-20"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],[1,"row","align-items-end"],[1,"col-12","col-sm-6","mb-15"],["tabindex","1",1,"form-group",3,"ngClass"],["class","errorMessage","aria-live","assertive",4,"ngIf"],[1,"c-brand-error"],[1,"sr-only"],["appearance","outline",1,"mat-form-field-outline-brand"],["type","text","matInput","","formControlName","address1","autocomplete","off","attr.aria-required","true",3,"placeholder","matTooltip"],["tabindex","2",1,"form-group",3,"ngClass"],["type","text","matInput","","formControlName","address2","autocomplete","off",3,"placeholder","matTooltip"],["tabindex","3",1,"form-group",3,"ngClass"],["type","text","matInput","","formControlName","city","autocomplete","off","attr.aria-required","true",3,"placeholder","matTooltip"],["tabindex","4",1,"form-group",3,"ngClass"],["type","text","matInput","","formControlName","state","autocomplete","off","attr.aria-required","true",3,"placeholder","matTooltip"],["tabindex","5",1,"form-group",3,"ngClass"],["formControlName","country","type","text","matInput","","autocomplete","off","attr.aria-required","true",3,"placeholder"],["tabindex","6",1,"form-group",3,"ngClass"],["type","text","matInput","","formControlName","postalCode","autocomplete","off",3,"placeholder","matTooltip"],["aria-live","assertive",1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[3,"action","captchaType","v2CaptchaSet"],["captchaContainer",""],["class","errorMessage",4,"ngIf"],[1,"errorMessage"]],template:function(e,t){1&e&&(o.Wb(0,"section",0),o.Wb(1,"form"),o.Wb(2,"mat-card",1),o.Wb(3,"div",2),o.Wb(4,"div",3),o.Wb(5,"p",4),o.Oc(6),o.mc(7,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(8,"div",5),o.Wb(9,"div",3),o.Wb(10,"h1",6),o.Oc(11),o.mc(12,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Rb(13,"hr"),o.Wb(14,"p",4),o.Oc(15),o.mc(16,"translate"),o.Vb(),o.Wb(17,"p",4),o.Oc(18),o.mc(19,"translate"),o.Vb(),o.Wb(20,"form",7),o.Mc(21,Hd,89,109,"ng-container",8),o.Vb(),o.Vb(),o.Wb(22,"mat-card",9),o.Wb(23,"div",10),o.Wb(24,"div",11),o.hc("click",function(){return t.goBack()}),o.Wb(25,"button",12),o.Oc(26),o.mc(27,"translate"),o.Vb(),o.Vb(),o.Wb(28,"div",13),o.Wb(29,"button",14),o.hc("click",function(){return t.saveAndContinue()}),o.Oc(30),o.mc(31,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e&&(o.Db(6),o.Qc(" ",o.nc(7,9,"courierAddressDetails.headerLabel.label2")," "),o.Db(5),o.Qc(" ",o.nc(12,11,"courierAddressDetails.headerLabel.label1")," "),o.Db(4),o.Qc(" ",o.nc(16,13,"courierAddressDetails.headerLabel.label3")," "),o.Db(3),o.Qc(" ",o.nc(19,15,"courierAddressDetails.headerLabel.label4")," "),o.Db(2),o.tc("formGroup",t.formGroup),o.Db(1),o.tc("ngIf",t.formGroup),o.Db(5),o.Qc(" ",o.nc(27,17,"commonSections.buttons.button8")," "),o.Db(3),o.tc("disabled",t.isSaveAndContinueDisabled),o.Db(1),o.Qc(" ",o.nc(31,19,"commonSections.buttons.button19")," "))},directives:[n.y,n.r,n.s,u.a,n.j,m.o,h.a,m.m,b.b,g.b,n.d,n.q,n.h,pt.a,ce],pipes:[p.d],styles:[""]}),e})();function zd(e,t){1&e&&(o.Wb(0,"div",20),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"tmiOabLogin.messages.errorMessages.message4")," "))}function Zd(e,t){1&e&&(o.Wb(0,"div",20),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"commonSections.messages.patternMessages.message1")," "))}function Jd(e,t){if(1&e&&(o.Wb(0,"div",18),o.Mc(1,zd,3,3,"div",19),o.Mc(2,Zd,3,3,"div",19),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",e.loginF.username.errors.required),o.Db(1),o.tc("ngIf",e.loginF.username.errors.pattern)}}function Xd(e,t){1&e&&(o.Wb(0,"div",29),o.Wb(1,"div",30),o.Rb(2,"i",31),o.Wb(3,"div"),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Vb(),o.Vb()),2&e&&(o.Db(4),o.Pc(o.nc(5,1,"tmiOabLogin.messages.errorMessages.message1")))}function eu(e,t){1&e&&(o.Wb(0,"div",29),o.Wb(1,"div",30),o.Rb(2,"i",31),o.Wb(3,"div"),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Vb(),o.Vb()),2&e&&(o.Db(4),o.Pc(o.nc(5,1,"tmiOabLogin.messages.errorMessages.message3")))}function tu(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div",21),o.Wb(1,"div",22),o.Mc(2,Xd,6,3,"div",23),o.Mc(3,eu,6,3,"div",23),o.Vb(),o.Wb(4,"div",24),o.Wb(5,"div",25),o.Wb(6,"div"),o.Oc(7),o.mc(8,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(9,"div",10),o.Wb(10,"div",25),o.Wb(11,"mat-form-field",11),o.Wb(12,"input",26),o.hc("ngModelChange",function(t){return o.Fc(e),o.lc().otpPassword=t}),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(13,"div",13),o.Wb(14,"button",15),o.hc("click",function(){return o.Fc(e),o.lc().validateOTP()}),o.Oc(15),o.mc(16,"translate"),o.Vb(),o.Vb(),o.Wb(17,"div",27),o.Wb(18,"span",28),o.hc("click",function(){return o.Fc(e),o.lc().generateOtp("OTP Resend")}),o.Oc(19),o.mc(20,"translate"),o.Vb(),o.Vb(),o.Vb()}if(2&e){const e=o.lc();o.Db(2),o.tc("ngIf",1==e.OTPUnsuccess&&0==e.OTPSuccess),o.Db(1),o.tc("ngIf",1==e.otpLimitExceed),o.Db(4),o.Pc(o.nc(8,7,"tmiOabLogin.pageDetails.para2")),o.Db(5),o.tc("ngModel",e.otpPassword),o.Db(2),o.tc("disabled",6>e.otpPassword.length),o.Db(1),o.Qc(" ",o.nc(16,9,"tmiOabLogin.buttons.button2")," "),o.Db(4),o.Pc(o.nc(20,11,"tmiOabLogin.formLabel.label1"))}}function au(e,t){1&e&&(o.Wb(0,"div",32),o.Wb(1,"div",33),o.Wb(2,"div",34),o.Oc(3),o.mc(4,"translate"),o.Vb(),o.Wb(5,"div",35),o.Oc(6),o.mc(7,"translate"),o.Vb(),o.Wb(8,"div",36),o.Wb(9,"div",37),o.Rb(10,"i",31),o.Wb(11,"div"),o.Oc(12),o.mc(13,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e&&(o.Db(3),o.Pc(o.nc(4,3,"tmiOabLogin.pageDetails.para2")),o.Db(3),o.Qc(" ",o.nc(7,5,"tmiOabLogin.messages.successMessages.message1")," "),o.Db(6),o.Pc(o.nc(13,7,"applicantInformation.messages.successMessages.message2")))}const iu=function(e){return{"form-error":e}};let ou=(()=>{class e extends d.a{constructor(e,t){super(),this.formBuilder=e,this.baseService=t,this.OTPHandler=!1,this.OTPSuccess=!1,this.OTPUnsuccess=!1,this.OTPCard=!1,this.otpInProgress=!1,this.otpLimitExceed=!1,this.IsOTPEnable=!0,this.createOTPLimit=3,this.constants=r.c,this.otpPassword=""}ngOnInit(){this.initLoginForm()}initLoginForm(){return Object(l.b)(this,void 0,void 0,function*(){try{this.loginForm=this.formBuilder.group({username:["",[n.x.pattern(r.s.email_caps_allowed),n.x.required]],missioncode:[this.sessionService.tenent],countrycode:[this.sessionService.countryCode],languageCode:[this.sessionService.appLanguageCode]})}catch(e){console.log(e)}})}get loginF(){return this.loginForm.controls}generateOtp(e){return Object(l.b)(this,void 0,void 0,function*(){try{if(this.loginForm.invalid)return;this.loginForm.value.scanCode=e;const t={result:"Success",OTPresendLimit:2,error:null};console.log(t.error),t.error||(this.OTPHandler=!0)}catch(t){console.log(t)}})}validateOTP(){return Object(l.b)(this,void 0,void 0,function*(){try{this.loginForm.value.OTP=this.otpPassword;const e={accessToken:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiSW5kaXZpZHVhbCIsInVzZXJJZCI6IllUUGFPZlNkQllMVTJVcDVjRkJqYkE9PSIsImVtYWlsIjoidHl2WnZJTDRDRkFxWHJ2Ykl1bUVucnBINUdrUjczOVJTWE1VaGloRGxXdEtOVm1Ld3YxOVY0ZzJSbjc3b25kUCIsIm5iZiI6MTY1Nzg2Njk2OCwiZXhwIjoxNjU3ODcyOTY4LCJpYXQiOjE2NTc4NjY5Njh9.fPJd8uxa48iUsRwTMGu63Fw7beG9Ba-kyqd1j8n7oyM",isAuthenticated:!0,nearestVACCountryCode:null,FailedAttemptCount:0,isAppointmentBooked:!1,isLastTransactionPending:!1,isAppointmentExpired:!1,isROCompleted:!1,roleName:"Individual",isUkraineScheme:!1,isUkraineSchemeDocumentUpload:!1,error:null};if(e.accessToken){this.sessionService.updateLoggedEmail(this.loginForm.value.username),yield this.commonService.postLoginActivity(this.baseService,e);const t=this.sessionService.getApplicationSchema(),a=[r.c.modules.TRAVEL_MEDICAL_INSURANCE,r.c.modules.REVIEW_PAYMENT],i=t.modules.filter(e=>a.indexOf(e.logicalName)>-1);t.modules=i,this.sessionService.tempAppSchema=this.sessionService.getApplicationSchema(),this.sessionService.saveApplicationSchemaInBrowser(t),this.sessionService.isTmiOabEnable=!0,this.sessionService.applicationDetailValue=this.initApplicationDetails(),this.commonService.routeToPostLoginModule(r.q.TRAVEL_MEDICAL_INSURANCE)}}catch(e){console.log(e)}})}initApplicationDetails(){return{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,centerCode:"",loginUser:this.loginForm.value.username,visaCategoryCode:"",isEdit:!1,applicantList:[],languageCode:this.sessionService.appCultureCode}}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(n.e),o.Qb(oe))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-tmi-oab-login"]],features:[o.Ab],decls:22,vars:14,consts:[[1,"container","py-15","py-md-30"],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-9","col-lg-7","col-xl-6"],[1,"form-card"],[1,"p-15","mt-20"],[1,"fs-18","fs-sm-21","mb-15"],[3,"formGroup"],[3,"ngClass"],[1,"row"],["class","errorMessage",4,"ngIf"],[1,"col-12","col-sm"],["appearance","outline",1,"mat-form-field-outline-brand"],["placeholder","jane.doe@email.com","matInput","","formControlName","username","type","text","autocomplete","off"],[1,"col-sm-auto","col-12"],[1,"max-sm-w-500"],["mat-raised-button","",1,"btn","btn-block","mat-btn-lg","btn-brand-orange",3,"disabled","click"],["class","row align-items-end mt-20",4,"ngIf"],["class","border-success mt-20","style","border-left: 5px solid",4,"ngIf"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[1,"row","align-items-end","mt-20"],[1,"col-12"],["class","border-danger","style","border-left: 5px solid",4,"ngIf"],[1,"col-12","col-sm-9","col-lg-12"],[1,"form-group","mb-0"],["placeholder","OTP","matInput","","type","text","maxlength","6","required","",3,"ngModel","ngModelChange"],[1,"col-12","mt-sm-10"],[1,"c-brand-grey-para","text-decoration-underline",2,"cursor","pointer",3,"click"],[1,"border-danger",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-15","pl-50"],[1,"fa","fa-check-circle","fs-24","position-absolute","left-15","top-13"],[1,"border-success","mt-20",2,"border-left","5px solid"],[1,"alert","alert-success","border-0","rounded-0","py-20","pl-sm-50","mb-0"],[1,"c-black","fs-18"],[1,"c-brand-grey-para","fs-14","mt-3","mb-8"],[1,"border-success"],[1,"alert","alert-success","border-0","rounded-0","py-15","pl-50"]],template:function(e,t){1&e&&(o.Wb(0,"section",0),o.Wb(1,"div",1),o.Wb(2,"div",2),o.Wb(3,"mat-card",3),o.Wb(4,"div",4),o.Wb(5,"h2",5),o.Oc(6),o.mc(7,"translate"),o.Vb(),o.Wb(8,"form",6),o.Wb(9,"div",7),o.Wb(10,"div",8),o.Mc(11,Jd,3,2,"div",9),o.Wb(12,"div",10),o.Wb(13,"mat-form-field",11),o.Rb(14,"input",12),o.Vb(),o.Vb(),o.Wb(15,"div",13),o.Wb(16,"div",14),o.Wb(17,"button",15),o.hc("click",function(){return t.generateOtp("OTP Send")}),o.Oc(18),o.mc(19,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Mc(20,tu,21,13,"div",16),o.Mc(21,au,14,9,"div",17),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e&&(o.Db(6),o.Pc(o.nc(7,8,"tmiOabLogin.headerLabel.label1")),o.Db(2),o.tc("formGroup",t.loginForm),o.Db(1),o.tc("ngClass",o.xc(12,iu,t.loginF.username.touched&&t.loginF.username.invalid)),o.Db(2),o.tc("ngIf",t.loginF.username.touched&&t.loginF.username.errors),o.Db(6),o.tc("disabled",t.loginForm.invalid),o.Db(1),o.Qc(" ",o.nc(19,10,"tmiOabLogin.buttons.button1")," "),o.Db(2),o.tc("ngIf",1==t.OTPHandler),o.Db(1),o.tc("ngIf",1==t.OTPSuccess))},directives:[u.a,n.y,n.r,n.j,m.m,m.o,b.b,g.b,n.d,n.q,n.h,h.a,n.l,n.w,n.t],pipes:[p.d],encapsulation:2}),e})();var nu=a("E3Zs");const su=["captchaContainer"];function lu(e,t){1&e&&(o.Wb(0,"div",35),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"courierAddressDetails.messages.errorMessages.message1")," "))}function ru(e,t){1&e&&(o.Wb(0,"div",35),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"courierAddressDetails.messages.errorMessages.message2")," "))}function cu(e,t){1&e&&(o.Wb(0,"div",35),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"courierAddressDetails.messages.errorMessages.message12")," "))}function du(e,t){if(1&e&&(o.Wb(0,"div",33),o.Mc(1,lu,3,3,"div",34),o.Mc(2,ru,3,3,"div",34),o.Mc(3,cu,3,3,"div",34),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.addressline1||null==e.formGroup.controls.addressline1.errors?null:e.formGroup.controls.addressline1.errors.required),o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.addressline1?null:e.formGroup.controls.addressline1.hasError("maxlength")),o.Db(1),o.tc("ngIf",(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.addressline1?null:e.formGroup.controls.addressline1.hasError("pattern"))&&!(null!=e.formGroup&&null!=e.formGroup.controls&&null!=e.formGroup.controls.addressline1&&e.formGroup.controls.addressline1.hasError("maxlength")))}}function uu(e,t){1&e&&(o.Wb(0,"div",35),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"courierAddressDetails.messages.errorMessages.message3")," "))}function mu(e,t){1&e&&(o.Wb(0,"div",35),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"courierAddressDetails.messages.errorMessages.message12")," "))}function pu(e,t){if(1&e&&(o.Wb(0,"div",33),o.Mc(1,uu,3,3,"div",34),o.Mc(2,mu,3,3,"div",34),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.addressline2?null:e.formGroup.controls.addressline2.hasError("maxlength")),o.Db(1),o.tc("ngIf",(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.addressline2?null:e.formGroup.controls.addressline2.hasError("pattern"))&&!(null!=e.formGroup&&null!=e.formGroup.controls&&null!=e.formGroup.controls.addressline2&&e.formGroup.controls.addressline2.hasError("maxlength")))}}function bu(e,t){1&e&&(o.Wb(0,"div",35),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"courierAddressDetails.messages.errorMessages.message4")," "))}function gu(e,t){1&e&&(o.Wb(0,"div",35),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"courierAddressDetails.messages.errorMessages.message5")," "))}function fu(e,t){1&e&&(o.Wb(0,"div",35),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"courierAddressDetails.messages.errorMessages.message6")," "))}function hu(e,t){if(1&e&&(o.Wb(0,"div",33),o.Mc(1,bu,3,3,"div",34),o.Mc(2,gu,3,3,"div",34),o.Mc(3,fu,3,3,"div",34),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.city||null==e.formGroup.controls.city.errors?null:e.formGroup.controls.city.errors.required),o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.city?null:e.formGroup.controls.city.hasError("maxlength")),o.Db(1),o.tc("ngIf",(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.city?null:e.formGroup.controls.city.hasError("pattern"))&&!(null!=e.formGroup&&null!=e.formGroup.controls&&null!=e.formGroup.controls.city&&e.formGroup.controls.city.hasError("maxlength")))}}function vu(e,t){1&e&&(o.Wb(0,"div",35),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"courierAddressDetails.messages.errorMessages.message7")," "))}function yu(e,t){1&e&&(o.Wb(0,"div",35),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"courierAddressDetails.messages.errorMessages.message8")," "))}function Su(e,t){1&e&&(o.Wb(0,"div",35),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"courierAddressDetails.messages.errorMessages.message9")," "))}function Cu(e,t){if(1&e&&(o.Wb(0,"div",33),o.Mc(1,vu,3,3,"div",34),o.Mc(2,yu,3,3,"div",34),o.Mc(3,Su,3,3,"div",34),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.state||null==e.formGroup.controls.state.errors?null:e.formGroup.controls.state.errors.required),o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.state?null:e.formGroup.controls.state.hasError("maxlength")),o.Db(1),o.tc("ngIf",(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.state?null:e.formGroup.controls.state.hasError("pattern"))&&!(null!=e.formGroup&&null!=e.formGroup.controls&&null!=e.formGroup.controls.state&&e.formGroup.controls.state.hasError("maxlength")))}}function Du(e,t){1&e&&(o.Wb(0,"div",35),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"courierAddressDetails.messages.errorMessages.message18")," "))}function Iu(e,t){1&e&&(o.Wb(0,"div",35),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"courierAddressDetails.messages.errorMessages.message16")," "))}function Vu(e,t){1&e&&(o.Wb(0,"div",35),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"courierAddressDetails.messages.errorMessages.message17")," "))}function Au(e,t){if(1&e&&(o.Wb(0,"div",33),o.Mc(1,Du,3,3,"div",34),o.Mc(2,Iu,3,3,"div",34),o.Mc(3,Vu,3,3,"div",34),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.countryCode||null==e.formGroup.controls.countryCode.errors?null:e.formGroup.controls.countryCode.errors.required),o.Db(1),o.tc("ngIf",(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.countryCode?null:e.formGroup.controls.countryCode.hasError("pattern"))&&!(null!=e.formGroup&&null!=e.formGroup.controls&&null!=e.formGroup.controls.countryCode&&e.formGroup.controls.countryCode.hasError("maxlength"))),o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.countryCode?null:e.formGroup.controls.countryCode.hasError("maxlength"))}}function Ou(e,t){1&e&&(o.Wb(0,"div",35),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"courierAddressDetails.messages.errorMessages.message15")," "))}function Tu(e,t){1&e&&(o.Wb(0,"div",35),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"courierAddressDetails.messages.errorMessages.message10")," "))}function Lu(e,t){1&e&&(o.Wb(0,"div",35),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Qc(" ",o.nc(2,1,"courierAddressDetails.messages.errorMessages.message11")," "))}function Nu(e,t){if(1&e&&(o.Wb(0,"div",33),o.Mc(1,Ou,3,3,"div",34),o.Mc(2,Tu,3,3,"div",34),o.Mc(3,Lu,3,3,"div",34),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.pincode||null==e.formGroup.controls.pincode.errors?null:e.formGroup.controls.pincode.errors.required),o.Db(1),o.tc("ngIf",(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.pincode?null:e.formGroup.controls.pincode.hasError("pattern"))&&!(null!=e.formGroup&&null!=e.formGroup.controls&&null!=e.formGroup.controls.pincode&&e.formGroup.controls.pincode.hasError("maxlength"))),o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.pincode?null:e.formGroup.controls.pincode.hasError("maxlength"))}}function Mu(e,t){1&e&&(o.Wb(0,"div",39),o.Wb(1,"div",35),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()),2&e&&(o.Db(2),o.Qc(" ",o.nc(3,1,"commonSections.messages.requiredMessages.message1")," "))}function Eu(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Wb(1,"app-captcha-container",36,37),o.hc("v2CaptchaSet",function(t){return o.Fc(e),o.lc(2).submitV2Captcha(t)}),o.Vb(),o.Mc(3,Mu,4,3,"div",38),o.Tb()}if(2&e){const e=o.lc(2);o.Db(1),o.tc("action",e.constants.captcha_action.COURIER)("captchaType",e.currentCaptcha),o.Db(2),o.tc("ngIf",e.currentCaptcha!==e.captchaVersionConst.default&&(null==e.formGroup.controls.captcha_api_key||null==e.formGroup.controls.captcha_api_key.errors?null:e.formGroup.controls.captcha_api_key.errors.required))}}const Wu=function(e){return{"form-error":e}};function Pu(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"div",15),o.Wb(2,"div",16),o.Wb(3,"div",17),o.Mc(4,du,4,3,"div",18),o.Wb(5,"div"),o.Oc(6),o.mc(7,"translate"),o.Wb(8,"span",19),o.Oc(9,"* "),o.Rb(10,"span",20),o.mc(11,"translate"),o.Vb(),o.Wb(12,"mat-form-field",21),o.Rb(13,"input",22),o.mc(14,"translate"),o.mc(15,"translate"),o.mc(16,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(17,"div",16),o.Wb(18,"div",23),o.Mc(19,pu,3,2,"div",18),o.Wb(20,"div"),o.Oc(21),o.mc(22,"translate"),o.Wb(23,"mat-form-field",21),o.Rb(24,"input",24),o.mc(25,"translate"),o.mc(26,"translate"),o.mc(27,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Ub(28),o.Wb(29,"div",16),o.Wb(30,"div",25),o.Mc(31,hu,4,3,"div",18),o.Wb(32,"div"),o.Oc(33),o.mc(34,"translate"),o.Wb(35,"span",19),o.Oc(36,"* "),o.Rb(37,"span",20),o.mc(38,"translate"),o.Vb(),o.Wb(39,"mat-form-field",21),o.Rb(40,"input",26),o.mc(41,"translate"),o.mc(42,"translate"),o.mc(43,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(44,"div",16),o.Wb(45,"div",27),o.Mc(46,Cu,4,3,"div",18),o.Wb(47,"div"),o.Oc(48),o.mc(49,"translate"),o.Wb(50,"span",19),o.Oc(51,"* "),o.Rb(52,"span",20),o.mc(53,"translate"),o.Vb(),o.Wb(54,"mat-form-field",21),o.Rb(55,"input",28),o.mc(56,"translate"),o.mc(57,"translate"),o.mc(58,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(59,"div",16),o.Wb(60,"div",29),o.Mc(61,Au,4,3,"div",18),o.Wb(62,"div"),o.Oc(63),o.mc(64,"translate"),o.Wb(65,"span",19),o.Oc(66,"* "),o.Rb(67,"span",20),o.mc(68,"translate"),o.Vb(),o.Wb(69,"mat-form-field",21),o.Rb(70,"input",30),o.mc(71,"translate"),o.mc(72,"translate"),o.mc(73,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(74,"div",16),o.Wb(75,"div",31),o.Mc(76,Nu,4,3,"div",18),o.Wb(77,"div"),o.Oc(78),o.mc(79,"translate"),o.Wb(80,"span",19),o.Oc(81,"* "),o.Rb(82,"span",20),o.mc(83,"translate"),o.Vb(),o.Wb(84,"mat-form-field",21),o.Rb(85,"input",32),o.mc(86,"translate"),o.mc(87,"translate"),o.mc(88,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Tb(),o.Mc(89,Eu,4,3,"ng-container",8),o.Vb(),o.Tb()),2&e){const e=o.lc();o.Db(3),o.tc("ngClass",o.xc(100,Wu,(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.addressline1?null:e.formGroup.controls.addressline1.touched)&&(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.addressline1?null:e.formGroup.controls.addressline1.invalid))),o.Db(1),o.tc("ngIf",(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.addressline1?null:e.formGroup.controls.addressline1.touched)&&(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.addressline1?null:e.formGroup.controls.addressline1.errors)),o.Db(2),o.Qc(" ",o.nc(7,42,"courierAddressDetails.formLabel.label1")," "),o.Db(4),o.Eb("aria-label",o.nc(11,44,"commonSections.formLabel.label7")),o.Db(3),o.vc("placeholder"," ",o.nc(14,46,"courierAddressDetails.formLabel.label1"),""),o.uc("matTooltip",o.nc(15,48,"courierAddressDetails.formLabel.label1")),o.Eb("aria-label",o.nc(16,50,"courierAddressDetails.formLabel.label1")),o.Db(5),o.tc("ngClass",o.xc(102,Wu,(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.addressline2?null:e.formGroup.controls.addressline2.touched)&&(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.addressline2?null:e.formGroup.controls.addressline2.invalid))),o.Db(1),o.tc("ngIf",(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.addressline2?null:e.formGroup.controls.addressline2.touched)&&(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.addressline2?null:e.formGroup.controls.addressline2.errors)),o.Db(2),o.Qc(" ",o.nc(22,52,"courierAddressDetails.formLabel.label2")," "),o.Db(3),o.vc("placeholder"," ",o.nc(25,54,"courierAddressDetails.formLabel.label2"),""),o.uc("matTooltip",o.nc(26,56,"courierAddressDetails.formLabel.label2")),o.Eb("aria-label",o.nc(27,58,"courierAddressDetails.formLabel.label2")),o.Db(6),o.tc("ngClass",o.xc(104,Wu,(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.city?null:e.formGroup.controls.city.touched)&&(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.city?null:e.formGroup.controls.city.invalid))),o.Db(1),o.tc("ngIf",(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.city?null:e.formGroup.controls.city.touched)&&(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.city?null:e.formGroup.controls.city.errors)),o.Db(2),o.Qc(" ",o.nc(34,60,"courierAddressDetails.formLabel.label3")," "),o.Db(4),o.Eb("aria-label",o.nc(38,62,"commonSections.formLabel.label7")),o.Db(3),o.vc("placeholder"," ",o.nc(41,64,"courierAddressDetails.formLabel.label3"),""),o.uc("matTooltip",o.nc(42,66,"courierAddressDetails.formLabel.label3")),o.Eb("aria-label",o.nc(43,68,"courierAddressDetails.formLabel.label3")),o.Db(5),o.tc("ngClass",o.xc(106,Wu,(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.state?null:e.formGroup.controls.state.touched)&&(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.state?null:e.formGroup.controls.state.invalid))),o.Db(1),o.tc("ngIf",(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.state?null:e.formGroup.controls.state.touched)&&(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.state?null:e.formGroup.controls.state.errors)),o.Db(2),o.Qc(" ",o.nc(49,70,"courierAddressDetails.formLabel.label4")," "),o.Db(4),o.Eb("aria-label",o.nc(53,72,"commonSections.formLabel.label7")),o.Db(3),o.vc("placeholder"," ",o.nc(56,74,"courierAddressDetails.formLabel.label4"),""),o.uc("matTooltip",o.nc(57,76,"courierAddressDetails.formLabel.label4")),o.Eb("aria-label",o.nc(58,78,"courierAddressDetails.formLabel.label4")),o.Db(5),o.tc("ngClass",o.xc(108,Wu,(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.countryCode?null:e.formGroup.controls.countryCode.touched)&&(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.countryCode?null:e.formGroup.controls.countryCode.invalid))),o.Db(1),o.tc("ngIf",(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.countryCode?null:e.formGroup.controls.countryCode.touched)&&(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.countryCode?null:e.formGroup.controls.countryCode.errors)),o.Db(2),o.Qc(" ",o.nc(64,80,"courierAddressDetails.formLabel.label5")," "),o.Db(4),o.Eb("aria-label",o.nc(68,82,"commonSections.formLabel.label7")),o.Db(3),o.vc("placeholder"," ",o.nc(71,84,"courierAddressDetails.formLabel.label5"),""),o.uc("matTooltip",o.nc(72,86,"courierAddressDetails.formLabel.label5")),o.Eb("aria-label",o.nc(73,88,"courierAddressDetails.formLabel.label5")),o.Db(5),o.tc("ngClass",o.xc(110,Wu,(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.pincode?null:e.formGroup.controls.pincode.touched)&&(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.pincode?null:e.formGroup.controls.pincode.invalid))),o.Db(1),o.tc("ngIf",(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.pincode?null:e.formGroup.controls.pincode.touched)&&(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.pincode?null:e.formGroup.controls.pincode.errors)),o.Db(2),o.Qc(" ",o.nc(79,90,"courierAddressDetails.formLabel.label6")," "),o.Db(4),o.Eb("aria-label",o.nc(83,92,"commonSections.formLabel.label7")),o.Db(3),o.vc("placeholder"," ",o.nc(86,94,"courierAddressDetails.formLabel.label6"),""),o.uc("matTooltip",o.nc(87,96,"courierAddressDetails.formLabel.label6")),o.Eb("aria-label",o.nc(88,98,"courierAddressDetails.formLabel.label6")),o.Db(4),o.tc("ngIf",e.allowedCaptcha)}}let ku=(()=>{class e extends d.a{constructor(e,t,a){super(),this.el=e,this.logger=t,this.http=a,this.formGroup=new n.i({}),this.countries=[],this.constants=r.c,this.allowedCaptcha=!1}ngOnInit(){this.currentCaptcha=this.captchaVersionConst.default;const e={dl_category:"VAYD Address",dl_action:"VAYD Address Page View",dl_label:this.utilityService.countrynameByIso(this.sessionService.countryCode||""),value:void 0};this.utilityService.fireCustomEvent(e),this.initModule(),this.checkCaptchaAllowed()}initModule(){var e,t;return Object(l.b)(this,void 0,void 0,function*(){try{this.formGroup=this.getInitForm();const a=yield this.getCountryList();this.countries=a,this.formGroup.patchValue({countryCode:null===(t=null===(e=this.sessionService)||void 0===e?void 0:e.countryCode)||void 0===t?void 0:t.toUpperCase()})}catch(a){this.logger.error(a)}})}getInitForm(){try{return new n.i({addressline1:new n.f("",[n.x.required,n.x.pattern(r.s.ADDRESS_LINE_1),n.x.maxLength(35)]),addressline2:new n.f("",[n.x.pattern(r.s.ALPHA_NUMERIC_WITH_HYPEN_AND_SPACE),n.x.maxLength(70)]),state:new n.f("",[n.x.required,n.x.maxLength(30),n.x.pattern(r.s.ALPHA_NUMERIC_WITH_SPACE)]),city:new n.f(null,[n.x.required,n.x.maxLength(30),n.x.pattern(r.s.ALPHA_NUMERIC_WITH_SPACE)]),pincode:new n.f(null,[n.x.required,n.x.pattern(r.s.NO_SPACE_APLHA_NUMERIC),n.x.maxLength(10)]),missionCode:new n.f(this.sessionService.tenent),countryCode:new n.f({value:this.utilityService.countrynameByIso(this.sessionService.countryCode),disabled:!0}),loginUser:new n.f(this.sessionService.getLoggedEmail()),urn:new n.f(this.sessionService.urn)})}catch(e){throw e}}getCountryList(){return Object(l.b)(this,void 0,void 0,function*(){try{const e={tenent:this.sessionService.tenent,languageCode:this.sessionService.applicationDetailValue.languageCode,country:this.sessionService.countryCode};return yield this.httpService.slashParamsDoGet(r.c.api.masterCountry,e).toPromise()}catch(e){throw e}})}ngAfterViewInit(){this.sessionService.vaydDetails&&this.formGroup.patchValue(this.sessionService.vaydDetails)}checkCaptchaAllowed(){this.subs.sink=this.dataShareService.captchaAllowedRoutes.subscribe(e=>Object(l.b)(this,void 0,void 0,function*(){e&&(this.allowedCaptcha=e.indexOf(r.q.VAYD_ADDRESS)>-1,this.allowedCaptcha&&(this.utilityService.makeFieldRequired(this.formGroup,["captcha_version","captcha_api_key"]),setTimeout(()=>Object(l.b)(this,void 0,void 0,function*(){const e=yield this.captchaContainer.generateToken();this.utilityService.patchCaptchaValue(this.formGroup,e,this.captchaVersionConst.default)}),1e3)))}))}saveAndContinue(){return Object(l.b)(this,void 0,void 0,function*(){try{if(this.formGroup.invalid)return void this.setErrorFieldFocus(this.formGroup);if(this.utilityService.fireCustomEvent({dl_category:"VAYD Addess",dl_action:"Add VAYD Address",dl_label:"VAYD Address Cotinue Click",value:void 0}),this.formGroup.invalid)return void this.formGroup.markAllAsTouched();this.saveVAYDDetails()}catch(e){this.logger.error(e)}})}setErrorFieldFocus(e){var t;try{e.markAllAsTouched();for(const a of Object.keys(e.controls))if(e.controls[a].invalid){const e=this.el.nativeElement.querySelector(`[formcontrolname="${a}"]`);null===(t=null==e?void 0:e.closest(".form-group"))||void 0===t||t.focus();break}}catch(a){this.logger.error(a)}}submitV2Captcha(e){this.utilityService.patchCaptchaValue(this.formGroup,e,this.captchaVersionConst.alternate)}goBack(){try{this.commonService.routeToPostLoginModule(r.q.SERVICES)}catch(e){this.logger.error(e)}}saveVAYDDetails(){var e;return Object(l.b)(this,void 0,void 0,function*(){try{if(this.formGroup.valid){const t={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.centerCode,email:this.sessionService.getLoggedEmail(),aurn:null===(e=this.sessionService.applicationDetailValue)||void 0===e?void 0:e.applicantList[0].arn,isSameCourierAddress:!1,isHALAddress:!1},a=this.sessionService.applicantService.filter(e=>e.isCourierIntegrationEnabled||e.isUPSCourier),i=this.countries.find(e=>this.utilityService.strictCompare(e.isoCode,this.sessionService.countryCode));let o=this.formGroup.value;i&&(o=Object.assign(Object.assign({},this.formGroup.value),{country:i.countryName}));const n=Object.assign(Object.assign({},this.formGroup.value),t);if(this.sessionService.vaydDetails=o,!0===(yield this.httpService.payloadPost(r.c.api.saveVAYDAddress,n).toPromise().then(e=>e).catch(e=>e)).isSuccess){if(this.sessionService.vaydDetails=JSON.stringify(o),this.sessionService.setIsVaydAddressUpdated(!0),a.length>0&&!this.sessionService.IsCourierAddressUpdated&&!this.sessionService.isCourierIntegratedVasPurchased)return void this.commonService.routeToPostLoginModule(r.q.COURIER_ADDRESS);this.commonService.routeToPostLoginModule(this.sessionService.tmiEnabled?r.q.TRAVEL_MEDICAL_INSURANCE:r.q.REVIEW_AND_PAY)}}}catch(t){this.logger.error(t)}})}get isSaveAndContinueDisabled(){var e,t,a;return this.allowedCaptcha?(null===(e=this.formGroup)||void 0===e?void 0:e.invalid)||!(null===(t=this.formGroup.get("captcha_api_key"))||void 0===t?void 0:t.value):null===(a=this.formGroup)||void 0===a?void 0:a.invalid}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(o.l),o.Qb(nu.b),o.Qb(te.a))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-vayd-address"]],viewQuery:function(e,t){if(1&e&&o.Uc(su,1),2&e){let e;o.Ac(e=o.ic())&&(t.captchaContainer=e.first)}},features:[o.Ab],decls:32,vars:21,consts:[[1,"container","py-15","py-md-30"],[1,"form-card"],[1,"row","align-items-center","mb-25","mt-10"],[1,"col"],[1,"c-brand-grey-para"],[1,"row","align-items-center","mb-25"],[1,"fs-24","fs-sm-46","mb-0"],[3,"formGroup"],[4,"ngIf"],[1,"form-card","p-0","border-0","mt-20","shadow-none"],[1,"row"],[1,"col-12","col-sm-6","mt-20",3,"click"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange"],[1,"col-12","col-sm-6","mt-20"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],[1,"row","align-items-end"],[1,"col-12","col-sm-6","mb-15"],["tabindex","1",1,"form-group",3,"ngClass"],["class","errorMessage","aria-live","assertive",4,"ngIf"],[1,"c-brand-error"],[1,"sr-only"],["appearance","outline",1,"mat-form-field-outline-brand"],["type","text","matInput","","formControlName","addressline1","autocomplete","off","attr.aria-required","true",3,"placeholder","matTooltip"],["tabindex","2",1,"form-group",3,"ngClass"],["type","text","matInput","","formControlName","addressline2","autocomplete","off",3,"placeholder","matTooltip"],["tabindex","3",1,"form-group",3,"ngClass"],["type","text","matInput","","formControlName","city","autocomplete","off","attr.aria-required","true",3,"placeholder","matTooltip"],["tabindex","4",1,"form-group",3,"ngClass"],["type","text","matInput","","formControlName","state","autocomplete","off","attr.aria-required","true",3,"placeholder","matTooltip"],["tabindex","5",1,"form-group",3,"ngClass"],["type","text","matInput","","formControlName","countryCode","autocomplete","off","attr.aria-required","true",3,"placeholder","matTooltip"],["tabindex","6",1,"form-group",3,"ngClass"],["type","text","matInput","","formControlName","pincode","autocomplete","off",3,"placeholder","matTooltip"],["aria-live","assertive",1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[3,"action","captchaType","v2CaptchaSet"],["captchaContainer",""],["class","errorMessage",4,"ngIf"],[1,"errorMessage"]],template:function(e,t){1&e&&(o.Wb(0,"section",0),o.Wb(1,"form"),o.Wb(2,"mat-card",1),o.Wb(3,"div",2),o.Wb(4,"div",3),o.Wb(5,"p",4),o.Oc(6),o.mc(7,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(8,"div",5),o.Wb(9,"div",3),o.Wb(10,"h1",6),o.Oc(11),o.mc(12,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Rb(13,"hr"),o.Wb(14,"p",4),o.Oc(15),o.mc(16,"translate"),o.Vb(),o.Wb(17,"p",4),o.Oc(18),o.mc(19,"translate"),o.Vb(),o.Wb(20,"form",7),o.Mc(21,Pu,90,112,"ng-container",8),o.Vb(),o.Vb(),o.Wb(22,"mat-card",9),o.Wb(23,"div",10),o.Wb(24,"div",11),o.hc("click",function(){return t.goBack()}),o.Wb(25,"button",12),o.Oc(26),o.mc(27,"translate"),o.Vb(),o.Vb(),o.Wb(28,"div",13),o.Wb(29,"button",14),o.hc("click",function(){return t.saveAndContinue()}),o.Oc(30),o.mc(31,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e&&(o.Db(6),o.Qc(" ",o.nc(7,9,"ODMVAddressDetails.headerLabel.label2")," "),o.Db(5),o.Qc(" ",o.nc(12,11,"ODMVAddressDetails.headerLabel.label1")," "),o.Db(4),o.Qc(" ",o.nc(16,13,"ODMVAddressDetails.headerLabel.label3")," "),o.Db(3),o.Qc(" ",o.nc(19,15,"ODMVAddressDetails.headerLabel.label4")," "),o.Db(2),o.tc("formGroup",t.formGroup),o.Db(1),o.tc("ngIf",t.formGroup),o.Db(5),o.Qc(" ",o.nc(27,17,"commonSections.buttons.button8")," "),o.Db(3),o.tc("disabled",t.isSaveAndContinueDisabled),o.Db(1),o.Qc(" ",o.nc(31,19,"commonSections.buttons.button19")," "))},directives:[n.y,n.r,n.s,u.a,n.j,m.o,h.a,m.m,b.b,g.b,n.d,n.q,n.h,pt.a,ce],pipes:[p.d],styles:[""]}),e})();var wu=a("ngv/");function Fu(e,t){1&e&&(o.Wb(0,"div"),o.Wb(1,"p",8),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()),2&e&&(o.Db(2),o.Pc(o.nc(3,1,"formFilling.messages.infoMessages.message2")))}function _u(e,t){if(1&e&&(o.Wb(0,"div"),o.Wb(1,"p",8),o.Oc(2),o.mc(3,"translate"),o.mc(4,"translate"),o.Vb(),o.Vb()),2&e){const e=o.lc();o.Db(2),o.Tc("",o.nc(3,4,"formFilling.messages.infoMessages.message3")," ",e.countyName," ",o.nc(4,6,"formFilling.messages.infoMessages.message4")," ",e.missionName,"")}}const xu=c.a.externalUrl;let Gu=(()=>{class e extends d.a{constructor(e,t,a){var i,o;super(),this.dialog=e,this.data=t,this.dialogRef=a,this.missionName=null===(i=wu.byIso(this.sessionService.tenent))||void 0===i?void 0:i.country,this.countyName=null===(o=wu.byIso(this.sessionService.countryCode))||void 0===o?void 0:o.country,a.disableClose=!0}continue(){this.router.ngOnDestroy(),window.location.href=`${xu}/${this.sessionService.countryCode}/${this.sessionService.appLanguageCode}/${this.sessionService.tenent}/apply-visa`,this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(La.b),o.Qb(La.a),o.Qb(La.h))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-ff-modal"]],features:[o.Ab],decls:13,vars:8,consts:[[1,"mat-modal-delete-document"],[1,"fs-18","fs-sm-21"],[1,"fa","fa-exclamation-triangle","mr-5"],[1,"my-20"],[4,"ngIf"],[1,"row"],[1,"col-12","col-sm"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mb-10","mb-sm-0",3,"click"],[1,"fs-sm-17","c-brand-grey-para","mb-30"]],template:function(e,t){1&e&&(o.Wb(0,"div",0),o.Wb(1,"h4",1),o.Rb(2,"i",2),o.Oc(3),o.mc(4,"translate"),o.Vb(),o.Rb(5,"hr",3),o.Mc(6,Fu,4,3,"div",4),o.Mc(7,_u,5,8,"div",4),o.Wb(8,"div",5),o.Wb(9,"div",6),o.Wb(10,"button",7),o.hc("click",function(){return t.continue()}),o.Oc(11),o.mc(12,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e&&(o.Db(3),o.Qc(" ",o.nc(4,4,"commonSections.headerLabel.label3")," "),o.Db(3),o.tc("ngIf","API"==t.data),o.Db(1),o.tc("ngIf","ROUTE"==t.data),o.Db(4),o.Qc(" ",o.nc(12,6,"commonSections.buttons.button19")," "))},directives:[m.o,h.a],pipes:[p.d],encapsulation:2}),e})();function Ru(e,t){if(1&e&&(o.Wb(0,"tr"),o.Wb(1,"td"),o.Oc(2),o.Vb(),o.Wb(3,"td"),o.Oc(4),o.Wb(5,"p",21),o.Oc(6),o.mc(7,"translate"),o.Vb(),o.Vb(),o.Vb()),2&e){const e=t.$implicit;o.Db(2),o.Pc(e.description),o.Db(2),o.Rc("",e.currency," ",e.unitPrice,""),o.Db(2),o.Pc(o.nc(7,4,"formFilling.pageDetails.para16"))}}const Uu=["dateInputField"];function Bu(e,t){1&e&&(o.Wb(0,"div",47),o.Wb(1,"h6"),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()),2&e&&(o.Db(2),o.Qc(" ",o.nc(3,1,"formFilling.messages.errorMessages.message1"),""))}function ju(e,t){1&e&&(o.Wb(0,"div",47),o.Wb(1,"h6"),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()),2&e&&(o.Db(2),o.Qc(" ",o.nc(3,1,"formFilling.messages.errorMessages.message5"),""))}function Yu(e,t){1&e&&(o.Wb(0,"div",47),o.Wb(1,"h6"),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()),2&e&&(o.Db(2),o.Qc(" ",o.nc(3,1,"formFilling.messages.errorMessages.message13"),""))}function Qu(e,t){1&e&&(o.Wb(0,"div",47),o.Wb(1,"h6"),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()),2&e&&(o.Db(2),o.Qc(" ",o.nc(3,1,"formFilling.messages.errorMessages.message12"),""))}function $u(e,t){if(1&e&&(o.Wb(0,"div",45),o.Mc(1,Bu,4,3,"div",46),o.Mc(2,ju,4,3,"div",46),o.Mc(3,Yu,4,3,"div",46),o.Mc(4,Qu,4,3,"div",46),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.firstName||null==e.formGroup.controls.firstName.errors?null:e.formGroup.controls.firstName.errors.required),o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.firstName?null:e.formGroup.controls.firstName.hasError("pattern")),o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.firstName?null:e.formGroup.controls.firstName.hasError("maxlength")),o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.firstName?null:e.formGroup.controls.firstName.hasError("minlength"))}}function qu(e,t){1&e&&(o.Wb(0,"div",47),o.Wb(1,"h6"),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()),2&e&&(o.Db(2),o.Qc(" ",o.nc(3,1,"formFilling.messages.errorMessages.message2"),""))}function Hu(e,t){1&e&&(o.Wb(0,"div",47),o.Wb(1,"h6"),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()),2&e&&(o.Db(2),o.Qc(" ",o.nc(3,1,"formFilling.messages.errorMessages.message13"),""))}function Ku(e,t){1&e&&(o.Wb(0,"div",47),o.Wb(1,"h6"),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()),2&e&&(o.Db(2),o.Qc(" ",o.nc(3,1,"formFilling.messages.errorMessages.message12"),""))}function zu(e,t){1&e&&(o.Wb(0,"div",47),o.Wb(1,"h6"),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()),2&e&&(o.Db(2),o.Qc(" ",o.nc(3,1,"formFilling.messages.errorMessages.message6"),""))}function Zu(e,t){if(1&e&&(o.Wb(0,"div",45),o.Mc(1,qu,4,3,"div",46),o.Mc(2,Hu,4,3,"div",46),o.Mc(3,Ku,4,3,"div",46),o.Mc(4,zu,4,3,"div",46),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.lastName||null==e.formGroup.controls.lastName.errors?null:e.formGroup.controls.lastName.errors.required),o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.lastName?null:e.formGroup.controls.lastName.hasError("maxlength")),o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.lastName?null:e.formGroup.controls.lastName.hasError("minlength")),o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.lastName?null:e.formGroup.controls.lastName.hasError("pattern"))}}function Ju(e,t){1&e&&(o.Wb(0,"div",47),o.Wb(1,"h6"),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()),2&e&&(o.Db(2),o.Pc(o.nc(3,1,"formFilling.messages.errorMessages.message3")))}function Xu(e,t){1&e&&(o.Wb(0,"div",47),o.Wb(1,"h6"),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()),2&e&&(o.Db(2),o.Pc(o.nc(3,1,"formFilling.messages.errorMessages.message7")))}function em(e,t){if(1&e&&(o.Wb(0,"div",45),o.Mc(1,Ju,4,3,"div",46),o.Mc(2,Xu,4,3,"div",46),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.email||null==e.formGroup.controls.email.errors?null:e.formGroup.controls.email.errors.required),o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.email?null:e.formGroup.controls.email.hasError("pattern"))}}function tm(e,t){1&e&&(o.Wb(0,"div",48),o.Wb(1,"div",49),o.Wb(2,"h5",9),o.Oc(3),o.mc(4,"translate"),o.Vb(),o.Wb(5,"mat-form-field",12),o.Rb(6,"input",50),o.Vb(),o.Vb(),o.Vb()),2&e&&(o.Db(3),o.Pc(o.nc(4,1,"formFilling.formLabel.label17")))}function am(e,t){1&e&&(o.Wb(0,"div",47),o.Wb(1,"h6"),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()),2&e&&(o.Db(2),o.Pc(o.nc(3,1,"formFilling.messages.errorMessages.message4")))}function im(e,t){1&e&&(o.Wb(0,"div",47),o.Wb(1,"h6"),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()),2&e&&(o.Db(2),o.Pc(o.nc(3,1,"formFilling.messages.errorMessages.message8")))}function om(e,t){1&e&&(o.Wb(0,"div",47),o.Wb(1,"h6"),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()),2&e&&(o.Db(2),o.Qc("",o.nc(3,1,"formFilling.messages.errorMessages.message11")," "))}function nm(e,t){1&e&&(o.Wb(0,"div",47),o.Wb(1,"h6"),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()),2&e&&(o.Db(2),o.Qc(" ",o.nc(3,1,"formFilling.messages.errorMessages.message10")," "))}function sm(e,t){if(1&e&&(o.Wb(0,"div",45),o.Mc(1,am,4,3,"div",46),o.Mc(2,im,4,3,"div",46),o.Mc(3,om,4,3,"div",46),o.Mc(4,nm,4,3,"div",46),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.phoneNumber||null==e.formGroup.controls.phoneNumber.errors?null:e.formGroup.controls.phoneNumber.errors.required),o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.phoneNumber?null:e.formGroup.controls.phoneNumber.hasError("pattern")),o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.phoneNumber?null:e.formGroup.controls.phoneNumber.hasError("maxlength")),o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.phoneNumber?null:e.formGroup.controls.phoneNumber.hasError("minlength"))}}function lm(e,t){if(1&e&&(o.Wb(0,"div",28),o.Oc(1),o.Vb()),2&e){const e=o.lc();o.Db(1),o.Rc(" ",e.serviceForApplicant[0].currency," ",e.serviceFee," ")}}function rm(e,t){if(1&e&&(o.Wb(0,"div",28),o.Oc(1),o.Vb()),2&e){const e=o.lc();o.Db(1),o.Sc(" ",e.totalPassenger," * ",e.serviceForApplicant[0].currency," ",e.unitPrice," ")}}function cm(e,t){1&e&&(o.Wb(0,"div",47),o.Wb(1,"h6"),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()),2&e&&(o.Db(2),o.Pc(o.nc(3,1,"formFilling.messages.errorMessages.message18")))}function dm(e,t){1&e&&(o.Wb(0,"div",47),o.Wb(1,"h6"),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()),2&e&&(o.Db(2),o.Pc(o.nc(3,1,"formFilling.messages.errorMessages.message23")))}function um(e,t){if(1&e&&(o.Wb(0,"div",45),o.Mc(1,cm,4,3,"div",46),o.Mc(2,dm,4,3,"div",46),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.applyingFrom||null==e.formGroup.controls.applyingFrom.errors?null:e.formGroup.controls.applyingFrom.errors.required),o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.applyingFrom?null:e.formGroup.controls.applyingFrom.hasError("pattern"))}}function mm(e,t){1&e&&(o.Wb(0,"div",47),o.Wb(1,"h6"),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()),2&e&&(o.Db(2),o.Qc(" ",o.nc(3,1,"formFilling.messages.errorMessages.message19"),""))}function pm(e,t){1&e&&(o.Wb(0,"div",47),o.Wb(1,"h6"),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()),2&e&&(o.Db(2),o.Pc(o.nc(3,1,"formFilling.messages.errorMessages.message23")))}function bm(e,t){if(1&e&&(o.Wb(0,"div",45),o.Mc(1,mm,4,3,"div",46),o.Mc(2,pm,4,3,"div",46),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.travellingTo||null==e.formGroup.controls.travellingTo.errors?null:e.formGroup.controls.travellingTo.errors.required),o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.travellingTo?null:e.formGroup.controls.travellingTo.hasError("pattern"))}}function gm(e,t){1&e&&(o.Wb(0,"div",47),o.Wb(1,"h6"),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()),2&e&&(o.Db(2),o.Pc(o.nc(3,1,"formFilling.messages.errorMessages.message15")))}function fm(e,t){if(1&e&&(o.Wb(0,"div",45),o.Mc(1,gm,4,3,"div",46),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.myPassportIsFrom||null==e.formGroup.controls.myPassportIsFrom.errors?null:e.formGroup.controls.myPassportIsFrom.errors.required)}}function hm(e,t){1&e&&(o.Wb(0,"div",47),o.Wb(1,"h6"),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()),2&e&&(o.Db(2),o.Pc(o.nc(3,1,"formFilling.messages.errorMessages.message16")))}function vm(e,t){if(1&e&&(o.Wb(0,"div",45),o.Mc(1,hm,4,3,"div",46),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.purposeOfTravel||null==e.formGroup.controls.purposeOfTravel.errors?null:e.formGroup.controls.purposeOfTravel.errors.required)}}function ym(e,t){if(1&e&&(o.Wb(0,"mat-option",51),o.Oc(1),o.Vb()),2&e){const e=t.$implicit;o.tc("value",e.code),o.Db(1),o.Qc(" ",e.name," ")}}function Sm(e,t){if(1&e&&(o.Wb(0,"mat-option",51),o.Oc(1),o.Vb()),2&e){const e=t.$implicit;o.tc("value",e),o.Db(1),o.Qc(" ",e," ")}}function Cm(e,t){1&e&&(o.Wb(0,"div",47),o.Wb(1,"h6"),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()),2&e&&(o.Db(2),o.Pc(o.nc(3,1,"formFilling.messages.errorMessages.message14")))}function Dm(e,t){if(1&e&&(o.Wb(0,"div",45),o.Mc(1,Cm,4,3,"div",46),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.travellingDate||null==e.formGroup.controls.travellingDate.errors?null:e.formGroup.controls.travellingDate.errors.required)}}const Im=function(e){return{"form-error":e}},Vm=c.a.numberOfPassengers;function Am(e,t){1&e&&(o.Wb(0,"mat-card",4),o.Wb(1,"p",5),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Vb()),2&e&&(o.Db(2),o.Pc(o.nc(3,1,"formFilling.messages.infoMessages.message1")))}function Om(e,t){if(1&e&&(o.Ub(0),o.Mc(1,Am,4,3,"mat-card",3),o.Tb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngIf",!e.alreadyConfirm)}}function Tm(e,t){if(1&e&&(o.Wb(0,"section",1),o.Mc(1,Om,2,1,"ng-container",2),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngIf",e.successPaymentData&&"False"===e.successPaymentData.PaymentStatus)}}function Lm(e,t){if(1&e&&(o.Wb(0,"section",1),o.Wb(1,"h3",2),o.Oc(2),o.mc(3,"translate"),o.Vb(),o.Wb(4,"h2"),o.Oc(5),o.mc(6,"translate"),o.Vb(),o.Wb(7,"p",3),o.Oc(8),o.mc(9,"translate"),o.Vb(),o.Vb()),2&e){const e=o.lc();o.Db(2),o.Qc(" ",o.nc(3,4,"formFilling.headerLabel.label5")," "),o.Db(3),o.Rc(" ",o.nc(6,6,"formFilling.headerLabel.label6")," ",e.ffPaymentDetails.orderNumber," "),o.Db(3),o.Qc(" ",o.nc(9,8,"formFilling.pageDetails.para26")," ")}}const Nm=[{path:"",component:Bs,canActivate:[ot]},{path:":countrycode/:lang/:mission",children:[{path:"",canActivate:[ot],children:[{path:r.q.FF_INFO,component:(()=>{class e extends nt.a{constructor(e,t,a){super(),this.activatedRoute=e,this.httpService=t,this.dialog=a,this.isDisabled=!1}ngOnInit(){this.baseConfig()}baseConfig(){this.subs.sink=this.activatedRoute.queryParamMap.subscribe(e=>Object(l.b)(this,void 0,void 0,function*(){var e,t;window.location.pathname?(this.missionName=null===(e=wu.byIso(window.location.pathname.split("/")[3]))||void 0===e?void 0:e.country,this.countyName=null===(t=wu.byIso(window.location.pathname.split("/")[1]))||void 0===t?void 0:t.country,this.missionCode=window.location.pathname.split("/")[3],this.countyCode=window.location.pathname.split("/")[1],this.cultureCode=window.location.pathname.split("/")[2],this.sessionService.countryCode=String(this.countyCode).toLowerCase(),this.sessionService.tenent=String(this.missionCode).toLowerCase(),this.sessionService.appLanguageCode=String(this.cultureCode).toLowerCase(),this.sessionService.countryCode&&this.sessionService.tenent&&this.sessionService.appCultureCode?yield this.getServiceForApplicant():this.commonService.routeToNotFound()):this.commonService.routeToNotFound()}))}getServiceForApplicant(){return Object(l.b)(this,void 0,void 0,function*(){try{const e=`${r.c.api.serviceForApplicant}/${this.sessionService.tenent}/${this.sessionService.countryCode}/${this.sessionService.appCultureCode}`,t=yield this.httpService.doGet(e).toPromise().then(e=>e).catch(e=>{this.isDisabled=!0,this.showErrorMsgPopup("API",e.status)});t&&(t.services&&t.services.length>0?(this.serviceForApplicant=t.services,this.sessionService.ffServiceForApplicant=this.serviceForApplicant):(this.isDisabled=!0,this.showErrorMsgPopup("ROUTE",t.error)))}catch(e){}})}submit(){this.utilityService.pushDataLayerGA({event:"form_fill_cta",eventCategory:"book_now",eventAction:"form_fill_book_now_click",entry_point:""}),this.commonService.routeToFFYourDetails()}showErrorMsgPopup(e,t){try{const a=this.dialog.open(Gu,{data:e});a.afterClosed().subscribe(e=>Object(l.b)(this,void 0,void 0,function*(){1069===t&&(this.utilityService.startNgxUiSpinner(),this.utilityService.stopNgxUiSpinner())})),this.router.events.subscribe(()=>{a.close()})}catch(a){throw a}}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(s.a),o.Qb(te.a),o.Qb(La.b))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-ff-info"]],features:[o.Ab],decls:105,vars:78,consts:[[2,"background-color","rgb(42 71 102)"],[1,"container"],[1,"c-white","fs-sm-25","pt-60","pb-60"],[1,"fs-sm-20",2,"color","rgb(42 71 102)"],[1,"fs-sm-14"],[1,"row","bg-lightgrey","mr-20","ml-0"],[1,"col-md-12","col-sm-12","col-lg-4","mt-20","mb-20"],[1,"fs-sm-20"],[1,"fs-sm-12"],[1,"col-md-12","col-sm-12","col-lg-2","mt-20","mb-20"],[1,"border-brand-orange",2,"min-width","150px","min-height","150px","border-style","solid"],[1,"mt-0","mb-10"],[1,"row","mr-20","ml-0","mt-10","mb-10"],[1,"fs-sm-20","fw-500","mt-10","mb-10"],[1,"table","table-bordered"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"row","mr-20","ml-0","mt-20","mb-10"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],["multi","",2,"width","100%"],["hideToggle",""],["aria-hidden","true",1,"fa","fa-plus","c-orange"],[1,"fs-sm-10"]],template:function(e,t){1&e&&(o.Wb(0,"div",0),o.Wb(1,"section",1),o.Wb(2,"p",2),o.Oc(3),o.mc(4,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(5,"div"),o.Wb(6,"section",1),o.Wb(7,"p",3),o.Oc(8),o.mc(9,"translate"),o.Vb(),o.Wb(10,"p",4),o.Oc(11),o.mc(12,"translate"),o.mc(13,"translate"),o.Vb(),o.Wb(14,"div",5),o.Wb(15,"div",6),o.Wb(16,"p",7),o.Oc(17),o.mc(18,"translate"),o.Vb(),o.Wb(19,"p",8),o.Oc(20),o.mc(21,"translate"),o.Vb(),o.Vb(),o.Wb(22,"div",9),o.Wb(23,"mat-card",10),o.Wb(24,"mat-card-content"),o.Wb(25,"p",11),o.Oc(26),o.mc(27,"translate"),o.Vb(),o.Wb(28,"p",11),o.Oc(29),o.mc(30,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(31,"div",9),o.Wb(32,"mat-card",10),o.Wb(33,"mat-card-content"),o.Wb(34,"p",11),o.Oc(35),o.mc(36,"translate"),o.Vb(),o.Wb(37,"p",11),o.Oc(38),o.mc(39,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(40,"div",9),o.Wb(41,"mat-card",10),o.Wb(42,"mat-card-content"),o.Wb(43,"p",11),o.Oc(44),o.mc(45,"translate"),o.Vb(),o.Wb(46,"p",11),o.Oc(47),o.mc(48,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(49,"div",12),o.Wb(50,"p",13),o.Oc(51),o.mc(52,"translate"),o.Vb(),o.Vb(),o.Wb(53,"div",12),o.Wb(54,"table",14),o.Wb(55,"tr"),o.Wb(56,"th"),o.Oc(57),o.mc(58,"translate"),o.Vb(),o.Wb(59,"th"),o.Oc(60),o.mc(61,"translate"),o.Vb(),o.Vb(),o.Mc(62,Ru,8,6,"tr",15),o.Vb(),o.Vb(),o.Wb(63,"div",16),o.Wb(64,"button",17),o.hc("click",function(){return t.submit()}),o.Oc(65),o.mc(66,"translate"),o.Vb(),o.Vb(),o.Wb(67,"div",12),o.Wb(68,"p",13),o.Oc(69),o.mc(70,"translate"),o.Vb(),o.Vb(),o.Wb(71,"div",12),o.Wb(72,"mat-accordion",18),o.Wb(73,"mat-expansion-panel",19),o.Wb(74,"mat-expansion-panel-header"),o.Wb(75,"mat-panel-title"),o.Oc(76),o.mc(77,"translate"),o.Vb(),o.Rb(78,"i",20),o.Vb(),o.Oc(79),o.mc(80,"translate"),o.Vb(),o.Wb(81,"mat-expansion-panel",19),o.Wb(82,"mat-expansion-panel-header"),o.Wb(83,"mat-panel-title"),o.Oc(84),o.mc(85,"translate"),o.Vb(),o.Rb(86,"i",20),o.Vb(),o.Oc(87),o.mc(88,"translate"),o.Vb(),o.Wb(89,"mat-expansion-panel",19),o.Wb(90,"mat-expansion-panel-header"),o.Wb(91,"mat-panel-title"),o.Oc(92),o.mc(93,"translate"),o.Vb(),o.Rb(94,"i",20),o.Vb(),o.Oc(95),o.mc(96,"translate"),o.Vb(),o.Wb(97,"mat-expansion-panel",19),o.Wb(98,"mat-expansion-panel-header"),o.Wb(99,"mat-panel-title"),o.Oc(100),o.mc(101,"translate"),o.Vb(),o.Rb(102,"i",20),o.Vb(),o.Oc(103),o.mc(104,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e&&(o.Db(3),o.Pc(o.nc(4,28,"formFilling.pageDetails.para1")),o.Db(5),o.Qc(" ",o.nc(9,30,"formFilling.pageDetails.para2")," "),o.Db(3),o.Rc(" ",o.nc(12,32,"formFilling.pageDetails.para3")," ",o.nc(13,34,"formFilling.pageDetails.para4")," "),o.Db(6),o.Pc(o.nc(18,36,"formFilling.pageDetails.para5")),o.Db(3),o.Qc(" ",o.nc(21,38,"formFilling.pageDetails.para6")," "),o.Db(6),o.Pc(o.nc(27,40,"formFilling.pageDetails.para7")),o.Db(3),o.Pc(o.nc(30,42,"formFilling.pageDetails.para8")),o.Db(6),o.Pc(o.nc(36,44,"formFilling.pageDetails.para9")),o.Db(3),o.Pc(o.nc(39,46,"formFilling.pageDetails.para10")),o.Db(6),o.Pc(o.nc(45,48,"formFilling.pageDetails.para11")),o.Db(3),o.Pc(o.nc(48,50,"formFilling.pageDetails.para12")),o.Db(4),o.Qc(" ",o.nc(52,52,"formFilling.pageDetails.para13")," "),o.Db(6),o.Pc(o.nc(58,54,"formFilling.pageDetails.para14")),o.Db(3),o.Pc(o.nc(61,56,"formFilling.pageDetails.para15")),o.Db(2),o.tc("ngForOf",t.serviceForApplicant)("ngForTrackBy",t.trackByFn),o.Db(2),o.tc("disabled",t.isDisabled),o.Db(1),o.Pc(o.nc(66,58,"formFilling.buttons.button1")),o.Db(4),o.Qc(" ",o.nc(70,60,"formFilling.pageDetails.para17")," "),o.Db(7),o.Qc(" ",o.nc(77,62,"formFilling.pageDetails.para18")," "),o.Db(3),o.Qc(" ",o.nc(80,64,"formFilling.pageDetails.para19")," "),o.Db(5),o.Qc(" ",o.nc(85,66,"formFilling.pageDetails.para20")," "),o.Db(3),o.Qc(" ",o.nc(88,68,"formFilling.pageDetails.para21")," "),o.Db(5),o.Qc(" ",o.nc(93,70,"formFilling.pageDetails.para22")," "),o.Db(3),o.Qc(" ",o.nc(96,72,"formFilling.pageDetails.para23")," "),o.Db(5),o.Qc(" ",o.nc(101,74,"formFilling.pageDetails.para24")," "),o.Db(3),o.Qc(" ",o.nc(104,76,"formFilling.pageDetails.para25")," "))},directives:[u.a,u.b,m.n,h.a,Ya.a,Ya.c,Ya.d,Ya.e],pipes:[p.d],encapsulation:2}),e})(),data:{title:"formFilling.pageTitle.label1",breadcrumb:"Form Filling Service"}},{path:r.q.FF_YOUR_DETAILS,component:(()=>{class e extends nt.a{constructor(e,t,a,i,o){super(),this.fb=e,this.utilityService=t,this.httpService=a,this.dialog=i,this.datePipe=o,this.numberOfPassengersList=[],this.formGroup=new n.i({}),this.post="",this.totalPassenger=0,this.totalGST=0,this.grandTotal=0}ngOnInit(){for(let t=1;t<=Number(Vm);t++)this.numberOfPassengersList.push(t);this.sessionService.ffServiceForApplicant?(this.serviceForApplicant=this.sessionService.ffServiceForApplicant,this.dialCode=this.serviceForApplicant[0].dialCode,this.ffServiceFeeCalculation({value:1})):this.commonService.routeToNotFound(),this.loadSubVisaCategoryList(),this.initModule();const e=this.utilityService.momentInstance(this.utilityService.momentInstance().format("DD/MM/YYYY"),"DD/MM/YYYY");this.travelStartDate={year:+e.format("YYYY"),month:+e.format("MM"),day:+e.format("DD")}}initModule(){return Object(l.b)(this,void 0,void 0,function*(){try{this.formGroup=this.getInitForm()}catch(e){this.logger.error(e)}})}getInitForm(){try{let e;return e=new n.i({firstName:new n.f("",[n.x.required,n.x.minLength(3),n.x.maxLength(50),n.x.pattern(r.s.NAME)]),lastName:new n.f("",[n.x.required,n.x.minLength(3),n.x.maxLength(50),n.x.pattern(r.s.NAME)]),email:new n.f("",[n.x.required,n.x.pattern(r.s.email_caps_allowed)]),phoneNumber:new n.f("",[n.x.required,n.x.maxLength(10),n.x.pattern(r.s.NUMERIC)]),applyingFrom:new n.f({value:this.utilityService.countrynameByIso(this.sessionService.countryCode),disabled:!0}),travellingTo:new n.f({value:this.utilityService.countrynameByIso(this.sessionService.tenent),disabled:!0}),myPassportIsFrom:new n.f({value:this.utilityService.countrynameByIso(this.sessionService.countryCode),disabled:!0}),purposeOfTravel:new n.f("",[n.x.required]),travellingDate:new n.f("",[n.x.required]),numberOfPassengers:new n.f(1,[n.x.required]),dialCode:new n.f({value:this.dialCode,disabled:!0})}),e}catch(e){throw e}}loadSubVisaCategoryList(){return Object(l.b)(this,void 0,void 0,function*(){const e=`${r.c.api.subVisaCategory}/${this.sessionService.tenent}/${this.sessionService.countryCode}/${this.sessionService.appCultureCode}`,t=yield this.httpService.doGet(e).toPromise().then(e=>e).catch(e=>e);t&&(this.subVisaCategoryList=t)})}changePurposeofTravel(e){this.utilityService.pushDataLayerGA({event:"form_fill",eventCategory:"visa_application_form",eventAction:e.source.ngControl.name+"_click",eventLabel:e.source.ngControl.name,entry_point:""})}changemyPassportIsFrom(e){this.nationalityList.setvalues(e.target.value)}onInitiatePay(){return Object(l.b)(this,void 0,void 0,function*(){try{if(this.utilityService.pushDataLayerGA({event:"post_form_fill_cta",eventCategory:"book_now",eventAction:"post_form_book_now_click",entry_point:""}),!this.formGroup.value.travellingDate)return;this.formGroup.value.travellingDate.month<=9&&(this.formGroup.value.travellingDate.month="0"+this.formGroup.value.travellingDate.month),this.formGroup.value.travellingDate.day<=9&&(this.formGroup.value.travellingDate.day="0"+this.formGroup.value.travellingDate.day);const t={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,firstName:this.formGroup.value.firstName.trim(),lastName:this.formGroup.value.lastName.trim(),email:this.formGroup.value.email,mobileNumber:this.formGroup.value.phoneNumber,nationalityCode:this.sessionService.countryCode,nationalityName:this.utilityService.countrynameByIso(this.sessionService.countryCode),visaCategoryCode:this.formGroup.value.purposeOfTravel,travellingDate:this.formGroup.value.travellingDate.year+"-"+this.formGroup.value.travellingDate.month+"-"+this.formGroup.value.travellingDate.day,cultureCode:this.sessionService.appCultureCode,isFormFillingService:!0,applicantCount:Number(this.formGroup.value.numberOfPassengers)};console.log(this.formGroup.value.travellingDate);var e=yield this.httpService.payloadWithoutTokenPost(r.c.api.serviceApplicants,t).toPromise().then(e=>e).catch(e=>e);if(null!=e.error){if(e.error&&e.error.code){const t=e.error.description;this.utilityService.stopNgxUiSpinner(),this.showErrorMsgPopup(t,e.error.code)}throw new Error(e.error.description)}{e.email=this.formGroup.value.email,this.sessionService.ffApplicantDetails=e,this.sessionService.jwtToken=e.accessToken;const t=`${e.url}?RequestRefNo=${e.requestRefNo}&Currency=${e.currency}&Culture=${e.cultureCode}&Amount=${e.totalAmount}&DigitalSignature=${e.digitalSignature}&RedirectURL=`;window.open(t,"_self")}}catch(t){throw t}})}ffServiceFeeCalculation(e){this.serviceForApplicant&&(this.amountWithTax=this.serviceForApplicant[0].amountWithTax,this.unitPrice=this.serviceForApplicant[0].unitPrice),this.formGroup.value&&(this.totalPassenger=e.value,this.gST=this.amountWithTax-this.unitPrice,this.totalGST=this.totalPassenger*this.gST,this.serviceFee=this.totalPassenger*this.unitPrice,this.grandTotal=this.serviceFee+this.totalGST,e.source)&&this.utilityService.pushDataLayerGA({event:"form_fill",eventCategory:"visa_application_form",eventAction:e.source.ngControl.name+"_click",eventLabel:e.source.ngControl.name,entry_point:""})}showErrorMsgPopup(e,t){try{const a=this.dialog.open(Gi,{data:e});a.afterClosed().subscribe(e=>Object(l.b)(this,void 0,void 0,function*(){1069===t&&(this.utilityService.startNgxUiSpinner(),this.utilityService.stopNgxUiSpinner())})),this.router.events.subscribe(()=>{a.close()})}catch(a){throw a}}dateFormatConversion(e){return this.utilityService.momentInstance(e).format("YYYY-MM-DD")}ffYourDetailsGA(e){this.utilityService.pushDataLayerGA({event:"form_fill",eventCategory:"visa_application_form",eventAction:e.target.ariaLabel+"_click",eventLabel:e.target.ariaLabel,entry_point:""})}ffDatePickerGA(e){this.utilityService.pushDataLayerGA({event:"form_fill",eventCategory:"visa_application_form",eventAction:e+"_click",eventLabel:e,entry_point:""})}validateTravelDate(e,t){this.formGroup.controls.travellingDate.updateValueAndValidity();const a=this.dateFormatConversion(this.formGroup.value.travellingDate.year+"/"+this.formGroup.value.travellingDate.month+"/"+this.formGroup.value.travellingDate.day);if("traveldate"===t){const e=this.datePipe.transform(a,this.dateFormat);this.dateFormatTravelDate=e}}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(n.e),o.Qb(se.a),o.Qb(te.a),o.Qb(La.b),o.Qb(m.e))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-ff-your-details"]],viewQuery:function(e,t){if(1&e&&o.Uc(Uu,3),2&e){let e;o.Ac(e=o.ic())&&(t.dateInputField=e.first)}},features:[o.Ab],decls:173,vars:149,consts:[[1,"container","py-15","py-md-10"],[1,"form-card","p-0","border-0","shadow-none"],[1,"fs-sm-18","fs-sm-32","mb-20"],[3,"formGroup"],[1,"form-card","p-3","border-0","shadow-none"],[1,"row"],[1,"col-sm-12","col-md-12","col-lg-8","border-bottom-2"],[1,"col-lg-6","col-md-12","col-sm-12","mt-20"],["tabindex","3",1,"form-group","p-3",3,"ngClass"],[1,"fs-sm-16","mb-10"],[1,"c-brand-error"],["class","errorMessage","aria-live","assertive",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["matInput","","type","text","name","firstName","formControlName","firstName","autocomplete","off","attr.aria-required","true","minlength","3","maxlength","50",2,"text-transform","uppercase",3,"placeholder","change"],["name","lastName","formControlName","lastName","autocomplete","off","attr.aria-required","true","matInput","","type","text","minlength","3","maxlength","50",2,"text-transform","uppercase",3,"placeholder","change"],["matInput","","type","text","name","email","formControlName","email","required","","autocomplete","off","attr.aria-required","true",2,"text-transform","uppercase",3,"placeholder","change"],["class","col-lg-4 col-md-6 col-sm-12",4,"ngIf"],[1,"col-lg-8","col-md-6","col-sm-12"],["matInput","","type","text","name","phoneNumber","formControlName","phoneNumber","autocomplete","off","maxlength","10","minlength","10","attr.aria-required","true",2,"text-transform","uppercase",3,"placeholder","change"],[1,"col-sm-12","col-md-12","col-lg-4"],[1,"row","border-2"],[1,"col-12","col-sm-12","mt-20","mat-card"],[1,"form-card","p-0","border-0","shadow-none",2,"text-align","center"],[1,"fs-sm-16","fs-sm-16","mt-20","mb-20"],[1,"row","border-bottom-2"],[1,"col-6","col-sm-6","mb-10",2,"text-align","left"],["class","col-6 col-sm-6 mb-10","style","text-align: right;",4,"ngIf"],[1,"row","border-bottom-2","mt-20"],[1,"col-6","col-sm-6","mb-10",2,"text-align","right"],[1,"col-6","col-sm-6","mb-10","fw-600",2,"text-align","left"],[1,"col-6","col-sm-6","mb-10","fw-600",2,"text-align","right"],[1,"col-lg-8","col-md-12","col-md-12"],[1,"form-group","p-3"],["matInput","","type","text","name","applyingFrom","formControlName","applyingFrom","autocomplete","off","attr.aria-required","true",2,"text-transform","uppercase",3,"placeholder"],["matInput","","type","text","name","travellingTo","formControlName","travellingTo","autocomplete","off","attr.aria-required","true",2,"text-transform","uppercase",3,"placeholder"],["matInput","","type","text","name","myPassportIsFrom","formControlName","myPassportIsFrom","autocomplete","off","attr.aria-required","true",2,"text-transform","uppercase",3,"placeholder"],["name","purposeOfTravel","formControlName","purposeOfTravel",3,"placeholder","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["name","numberOfPassengers","formControlName","numberOfPassengers",3,"selectionChange"],[1,"datepicker-div","form-group"],["ngbDatepicker","","autocomplete","off","formControlName","travellingDate",1,"form-control","input-lg","mt-5",3,"value","minDate","placeholder","change","ngModelChange","dateSelect"],["datePickerReference1","ngbDatepicker"],[1,"input-group-addon",3,"click"],[1,"col-lg-8","col-md-12","col-sm-12"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],["aria-live","assertive",1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[1,"col-lg-4","col-md-6","col-sm-12"],["tabindex","3",1,"form-group","p-3"],["matInput","","type","text","name","dialCode","formControlName","dialCode","autocomplete","off","attr.aria-required","true",2,"text-transform","uppercase"],[3,"value"]],template:function(e,t){if(1&e){const e=o.Xb();o.Wb(0,"section",0),o.Wb(1,"div",1),o.Wb(2,"h1",2),o.Oc(3),o.mc(4,"translate"),o.Vb(),o.Vb(),o.Wb(5,"h4"),o.Oc(6),o.mc(7,"translate"),o.Vb(),o.Wb(8,"form",3),o.Wb(9,"div",4),o.Wb(10,"div",5),o.Wb(11,"div",6),o.Wb(12,"div",5),o.Wb(13,"div",7),o.Wb(14,"div",8),o.Wb(15,"h5",9),o.Oc(16),o.mc(17,"translate"),o.Wb(18,"span",10),o.Oc(19,"*"),o.Vb(),o.Vb(),o.Mc(20,$u,5,4,"div",11),o.Wb(21,"mat-form-field",12),o.Wb(22,"input",13),o.hc("change",function(e){return t.ffYourDetailsGA(e)}),o.mc(23,"translate"),o.mc(24,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(25,"div",7),o.Wb(26,"div",8),o.Wb(27,"h5",9),o.Oc(28),o.mc(29,"translate"),o.Wb(30,"span",10),o.Oc(31,"*"),o.Vb(),o.Vb(),o.Mc(32,Zu,5,4,"div",11),o.Wb(33,"mat-form-field",12),o.Wb(34,"input",14),o.hc("change",function(e){return t.ffYourDetailsGA(e)}),o.mc(35,"translate"),o.mc(36,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(37,"div",5),o.Wb(38,"div",7),o.Wb(39,"div",8),o.Wb(40,"h5",9),o.Oc(41),o.mc(42,"translate"),o.Wb(43,"span",10),o.Oc(44,"*"),o.Vb(),o.Vb(),o.Mc(45,em,3,2,"div",11),o.Wb(46,"mat-form-field",12),o.Wb(47,"input",15),o.hc("change",function(e){return t.ffYourDetailsGA(e)}),o.mc(48,"translate"),o.mc(49,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(50,"div",7),o.Wb(51,"div",5),o.Mc(52,tm,7,3,"div",16),o.Wb(53,"div",17),o.Wb(54,"div",8),o.Wb(55,"h5",9),o.Oc(56),o.mc(57,"translate"),o.Wb(58,"span",10),o.Oc(59,"*"),o.Vb(),o.Vb(),o.Mc(60,sm,5,4,"div",11),o.Wb(61,"mat-form-field",12),o.Wb(62,"input",18),o.hc("change",function(e){return t.ffYourDetailsGA(e)}),o.mc(63,"translate"),o.mc(64,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(65,"div",19),o.Wb(66,"div",20),o.Wb(67,"div",21),o.Wb(68,"div",22),o.Wb(69,"h5",23),o.Oc(70),o.mc(71,"translate"),o.Vb(),o.Vb(),o.Wb(72,"div",24),o.Wb(73,"div",25),o.Oc(74),o.mc(75,"translate"),o.Vb(),o.Mc(76,lm,2,2,"div",26),o.Mc(77,rm,2,3,"div",26),o.Vb(),o.Wb(78,"div",27),o.Wb(79,"div",25),o.Oc(80),o.mc(81,"translate"),o.Vb(),o.Wb(82,"div",28),o.Oc(83),o.Vb(),o.Vb(),o.Wb(84,"div",27),o.Wb(85,"div",29),o.Oc(86),o.mc(87,"translate"),o.Vb(),o.Wb(88,"div",30),o.Oc(89),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(90,"div",5),o.Wb(91,"div",31),o.Wb(92,"div",5),o.Wb(93,"div",7),o.Wb(94,"div",32),o.Wb(95,"div",8),o.Wb(96,"h5",9),o.Oc(97),o.mc(98,"translate"),o.Wb(99,"span",10),o.Oc(100,"*"),o.Vb(),o.Vb(),o.Mc(101,um,3,2,"div",11),o.Wb(102,"mat-form-field",12),o.Rb(103,"input",33),o.mc(104,"translate"),o.mc(105,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(106,"div",7),o.Wb(107,"div",32),o.Wb(108,"div",8),o.Wb(109,"h5",9),o.Oc(110),o.mc(111,"translate"),o.Wb(112,"span",10),o.Oc(113,"*"),o.Vb(),o.Vb(),o.Mc(114,bm,3,2,"div",11),o.Wb(115,"mat-form-field",12),o.Rb(116,"input",34),o.mc(117,"translate"),o.mc(118,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(119,"div",5),o.Wb(120,"div",7),o.Wb(121,"div",8),o.Wb(122,"h5",9),o.Oc(123),o.mc(124,"translate"),o.Wb(125,"span",10),o.Oc(126,"*"),o.Vb(),o.Vb(),o.Mc(127,fm,2,1,"div",11),o.Wb(128,"mat-form-field",12),o.Rb(129,"input",35),o.mc(130,"translate"),o.mc(131,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Wb(132,"div",7),o.Wb(133,"div",8),o.Wb(134,"h5",9),o.Oc(135),o.mc(136,"translate"),o.Wb(137,"span",10),o.Oc(138,"*"),o.Vb(),o.Vb(),o.Mc(139,vm,2,1,"div",11),o.Wb(140,"mat-form-field",12),o.Wb(141,"mat-select",36),o.hc("selectionChange",function(e){return t.changePurposeofTravel(e)}),o.mc(142,"translate"),o.Mc(143,ym,2,2,"mat-option",37),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(144,"div",5),o.Wb(145,"div",7),o.Wb(146,"div",8),o.Wb(147,"h5",9),o.Oc(148),o.mc(149,"translate"),o.Wb(150,"span",10),o.Oc(151,"*"),o.Vb(),o.Vb(),o.Wb(152,"mat-form-field",12),o.Wb(153,"mat-select",38),o.hc("selectionChange",function(e){return t.ffServiceFeeCalculation(e)}),o.Mc(154,Sm,2,2,"mat-option",37),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(155,"div",7),o.Wb(156,"div",8),o.Wb(157,"h5",9),o.Oc(158),o.mc(159,"translate"),o.Wb(160,"span",10),o.Oc(161,"*"),o.Vb(),o.Vb(),o.Mc(162,Dm,2,1,"div",11),o.Wb(163,"div",39),o.Wb(164,"input",40,41),o.hc("change",function(){return t.validateTravelDate(t.formGroup.value.travellingDate,"traveldate")})("ngModelChange",function(e){return t.validateTravelDate(e,"traveldate")})("dateSelect",function(){return t.ffDatePickerGA("travellingDate")}),o.mc(166,"translate"),o.Vb(),o.Wb(167,"div",42),o.hc("click",function(){return o.Fc(e),o.Bc(165).toggle()}),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(168,"div",5),o.Wb(169,"div",43),o.Wb(170,"button",44),o.hc("click",function(){return t.onInitiatePay()}),o.Oc(171),o.mc(172,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()}2&e&&(o.Db(3),o.Pc(o.nc(4,63,"formFilling.headerLabel.label1")),o.Db(3),o.Pc(o.nc(7,65,"formFilling.headerLabel.label2")),o.Db(2),o.tc("formGroup",t.formGroup),o.Db(6),o.tc("ngClass",o.xc(129,Im,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.firstName?null:t.formGroup.controls.firstName.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.firstName?null:t.formGroup.controls.firstName.invalid))),o.Db(2),o.Qc("",o.nc(17,67,"formFilling.formLabel.label1")," "),o.Db(4),o.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.firstName?null:t.formGroup.controls.firstName.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.firstName?null:t.formGroup.controls.firstName.errors)),o.Db(2),o.uc("placeholder",o.nc(23,69,"formFilling.placeholder.label1")),o.Eb("aria-label",o.nc(24,71,"formFilling.formLabel.label1")),o.Db(4),o.tc("ngClass",o.xc(131,Im,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.lastName?null:t.formGroup.controls.lastName.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.lastName?null:t.formGroup.controls.lastName.invalid))),o.Db(2),o.Pc(o.nc(29,73,"formFilling.formLabel.label2")),o.Db(4),o.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.lastName?null:t.formGroup.controls.lastName.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.lastName?null:t.formGroup.controls.lastName.errors)),o.Db(2),o.uc("placeholder",o.nc(35,75,"formFilling.placeholder.label2")),o.Eb("aria-label",o.nc(36,77,"formFilling.formLabel.label2")),o.Db(5),o.tc("ngClass",o.xc(133,Im,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.email?null:t.formGroup.controls.email.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.email?null:t.formGroup.controls.email.invalid))),o.Db(2),o.Pc(o.nc(42,79,"formFilling.formLabel.label3")),o.Db(4),o.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.email?null:t.formGroup.controls.email.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.email?null:t.formGroup.controls.email.errors)),o.Db(2),o.uc("placeholder",o.nc(48,81,"formFilling.placeholder.label3")),o.Eb("aria-label",o.nc(49,83,"formFilling.formLabel.label3")),o.Db(5),o.tc("ngIf",t.dialCode),o.Db(2),o.tc("ngClass",o.xc(135,Im,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.phoneNumber?null:t.formGroup.controls.phoneNumber.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.phoneNumber?null:t.formGroup.controls.phoneNumber.invalid))),o.Db(2),o.Pc(o.nc(57,85,"formFilling.formLabel.label4")),o.Db(4),o.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.phoneNumber?null:t.formGroup.controls.phoneNumber.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.phoneNumber?null:t.formGroup.controls.phoneNumber.errors)),o.Db(2),o.uc("placeholder",o.nc(63,87,"formFilling.placeholder.label4")),o.Eb("aria-label",o.nc(64,89,"formFilling.formLabel.label4")),o.Db(8),o.Pc(o.nc(71,91,"formFilling.headerLabel.label1")),o.Db(4),o.Qc(" ",o.nc(75,93,"formFilling.formLabel.label11")," "),o.Db(2),o.tc("ngIf",0==t.totalPassenger),o.Db(1),o.tc("ngIf",0!=t.totalPassenger),o.Db(3),o.Qc(" ",o.nc(81,95,"formFilling.formLabel.label12")," "),o.Db(3),o.Qc(" ",t.totalGST," "),o.Db(3),o.Qc(" ",o.nc(87,97,"formFilling.formLabel.label13")," "),o.Db(3),o.Qc(" ",t.grandTotal," "),o.Db(6),o.tc("ngClass",o.xc(137,Im,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.applyingFrom?null:t.formGroup.controls.applyingFrom.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.applyingFrom?null:t.formGroup.controls.applyingFrom.invalid))),o.Db(2),o.Pc(o.nc(98,99,"formFilling.formLabel.label5")),o.Db(4),o.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.applyingFrom?null:t.formGroup.controls.applyingFrom.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.applyingFrom?null:t.formGroup.controls.applyingFrom.errors)),o.Db(2),o.uc("placeholder",o.nc(104,101,"formFilling.placeholder.label5")),o.Eb("aria-label",o.nc(105,103,"formFilling.formLabel.label5")),o.Db(5),o.tc("ngClass",o.xc(139,Im,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.travellingTo?null:t.formGroup.controls.travellingTo.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.travellingTo?null:t.formGroup.controls.travellingTo.invalid))),o.Db(2),o.Pc(o.nc(111,105,"formFilling.formLabel.label6")),o.Db(4),o.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.travellingTo?null:t.formGroup.controls.travellingTo.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.travellingTo?null:t.formGroup.controls.travellingTo.errors)),o.Db(2),o.uc("placeholder",o.nc(117,107,"formFilling.placeholder.label10")),o.Eb("aria-label",o.nc(118,109,"formFilling.formLabel.label6")),o.Db(5),o.tc("ngClass",o.xc(141,Im,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.myPassportIsFrom?null:t.formGroup.controls.myPassportIsFrom.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.myPassportIsFrom?null:t.formGroup.controls.myPassportIsFrom.invalid))),o.Db(2),o.Pc(o.nc(124,111,"formFilling.formLabel.label7")),o.Db(4),o.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.myPassportIsFrom?null:t.formGroup.controls.myPassportIsFrom.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.myPassportIsFrom?null:t.formGroup.controls.myPassportIsFrom.errors)),o.Db(2),o.uc("placeholder",o.nc(130,113,"formFilling.placeholder.label5")),o.Eb("aria-label",o.nc(131,115,"formFilling.formLabel.label5")),o.Db(4),o.tc("ngClass",o.xc(143,Im,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.purposeOfTravel?null:t.formGroup.controls.purposeOfTravel.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.purposeOfTravel?null:t.formGroup.controls.purposeOfTravel.invalid))),o.Db(2),o.Pc(o.nc(136,117,"formFilling.formLabel.label8")),o.Db(4),o.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.purposeOfTravel?null:t.formGroup.controls.purposeOfTravel.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.purposeOfTravel?null:t.formGroup.controls.purposeOfTravel.errors)),o.Db(2),o.uc("placeholder",o.nc(142,119,"formFilling.placeholder.label7")),o.Db(2),o.tc("ngForOf",t.subVisaCategoryList),o.Db(3),o.tc("ngClass",o.xc(145,Im,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.numberOfPassengers?null:t.formGroup.controls.numberOfPassengers.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.numberOfPassengers?null:t.formGroup.controls.numberOfPassengers.invalid))),o.Db(2),o.Pc(o.nc(149,121,"formFilling.formLabel.label9")),o.Db(6),o.tc("ngForOf",t.numberOfPassengersList),o.Db(2),o.tc("ngClass",o.xc(147,Im,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.travellingDate?null:t.formGroup.controls.travellingDate.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.travellingDate?null:t.formGroup.controls.travellingDate.invalid))),o.Db(2),o.Pc(o.nc(159,123,"formFilling.formLabel.label10")),o.Db(4),o.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.travellingDate?null:t.formGroup.controls.travellingDate.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.travellingDate?null:t.formGroup.controls.travellingDate.errors)),o.Db(2),o.uc("placeholder",o.nc(166,125,"formFilling.placeholder.label9")),o.tc("value",t.dateFormatTravelDate)("minDate",t.travelStartDate),o.Db(6),o.tc("disabled",t.formGroup.invalid),o.Db(1),o.Pc(o.nc(172,127,"formFilling.buttons.button1")))},directives:[n.y,n.r,n.j,m.m,m.o,b.b,g.b,n.d,n.q,n.h,n.m,n.l,n.w,dt.a,m.n,ct.d,h.a,bt.j],pipes:[p.d],encapsulation:2}),e})(),data:{title:"formFilling.pageTitle.label2",breadcrumb:"Form Filling Service"}},{path:r.q.FF_PAYMENT_CONFIRMATION,component:(()=>{class e extends nt.a{constructor(e,t,a){super(),this.baseService=e,this.activatedRoute=t,this.dialog=a,this.successPaymentData={},this.currencyCode=this.sessionService.currencyCode||"",this.alreadyConfirm="",this.requestComplete=!1}ngOnInit(){this.sessionService.updateJwtFF(this.sessionService.jwtToken),this.confirmPaymentFF()}confirmPaymentFF(){var e,t;return Object(l.b)(this,void 0,void 0,function*(){const a=this.sessionService.tenent,i=this.sessionService.countryCode,o=null===(e=this.activatedRoute.snapshot.queryParams)||void 0===e?void 0:e.TransactionId,n=null===(t=this.activatedRoute.snapshot.queryParams)||void 0===t?void 0:t.PaymentStatus;var s=JSON.parse(this.sessionService.ffApplicantDetails);const l={missionCode:a,countryCode:i,loginUser:s.email,urn:s.urn,bankReferenceNo:o,requestReferenceNo:s.requestRefNo,amount:s.totalAmount,currency:s.currency,isFormFillingService:!0},c=yield this.httpService.payloadPost(r.c.api.confirmSevicePayment,l).toPromise().then(e=>e).catch(e=>e);c&&null==c.error?(c.transactionId=o,c.transactionAmount=s.totalAmount,this.sessionService.ffPaymentDetails=c,this.commonService.routeToFFTransactionSummary()):("False"==n||c.error&&c.error.code)&&(this.requestComplete=!0,this.successPaymentData={PaymentStatus:"False"})})}showErrorMsgPopup(e,t){try{const a=this.dialog.open(Gi,{data:e});a.afterClosed().subscribe(e=>Object(l.b)(this,void 0,void 0,function*(){1069===t&&(this.utilityService.startNgxUiSpinner(),this.utilityService.stopNgxUiSpinner())})),this.router.events.subscribe(()=>{a.close()})}catch(a){throw a}}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(oe),o.Qb(s.a),o.Qb(La.b))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-ff-payment-confirmation"]],features:[o.Ab],decls:1,vars:1,consts:[["class","container py-15 py-md-30",4,"ngIf"],[1,"container","py-15","py-md-30"],[4,"ngIf"],["class","form-card mb-20 mb-sm-50",4,"ngIf"],[1,"form-card","mb-20","mb-sm-50"],[1,"c-brand-grey-para","fs-sm-18","mb-8"]],template:function(e,t){1&e&&o.Mc(0,Tm,2,1,"section",0),2&e&&o.tc("ngIf",t.requestComplete)},directives:[m.o,u.a],pipes:[p.d],encapsulation:2}),e})(),data:{title:"formFilling.pageTitle.label3",breadcrumb:"Payment Confirmation"}},{path:r.q.FF_TRANSACTION_SUMMARY,component:(()=>{class e extends nt.a{constructor(e){super(),this.baseService=e,this.ffServiceForApplicant=this.sessionService.ffServiceForApplicant}ngOnInit(){this.ffPaymentDetails=this.sessionService.ffPaymentDetails,this.utilityService.pushDataLayerGA({event:"thank_you_page",eventCategory:"booking_sucessful",eventAction:"visa_application_successful",entry_point:"",payment_gateway_name:"",order_no:this.ffPaymentDetails.orderNumber})}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(oe))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-ff-transaction-summary"]],features:[o.Ab],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"mt-10",2,"color","rgb(42 71 102)"],[1,"c-brand-grey-para","fs-sm-18","mb-8"]],template:function(e,t){1&e&&o.Mc(0,Lm,10,10,"section",0),2&e&&o.tc("ngIf",t.ffPaymentDetails)},directives:[m.o],pipes:[p.d],encapsulation:2}),e})(),data:{title:"formFilling.pageTitle.label4",breadcrumb:"Payment Summary"}},{path:r.q.ON_BOARDING,component:ee,data:{title:"onBoarding.pageTitle"}},{path:r.q.LOGIN,component:je,data:{title:"login.pageTitle"}},{path:r.q.FORGOT_PASSWORD,component:et,data:{title:"forogotpassword.pageTitle"}},{path:r.q.ACTIVATE_EMAIL,component:tt,data:{title:"activate mail"}},{path:r.q.RESETPASSWORD,component:Xs,data:{title:"resetpassword.pageTitle"}},{path:r.q.RESEND_EMAIL_ACTIVATION,component:ed,data:{title:"resendemailactivation.pageTitle"}},{path:r.q.RESEND_EMAIL_ACTIVATION,component:ed,data:{title:"resendemailactivation.pageTitle"}},{path:r.q.TMI_OAB_Login,component:ou,data:{title:"TMI OAB Login"}},{path:r.q.APPOINTMENT_VERIFICATION,component:Al,data:{title:"appointmentverification.pageTitle"}},{path:"",redirectTo:r.q.LOGIN,pathMatch:"full"}]},{path:"",canActivate:[it],children:[{path:r.q.APPLICATION_DETAIL,component:Oa,data:{title:"eligibilityCriteria.pageTitle"}},{path:r.q.APPLICATION_DETAILS,component:Sd,data:{title:"eligibilityCriteria.pageTitle"}},{path:r.q.REVIEW_AND_PAY,component:Ta.a,data:{title:"reviewAndPayment.pageTitle"}},{path:r.q.DASHBOARD,component:xi,data:{title:"dashboard.pageTitle"}},{path:r.q.YOUR_DETAILS,component:Do,data:{title:"applicantInformation.pageTitle"}},{path:r.q.PAYMENT_CONFIRMATION,component:ln,data:{title:"paymentConfirmation.pageTitle"}},{path:r.q.BOOK_APPOINTMENT,component:Kn,data:{title:"bookAppointment.pageTitle"}},{path:r.q.SERVICES,component:Es,data:{title:"services.pageTitle"}},{path:r.q.COURIER_ADDRESS,component:Kd,data:{title:"courierAddressDetails.pageTitle"}},{path:r.q.POSTAL_INFORMATION,component:ml,data:{title:"postalInformation.pageTitle"}},{path:r.q.TRAVEL_MEDICAL_INSURANCE,component:Fc,data:{title:"travelMedicalInformation.pageTitle"}},{path:r.q.UPDATE_CATEGORY,component:Qc,data:{title:"updateCategory.pageTitle"}},{path:r.q.VAYD_ADDRESS,component:ku,data:{title:"VaydAddress.pageTitle"}},{path:"",redirectTo:r.q.DASHBOARD,pathMatch:"full"}]},{path:r.q.NOT_FOUND,component:tl,data:{title:"notFound.pageTitle"}},{path:"",redirectTo:r.q.LOGIN,pathMatch:"full"},{path:"**",redirectTo:r.q.NOT_FOUND,pathMatch:"full"}]},{path:"**",redirectTo:"",pathMatch:"full"}];let Mm=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.Ob({type:e}),e.\u0275inj=o.Nb({imports:[[s.g.forRoot(Nm,{scrollPositionRestoration:"top",useHash:!1,onSameUrlNavigation:"reload"})],s.g]}),e})();var Em=a("pLZG"),Wm=a("/uUt"),Pm=a("IzEk");const km=function(e){return{minute:e}};let wm=(()=>{class e extends d.a{constructor(e,t,a,i,o){super(),this.data=e,this.dialog=t,this.dialogRef=a,this.idle=i,this.changeRef=o,this.showCancel=!1,this.displayMin="2"}ngOnInit(){setTimeout(()=>{this.displayMin="1"},6e4),this.clearTimeout=setTimeout(()=>{this.dialogRef.close(!1),this.dialog.open(ks,{disableClose:!0})},12e4)}closeModal(e){e||this.commonService.logoutAndRouteToLogin(),this.dialogRef.close(e)}ngOnDestroy(){clearInterval(this.clearTimeout)}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(La.a),o.Qb(La.b),o.Qb(La.h),o.Qb(Ps.b),o.Qb(o.h))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-session-management"]],inputs:{showCancel:"showCancel"},features:[o.Ab],decls:24,vars:16,consts:[[1,"mat-modal-delete-document"],[1,"position-absolute","top-10","right-10"],["mat-dialog-close","",1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"my-20"],[1,"d-block"],[1,"row"],[1,"col-12","col-sm"],["mat-stroked-button","","type","button",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mt-15",3,"click"],["mat-raised-button","","type","button",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","mt-15",3,"click"]],template:function(e,t){1&e&&(o.Wb(0,"div",0),o.Wb(1,"div",1),o.Wb(2,"button",2),o.hc("click",function(){return t.closeModal(!0)}),o.Rb(3,"img",3),o.Vb(),o.Vb(),o.Wb(4,"h4"),o.Wb(5,"span"),o.Oc(6),o.mc(7,"translate"),o.Vb(),o.Vb(),o.Rb(8,"hr",4),o.Wb(9,"mat-dialog-content"),o.Wb(10,"span"),o.Oc(11),o.mc(12,"translate"),o.Vb(),o.Vb(),o.Rb(13,"hr",4),o.Wb(14,"mat-dialog-actions",5),o.Wb(15,"div",6),o.Wb(16,"div",7),o.Wb(17,"button",8),o.hc("click",function(){return t.closeModal(!1)}),o.Oc(18),o.mc(19,"translate"),o.Vb(),o.Vb(),o.Wb(20,"div",7),o.Wb(21,"button",9),o.hc("click",function(){return t.closeModal(!0)}),o.Oc(22),o.mc(23,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e&&(o.Db(3),o.vc("src","",t.getGlobalImagePath,"/close-btn.png",o.Hc),o.Db(3),o.Pc(o.nc(7,5,"commonSections.headerLabel.label3")),o.Db(5),o.Pc(o.oc(12,7,"commonSections.pageDetails.para1",o.xc(14,km,t.displayMin))),o.Db(7),o.Qc(" ",o.nc(19,10,"commonSections.buttons.button2")," "),o.Db(4),o.Qc(" ",o.nc(23,12,"commonSections.buttons.button1")," "))},directives:[La.d,La.f,La.c,h.a],pipes:[p.d],encapsulation:2}),e})();var Fm=a("4h0v"),_m=a("BU3v");function xm(e,t){if(1&e&&(o.Wb(0,"div",1),o.Wb(1,"span",2),o.Oc(2),o.Vb(),o.Rb(3,"i",3),o.Vb()),2&e){const e=o.lc();o.tc("ngClass",null!=e.receivedMessage&&e.receivedMessage.isError?"alert alert-info":"alert alert-primary"),o.Db(2),o.Pc(null==e.receivedMessage?null:e.receivedMessage.message)}}let Gm=(()=>{class e{constructor(){this.showMessage=!1}ngOnChanges(){this.showMessage=!0,setTimeout(()=>{this.showMessage=!1},5e3)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Kb({type:e,selectors:[["app-notification"]],inputs:{receivedMessage:"receivedMessage"},features:[o.Bb],decls:1,vars:1,consts:[["class","border-0 border-brand-blue border-top-4 fade fixed-top pr-35 rounded-0 show z-index-1090","role","alert",3,"ngClass",4,"ngIf"],["role","alert",1,"border-0","border-brand-blue","border-top-4","fade","fixed-top","pr-35","rounded-0","show","z-index-1090",3,"ngClass"],[1,"c-brand-blue"],["data-dismiss","alert",1,"c-brand-blue","fa","fa-times-circle-o","fs-25","position-absolute","right-8","top-10","cursor-pointer"]],template:function(e,t){1&e&&o.Mc(0,xm,4,2,"div",0),2&e&&o.tc("ngIf",!(null==t.receivedMessage||!t.receivedMessage.message)&&t.showMessage)},directives:[m.o,m.m],encapsulation:2}),e})();function Rm(e,t){if(1&e){const e=o.Xb();o.Wb(0,"a",9),o.hc("click",function(){return o.Fc(e),o.lc().routeToDashboard()}),o.Rb(1,"img",10),o.Vb()}if(2&e){const e=o.lc();o.Db(1),o.uc("src",null==e.sessionService.resourceGroupData?null:e.sessionService.resourceGroupData.embassylogolink,o.Hc)}}function Um(e,t){if(1&e){const e=o.Xb();o.Wb(0,"a",9),o.hc("click",function(){return o.Fc(e),o.lc().routeToDashboard()}),o.Rb(1,"img",11),o.Vb()}if(2&e){const e=o.lc();o.Db(1),o.vc("src","",e.getGlobalImagePath,"/vfs-global-logo.png",o.Hc)}}function Bm(e,t){if(1&e){const e=o.Xb();o.Wb(0,"a",17),o.hc("click",function(){o.Fc(e);const a=t.$implicit;return o.lc(3).languageSelection(a.code)}),o.Oc(1),o.Vb()}if(2&e){const e=t.$implicit;o.Db(1),o.Pc(e.languagename)}}const jm=function(){return[]};function Ym(e,t){if(1&e&&(o.Wb(0,"div",15),o.Mc(1,Bm,2,1,"a",16),o.Vb()),2&e){const e=o.lc(2);o.Db(1),o.tc("ngForOf",e.allowedLanguages||o.wc(1,jm))}}function Qm(e,t){if(1&e&&(o.Wb(0,"div",12),o.Wb(1,"button",13),o.Oc(2),o.Vb(),o.Mc(3,Ym,2,2,"div",14),o.Vb()),2&e){const e=o.lc();o.Db(1),o.tc("ngClass",(null==e.allowedLanguages?null:e.allowedLanguages.length)>0?"btn border dropdown-toggle":"btn border"),o.Db(1),o.Qc(" ",e.currentLanguage," "),o.Db(1),o.tc("ngIf",(null==e.allowedLanguages?null:e.allowedLanguages.length)>0)}}function $m(e,t){1&e&&o.Rb(0,"button",18)}function qm(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div",19),o.Wb(1,"ul",20),o.Wb(2,"li",21),o.Wb(3,"a",22),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Wb(6,"div",23),o.Wb(7,"a",24),o.hc("click",function(){return o.Fc(e),o.lc().routeToDashboard()}),o.Oc(8),o.mc(9,"translate"),o.Vb(),o.Rb(10,"div",25),o.Wb(11,"a",26),o.hc("click",function(){return o.Fc(e),o.lc().logout()}),o.Oc(12),o.mc(13,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()}2&e&&(o.Db(4),o.Qc(" ",o.nc(5,3,"header.headerLabel.label1")," "),o.Db(4),o.Pc(o.nc(9,5,"header.headerLabel.label2")),o.Db(4),o.Qc(" ",o.nc(13,7,"header.headerLabel.label3")," "))}function Hm(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div",19),o.Wb(1,"ul",20),o.Wb(2,"li",21),o.Wb(3,"a",27),o.hc("click",function(){return o.Fc(e),o.lc().logout()}),o.Oc(4),o.mc(5,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Vb()}2&e&&(o.Db(4),o.Qc(" ",o.nc(5,1,"header.headerLabel.label13")," "))}const Km=function(e){return{"active cursor-pointer":e}},zm=function(e){return{active:e}};function Zm(e,t){if(1&e){const e=o.Xb();o.Ub(0),o.Wb(1,"li",33),o.hc("click",function(){o.Fc(e);const a=t.index;return o.lc(2).checkAndNavigateToModule(a+1)}),o.Wb(2,"a",34),o.Wb(3,"span",35),o.Oc(4),o.Vb(),o.Wb(5,"span",36),o.Oc(6,"\u2713"),o.Vb(),o.Wb(7,"span",37),o.Oc(8),o.mc(9,"translate"),o.Vb(),o.Vb(),o.Vb(),o.Tb()}if(2&e){const e=t.$implicit,a=t.index,i=o.lc(2);o.Db(1),o.tc("ngClass",o.xc(6,Km,i.cmpltdFieldIdx>=a||i.currentModuleIdx===a)),o.Db(1),o.tc("ngClass",o.xc(8,zm,i.cmpltdFieldIdx>=a)),o.Db(2),o.Pc(a+1),o.Db(4),o.Pc(o.nc(9,4,null==e?null:e.displayName))}}function Jm(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"li",38),o.Wb(2,"span",39),o.Oc(3),o.mc(4,"translate"),o.Vb(),o.Rb(5,"br"),o.Wb(6,"span",40),o.Oc(7),o.mc(8,"number"),o.Vb(),o.Vb(),o.Tb()),2&e){const e=o.lc(2);o.Db(3),o.Pc(o.nc(4,3,"header.headerLabel.label15")),o.Db(4),o.Rc("",e.currencyCode&&"null"!=e.currencyCode?e.currencyCode:""," ",o.oc(8,5,e.cartAmount,"1.2-2"),"")}}function Xm(e,t){if(1&e&&(o.Wb(0,"div",28),o.Wb(1,"div",29),o.Wb(2,"ul",30),o.Mc(3,Zm,10,10,"ng-container",31),o.Mc(4,Jm,9,8,"ng-container",32),o.Vb(),o.Vb(),o.Vb()),2&e){const e=o.lc();o.Db(3),o.tc("ngForOf",e.headerData)("ngForTrackBy",e.trackByFn),o.Db(1),o.tc("ngIf",e.cartAmount&&"0"!=e.cartAmount)}}let ep=(()=>{class e extends d.a{constructor(e){var t;super(),this.contentfulService=e,this.isUserLoggedIn=!1,this.headerData=[],this.sendMessage={},this.isDraftVisible=!1,this.currentModuleIdx=-1,this.embassylogolink=(null===(t=this.sessionService.resourceGroupData)||void 0===t?void 0:t.embassylogolink)||null,this.isvfsLogoDisabled=this.sessionService.isVFSLogoDisabled,this.currencyCode="",this.cartAmount="",this.cmpltdFieldIdx=0,this.currentLanguage="",this.subs.sink=this.router.events.subscribe(e=>{this.currentLanguage="tl"==window.location.pathname.split("/")[2]?"Filipino":_m.a.getName(window.location.pathname.split("/")[2])})}ngOnInit(){this.registerLoginEvent(),this.trackCurrentModule(),this.handleAlertBar(),this.subscribeNavigationEnd(),this.totalFees()}totalFees(){this.subs.sink=this.dataShareService.cartAmount.subscribe(e=>{this.cartAmount=e,this.currencyCode=this.sessionService.currencyCode||""})}checkAndNavigateToModule(e){return Object(l.b)(this,void 0,void 0,function*(){try{if(!this.sessionService.applicantAplhaId)return}catch(e){console.log(e)}})}getApplicationIdx(e){try{if(!e)return;return this.headerData.findIndex(t=>this.utilityService.strictCompare(t.logicalName,e))}catch(t){throw t}}onSuccessfulLogin(e=!1){return Object(l.b)(this,void 0,void 0,function*(){try{this.loadNavbar(),this.registerSchemaChange(),this.isUserLoggedIn="boolean"!=typeof e?Boolean(JSON.parse(e)):Boolean(e)}catch(t){console.log(t)}})}loadNavbar(){try{const e=this.extractHeaderData(this.sessionService.getAllModulesSchema());e||this.sessionService.updateLoginStatus(!1),this.headerData=e}catch(e){throw e}}registerSchemaChange(){this.subs.sink=this.sessionService.appSchema$.subscribe(()=>{this.loadNavbar()})}extractHeaderData(e=[]){return e.map(e=>Object({displayName:e.displayName,routeUrl:e.routeUrl,logicalName:e.logicalName,displayPosition:e.displayPosition}))}logout(){this.utilityService.pushDataLayerGA({dl_event:"dashboard_page",dl_category:"Dashboard Page",dl_action:"Sign Out",dl_label:"cta_click"}),this.dataShareService.cartAmount.next(""),this.commonService.logoutAndRouteToLogin()}registerLoginEvent(){this.subs.sink=this.sessionService.isLoggedIn.subscribe(e=>{const t="boolean"!=typeof e?Boolean(JSON.parse(e)):Boolean(e);t?this.onSuccessfulLogin(t):this.isUserLoggedIn=!1})}get viewButton(){try{return this.isDraftVisible&&!this.isDashboard&&this.utilityService.strictCompare(this.router.url.indexOf(r.q.REVIEW_AND_PAY),-1)&&this.utilityService.strictCompare(this.router.url.indexOf(r.q.DOCUMENT_UPLOAD),-1)&&this.utilityService.strictCompare(this.router.url.indexOf(r.q.PAYMENT_GATEWAY),-1)&&this.utilityService.strictCompare(this.router.url.indexOf(r.q.PAYMENT_CONFIRMATION),-1)}catch(e){return!1}}trackCurrentModule(){this.subs.sink=this.coreSessionService.currentModule$.pipe(Object(Wm.a)()).subscribe(e=>{this.isDraftVisible=!1,e&&e.hasOwnProperty("displayPosition")&&(this.isDraftVisible=this.utilityService.strictCompare(r.c.SAVE_AS_DRAFT_EXCEPTION_LIST.indexOf(e.logicalName),-1),this.setCurrentModuleIdx(null==e?void 0:e.logicalName))})}setCurrentModuleIdx(e){try{this.currentModuleIdx=this.getApplicationIdx(e)}catch(t){console.log(t)}}handleAlertBar(){this.sendMessage={},this.subs.sink=this.commonService.showAlertBar$.subscribe(e=>{this.sendMessage=e})}setCmpltdFieldIdx(e){this.cmpltdFieldIdx=e}routeToDashboard(){this.isUserLoggedIn?(this.commonService.setSessionValues(null,null,null,null,null),this.sessionService.applicationStatus="",this.setCmpltdFieldIdx(0),this.commonService.stopTimeOut(),this.commonService.routeToDashboard()):this.commonService.routeToLogin()}get viewHeader(){try{return!!(this.isUserLoggedIn&&this.headerData&&!this.isDashboard&&this.headerData.length>0&&this.utilityService.strictCompare(r.c.NAVBAR_EXCEPTION_LIST.indexOf(this.router.url),-1))}catch(e){return console.log(e),!1}}get showDropDown(){try{return this.sessionService.loginStatus&&!r.c.DROP_DOWN_EXCLUDE_ROUTE.some(e=>this.router.url.indexOf(e)>=0)}catch(e){return console.log(e),!1}}get showLanguageDropdown(){try{return!this.sessionService.loginStatus}catch(e){return console.log(e),!1}}get isDashboard(){try{return this.router.url.indexOf(r.q.DASHBOARD)>-1||this.router.url.indexOf(r.q.ADDITIONAL_DOCUMENT)>-1||this.router.url.indexOf(r.q.PAYMENT_CONFIRMATION)>-1||this.router.url.indexOf(r.q.REVIEW_APPLICATION)>-1||this.router.url.indexOf(r.q.NOT_FOUND)>-1||this.router.url.indexOf(r.q.UPDATE_CATEGORY)>-1}catch(e){console.log(r.d.INVALID_URL)}}subscribeNavigationEnd(){try{this.subs.sink=this.router.events.pipe(Object(Em.a)(e=>e instanceof s.c),Object(Wm.a)()).subscribe(e=>{e instanceof s.c&&this.handleTitleHighlight(e.url)})}catch(e){console.log(e)}}languageSelection(e){const t="/"+this.sessionService.countryCode+"/"+e+"/"+this.sessionService.tenent+"/"+r.q.LOGIN;this.utilityService.handleCaptcha(),this.contentfulService.getResourceGroup(e),this.isPtFlow?window.location.replace(t):this.router.navigateByUrl(t)}get allowedLanguages(){return this.sessionService.appMissionLanguage}handleTitleHighlight(e){return Object(l.b)(this,void 0,void 0,function*(){try{const t=r.c.NAVBAR_EXCEPTION_LIST,a=e.split("/").pop();if(!this.utilityService.strictCompare(t.indexOf(a),-1)||!this.sessionService.loginStatus)return;const i=this.getApplicationIdx(this.sessionService.completedModuleName);return this.setCmpltdFieldIdx(i),this.utilityService.strictCompare(a,"services")&&this.setCurrentModuleIdx(r.f.SERVICES),void(this.utilityService.strictCompare(a,"review-pay")&&this.setCurrentModuleIdx(r.f.REVIEW_PAYMENT))}catch(t){Object(el.a)(t)}})}saveApplicationAsDraft(){return Object(l.b)(this,void 0,void 0,function*(){try{this.routeToDashboard()}catch(e){console.log(`Error Status: ${e.status}\nMessage: ${e.message}`)}})}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(ie.a))},e.\u0275cmp=o.Kb({type:e,selectors:[["header"]],features:[o.Ab],decls:11,vars:8,consts:[[1,"navbar"],[1,"container","navbar-expand-sm"],["class","navbar-brand cursor-pointer",3,"click",4,"ngIf"],[1,"ml-auto"],["class","dropdown",4,"ngIf"],["class","navbar-toggler","type","button","data-toggle","collapse","data-target",".navbarToggle","aria-expanded","false",4,"ngIf"],["class","collapse navbar-collapse navbarToggle",4,"ngIf"],[3,"receivedMessage"],["class","steps",4,"ngIf"],[1,"navbar-brand","cursor-pointer",3,"click"],["alt","LIFT VFS Global",2,"width","120px",3,"src"],["alt","LIFT VFS Global",3,"src"],[1,"dropdown"],["type","button","id","dropdownMenuButton","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",3,"ngClass"],["class","dropdown-menu","aria-labelledby","dropdownMenuButton",4,"ngIf"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu"],["class","dropdown-item","href","javascript:void(0);",3,"click",4,"ngFor","ngForOf"],["href","javascript:void(0);",1,"dropdown-item",3,"click"],["type","button","data-toggle","collapse","data-target",".navbarToggle","aria-expanded","false",1,"navbar-toggler"],[1,"collapse","navbar-collapse","navbarToggle"],[1,"navbar-nav","ml-auto","align-items-sm-center"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle","c-brand-orange"],["aria-labelledby","navbarDropdown",1,"dropdown-menu","dropdown-menu-right","mb-15","cursor-pointer"],[1,"dropdown-item",3,"click"],[1,"dropdown-divider"],[1,"dropdown-item","bg-brand-orange","text-white","cursor-pointer","c-inherit",3,"click"],[1,"nav-link","c-inherit","cursor-pointer",3,"click"],[1,"steps"],[1,"container"],[1,"steps-nav","navbar-nav","navbar-expand-lg"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"nav-item",3,"ngClass","click"],[1,"nav-link",3,"ngClass"],[1,"sr-num"],[1,"check-mark"],[1,"name","text-wrap"],[1,"nav-item","total-amt"],[1,"c-brand-grey-para","fs-13","fs-lg-inherit"],[1,"c-brand-green","fs-13","fs-lg-inherit","text-overflow"]],template:function(e,t){1&e&&(o.Wb(0,"div",0),o.Wb(1,"div",1),o.Mc(2,Rm,2,1,"a",2),o.Mc(3,Um,2,1,"a",2),o.Rb(4,"span",3),o.Mc(5,Qm,4,3,"div",4),o.Mc(6,$m,1,0,"button",5),o.Mc(7,qm,14,9,"div",6),o.Mc(8,Hm,6,3,"div",6),o.Vb(),o.Vb(),o.Rb(9,"app-notification",7),o.Mc(10,Xm,5,3,"div",8)),2&e&&(o.Db(2),o.tc("ngIf",t.sessionService.isVFSLogoDisabled),o.Db(1),o.tc("ngIf",!t.sessionService.isVFSLogoDisabled),o.Db(2),o.tc("ngIf",t.showLanguageDropdown),o.Db(1),o.tc("ngIf",t.showDropDown),o.Db(1),o.tc("ngIf",t.showDropDown&&!t.isDashboard),o.Db(1),o.tc("ngIf",t.showDropDown&&t.isDashboard),o.Db(1),o.tc("receivedMessage",t.sendMessage),o.Db(1),o.tc("ngIf",t.viewHeader))},directives:[ct.f,m.o,Gm,m.m,m.n],pipes:[p.d,m.f],encapsulation:2}),e})(),tp=(()=>{class e{onKeyDown(e){if(!c.a.localReload&&(116===(e.which||e.keyCode)||82===e.keyCode&&e.ctrlKey))return e.preventDefault(),!1;if(8===e.keyCode||8===e.which||"Backspace"===e.code){let t=!0;const a=["text","password","file","search","email","number","date","color","datetime","datetime-local","month","range","search","tel","time","url","week"],i=e.target;if(!i.disabled&&!e.target.readOnly)if(i.isContentEditable)t=!1;else if("INPUT"===i.nodeName){let e=i.type;e&&(e=e.toLowerCase()),a.indexOf(e)>-1&&(t=!1)}else"TEXTAREA"===i.nodeName&&(t=!1);if(t)return e.preventDefault(),!1}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=o.Lb({type:e,selectors:[["","appKeydown",""]],hostBindings:function(e,t){1&e&&o.hc("keydown",function(e){return t.onKeyDown(e)},!1,o.Dc)}}),e})();var ap=a("gren"),ip=a("kiQV");let op=(()=>{class e{constructor(e){this.utilityService=e,this.version=ip.version}ngOnInit(){this.currentYear=this.utilityService.momentInstance().year()}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(se.a))},e.\u0275cmp=o.Kb({type:e,selectors:[["footer"]],decls:3,vars:5,consts:[[1,"container","c-brand-grey-para","py-15"]],template:function(e,t){1&e&&(o.Wb(0,"div",0),o.Oc(1),o.mc(2,"translate"),o.Vb()),2&e&&(o.Db(1),o.Sc(" AR-",t.version," \xa9 ",t.currentYear," ",o.nc(2,3,"footer.pageDetails.para1")," "))},pipes:[p.d],encapsulation:2}),e})();function np(e,t){1&e&&o.Rb(0,"footer",3)}const sp=function(e){return{"logged-in":e}};let lp=(()=>{class e extends Fm.a{constructor(e,t,a,i,o,n,s,l,r,d,u,m,p){super(),this.sessionService=e,this.router=t,this.commonService=a,this.idle=i,this.element=o,this.changeRef=n,this.dialog=s,this.utilityService=l,this.translate=r,this.renderer=d,this.activatedRoute=u,this.contentfulService=m,this.meta=p,this.count=0,this.initAppFundamentals(),this.meta.addTag({name:"google-site-verification",content:c.a.contentForMetaTag})}ngAfterViewInit(){const e=this.renderer.selectRootElement("#loader");this.renderer.setStyle(e,"display","none")}ngOnInit(){this.utilityService.setTitle();const e="boolean"!=typeof this.sessionService.loginStatus?Boolean(JSON.parse(this.sessionService.loginStatus)):Boolean(this.sessionService.loginStatus),t=window.location.pathname;e&&!c.a.localReload&&-1===t.indexOf(r.q.PAYMENT_CONFIRMATION)&&this.commonService.logoutAndRouteToLogin()}initAppFundamentals(){try{this.utilityService.handleCaptcha(),c.a.production&&(this.utilityService.appendScriptForCookies(),this.utilityService.appendGaTrackingCode()),this.sessionService.loginStatus||this.sessionService.clearSession(),this.subscribeNavigationEnd(),this.registerLoginEvent(),this.initializeErrors(),this.commonService.loadClientIp(),this.contentfulService.loadCaptchaRoute()}catch(e){this.logger.error(e)}}subscribeNavigationEnd(){try{this.subs.sink=this.router.events.pipe(Object(Em.a)(e=>e instanceof s.c),Object(Wm.a)()).subscribe(e=>{var t;if(e instanceof s.c){(null===(t=e.url.split("/")[4])||void 0===t?void 0:t.includes(r.q.PAYMENT_CONFIRMATION))?this.translate.use(this.sessionService.appLanguageCode||c.a.defaultLang):(this.translate.use(e.url.split("/")[2]),this.translate.get("culturecode").subscribe(e=>{e&&(this.sessionService.appCultureCode=e)}),this.translate.addLangs([e.url.split("/")[2]])),c.a.localReload||this.utilityService.disableBrowserBack(),c.a.production&&this.utilityService.fireGAEvent(),this.utilityService.closeAllDialog(),this.urlValidation(e.url);const a=this.utilityService.getChild(this.activatedRoute);this.subs.sink=a.data.subscribe(e=>{this.utilityService.translationTitleService(e.title)})}})}catch(e){console.log(e)}}urlValidation(e){if(e.split("/")[2]&&e.length>=3)if(this.sessionService.getLoggedEmail()){if(e.split("/")[3]!==this.sessionService.tenent||e.split("/")[1]!==this.sessionService.countryCode||e.split("/")[2]!==this.sessionService.appLanguageCode){if(e.split("/")[4].includes(r.q.PAYMENT_CONFIRMATION)){const t=`${this.sessionService.countryCode}/${this.sessionService.appLanguageCode}/${this.sessionService.tenent}/${e.split("/")[4]}`;return setTimeout(()=>{this.translate.use(this.sessionService.appLanguageCode||c.a.defaultLang)},1e3),void this.router.navigateByUrl(t)}return void this.commonService.routeToDashboard()}}else this.sessionService.tenent=e.split("/")[3],this.sessionService.countryCode=e.split("/")[1],this.sessionService.appLanguageCode=e.split("/")[2]}initializeErrors(){this.subs.sink=this.sessionService.getErrors().pipe(Object(Pm.a)(1)).subscribe(e=>{this.openUnauthorizedPop()})}registerLoginEvent(){this.subs.sink=this.sessionService.isLoggedIn.subscribe((e=!1)=>{("boolean"!=typeof e?Boolean(JSON.parse(e)):Boolean(e))&&this.sessionStarts()})}get setNavBarClassStatus(){try{const e=this.router.url.split("/").pop();return!!e&&this.utilityService.strictCompare(r.c.NAVBAR_EXCEPTION_LIST.indexOf(e),-1)&&!!this.sessionService.loginStatus}catch(e){return console.log(e),!1}}sessionStarts(){this.idle.setIdle(c.a.sessionTime),this.idle.setInterrupts([new Ps.a(this.element.nativeElement,"keydown DOMMouseScroll mousewheel mousedown touchstart touchmove scroll")]),this.idleOnTimeout$=this.idle.onIdleStart.subscribe(()=>{this.count++,1===this.count&&this.sessionService.getJWT()&&this.openSessionPopup()}),this.reset()}reset(){this.idle.watch()}refreshUserState(){this.idle.isIdling()||this.reset()}openSessionPopup(){this.dialog.open(wm,{disableClose:!0}).afterClosed().subscribe(e=>{e?(this.count=0,this.reset(),this.changeRef.markForCheck()):(this.count=0,this.idle.stop(),this.idle.ngOnDestroy(),this.changeRef.markForCheck(),this.idleOnTimeout$.unsubscribe())},e=>{this.count=0,this.idle.stop(),this.idle.ngOnDestroy(),this.changeRef.markForCheck(),this.idleOnTimeout$.unsubscribe()})}openUnauthorizedPop(){const e=this.dialog.open(Ws);this.utilityService.stopNgxUiSpinner(),this.subs.sink=e.afterClosed().subscribe(e=>{!0===e&&this.commonService.logoutAndRouteToLogin()})}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(ae.a),o.Qb(s.f),o.Qb(at.a),o.Qb(Ps.b),o.Qb(o.l),o.Qb(o.h),o.Qb(La.b),o.Qb(se.a),o.Qb(p.e),o.Qb(o.F),o.Qb(s.a),o.Qb(ie.a),o.Qb(i.c))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-root"]],hostBindings:function(e,t){1&e&&o.hc("mousemove",function(){return t.refreshUserState()},!1,o.Ec)},features:[o.Ab],decls:5,vars:4,consts:[[1,"header-main","bg-white","fixed-top",3,"ngClass"],["appKeydown","",1,"clearfix","main-container"],["class","footer-bottom mt-auto",4,"ngIf"],[1,"footer-bottom","mt-auto"]],template:function(e,t){1&e&&(o.Rb(0,"header",0),o.Wb(1,"div",1),o.Rb(2,"router-outlet"),o.Vb(),o.Mc(3,np,1,0,"footer",2),o.Rb(4,"ngx-ui-loader")),2&e&&(o.tc("ngClass",o.xc(2,sp,t.setNavBarClassStatus)),o.Db(3),o.tc("ngIf","undefined"!==(null==t.sessionService?null:t.sessionService.tenent)))},directives:[ep,m.m,tp,s.h,m.o,ap.d,op],encapsulation:2}),e})();var rp=a("R1ws"),cp=a("iadO"),dp=a("WJ5W"),up=a("NFeN");const mp=[cp.c,up.b,g.c,f.b,h.b,dt.b,pt.b,cp.c,bt.i,dt.b,g.c,ne.c,u.c,Ya.b,La.g,ka.c,dp.a,b.d,ct.a];let pp=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.Ob({type:e}),e.\u0275inj=o.Nb({imports:[[m.c,...mp],cp.c,up.b,g.c,f.b,h.b,dt.b,pt.b,cp.c,bt.i,dt.b,g.c,ne.c,u.c,Ya.b,La.g,ka.c,dp.a,b.d,ct.a]}),e})();var bp=a("r3oX");const gp=[n.k,n.v,m.c,pp,mt.b,bp.a,Ri.b];let fp=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.Ob({type:e}),e.\u0275inj=o.Nb({providers:[{provide:ct.c,useClass:gt.g}],imports:[[gp,p.c.forChild(),ct.e],n.k,n.v,m.c,pp,mt.b,bp.a,Ri.b,p.c]}),e})();var hp=a("Yt5x"),vp=a("Cfvw"),yp=a("vkgz"),Sp=a("JIr8"),Cp=a("I65S");let Dp=(()=>{class e{constructor(e,t,a,i){this.sessionService=e,this.commonService=t,this.logger=a,this.utilityService=i,this.responseCacheMap=new Map,this.postReqBodyMap=new Map,this.captchaAttempt=0;try{this.subscriptions$=this.sessionService.isLoggedIn.subscribe((e=!1)=>{!("boolean"!=typeof e?Boolean(JSON.parse(e)):Boolean(e))&&this.subscriptions$&&(this.responseCacheMap=new Map,this.postReqBodyMap=new Map)})}catch(o){console.log(o)}}intercept(e,t){const a=this.responseCacheMap.get(e.urlWithParams);if(this.utilityService.strictCompare(e.method,r.c.HTTP_METHODS.GET)){if(a)return Object(Cp.of)(a)}else if(this.utilityService.strictCompare(e.method,r.c.HTTP_METHODS.POST)&&a){if(e.url.indexOf(r.c.api.appointmentFees)>-1&&this.sessionService.updateFees)return this.getDataFromApi(e,t);const i=JSON.parse(JSON.stringify(e.body));if(this.postReqBodyMap.get(JSON.stringify(i)))return Object(Cp.of)(a)}return Object(vp.a)(this.addCaptchaPayload(e,t))}addCaptchaPayload(e,t){return Object(l.b)(this,void 0,void 0,function*(){const a=this.sessionService.captchaConfiguration.find(t=>e.url.includes(t.api_url));if(!a||"v3"!==this.sessionService.captchaMode)return this.getDataFromApi(e,t);const i=yield this.utilityService.executeCapctha(a.action);if(this.utilityService.strictCompare(e.method,r.c.HTTP_METHODS.GET)){let t=e.params;t=t.append(a.captcha_key,i),t=t.append("captcha_version",this.sessionService.captchaMode),e=e.clone({params:t})}if(this.utilityService.strictCompare(e.method,r.c.HTTP_METHODS.POST)){const t=e.detectContentTypeHeader();e=e.clone("application/x-www-form-urlencoded;charset=UTF-8"===t?{body:e.body.append(a.captcha_key,i).append("captcha_version",this.sessionService.captchaMode)}:{body:Object.assign(Object.assign({},e.body),{[a.captcha_key]:i,captcha_version:this.sessionService.captchaMode})})}return this.getDataFromApi(e,t)})}getDataFromApi(e,t){try{return t.handle(this.modifyRequest(e)).pipe(Object(yp.a)(t=>{t instanceof _c.i&&this.cacheResponse(e,t)}),Object(Pa.a)(e=>this.modifyResponse(e)),Object(Sp.a)(e=>this.handleError(e))).toPromise()}catch(a){this.logger.error(a)}}modifyRequest(e){e.body&&(e=this.modifyDateFormat(e));const t=e.headers.set("route",window.location.pathname.split("/").slice(1,4).join("/")),a=[r.c.api.loadNationality,r.c.api.masterGender,r.c.api.masterPassportType,r.c.api.masterCourierType,r.c.api.masterCourierSercProvider,r.c.api.masterMission,r.c.api.masterCountry].find(t=>e.urlWithParams.indexOf(t)>-1);return e.clone({headers:t,url:a?`${e.url}/${this.sessionService.appCultureCode}`:e.url})}modifyDateFormat(e){try{let t=e.clone();const a=this.modifyDateHelper(t.body);return t=t.clone({body:a}),t}catch(t){return e}}modifyDateHelper(e){try{if("object"==typeof e)for(const t of Object.keys(e))if(Array.isArray(e[t]))for(const a of e[t])this.modifyDateHelper(a);else"object"==typeof e[t]&&this.isNgbDateObject(e[t])&&(e[t]=this.commonService.constructDate(e[t],rs.a.D_M_Y_SLASH));return e}catch(t){throw t}}isNgbDateObject(e){try{return!(!e.hasOwnProperty(rs.b.month)||!e.hasOwnProperty(rs.b.year))}catch(t){return!1}}modifyResponse(e){try{this.sessionService.captchaMode="v3";let t=e;const a=e;return e&&e.hasOwnProperty("body")&&a.url.indexOf(r.c.api.masterGender)>-1&&(t=e.clone({body:e.body.genders})),e&&e.hasOwnProperty("body")&&a.url.indexOf(r.c.api.masterPassportType)>-1&&(t=e.clone({body:e.body.passportTypes})),e&&e.hasOwnProperty("body")&&a.url.indexOf(r.c.api.masterCourierType)>-1&&(t=e.clone({body:e.body.courierTypes})),e&&e.hasOwnProperty("body")&&a.url.indexOf(r.c.api.masterCourierSercProvider)>-1&&(t=e.clone({body:e.body.courierServiceProviders})),e&&e.hasOwnProperty("body")&&a.url.indexOf(r.c.api.masterState)>-1&&(t=e.clone({body:e.body.states})),this.logger.log("Response: ",t),this.checkForErrorObject(t),t}catch(t){return e}}checkForErrorObject(e){const t=e;if(t.body&&t.body.hasOwnProperty("error")){const e=t.body.error.code;4002===e&&(this.commonService.onResponsesAlertBar({statusCode:e,isError:!0}),this.commonService.logoutAndRouteToLogin())}}handleError(e){if(e instanceof _c.e){const t=e.url;if(this.sessionService.captchaConfiguration.some(e=>t.indexOf(e)>=0)&&this.captchaAttempt<3&&c.a.captchaFallbackEnabled)return this.captchaAttempt++,this.sessionService.captchaMode="v2",Object(el.a)(e);if(this.logger.error("Error occured: ",e),e.error instanceof ErrorEvent)return Object(el.a)(e);{const a=[400,401,403,429,500,502,504,0];if(!t.includes("logout")&&a.indexOf(e.status)>-1){const t=e.status;return 403!==e.status&&400!==e.status||this.commonService.routeToNotFound(),this.commonService.onResponsesAlertBar({statusCode:t,isError:!0}),this.utilityService.stopNgxUiSpinner(),Object(el.a)(e)}return Object(el.a)(e)}}return Object(el.a)(e)}cacheResponse(e,t){try{let a=!1;if(this.utilityService.strictCompare(e.method,r.c.HTTP_METHODS.GET)){const i=["/master/",r.c.api.vasByVac,r.c.api.appointmentSlots];for(const o of i)e.urlWithParams.indexOf(o)>-1&&!this.responseCacheMap.has(e.urlWithParams)&&(e.urlWithParams.endsWith(r.c.api.masterGender)?this.responseCacheMap.set(e.urlWithParams,t.clone({body:t.body.genders})):e.urlWithParams.endsWith(r.c.api.masterPassportType)?this.responseCacheMap.set(e.urlWithParams,t.clone({body:t.body.passportTypes})):e.urlWithParams.endsWith(r.c.api.masterCourierType)?this.responseCacheMap.set(e.urlWithParams,t.clone({body:t.body.courierTypes})):e.urlWithParams.endsWith(r.c.api.masterCourierSercProvider)?this.responseCacheMap.set(e.urlWithParams,t.clone({body:t.body.courierServiceProviders})):e.urlWithParams.indexOf(r.c.api.masterState)>-1?this.responseCacheMap.set(e.urlWithParams,t.clone({body:t.body.states})):this.responseCacheMap.set(e.urlWithParams,t),a=!0)}else if(this.utilityService.strictCompare(e.method,r.c.HTTP_METHODS.POST)){const i=[r.c.api.appointmentFees];for(const o of i)if(e.urlWithParams.indexOf(o)>-1){this.responseCacheMap.set(e.urlWithParams,t);const i=JSON.parse(JSON.stringify(e.body));this.postReqBodyMap.set(JSON.stringify(i),t),a=!0}}return a}catch(a){console.log(a)}}}return e.\u0275fac=function(t){return new(t||e)(o.dc(ae.a),o.dc(at.a),o.dc(nu.b),o.dc(se.a))},e.\u0275prov=o.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Ip={bgsColor:"#40543b",fgsColor:"rgba(12,11,11,0.95)",fgsSize:40,logoSize:50,pbColor:"red",hasProgressBar:!1};var Vp=a("FbN+"),Ap=a("PN1e"),Op=a("ogxq"),Tp=a("VjyN");let Lp=(()=>{class e{constructor(e){this.httpClient=e,this.cdaClient=Object(Tp.createClient)(c.a.contentful)}getTranslation(){const e=localStorage.getItem("app_mission_language");let t;t=e?JSON.parse(e):[];const a=window.location.pathname.split("/");let i,o;if(i="",window.location.pathname.split("/").indexOf("confirmation")>-1&&(i=localStorage.getItem("app_language_code")||""),i=i||a[2],o=[`${a[3]} > ${i} > ${a[1]}`,`${a[3]} > ${i}`],i&&o.push(i),o.push("vfs"),c.a.localtranslation){const e=c.a.defaultLang;this.cultureCode=c.a.defaultCultureCode;const t=this.localLoad(e);return Object(vp.a)(t)}return Object(vp.a)(this.cdaClient.getEntries({content_type:"i18n","fields.locale":o.join("&")}).then(e=>{var t;if((null===(t=e.items)||void 0===t?void 0:t.length)>0)return this.cultureCode=e.items[0].fields.languageJson.culturecode||c.a.defaultCultureCode,e.items[0].fields.languageJson;{const e=i||"en";return this.cultureCode=c.a.defaultCultureCode,this.localLoad(e)}},e=>{const t=i||"en";return this.cultureCode=c.a.defaultCultureCode,this.localLoad(t)}))}localLoad(e){return new Promise((t,a)=>{this.httpClient.get(`_angular/assets/i18n/${e}.json`).subscribe(e=>{t(e)})})}set cultureCode(e){localStorage.setItem(r.x,e)}}return e.\u0275fac=function(t){return new(t||e)(o.dc(_c.c))},e.\u0275prov=o.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Np=a("LRne"),Mp=a("5+tZ"),Ep=a("dkDA"),Wp=a("3E0/"),Pp=a("kgNN"),kp=a("LjYc"),wp=a("2XTe");let Fp=(()=>{class e{constructor(){}intercept(e,t){const{url:a,method:i}=e;return Object(Np.a)(null).pipe(Object(Mp.a)(function(){switch(!0){case a.endsWith(r.c.schema.onBoarding)&&"GET"===i:return o(wp.onBoarding);case a.endsWith(r.c.schema.forgotPassword)&&"GET"===i:return o(wp.forgotPassword);case a.endsWith(r.c.schema.login)&&"GET"===i:return o(wp.login);case a.endsWith(r.c.schema.postLogin)&&"GET"===i:return o(wp[r.c.SCHEMA.DEFAULT]);case a.match(r.c.api.documentUpload)&&"POST"===i:return o({status:200,message:"success"});case a.endsWith(r.c.data.passportDetails)&&"GET"===i:return o(kp.passportDetailsData);case a.endsWith("country-code")&&"GET"===i:return o(kp.countryCodes);case a.endsWith("salutations")&&"GET"===i:return o(kp.salutations);case a.endsWith("passport-type")&&"GET"===i:return o(kp.passportType);case a.endsWith("place-of-issue")&&"GET"===i:return o(kp.placeOfIssue);case a.endsWith("country-of-issue")&&"GET"===i:return o(kp.countryOfIssue);case a.endsWith("province")&&"GET"===i:return o(kp.province);case a.endsWith("accomodation")&&"GET"===i:return o([]);case a.endsWith("district")&&"GET"===i:return o(kp.otherDistricts);case a.endsWith("subDistrict")&&"GET"===i:return o([]);case a.endsWith("district/1")&&"GET"===i:return o(kp.otherDistricts);case a.endsWith("district/2")&&"GET"===i:return o(kp.angThongDistricts);case a.endsWith("fingerPrintCollected")&&"GET"===i:return o(kp.yesNoValue);default:return t.handle(e)}})).pipe(Object(Ep.a)()).pipe(Object(Wp.a)(500)).pipe(Object(Pp.a)());function o(e){return Object(Np.a)(new _c.i({status:200,body:e}))}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const _p={provide:_c.a,useClass:Fp,multi:!0},xp={apiEndPoint:c.a.apiEndPoint,applicationType:c.a.applicationType,getParamsType:c.a.getParamsType};rn.b.registerPlugins([Ap.a,Op.a]);let Gp=(()=>{class e{constructor(e){hp.a.setInjector(e)}}return e.\u0275fac=function(t){return new(t||e)(o.dc(o.s))},e.\u0275mod=o.Ob({type:e,bootstrap:[lp]}),e.\u0275inj=o.Nb({providers:[_p,{provide:_c.a,useClass:Dp,multi:!0},{provide:o.d,useFactory:e=>()=>e.getMissionLanguage(),deps:[ie.a],multi:!0},{provide:bt.d,useValue:"en-GB"},m.e],imports:[[i.a,n.k,n.v,Mm,rp.c,rp.b,_c.d,ct.e,p.c.forRoot({loader:{provide:p.b,useClass:Lp,deps:[_c.c]}}),mt.b,fp,Ri.b,ap.b.forRoot(Ip),ap.a.forRoot({showForeground:!0}),Vp.a.forRoot(),gt.f.forRoot(xp),rn.b,nu.a.forRoot({level:nu.c.ERROR,serverLogLevel:c.a.serverLogLevel,disableConsoleLogging:c.a.disableConsoleLogging})]]}),e})();c.a.production&&(Object(o.U)(),window&&(window.console.log=window.console.warn=window.console.info=window.console.error=()=>{})),i.e().bootstrapModule(Gp).catch(e=>console.error(e))},zn8P:function(e,t){function a(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id="zn8P"}},[[0,0,5]]]);