!function(){function e(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,i,r=[],o=!0,s=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(r.push(n.value),!t||r.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==a.return||a.return()}finally{if(s)throw i}}return r}(e,t)||n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=n(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==a.return||a.return()}finally{if(l)throw o}}}}function n(e,t){if(e){if("string"==typeof e)return i(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t,a){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,a){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(a):i.value}})(e,t,a||e)}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=m(e);if(t){var i=m(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return u(this,a)}}function u(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,a){return t&&b(e.prototype,t),a&&b(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,a){e.exports=a("zUnb")},1:function(e,t){},2:function(e,t){},"2XTe":function(e){e.exports=JSON.parse('{"login":{"id":1,"displayName":"Login","logicalName":"login","routeUrl":"login","displayPosition":1,"formLayoutType":{"online":"type-1","backoffice":"type-1"},"apis":{"online":null,"backoffice":null},"controls":[{"row":3,"fields":[{"displayName":"onBoarding.formLabel.label1","logicalName":"username","fieldType":"email","placeholder":"commonSections.formLabel.label4","readOnly":false,"hidden":false,"onChangeEvent":[{"functionName":null,"param1":null}],"defaultValueLookup":null,"defaultValueOptionSet":null,"validations":{"regex":{"message":"commonSections.messages.patternMessages.message1","value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$"},"minValue":null,"maxValue":null,"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4},"mandatory":{"message":"commonSections.messages.requiredMessages.message1","value":true},"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"emailExists":{"message":"onBoarding.messages.errorMessages.message1","value":false}},"referenceEntity":null,"applicableValuesTwoOptions":null,"dateTimeFormat":null,"decimalPrecision":null,"currencyPrecision":null}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"mandatory":false,"bundleLabel":null,"bundleName":null,"row":1,"fields":[{"displayName":"onBoarding.formLabel.label7","logicalName":"password","referenceEntity":null,"defaultValueLookup":null,"applicableValuesTwoOptions":null,"defaultValueOptionSet":null,"dateTimeFormat":null,"hidden":false,"readOnly":false,"decimalPrecision":null,"currencyPrecision":null,"onChangeEvent":[],"fieldType":"password-toggle","placeholder":"commonSections.formLabel.label5","validations":{"mandatory":{"message":"commonSections.messages.requiredMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}}}]},{"mandatory":false,"bundleLabel":null,"bundleName":null,"row":5,"fields":[{"fieldType":"button","displayName":"commonSections.buttons.button6","logicalName":"login","referenceEntity":null,"defaultValueLookup":null,"applicableValuesTwoOptions":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"","onClickEvent":[{"functionName":"loginUser","url":"/user/login","params":[]}]}]}]},"forgotPassword":{"id":1,"displayName":"Forgot Password","logicalName":"forgotPassword","routeUrl":"forgot-password","displayPosition":1,"formLayoutType":{"online":"type-1","backoffice":"type-1"},"apis":{"online":null,"backoffice":null},"controls":[{"row":3,"fields":[{"displayName":"onBoarding.formLabel.label1","logicalName":"username","fieldType":"email","placeholder":"commonSections.formLabel.label2","readOnly":false,"hidden":false,"onChangeEvent":[{"functionName":null,"param1":null}],"defaultValueLookup":null,"defaultValueOptionSet":null,"validations":{"regex":{"message":"commonSections.messages.patternMessages.message1","value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$"},"minValue":null,"maxValue":null,"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4},"mandatory":{"message":"commonSections.messages.requiredMessages.message1","value":true},"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"emailExists":{"message":"onBoarding.messages.errorMessages.message1","value":false}},"referenceEntity":null,"applicableValuesTwoOptions":null,"dateTimeFormat":null,"decimalPrecision":null,"currencyPrecision":null}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"mandatory":false,"bundleLabel":null,"bundleName":null,"row":5,"fields":[{"fieldType":"button","displayName":"commonSections.buttons.button29","logicalName":"login","referenceEntity":null,"defaultValueLookup":null,"applicableValuesTwoOptions":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"","onClickEvent":[{"functionName":"forgotUser","url":"/user/forgotpassword","params":[]}]}]}]},"onBoarding":{"id":1,"displayName":"On Boarding","logicalName":"onBoarding","routeUrl":"on-boarding","displayPosition":1,"formLayoutType":{"online":"type-1","backoffice":"type-1"},"apis":{"online":null,"backoffice":null},"controls":[{"row":3,"fields":[{"displayName":"onBoarding.formLabel.label1","logicalName":"emailid","fieldType":"email","placeholder":"commonSections.formLabel.label2","readOnly":false,"hidden":false,"onChangeEvent":[{"functionName":null,"param1":null}],"defaultValueLookup":null,"defaultValueOptionSet":null,"validations":{"regex":{"message":"commonSections.messages.patternMessages.message1","value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$"},"minValue":null,"maxValue":null,"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4},"mandatory":{"message":"commonSections.messages.requiredMessages.message1","value":true},"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"emailExists":{"message":"onBoarding.messages.errorMessages.message1","value":false}},"referenceEntity":null,"applicableValuesTwoOptions":null,"dateTimeFormat":null,"decimalPrecision":null,"currencyPrecision":null}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"mandatory":false,"bundleLabel":null,"bundleName":null,"row":1,"fields":[{"displayName":"onBoarding.formLabel.label7","logicalName":"password","referenceEntity":null,"defaultValueLookup":null,"applicableValuesTwoOptions":null,"defaultValueOptionSet":null,"dateTimeFormat":null,"hidden":false,"readOnly":false,"decimalPrecision":null,"currencyPrecision":null,"onChangeEvent":[],"fieldType":"password-toggle","placeholder":"commonSections.formLabel.label2","validations":{"mandatory":{"message":"commonSections.messages.requiredMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1},"regex":{"message":"commonSections.messages.patternMessages.message8","value":"^[A-Za-z\\\\d@$%*&!#\\"\\\\\',.?|~`+\\\\-_\\\\=\\\\(\\\\)\\\\{\\\\}\\\\[\\\\]\\\\\\\\/:;<>\\\\^]{8,20}$"}}}]},{"mandatory":false,"bundleLabel":null,"bundleName":null,"row":2,"fields":[{"fieldType":"password-toggle","displayName":"onBoarding.formLabel.label8","logicalName":"confirmPassword","referenceEntity":null,"defaultValueLookup":null,"applicableValuesTwoOptions":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"dateTimeFormat":null,"decimalPrecision":null,"currencyPrecision":null,"onChangeEvent":[{"functionName":"validatePassword","params":"password"}],"changeEmitterFields":[{"targetFieldLogicalName":"password","functionName":"validatePassword","params":"password"}],"placeholder":"commonSections.formLabel.label2","validations":{"regex":{"message":"commonSections.messages.patternMessages.message4","value":"^[A-Za-z\\\\d@$%*&!#\\"\\\\\',.?|~`+\\\\-_\\\\=\\\\(\\\\)\\\\{\\\\}\\\\[\\\\]\\\\\\\\/:;<>\\\\^]{8,20}$"},"mandatory":{"message":"commonSections.messages.requiredMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}}}]},{"row":12,"fields":[{"displayName":"<span>I allow VFS Worldwide Group to process my personal data so that I can use the visa application services offered by them. For more details see <a class=\'c-brand-orange text-decoration-underline\' target=\'_blank\' href=\'register-privacy-policy\'>Privacy Policy</a>","logicalName":"instructionAgreed","referenceEntity":null,"mandatory":false,"defaultValueLookup":false,"applicableValuesTwoOptions":null,"readOnly":false,"placeholder":"","fieldType":"checkbox","hidden":false,"value":false,"onChangeEvent":[{"functionName":"tncChanged","params":[]}],"visaCategory":["1"],"accessibility":"ALL"}]},{"mandatory":false,"bundleLabel":null,"bundleName":null,"row":5,"fields":[{"fieldType":"button","displayName":"commonSections.buttons.button30","logicalName":"login","referenceEntity":null,"defaultValueLookup":null,"applicableValuesTwoOptions":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"","onClickEvent":[{"functionName":"registerUser","url":"/user/registration","params":[]}]}]}]},"schema_default":{"tenent":"nld","secretKey":"@#$nbknknk!@#$MKKK()_^12","dashboardTitle":"dashboard.headerLabel.label1","description":"LIFT","filter":{"module":{"key":"visaTypeId"},"field":{"key":"visaCategoryId"}},"modules":[{"id":1,"displayName":"header.headerLabel.label12","logicalName":"eligibilityCriteria","routeUrl":"application-detail","displayPosition":1,"apis":{"online":[{"url":"/application/get-eligibility","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"centerCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label1","defaultValueLookup":[{"type":"SESSION","value":"curr_app_cntr_code"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label1","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/center","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true}],"displayKey":"centerName","valueKey":"isoCode"},"backoffice":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"nationalityId"}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"selectedSubvisaCategory","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label2","defaultValueLookup":[{"type":"SESSION","value":"curr_app_visa_type"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label2","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/visacategory","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true}],"displayKey":"name","valueKey":"code"},"backoffice":{}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"changeEmitterFields":[{"targetFieldLogicalName":"centerCode","functionName":"updateListenerDropdownField","params":["centerCode"]}]}]},{"row":3,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":4,"fields":[{"readOnly":false,"logicalName":"visaCategoryCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label3","defaultValueLookup":[{"type":"SESSION","value":"cur_app_visa_sub_category"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label3","onChangeEvent":[{"functionName":"isSlotAvailiable","params":[]}],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"visaCategoryCode","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true}],"url":"/master/subvisacategory","displayKey":"name","valueKey":"code"},"backoffice":{}},"changeEmitterFields":[{"targetFieldLogicalName":"selectedSubvisaCategory","functionName":"updateListenerDropdownField","params":["selectedSubvisaCategory"]}],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":5,"fields":[{"readOnly":true,"logicalName":"btnSaveAndContinue","fieldType":"button","hidden":false,"displayName":"commonSections.buttons.button19","defaultValueLookup":"","defaultValueOptionSet":[],"onChangeEvent":[],"placeholder":"","validations":{"regex":{"message":"","value":""},"mandatory":{"message":"","value":""},"minValue":null,"maxValue":{"message":"","value":""},"minLength":{"message":"","value":""},"validateDateTime":{"parentField":"","compareDateWith":"","compareTimeWith":"","comparisonType":"","message":""}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"mandatory":false,"titleText":"","subText1":"","subText2":"","disableOnValues":[],"toggleDisableField":[],"cssClass":"","onClickEvent":[{"functionName":"saveToSession","url":"","params":[{"key":"curr_app_cntr_code","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"curr_app_visa_type","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true},{"key":"cur_app_visa_sub_category","type":"FORM_VALUE","value":"visaCategoryCode","mandatory":true}]},{"functionName":"saveAndContinue","url":"/application/submit-eligibility","params":[{"key":"routeId","type":"SESSION","value":"route_id","mandatory":true},{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":false},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":false},{"key":"documentIdentifierId","type":"SESSION","value":"document_identifier","mandatory":false}]}],"toggleHideShow":[]}],"mandatory":false}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}},{"id":2,"displayName":"header.headerLabel.label4","logicalName":"applicantInformation","routeUrl":"your-details","displayPosition":2,"apis":{"online":[{"url":"/applicant-details/get-applicant-details","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label23","logicalName":"nationalId","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label17","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message40","value":true},"regex":{"value":"^[A-Z0-9]+$","message":"applicantInformation.messages.errorMessages.message41"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"isnationalIdEnabled","type":"STATIC","value":"isnationalIdEnabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label24","logicalName":"VisaToken","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label18","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message42","value":true},"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message43"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"isVisaTokenEnabled","type":"STATIC","value":"isVisaTokenEnabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":1,"fields":[{"displayName":"applicantInformation.formLabel.label14","logicalName":"referenceNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label9","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message19","key":"setRefNoValidation","type":"FUNCTION"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message18","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableReferenceNumber","type":"STATIC","value":"enableReferenceNumber"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":1,"fields":[{"displayName":"applicantInformation.formLabel.label14","logicalName":"referenceNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"Enter refrence number in IRL12345578 format","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message19","key":"setRefNoValidation","type":"FUNCTION"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message18","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableIRLNumber","type":"STATIC","value":"enableIRLNumber"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":1,"fields":[{"displayName":"VLN Number","logicalName":"vlnNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label16","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message32","type":"SESSION","value":"vln_regex"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message31","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"isVLNEnabled","type":"STATIC","value":"isVLNEnabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":1,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label1","logicalName":"firstName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label1","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message1","value":true},"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message13"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isFirstNameDisabled","type":"STATIC","value":"isFirstNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"fields":[{"displayName":"applicantInformation.formLabel.label2","logicalName":"lastName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.messages.errorMessages.message2","fieldType":"textbox","validations":{"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message14"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isLastNameDisabled","type":"STATIC","value":"isLastNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":3,"fields":[{"displayName":"applicantInformation.formLabel.label3","logicalName":"gender","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{},"mandatory":{"message":"applicantInformation.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isGenderDisabled","type":"STATIC","value":"isGenderDisabled"}]}],"optionsListApi":{"online":{"url":"/master/gender","type":"GET","params":[],"displayKey":"langaugeName","valueKey":"id"},"backoffice":{"url":"/master/maritalStatus","type":"GET","params":[],"displayKey":"displayName","valueKey":"id"}}},{"displayName":"applicantInformation.formLabel.label4","logicalName":"dateOfBirth","defaultValueLookup":"","readOnly":false,"placeholder":"applicantInformation.placeholder.label4","fieldType":"datepicker","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message4","value":true},"minValue":null,"maxValue":{"isActive":false,"message":"applicantInformation.messages.errorMessages.message27","type":"CURRENT","value":null,"params":[],"boundaryValue":"-1"},"maxLength":null,"minLength":null,"invalid":"commonSections.messages.errorMessages.message21"},"changeEmitterFields":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isDOBDisabled","type":"STATIC","value":"isDOBDisabled"}]}],"hidden":false,"onChangeEvent":[],"isInputDisabled":true,"disableOnValues":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":true},{"row":4,"fields":[{"displayName":"applicantInformation.formLabel.label5","logicalName":"nationalityCode","defaultValueLookup":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{"value":"^[a-zA-Z0-9]+$","message":""},"mandatory":{"message":"applicantInformation.messages.errorMessages.message5","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"defaultValueOptionSet":null,"optionsListApi":{"online":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"isoCode"},"backoffice":{"url":"/master/residency","type":"GET","params":[],"displayKey":"name","valueKey":"id"}}}],"mandatory":false},{"row":5,"fields":[{"displayName":"applicantInformation.formLabel.label6","logicalName":"passportNumber","defaultValueLookup":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label5","validations":{"regex":{"value":"^[a-zA-Z0-9][a-zA-Z0-9]+$","message":"commonSections.messages.patternMessages.message29"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message6","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1},"customError":[{"code":"passportNoMissmatchTest","message":"applicantInformation.messages.errorMessages.message44"}]},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportNoDisabled","type":"STATIC","value":"isPassportNoDisabled"}]}],"defaultValueOptionSet":null},{"displayName":"applicantInformation.formLabel.label7","logicalName":"passportExpirtyDate","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message7","value":true},"maxValue":null,"minValue":{"isActive":false,"message":"commonSections.messages.errorMessages.message15","type":"CURRENT","value":null,"params":[],"boundaryValue":"1"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message7","customError":[{"code":"passportExpiryMissmatchTest","message":"applicantInformation.messages.errorMessages.message45"}]},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportExpiryDateDisabled","type":"STATIC","value":"isPassportExpiryDateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[]}],"mandatory":true},{"row":6,"fields":[{"displayName":"applicantInformation.formLabel.label12","logicalName":"dateOfDeparture","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","cssClass":"col-12 col-sm-6","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message16","value":true},"minValue":{"isActive":true,"message":"commonSections.messages.errorMessages.message22","type":"CURRENT","value":null,"params":[],"boundaryValue":"0"},"maxValue":{"isActive":true,"key":"mx_alwd_dt_of_departure","message":"applicantInformation.messages.errorMessages.message16","type":"SESSION","value":"mx_alwd_dt_of_departure","params":[{"type":"FUNCTION","key":"mx_alwd_dt_of_departure","value":"0"}],"boundaryValue":"0"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message28"},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableDateOfDeperature","type":"STATIC","value":"enableDateOfDeperature"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[],"displayInfo":{"visible":true,"value":null,"type":"FUNCTION","key":"getDisplayInfo"}}],"mandatory":true},{"row":7,"fields":[{"displayName":"","logicalName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"readOnly":false,"fieldType":"hr","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"","validations":{"regex":null,"mandatory":null,"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"optionsListApi":{"online":null,"backoffice":null}}],"mandatory":false},{"row":8,"fields":[{"displayName":"applicantInformation.formLabel.label10","logicalName":"dialCode","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"44","validations":{"regex":{"value":"^[0-9]+$","message":"applicantInformation.messages.errorMessages.message11"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message8","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":3},"minLength":null},"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}],"optionsListApi":{"online":{},"backoffice":{}}},{"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"input","displayName":"applicantInformation.formLabel.label11","logicalName":"contactNumber","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"onChangeEvent":[],"placeholder":"applicantInformation.placeholder.label7","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message12","value":"^[0-9]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message9","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":15},"minLength":{"message":"commonSections.messages.patternMessages.message27","value":7}},"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}]}],"mandatory":true,"bundleLabel":"applicantInformation.formLabel.label8","bundleName":"contact"},{"row":9,"fields":[{"displayName":"applicantInformation.formLabel.label9","logicalName":"emailId","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"email","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label6","validations":{"regex":{"value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$","message":"commonSections.messages.patternMessages.message1"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message10","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4}},"onChangeEvent":[]}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"row":11,"fields":[{"displayName":"applicantInformation.formLabel.label13","logicalName":"addressline1","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label8","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message17","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine1Disabled","type":"STATIC","value":"isAddressLine1Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":12,"fields":[{"displayName":"applicantInformation.formLabel.label15","logicalName":"addressline2","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label12","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message22","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine2Disabled","type":"STATIC","value":"isAddressLine2Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":13,"fields":[{"displayName":"applicantInformation.formLabel.label16","logicalName":"state","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label11","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message20","value":"^[a-zA-Z ]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message23","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isStateDisabled","type":"STATIC","value":"isStateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":14,"fields":[{"displayName":"applicantInformation.formLabel.label17","logicalName":"city","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label13","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message21","value":"^[a-zA-Z][a-zA-Z\\\\s]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message24","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isCityDisabled","type":"STATIC","value":"isCityDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":15,"fields":[{"displayName":"applicantInformation.formLabel.label18","logicalName":"pincode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label14","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message25","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPinCodeDisabled","type":"STATIC","value":"isPinCodeDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":16,"fields":[{"displayName":"commonSections.buttons.button3","logicalName":"goBack","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"button","hidden":false,"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"cssClass":"btn mat-btn-lg btn-block btn-outline-brand-orange","onClickEvent":[{"functionName":"routePrevious","params":[]}],"matDirective":"mat-stroked-button"},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button16","logicalName":"saveAndContinue","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"saveAndContinue","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":true,"params":[]}]},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button36","logicalName":"updateApplicant","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"updateApplicant","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":false,"params":[]}]}],"mandatory":false,"bundleLabel":null,"bundleName":"multi-button"}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":3,"displayName":"header.headerLabel.label5","logicalName":"bookAppointment","routeUrl":"book-appointment","displayPosition":3,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":4,"displayName":"header.headerLabel.label6","logicalName":"services","routeUrl":"services","displayPosition":4,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":5,"displayName":"header.headerLabel.label16","logicalName":"insurance","routeUrl":"insurance","displayPosition":5,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":6,"displayName":"header.headerLabel.label7","logicalName":"disclaimer","routeUrl":"review-pay","displayPosition":6,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}}]},"schema_default_pt":{"tenent":"nld","secretKey":"@#$nbknknk!@#$MKKK()_^12","dashboardTitle":"dashboard.headerLabel.label1","description":"LIFT","filter":{"module":{"key":"visaTypeId"},"field":{"key":"visaCategoryId"}},"modules":[{"id":1,"displayName":"header.headerLabel.label4","logicalName":"applicantInformation","routeUrl":"your-details","displayPosition":1,"apis":{"online":[{"url":"/applicant-details/get-applicant-details","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"fields":[{"displayName":"applicantInformation.formLabel.label14","logicalName":"referenceNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label9","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message19","key":"setRefNoValidation","type":"FUNCTION"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message18","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableReferenceNumber","type":"STATIC","value":"enableReferenceNumber"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":1,"fields":[{"displayName":"VLN Number","logicalName":"vlnNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label16","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message32","type":"SESSION","value":"vln_regex"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message31","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"isVLNEnabled","type":"STATIC","value":"isVLNEnabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":1,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label1","logicalName":"firstName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label1","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message1","value":true},"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message13"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isFirstNameDisabled","type":"STATIC","value":"isFirstNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"fields":[{"displayName":"applicantInformation.formLabel.label2","logicalName":"lastName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.messages.errorMessages.message2","fieldType":"textbox","validations":{"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message14"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isLastNameDisabled","type":"STATIC","value":"isLastNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":3,"fields":[{"displayName":"applicantInformation.formLabel.label3","logicalName":"gender","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{},"mandatory":{"message":"applicantInformation.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isGenderDisabled","type":"STATIC","value":"isGenderDisabled"}]}],"optionsListApi":{"online":{"url":"/master/gender","type":"GET","params":[],"displayKey":"langaugeName","valueKey":"id"},"backoffice":{"url":"/master/maritalStatus","type":"GET","params":[],"displayKey":"displayName","valueKey":"id"}}},{"displayName":"applicantInformation.formLabel.label4","logicalName":"dateOfBirth","defaultValueLookup":"","readOnly":false,"placeholder":"applicantInformation.placeholder.label4","fieldType":"datepicker","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message4","value":true},"minValue":null,"maxValue":{"isActive":false,"message":"applicantInformation.messages.errorMessages.message27","type":"CURRENT","value":null,"params":[],"boundaryValue":"-1"},"maxLength":null,"minLength":null,"invalid":"commonSections.messages.errorMessages.message21"},"changeEmitterFields":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isDOBDisabled","type":"STATIC","value":"isDOBDisabled"}]}],"hidden":false,"onChangeEvent":[],"isInputDisabled":true,"disableOnValues":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":true},{"row":4,"fields":[{"displayName":"applicantInformation.formLabel.label5","logicalName":"nationalityCode","defaultValueLookup":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{"value":"^[a-zA-Z0-9]+$","message":""},"mandatory":{"message":"applicantInformation.messages.errorMessages.message5","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"defaultValueOptionSet":null,"optionsListApi":{"online":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"isoCode"},"backoffice":{"url":"/master/residency","type":"GET","params":[],"displayKey":"name","valueKey":"id"}}}],"mandatory":false},{"row":5,"fields":[{"displayName":"applicantInformation.formLabel.label6","logicalName":"passportNumber","defaultValueLookup":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label5","validations":{"regex":{"value":"^[a-zA-Z0-9][a-zA-Z0-9]+$","message":"commonSections.messages.patternMessages.message29"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message6","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportNoDisabled","type":"STATIC","value":"isPassportNoDisabled"}]}],"defaultValueOptionSet":null},{"displayName":"applicantInformation.formLabel.label7","logicalName":"passportExpirtyDate","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message7","value":true},"maxValue":null,"minValue":{"isActive":false,"message":"commonSections.messages.errorMessages.message15","type":"CURRENT","value":null,"params":[],"boundaryValue":"1"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message7"},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportExpiryDateDisabled","type":"STATIC","value":"isPassportExpiryDateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[]}],"mandatory":true},{"row":6,"fields":[{"displayName":"applicantInformation.formLabel.label12","logicalName":"dateOfDeparture","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","cssClass":"col-12 col-sm-6","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message16","value":true},"minValue":{"isActive":true,"message":"commonSections.messages.errorMessages.message22","type":"CURRENT","value":null,"params":[],"boundaryValue":"0"},"maxValue":{"isActive":true,"key":"mx_alwd_dt_of_departure","message":"applicantInformation.messages.errorMessages.message16","type":"SESSION","value":"mx_alwd_dt_of_departure","params":[{"type":"FUNCTION","key":"mx_alwd_dt_of_departure","value":"0"}],"boundaryValue":"0"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message28"},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableDateOfDeperature","type":"STATIC","value":"enableDateOfDeperature"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[],"displayInfo":{"visible":true,"value":null,"type":"FUNCTION","key":"getDisplayInfo"}}],"mandatory":true},{"row":7,"fields":[{"displayName":"","logicalName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"readOnly":false,"fieldType":"hr","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"","validations":{"regex":null,"mandatory":null,"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"optionsListApi":{"online":null,"backoffice":null}}],"mandatory":false},{"row":8,"fields":[{"displayName":"applicantInformation.formLabel.label10","logicalName":"dialCode","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"44","validations":{"regex":{"value":"^[0-9]+$","message":"applicantInformation.messages.errorMessages.message11"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message8","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":3},"minLength":null},"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}],"optionsListApi":{"online":{},"backoffice":{}}},{"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"input","displayName":"applicantInformation.formLabel.label11","logicalName":"contactNumber","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"onChangeEvent":[],"placeholder":"applicantInformation.placeholder.label7","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message12","value":"^[0-9]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message9","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":15},"minLength":{"message":"commonSections.messages.patternMessages.message27","value":7}},"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}]}],"mandatory":true,"bundleLabel":"applicantInformation.formLabel.label8","bundleName":"contact"},{"row":9,"fields":[{"displayName":"applicantInformation.formLabel.label9","logicalName":"emailId","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"email","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label6","validations":{"regex":{"value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$","message":"commonSections.messages.patternMessages.message1"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message10","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4}},"onChangeEvent":[]}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"row":11,"fields":[{"displayName":"applicantInformation.formLabel.label13","logicalName":"addressline1","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label8","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message17","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine1Disabled","type":"STATIC","value":"isAddressLine1Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":12,"fields":[{"displayName":"applicantInformation.formLabel.label15","logicalName":"addressline2","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label12","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message22","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine2Disabled","type":"STATIC","value":"isAddressLine2Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":13,"fields":[{"displayName":"applicantInformation.formLabel.label16","logicalName":"state","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label11","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message20","value":"^[a-zA-Z ]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message23","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isStateDisabled","type":"STATIC","value":"isStateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":14,"fields":[{"displayName":"applicantInformation.formLabel.label17","logicalName":"city","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label13","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message21","value":"^[a-zA-Z][a-zA-Z\\\\s]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message24","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isCityDisabled","type":"STATIC","value":"isCityDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":15,"fields":[{"displayName":"applicantInformation.formLabel.label18","logicalName":"pincode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label14","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message25","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPinCodeDisabled","type":"STATIC","value":"isPinCodeDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":16,"fields":[{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button16","logicalName":"saveAndContinue","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"saveAndContinue","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":true,"params":[]}]},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button36","logicalName":"updateApplicant","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"updateApplicant","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":false,"params":[]}]}],"mandatory":false,"bundleLabel":null,"bundleName":"multi-button"}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":2,"displayName":"header.headerLabel.label12","logicalName":"eligibilityCriteria","routeUrl":"applicationdetails","displayPosition":2,"apis":{"online":[{"url":"/application/get-eligibility","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"centerCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label1","defaultValueLookup":[{"type":"SESSION","value":"curr_app_cntr_code"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label1","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/center","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true}],"displayKey":"centerName","valueKey":"isoCode"},"backoffice":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"nationalityId"}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"selectedSubvisaCategory","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label2","defaultValueLookup":[{"type":"SESSION","value":"curr_app_visa_type"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label2","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/visacategory","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true}],"displayKey":"name","valueKey":"code"},"backoffice":{}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"changeEmitterFields":[{"targetFieldLogicalName":"centerCode","functionName":"updateListenerDropdownField","params":["centerCode"]}]}]},{"row":3,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":4,"fields":[{"readOnly":false,"logicalName":"visaCategoryCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label3","defaultValueLookup":[{"type":"SESSION","value":"cur_app_visa_sub_category"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label3","onChangeEvent":[{"functionName":"isSlotAvailiable","params":[]}],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"visaCategoryCode","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true}],"url":"/master/subvisacategory","displayKey":"name","valueKey":"code"},"backoffice":{}},"changeEmitterFields":[{"targetFieldLogicalName":"selectedSubvisaCategory","functionName":"updateListenerDropdownField","params":["selectedSubvisaCategory"]}],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":5,"fields":[{"readOnly":true,"logicalName":"btnSaveAndContinue","fieldType":"button","hidden":false,"displayName":"commonSections.buttons.button19","defaultValueLookup":"","defaultValueOptionSet":[],"onChangeEvent":[],"placeholder":"","validations":{"regex":{"message":"","value":""},"mandatory":{"message":"","value":""},"minValue":null,"maxValue":{"message":"","value":""},"minLength":{"message":"","value":""},"validateDateTime":{"parentField":"","compareDateWith":"","compareTimeWith":"","comparisonType":"","message":""}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"mandatory":false,"titleText":"","subText1":"","subText2":"","disableOnValues":[],"toggleDisableField":[],"cssClass":"","onClickEvent":[{"functionName":"saveToSession","url":"","params":[{"key":"curr_app_cntr_code","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"curr_app_visa_type","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true},{"key":"cur_app_visa_sub_category","type":"FORM_VALUE","value":"visaCategoryCode","mandatory":true}]},{"functionName":"saveAndContinue","url":"/application/submit-eligibility","params":[{"key":"routeId","type":"SESSION","value":"route_id","mandatory":true},{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":false},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":false},{"key":"documentIdentifierId","type":"SESSION","value":"document_identifier","mandatory":false}]}],"toggleHideShow":[]}],"mandatory":false}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}},{"id":3,"displayName":"header.headerLabel.label5","logicalName":"bookAppointment","routeUrl":"book-appointment","displayPosition":3,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":4,"displayName":"header.headerLabel.label6","logicalName":"services","routeUrl":"services","displayPosition":4,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":5,"displayName":"header.headerLabel.label7","logicalName":"disclaimer","routeUrl":"review-pay","displayPosition":5,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}}]},"schema_ihc":{"tenent":"ihc","secretKey":"@#$nbknknk!@#$MKKK()_^12","dashboardTitle":"dashboard.headerLabel.label1","description":"LIFT","filter":{"module":{"key":"visaTypeId"},"field":{"key":"visaCategoryId"}},"modules":[{"id":1,"displayName":"header.headerLabel.label12","logicalName":"eligibilityCriteria","routeUrl":"application-detail","displayPosition":1,"apis":{"online":[{"url":"/application/get-eligibility","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"centerCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label1","defaultValueLookup":[{"type":"SESSION","value":"curr_app_cntr_code"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label1","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/center","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true}],"displayKey":"centerName","valueKey":"isoCode"},"backoffice":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"nationalityId"}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"selectedSubvisaCategory","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label2","defaultValueLookup":[{"type":"SESSION","value":"curr_app_visa_type"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label2","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/visacategory","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true}],"displayKey":"name","valueKey":"code"},"backoffice":{}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"changeEmitterFields":[{"targetFieldLogicalName":"centerCode","functionName":"updateListenerDropdownField","params":["centerCode"]}]}]},{"row":3,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":4,"fields":[{"readOnly":false,"logicalName":"visaCategoryCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label3","defaultValueLookup":[{"type":"SESSION","value":"cur_app_visa_sub_category"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label3","onChangeEvent":[{"functionName":"isSlotAvailiable","params":[]}],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"visaCategoryCode","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true}],"url":"/master/subvisacategory","displayKey":"name","valueKey":"code"},"backoffice":{}},"changeEmitterFields":[{"targetFieldLogicalName":"selectedSubvisaCategory","functionName":"updateListenerDropdownField","params":["selectedSubvisaCategory"]}],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":5,"fields":[{"readOnly":true,"logicalName":"btnSaveAndContinue","fieldType":"button","hidden":false,"displayName":"commonSections.buttons.button19","defaultValueLookup":"","defaultValueOptionSet":[],"onChangeEvent":[],"placeholder":"","validations":{"regex":{"message":"","value":""},"mandatory":{"message":"","value":""},"minValue":null,"maxValue":{"message":"","value":""},"minLength":{"message":"","value":""},"validateDateTime":{"parentField":"","compareDateWith":"","compareTimeWith":"","comparisonType":"","message":""}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"mandatory":false,"titleText":"","subText1":"","subText2":"","disableOnValues":[],"toggleDisableField":[],"cssClass":"","onClickEvent":[{"functionName":"saveToSession","url":"","params":[{"key":"curr_app_cntr_code","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"curr_app_visa_type","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true},{"key":"cur_app_visa_sub_category","type":"FORM_VALUE","value":"visaCategoryCode","mandatory":true}]},{"functionName":"saveAndContinue","url":"/application/submit-eligibility","params":[{"key":"routeId","type":"SESSION","value":"route_id","mandatory":true},{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":false},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":false},{"key":"documentIdentifierId","type":"SESSION","value":"document_identifier","mandatory":false}]}],"toggleHideShow":[]}],"mandatory":false}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}},{"id":2,"displayName":"header.headerLabel.label4","logicalName":"applicantInformation","routeUrl":"your-details","displayPosition":2,"apis":{"online":[{"url":"/applicant-details/get-applicant-details","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"fields":[{"displayName":"applicantInformation.formLabel.label14","logicalName":"centreCodeForRefenceNumber","defaultValueLookup":[{"type":"SESSION","value":"curr_app_cntr_code"}],"readOnly":false,"fieldType":"textbox","cssClass":"col-4","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label9","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message19","value":"([a-zA-Z]){4}$","key":"","type":"STATIC"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message18","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableReferenceNumber","type":"STATIC","value":"enableReferenceNumber"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[]},{"displayName":"applicantInformation.formLabel.label14","logicalName":"referenceNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"col-8","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label9","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message19","value":"centerCode","key":"setGovtRefNoValidation","type":"FUNCTION"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message18","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableReferenceNumber","type":"STATIC","value":"enableReferenceNumber"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true,"bundleName":"contact","bundleLabel":"applicantInformation.formLabel.label14","displayInfo":{"visible":true,"value":"applicantInformation.messages.infoMessages.message4","type":"STATIC","key":null}},{"row":1,"fields":[{"displayName":"applicantInformation.formLabel.label1","logicalName":"firstName","defaultValueLookup":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label1","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message13","value":"^[a-zA-Z][a-zA-Z ]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message1","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isFirstNameDisabled","type":"STATIC","value":"isFirstNameDisabled"}]}],"defaultValueOptionSet":null}],"mandatory":false},{"row":1,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label19","logicalName":"middleName","defaultValueLookup":"","readOnly":false,"placeholder":"applicantInformation.placeholder.label15","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message29","value":false},"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message30"},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null,"invalid":""},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"cssClass":"","toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableMiddleName","type":"STATIC","value":"enableMiddleName"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}]},{"row":2,"fields":[{"displayName":"applicantInformation.formLabel.label2","logicalName":"lastName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label2","fieldType":"textbox","validations":{"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message14"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message2","value":false},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isLastNameDisabled","type":"STATIC","value":"isLastNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":3,"fields":[{"displayName":"applicantInformation.formLabel.label3","logicalName":"gender","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{},"mandatory":{"message":"applicantInformation.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isGenderDisabled","type":"STATIC","value":"isGenderDisabled"}]}],"optionsListApi":{"online":{"url":"/master/gender","type":"GET","params":[],"displayKey":"langaugeName","valueKey":"id"},"backoffice":{"url":"/master/maritalStatus","type":"GET","params":[],"displayKey":"displayName","valueKey":"id"}}},{"displayName":"applicantInformation.formLabel.label4","logicalName":"dateOfBirth","defaultValueLookup":"","readOnly":false,"placeholder":"applicantInformation.placeholder.label4","fieldType":"datepicker","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message4","value":true},"minValue":null,"maxValue":{"isActive":false,"message":"applicantInformation.messages.errorMessages.message27","type":"CURRENT","value":null,"params":[],"boundaryValue":"-1"},"maxLength":null,"minLength":null,"invalid":"commonSections.messages.errorMessages.message21"},"changeEmitterFields":[],"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"isInputDisabled":true,"disableOnValues":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":true},{"row":4,"fields":[{"displayName":"applicantInformation.formLabel.label21","logicalName":"passportType","defaultValueLookup":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{"value":"^[a-zA-Z0-9]+$","message":""},"mandatory":{"message":"applicantInformation.messages.errorMessages.message5","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"defaultValueOptionSet":null,"optionsListApi":{"online":{"url":"/master/passporttype","type":"GET","params":[],"displayKey":"name","valueKey":"code"},"backoffice":null}}],"mandatory":false},{"row":5,"fields":[{"displayName":"applicantInformation.formLabel.label6","logicalName":"passportNumber","defaultValueLookup":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label5","validations":{"regex":{"value":"^[a-zA-Z0-9][a-zA-Z0-9]+$","message":"commonSections.messages.patternMessages.message29"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message6","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportNoDisabled","type":"STATIC","value":"isPassportNoDisabled"}]}],"defaultValueOptionSet":null},{"displayName":"applicantInformation.formLabel.label7","logicalName":"passportExpirtyDate","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message7","value":true},"maxValue":null,"minValue":{"isActive":false,"message":"commonSections.messages.errorMessages.message15","type":"CURRENT","value":null,"params":[],"boundaryValue":"180"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message7"},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportExpiryDateDisabled","type":"STATIC","value":"isPassportExpiryDateDisabled"}]}],"toggleDisableField":[],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[]}],"mandatory":true},{"row":6,"fields":[{"displayName":"applicantInformation.formLabel.label12","logicalName":"dateOfDeparture","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","cssClass":"col-12 col-sm-6","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message16","value":true},"minValue":{"isActive":true,"message":"commonSections.messages.errorMessages.message22","type":"CURRENT","value":null,"params":[],"boundaryValue":"0"},"maxValue":{"isActive":true,"key":"mx_alwd_dt_of_departure","message":"applicantInformation.messages.errorMessages.message16","type":"SESSION","value":"mx_alwd_dt_of_departure","params":[{"type":"FUNCTION","key":"mx_alwd_dt_of_departure","value":"0"}],"boundaryValue":"0"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message28"},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableDateOfDeperature","type":"STATIC","value":"enableDateOfDeperature"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[],"displayInfo":{"visible":true,"value":null,"type":"FUNCTION","key":"getDisplayInfo"}}],"mandatory":true},{"row":7,"fields":[{"displayName":"","logicalName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"readOnly":false,"fieldType":"hr","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"","validations":{"regex":null,"mandatory":null,"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"optionsListApi":{"online":null,"backoffice":null}}],"mandatory":false},{"row":8,"fields":[{"displayName":"applicantInformation.formLabel.label10","logicalName":"dialCode","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"44","validations":{"regex":{"value":"^[0-9]+$","message":"applicantInformation.messages.errorMessages.message11"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message8","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}],"optionsListApi":{"online":{},"backoffice":{}}},{"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"input","displayName":"applicantInformation.formLabel.label11","logicalName":"contactNumber","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"onChangeEvent":[],"placeholder":"applicantInformation.placeholder.label7","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message12","value":"^[0-9]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message9","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":15},"minLength":{"message":"commonSections.messages.patternMessages.message27","value":7}},"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}]}],"mandatory":true,"bundleLabel":"applicantInformation.formLabel.label8","bundleName":"contact","displayInfo":{"visible":true,"value":"applicantInformation.messages.infoMessages.message5","type":"STATIC","key":null}},{"row":9,"fields":[{"displayName":"applicantInformation.formLabel.label9","logicalName":"emailId","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"email","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label6","validations":{"regex":{"value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$","message":"commonSections.messages.patternMessages.message1"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message10","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4}},"onChangeEvent":[]}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"row":11,"fields":[{"displayName":"applicantInformation.formLabel.label13","logicalName":"addressline1","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label8","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message17","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine1Disabled","type":"STATIC","value":"isAddressLine1Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":12,"fields":[{"displayName":"applicantInformation.formLabel.label15","logicalName":"addressline2","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label12","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message22","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine2Disabled","type":"STATIC","value":"isAddressLine2Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":13,"fields":[{"displayName":"applicantInformation.formLabel.label16","logicalName":"stateCode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label11","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message20","value":"^[a-zA-Z]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message23","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isStateDisabled","type":"STATIC","value":"isStateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":14,"fields":[{"displayName":"applicantInformation.formLabel.label17","logicalName":"cityCode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label13","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message21","value":"^[a-zA-Z][a-zA-Z\\\\s]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message24","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isCityDisabled","type":"STATIC","value":"isCityDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":15,"fields":[{"displayName":"applicantInformation.formLabel.label18","logicalName":"pincode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label14","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message25","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPinCodeDisabled","type":"STATIC","value":"isPinCodeDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":16,"fields":[{"displayName":"commonSections.buttons.button3","logicalName":"goBack","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"button","hidden":false,"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"cssClass":"btn mat-btn-lg btn-block btn-outline-brand-orange","onClickEvent":[{"functionName":"routePrevious","params":[]}],"matDirective":"mat-stroked-button"},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button16","logicalName":"saveAndContinue","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"saveAndContinue","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":true,"params":[]}]},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button36","logicalName":"updateApplicant","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"updateApplicant","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":false,"params":[]}]}],"mandatory":false,"bundleLabel":null,"bundleName":"multi-button"}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":3,"displayName":"header.headerLabel.label5","logicalName":"bookAppointment","routeUrl":"book-appointment","displayPosition":3,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":3,"displayName":"header.headerLabel.label14","logicalName":"postalInformation","routeUrl":"postal-information","displayPosition":3,"apis":{"online":[],"backoffice":[]},"controls":[{"row":1,"mandatory":false,"fields":[{"displayName":"postalInformation.formLabel.label8","logicalName":"courierType","defaultValueLookup":null,"defaultValueOptionSet":[],"readOnly":false,"placeholder":"commonSections.formLabel.label1","fieldType":"dropdown","validations":{"regex":null,"mandatory":{"message":"commonSections.messages.requiredMessages.message1","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/couriertype","type":"GET","params":[],"displayKey":"name","valueKey":"code"},"backoffice":{}},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":1,"fields":[{"displayName":"postalInformation.formLabel.label1","logicalName":"pincode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"postalInformation.placeholder.label1","validations":{"regex":{"message":"commonSections.messages.patternMessages.message21","value":"^[0-9]*$"},"mandatory":{"message":"commonSections.messages.patternMessages.message21","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message21","value":5},"minLength":{"message":"commonSections.messages.patternMessages.message21","value":5},"customError":[{"code":"invalidPostalCode","message":"commonSections.messages.patternMessages.message21"}],"invalid":""},"onChangeEvent":[{"functionName":"updateListenerTextField","params":[{"key":"postalCode","type":"FORM_VALUE","value":"pincode"}],"url":"/courier/validatepostalcode","type":"POST"}],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["PPD"]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":2,"fields":[{"displayName":"postalInformation.formLabel.label2","logicalName":"addressline1","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label8","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message17","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["PPD"]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":3,"fields":[{"displayName":"postalInformation.formLabel.label3","logicalName":"addressline2","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label12","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message22","value":false},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["PPD"]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":false},{"row":4,"fields":[{"displayName":"postalInformation.formLabel.label4","logicalName":"state","defaultValueLookup":[],"readOnly":false,"fieldType":"dropdown","cssClass":"","optionsListApi":{"online":{"url":"/master/state","type":"GET","getParamsType":"slash","displayKey":"stateName","valueKey":"isoCode","params":[{"key":"countryCode","type":"SESSION","value":"countrycode","mandatory":true}]},"backoffice":{}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label11","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message23","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["PPD"]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":5,"fields":[{"displayName":"postalInformation.formLabel.label5","logicalName":"city","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label13","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message21","value":"^[a-zA-Z ]*[a-zA-Z]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message24","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["PPD"]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":6,"fields":[{"displayName":"postalInformation.formLabel.label6","logicalName":"countryCode","defaultValueLookup":[{"type":"STATIC","value":"USA"}],"readOnly":false,"fieldType":"dropdown","cssClass":"","hidden":false,"placeholder":"commonSections.formLabel.label1","validations":{"regex":null,"mandatory":{"message":"postalInformation.messages.errorMessages.message3","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["PPD"]}],"isInputDisabled":false,"disableOnValues":[],"optionsListApi":{"online":{"url":"/master/nationality","type":"GET","getParamsType":"queryParam","params":[{"key":"serviceType","type":"SESSION","value":"cur_app_servicetype","mandatory":true}],"displayKey":"nationalityName","valueKey":"isoCode"},"backoffice":{}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":true},{"row":1,"fields":[{"displayName":"postalInformation.formLabel.label11","logicalName":"courierServiceProvider","defaultValueOptionSet":[],"readOnly":false,"fieldType":"dropdown","cssClass":"","hidden":false,"placeholder":"commonSections.formLabel.label1","validations":{"regex":null,"mandatory":{"message":"postalInformation.messages.errorMessages.message5","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["VFSC"]}],"isInputDisabled":false,"disableOnValues":[],"optionsListApi":{"online":{"url":"/master/courierserviceprovider","type":"GET","params":[],"displayKey":"name","valueKey":"code"},"backoffice":{}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":true},{"row":2,"fields":[{"displayName":"postalInformation.formLabel.label12","logicalName":"incomingAWBNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"postalInformation.placeholder.label3","validations":{"regex":{"message":"postalInformation.messages.errorMessages.message8","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"postalInformation.messages.errorMessages.message6","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["VFSC"]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":3,"fields":[{"displayName":"postalInformation.formLabel.label13","logicalName":"outgoingAWBNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"postalInformation.placeholder.label4","validations":{"regex":{"message":"postalInformation.messages.errorMessages.message9","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"postalInformation.messages.errorMessages.message7","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["VFSC"]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":7,"fields":[{"displayName":"commonSections.buttons.button3","logicalName":"goBack","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"button","hidden":false,"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"cssClass":"btn mat-btn-lg btn-block btn-outline-brand-orange","onClickEvent":[{"functionName":"routePrevious","params":[]}],"matDirective":"mat-stroked-button"},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button16","logicalName":"saveAndContinue","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"saveAndContinue","url":"","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":true,"params":[]}]},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button36","logicalName":"updatePostal","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"updatePostal","url":"","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":false,"params":[]}]}],"mandatory":false,"bundleLabel":null,"bundleName":"multi-button"}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":4,"displayName":"header.headerLabel.label6","logicalName":"services","routeUrl":"services","displayPosition":4,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":5,"displayName":"header.headerLabel.label7","logicalName":"disclaimer","routeUrl":"review-pay","displayPosition":5,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}}]},"schema_ind_fra":{"tenent":"fra","secretKey":"@#$nbknknk!@#$MKKK()_^12","dashboardTitle":"dashboard.headerLabel.label1","description":"LIFT","filter":{"module":{"key":"visaTypeId"},"field":{"key":"visaCategoryId"}},"modules":[{"id":1,"displayName":"header.headerLabel.label12","logicalName":"eligibilityCriteria","routeUrl":"application-detail","displayPosition":1,"apis":{"online":[{"url":"/application/get-eligibility","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"centerCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label1","defaultValueLookup":[{"type":"SESSION","value":"curr_app_cntr_code"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label1","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/center","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true}],"displayKey":"centerName","valueKey":"isoCode"},"backoffice":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"nationalityId"}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"selectedSubvisaCategory","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label2","defaultValueLookup":[{"type":"SESSION","value":"curr_app_visa_type"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label2","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/visacategory","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true}],"displayKey":"name","valueKey":"code"},"backoffice":{}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"changeEmitterFields":[{"targetFieldLogicalName":"centerCode","functionName":"updateListenerDropdownField","params":["centerCode"]}]}]},{"row":3,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":4,"fields":[{"readOnly":false,"logicalName":"visaCategoryCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label3","defaultValueLookup":[{"type":"SESSION","value":"cur_app_visa_sub_category"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label3","onChangeEvent":[{"functionName":"isSlotAvailiable","params":[]}],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"visaCategoryCode","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true}],"url":"/master/subvisacategory","displayKey":"name","valueKey":"code"},"backoffice":{}},"changeEmitterFields":[{"targetFieldLogicalName":"selectedSubvisaCategory","functionName":"updateListenerDropdownField","params":["selectedSubvisaCategory"]}],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":5,"fields":[{"readOnly":true,"logicalName":"btnSaveAndContinue","fieldType":"button","hidden":false,"displayName":"commonSections.buttons.button19","defaultValueLookup":"","defaultValueOptionSet":[],"onChangeEvent":[],"placeholder":"","validations":{"regex":{"message":"","value":""},"mandatory":{"message":"","value":""},"minValue":null,"maxValue":{"message":"","value":""},"minLength":{"message":"","value":""},"validateDateTime":{"parentField":"","compareDateWith":"","compareTimeWith":"","comparisonType":"","message":""}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"mandatory":false,"titleText":"","subText1":"","subText2":"","disableOnValues":[],"toggleDisableField":[],"cssClass":"","onClickEvent":[{"functionName":"saveToSession","url":"","params":[{"key":"curr_app_cntr_code","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"curr_app_visa_type","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true},{"key":"cur_app_visa_sub_category","type":"FORM_VALUE","value":"visaCategoryCode","mandatory":true}]},{"functionName":"saveAndContinue","url":"/application/submit-eligibility","params":[{"key":"routeId","type":"SESSION","value":"route_id","mandatory":true},{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":false},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":false},{"key":"documentIdentifierId","type":"SESSION","value":"document_identifier","mandatory":false}]}],"toggleHideShow":[]}],"mandatory":false}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}},{"id":2,"displayName":"header.headerLabel.label4","logicalName":"applicantInformation","routeUrl":"your-details","displayPosition":2,"apis":{"online":[{"url":"/applicant-details/get-applicant-details","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"fields":[{"displayName":"applicantInformation.formLabel.label14","logicalName":"referenceNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label9","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message19","value":"^FRA([A-Z0-9]){14}$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message18","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableReferenceNumber","type":"STATIC","value":"enableReferenceNumber"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[],"displayInfo":{"visible":true,"value":"applicantInformation.messages.infoMessages.message3","type":"STATIC","key":null}}],"mandatory":true},{"row":1,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label1","logicalName":"firstName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label1","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message1","value":true},"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message13"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isFirstNameDisabled","type":"STATIC","value":"isFirstNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"fields":[{"displayName":"applicantInformation.formLabel.label2","logicalName":"lastName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.messages.errorMessages.message2","fieldType":"textbox","validations":{"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message14"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isLastNameDisabled","type":"STATIC","value":"isLastNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":3,"fields":[{"displayName":"applicantInformation.formLabel.label3","logicalName":"gender","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{},"mandatory":{"message":"applicantInformation.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isGenderDisabled","type":"STATIC","value":"isGenderDisabled"}]}],"optionsListApi":{"online":{"url":"/master/gender","type":"GET","params":[],"displayKey":"langaugeName","valueKey":"id"},"backoffice":{"url":"/master/maritalStatus","type":"GET","params":[],"displayKey":"displayName","valueKey":"id"}}},{"displayName":"applicantInformation.formLabel.label4","logicalName":"dateOfBirth","defaultValueLookup":"","readOnly":false,"placeholder":"applicantInformation.placeholder.label4","fieldType":"datepicker","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message4","value":true},"minValue":null,"maxValue":{"isActive":false,"message":"applicantInformation.messages.errorMessages.message27","type":"CURRENT","value":null,"params":[],"boundaryValue":"-1"},"maxLength":null,"minLength":null,"invalid":"commonSections.messages.errorMessages.message21"},"changeEmitterFields":[],"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"isInputDisabled":true,"disableOnValues":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":true},{"row":4,"fields":[{"displayName":"applicantInformation.formLabel.label5","logicalName":"nationalityCode","defaultValueLookup":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{"value":"^[a-zA-Z0-9]+$","message":""},"mandatory":{"message":"applicantInformation.messages.errorMessages.message5","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"defaultValueOptionSet":null,"optionsListApi":{"online":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"isoCode"},"backoffice":{"url":"/master/residency","type":"GET","params":[],"displayKey":"name","valueKey":"id"}}}],"mandatory":false},{"row":5,"fields":[{"displayName":"applicantInformation.formLabel.label6","logicalName":"passportNumber","defaultValueLookup":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label5","validations":{"regex":{"value":"^[a-zA-Z0-9][a-zA-Z0-9]+$","message":"commonSections.messages.patternMessages.message29"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message6","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportNoDisabled","type":"STATIC","value":"isPassportNoDisabled"}]}],"defaultValueOptionSet":null},{"displayName":"applicantInformation.formLabel.label7","logicalName":"passportExpirtyDate","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message7","value":true},"maxValue":null,"minValue":{"isActive":false,"message":"commonSections.messages.errorMessages.message15","type":"CURRENT","value":null,"params":[],"boundaryValue":"1"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message7"},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportExpiryDateDisabled","type":"STATIC","value":"isPassportExpiryDateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[]}],"mandatory":true},{"row":6,"fields":[{"displayName":"applicantInformation.formLabel.label12","logicalName":"dateOfDeparture","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","cssClass":"col-12 col-sm-6","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message16","value":true},"minValue":{"isActive":true,"message":"commonSections.messages.errorMessages.message22","type":"CURRENT","value":null,"params":[],"boundaryValue":"0"},"maxValue":{"isActive":true,"key":"mx_alwd_dt_of_departure","message":"applicantInformation.messages.errorMessages.message16","type":"SESSION","value":"mx_alwd_dt_of_departure","params":[{"type":"FUNCTION","key":"mx_alwd_dt_of_departure","value":"0"}],"boundaryValue":"0"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message28"},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableDateOfDeperature","type":"STATIC","value":"enableDateOfDeperature"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[],"displayInfo":{"visible":true,"value":null,"type":"FUNCTION","key":"getDisplayInfo"}}],"mandatory":true},{"row":7,"fields":[{"displayName":"","logicalName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"readOnly":false,"fieldType":"hr","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"","validations":{"regex":null,"mandatory":null,"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"optionsListApi":{"online":null,"backoffice":null}}],"mandatory":false},{"row":8,"fields":[{"displayName":"applicantInformation.formLabel.label10","logicalName":"dialCode","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"44","validations":{"regex":{"value":"^[0-9]+$","message":"applicantInformation.messages.errorMessages.message11"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message8","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}],"optionsListApi":{"online":{},"backoffice":{}}},{"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"input","displayName":"applicantInformation.formLabel.label11","logicalName":"contactNumber","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"onChangeEvent":[],"placeholder":"applicantInformation.placeholder.label7","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message12","value":"^[0-9]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message9","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":15},"minLength":{"message":"commonSections.messages.patternMessages.message27","value":7}},"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}]}],"mandatory":true,"bundleLabel":"applicantInformation.formLabel.label8","bundleName":"contact"},{"row":9,"fields":[{"displayName":"applicantInformation.formLabel.label9","logicalName":"emailId","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"email","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label6","validations":{"regex":{"value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$","message":"commonSections.messages.patternMessages.message1"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message10","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4}},"onChangeEvent":[]}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"row":11,"fields":[{"displayName":"applicantInformation.formLabel.label13","logicalName":"addressline1","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label8","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message17","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine1Disabled","type":"STATIC","value":"isAddressLine1Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":12,"fields":[{"displayName":"applicantInformation.formLabel.label15","logicalName":"addressline2","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label12","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":null,"value":false},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine2Disabled","type":"STATIC","value":"isAddressLine2Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":13,"fields":[{"displayName":"applicantInformation.formLabel.label16","logicalName":"stateCode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label11","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message20","value":"^[a-zA-Z]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message23","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isStateDisabled","type":"STATIC","value":"isStateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":14,"fields":[{"displayName":"applicantInformation.formLabel.label17","logicalName":"cityCode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label13","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message21","value":"^[a-zA-Z][a-zA-Z\\\\s]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message24","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isCityDisabled","type":"STATIC","value":"isCityDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":15,"fields":[{"displayName":"applicantInformation.formLabel.label18","logicalName":"pincode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label14","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message25","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPinCodeDisabled","type":"STATIC","value":"isPinCodeDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":16,"fields":[{"displayName":"commonSections.buttons.button3","logicalName":"goBack","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"button","hidden":false,"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"cssClass":"btn mat-btn-lg btn-block btn-outline-brand-orange","onClickEvent":[{"functionName":"routePrevious","params":[]}],"matDirective":"mat-stroked-button"},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button16","logicalName":"saveAndContinue","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"saveAndContinue","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":true,"params":[]}]},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button36","logicalName":"updateApplicant","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"updateApplicant","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":false,"params":[]}]}],"mandatory":false,"bundleLabel":null,"bundleName":"multi-button"}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":3,"displayName":"header.headerLabel.label5","logicalName":"bookAppointment","routeUrl":"book-appointment","displayPosition":3,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":4,"displayName":"header.headerLabel.label6","logicalName":"services","routeUrl":"services","displayPosition":4,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":5,"displayName":"header.headerLabel.label7","logicalName":"disclaimer","routeUrl":"review-pay","displayPosition":5,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}}]},"schema_ind_ita":{"tenent":"ita","secretKey":"@#$nbknknk!@#$MKKK()_^12","dashboardTitle":"dashboard.headerLabel.label1","description":"LIFT","filter":{"module":{"key":"visaTypeId"},"field":{"key":"visaCategoryId"}},"modules":[{"id":1,"displayName":"header.headerLabel.label12","logicalName":"eligibilityCriteria","routeUrl":"application-detail","displayPosition":1,"apis":{"online":[{"url":"/application/get-eligibility","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"centerCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label1","defaultValueLookup":[{"type":"SESSION","value":"curr_app_cntr_code"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label1","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/center","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true}],"displayKey":"centerName","valueKey":"isoCode"},"backoffice":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"nationalityId"}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"selectedSubvisaCategory","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label2","defaultValueLookup":[{"type":"SESSION","value":"curr_app_visa_type"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label2","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/visacategory","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true}],"displayKey":"name","valueKey":"code"},"backoffice":{}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"changeEmitterFields":[{"targetFieldLogicalName":"centerCode","functionName":"updateListenerDropdownField","params":["centerCode"]}]}]},{"row":3,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":4,"fields":[{"readOnly":false,"logicalName":"visaCategoryCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label3","defaultValueLookup":[{"type":"SESSION","value":"cur_app_visa_sub_category"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label3","onChangeEvent":[{"functionName":"isSlotAvailiable","params":[]}],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"visaCategoryCode","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true}],"url":"/master/subvisacategory","displayKey":"name","valueKey":"code"},"backoffice":{}},"changeEmitterFields":[{"targetFieldLogicalName":"selectedSubvisaCategory","functionName":"updateListenerDropdownField","params":["selectedSubvisaCategory"]}],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":5,"fields":[{"readOnly":true,"logicalName":"btnSaveAndContinue","fieldType":"button","hidden":false,"displayName":"commonSections.buttons.button19","defaultValueLookup":"","defaultValueOptionSet":[],"onChangeEvent":[],"placeholder":"","validations":{"regex":{"message":"","value":""},"mandatory":{"message":"","value":""},"minValue":null,"maxValue":{"message":"","value":""},"minLength":{"message":"","value":""},"validateDateTime":{"parentField":"","compareDateWith":"","compareTimeWith":"","comparisonType":"","message":""}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"mandatory":false,"titleText":"","subText1":"","subText2":"","disableOnValues":[],"toggleDisableField":[],"cssClass":"","onClickEvent":[{"functionName":"saveToSession","url":"","params":[{"key":"curr_app_cntr_code","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"curr_app_visa_type","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true},{"key":"cur_app_visa_sub_category","type":"FORM_VALUE","value":"visaCategoryCode","mandatory":true}]},{"functionName":"saveAndContinue","url":"/application/submit-eligibility","params":[{"key":"routeId","type":"SESSION","value":"route_id","mandatory":true},{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":false},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":false},{"key":"documentIdentifierId","type":"SESSION","value":"document_identifier","mandatory":false}]}],"toggleHideShow":[]}],"mandatory":false}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}},{"id":2,"displayName":"header.headerLabel.label4","logicalName":"applicantInformation","routeUrl":"your-details","displayPosition":2,"apis":{"online":[{"url":"/applicant-details/get-applicant-details","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"fields":[{"displayName":"applicantInformation.formLabel.label14","logicalName":"referenceNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label9","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message19","value":"^FRA([a-zA-Z0-9]){14}$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message18","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableReferenceNumber","type":"STATIC","value":"enableReferenceNumber"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[],"displayInfo":{"visible":true,"value":"applicantInformation.messages.infoMessages.message3","type":"STATIC","key":null}}],"mandatory":true},{"row":1,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label1","logicalName":"firstName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label1","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message1","value":true},"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message13"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isFirstNameDisabled","type":"STATIC","value":"isFirstNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"fields":[{"displayName":"applicantInformation.formLabel.label2","logicalName":"lastName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.messages.errorMessages.message2","fieldType":"textbox","validations":{"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message14"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isLastNameDisabled","type":"STATIC","value":"isLastNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":3,"fields":[{"displayName":"applicantInformation.formLabel.label3","logicalName":"gender","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{},"mandatory":{"message":"applicantInformation.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isGenderDisabled","type":"STATIC","value":"isGenderDisabled"}]}],"optionsListApi":{"online":{"url":"/master/gender","type":"GET","params":[],"displayKey":"langaugeName","valueKey":"id"},"backoffice":{"url":"/master/maritalStatus","type":"GET","params":[],"displayKey":"displayName","valueKey":"id"}}},{"displayName":"applicantInformation.formLabel.label4","logicalName":"dateOfBirth","defaultValueLookup":"","readOnly":false,"placeholder":"applicantInformation.placeholder.label4","fieldType":"datepicker","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message4","value":true},"minValue":null,"maxValue":{"isActive":false,"message":"applicantInformation.messages.errorMessages.message27","type":"CURRENT","value":null,"params":[],"boundaryValue":"-1"},"maxLength":null,"minLength":null,"invalid":"commonSections.messages.errorMessages.message21"},"changeEmitterFields":[],"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"isInputDisabled":true,"disableOnValues":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":true},{"row":4,"fields":[{"displayName":"applicantInformation.formLabel.label5","logicalName":"nationalityCode","defaultValueLookup":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{"value":"^[a-zA-Z0-9]+$","message":""},"mandatory":{"message":"applicantInformation.messages.errorMessages.message5","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"defaultValueOptionSet":null,"optionsListApi":{"online":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"isoCode"},"backoffice":{"url":"/master/residency","type":"GET","params":[],"displayKey":"name","valueKey":"id"}}}],"mandatory":false},{"row":5,"fields":[{"displayName":"applicantInformation.formLabel.label6","logicalName":"passportNumber","defaultValueLookup":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label5","validations":{"regex":{"value":"^[a-zA-Z0-9][a-zA-Z0-9]+$","message":"commonSections.messages.patternMessages.message29"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message6","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportNoDisabled","type":"STATIC","value":"isPassportNoDisabled"}]}],"defaultValueOptionSet":null},{"displayName":"applicantInformation.formLabel.label7","logicalName":"passportExpirtyDate","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message7","value":true},"maxValue":null,"minValue":{"isActive":false,"message":"commonSections.messages.errorMessages.message15","type":"CURRENT","value":null,"params":[],"boundaryValue":"1"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message7"},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportExpiryDateDisabled","type":"STATIC","value":"isPassportExpiryDateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[],"displayInfo":{"visible":true,"value":"applicantInformation.messages.infoMessages.message4","type":"STATIC","key":null}}],"mandatory":true},{"row":6,"fields":[{"displayName":"applicantInformation.formLabel.label12","logicalName":"dateOfDeparture","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","cssClass":"col-12 col-sm-6","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message16","value":true},"minValue":{"isActive":true,"message":"commonSections.messages.errorMessages.message22","type":"CURRENT","value":null,"params":[],"boundaryValue":"0"},"maxValue":{"isActive":true,"key":"mx_alwd_dt_of_departure","message":"applicantInformation.messages.errorMessages.message16","type":"SESSION","value":"mx_alwd_dt_of_departure","params":[{"type":"FUNCTION","key":"mx_alwd_dt_of_departure","value":"0"}],"boundaryValue":"0"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message28"},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableDateOfDeperature","type":"STATIC","value":"enableDateOfDeperature"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[],"displayInfo":{"visible":true,"value":null,"type":"FUNCTION","key":"getDisplayInfo"}}],"mandatory":true},{"row":7,"fields":[{"displayName":"","logicalName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"readOnly":false,"fieldType":"hr","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"","validations":{"regex":null,"mandatory":null,"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"optionsListApi":{"online":null,"backoffice":null}}],"mandatory":false},{"row":8,"fields":[{"displayName":"applicantInformation.formLabel.label10","logicalName":"dialCode","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"44","validations":{"regex":{"value":"^[0-9]+$","message":"applicantInformation.messages.errorMessages.message11"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message8","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}],"optionsListApi":{"online":{},"backoffice":{}}},{"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"input","displayName":"applicantInformation.formLabel.label11","logicalName":"contactNumber","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"onChangeEvent":[],"placeholder":"applicantInformation.placeholder.label7","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message12","value":"^[0-9]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message9","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":15},"minLength":{"message":"commonSections.messages.patternMessages.message27","value":7}},"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}]}],"mandatory":true,"bundleLabel":"applicantInformation.formLabel.label8","bundleName":"contact"},{"row":9,"fields":[{"displayName":"applicantInformation.formLabel.label9","logicalName":"emailId","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"email","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label6","validations":{"regex":{"value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$","message":"commonSections.messages.patternMessages.message1"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message10","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4}},"onChangeEvent":[]}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"row":11,"fields":[{"displayName":"applicantInformation.formLabel.label13","logicalName":"addressline1","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label8","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message17","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine1Disabled","type":"STATIC","value":"isAddressLine1Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":12,"fields":[{"displayName":"applicantInformation.formLabel.label15","logicalName":"addressline2","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label12","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message22","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine2Disabled","type":"STATIC","value":"isAddressLine2Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":13,"fields":[{"displayName":"applicantInformation.formLabel.label16","logicalName":"stateCode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label11","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message20","value":"^[a-zA-Z]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message23","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isStateDisabled","type":"STATIC","value":"isStateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":14,"fields":[{"displayName":"applicantInformation.formLabel.label17","logicalName":"cityCode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label13","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message21","value":"^[a-zA-Z][a-zA-Z\\\\s]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message24","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isCityDisabled","type":"STATIC","value":"isCityDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":15,"fields":[{"displayName":"applicantInformation.formLabel.label18","logicalName":"pincode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label14","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message25","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPinCodeDisabled","type":"STATIC","value":"isPinCodeDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":16,"fields":[{"displayName":"commonSections.buttons.button3","logicalName":"goBack","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"button","hidden":false,"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"cssClass":"btn mat-btn-lg btn-block btn-outline-brand-orange","onClickEvent":[{"functionName":"routePrevious","params":[]}],"matDirective":"mat-stroked-button"},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button16","logicalName":"saveAndContinue","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"saveAndContinue","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":true,"params":[]}]},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button36","logicalName":"updateApplicant","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"updateApplicant","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":false,"params":[]}]}],"mandatory":false,"bundleLabel":null,"bundleName":"multi-button"}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":3,"displayName":"header.headerLabel.label5","logicalName":"bookAppointment","routeUrl":"book-appointment","displayPosition":3,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":4,"displayName":"header.headerLabel.label6","logicalName":"services","routeUrl":"services","displayPosition":4,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":5,"displayName":"header.headerLabel.label7","logicalName":"disclaimer","routeUrl":"review-pay","displayPosition":5,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}}]},"schema_eoi_usa":{"tenent":"nld","secretKey":"@#$nbknknk!@#$MKKK()_^12","dashboardTitle":"dashboard.headerLabel.label1","description":"LIFT","filter":{"module":{"key":"visaTypeId"},"field":{"key":"visaCategoryId"}},"modules":[{"id":1,"displayName":"header.headerLabel.label12","logicalName":"eligibilityCriteria","routeUrl":"application-detail","displayPosition":1,"apis":{"online":[{"url":"/application/get-eligibility","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"centerCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label1","defaultValueLookup":[{"type":"SESSION","value":"curr_app_cntr_code"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label1","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/center","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true}],"displayKey":"centerName","valueKey":"isoCode"},"backoffice":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"nationalityId"}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"selectedSubvisaCategory","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label2","defaultValueLookup":[{"type":"SESSION","value":"curr_app_visa_type"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label2","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/visacategory","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true}],"displayKey":"name","valueKey":"code"},"backoffice":{}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"changeEmitterFields":[{"targetFieldLogicalName":"centerCode","functionName":"updateListenerDropdownField","params":["centerCode"]}]}]},{"row":3,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":4,"fields":[{"readOnly":false,"logicalName":"visaCategoryCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label3","defaultValueLookup":[{"type":"SESSION","value":"cur_app_visa_sub_category"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label3","onChangeEvent":[{"functionName":"isSlotAvailiable","params":[]}],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"visaCategoryCode","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true}],"url":"/master/subvisacategory","displayKey":"name","valueKey":"code"},"backoffice":{}},"changeEmitterFields":[{"targetFieldLogicalName":"selectedSubvisaCategory","functionName":"updateListenerDropdownField","params":["selectedSubvisaCategory"]}],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":5,"fields":[{"readOnly":true,"logicalName":"btnSaveAndContinue","fieldType":"button","hidden":false,"displayName":"commonSections.buttons.button19","defaultValueLookup":"","defaultValueOptionSet":[],"onChangeEvent":[],"placeholder":"","validations":{"regex":{"message":"","value":""},"mandatory":{"message":"","value":""},"minValue":null,"maxValue":{"message":"","value":""},"minLength":{"message":"","value":""},"validateDateTime":{"parentField":"","compareDateWith":"","compareTimeWith":"","comparisonType":"","message":""}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"mandatory":false,"titleText":"","subText1":"","subText2":"","disableOnValues":[],"toggleDisableField":[],"cssClass":"","onClickEvent":[{"functionName":"saveToSession","url":"","params":[{"key":"curr_app_cntr_code","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"curr_app_visa_type","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true},{"key":"cur_app_visa_sub_category","type":"FORM_VALUE","value":"visaCategoryCode","mandatory":true}]},{"functionName":"saveAndContinue","url":"/application/submit-eligibility","params":[{"key":"routeId","type":"SESSION","value":"route_id","mandatory":true},{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":false},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":false},{"key":"documentIdentifierId","type":"SESSION","value":"document_identifier","mandatory":false}]}],"toggleHideShow":[]}],"mandatory":false}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}},{"id":2,"displayName":"header.headerLabel.label4","logicalName":"applicantInformation","routeUrl":"your-details","displayPosition":2,"apis":{"online":[{"url":"/applicant-details/get-applicant-details","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"fields":[{"displayName":"applicantInformation.formLabel.label14","logicalName":"referenceNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label9","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message19","value":"^([a-zA-Z0-9]{12,14})+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message18","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"displayInfo":{"value":"applicantInformation.messages.infoMessages.message18","visible":"true","type":"STATIC","key":"null"},"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableReferenceNumber","type":"STATIC","value":"enableReferenceNumber"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":1,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label1","logicalName":"firstName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label1","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message1","value":true},"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message13"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isFirstNameDisabled","type":"STATIC","value":"isFirstNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"fields":[{"displayName":"applicantInformation.formLabel.label2","logicalName":"lastName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.messages.errorMessages.message2","fieldType":"textbox","validations":{"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message14"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isLastNameDisabled","type":"STATIC","value":"isLastNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"displayInfo":{"value":"applicantInformation.messages.infoMessages.message14","visible":"true","type":"STATIC","key":"null"}}],"mandatory":false},{"row":3,"fields":[{"displayName":"applicantInformation.formLabel.label3","logicalName":"gender","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{},"mandatory":{"message":"applicantInformation.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isGenderDisabled","type":"STATIC","value":"isGenderDisabled"}]}],"optionsListApi":{"online":{"url":"/master/gender","type":"GET","params":[],"displayKey":"langaugeName","valueKey":"id"},"backoffice":{"url":"/master/maritalStatus","type":"GET","params":[],"displayKey":"displayName","valueKey":"id"}}},{"displayName":"applicantInformation.formLabel.label4","logicalName":"dateOfBirth","defaultValueLookup":"","readOnly":false,"placeholder":"applicantInformation.placeholder.label4","fieldType":"datepicker","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message4","value":true},"minValue":null,"maxValue":{"isActive":false,"message":"applicantInformation.messages.errorMessages.message27","type":"CURRENT","value":null,"params":[],"boundaryValue":"-1"},"maxLength":null,"minLength":null,"invalid":"commonSections.messages.errorMessages.message21"},"changeEmitterFields":[],"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"isInputDisabled":true,"disableOnValues":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":true},{"row":4,"fields":[{"displayName":"applicantInformation.formLabel.label5","logicalName":"nationalityCode","defaultValueLookup":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{"value":"^[a-zA-Z0-9]+$","message":""},"mandatory":{"message":"applicantInformation.messages.errorMessages.message5","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"defaultValueOptionSet":null,"optionsListApi":{"online":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"isoCode"},"backoffice":{"url":"/master/residency","type":"GET","params":[],"displayKey":"name","valueKey":"id"}}}],"mandatory":false},{"row":5,"fields":[{"displayName":"applicantInformation.formLabel.label6","logicalName":"passportNumber","defaultValueLookup":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label5","validations":{"regex":{"value":"^[a-zA-Z0-9][a-zA-Z0-9]+$","message":"commonSections.messages.patternMessages.message29"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message6","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportNoDisabled","type":"STATIC","value":"isPassportNoDisabled"}]}],"defaultValueOptionSet":null},{"displayName":"applicantInformation.formLabel.label7","logicalName":"passportExpirtyDate","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message7","value":true},"maxValue":null,"minValue":{"isActive":false,"message":"commonSections.messages.errorMessages.message15","type":"CURRENT","value":null,"params":[],"boundaryValue":"1"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message7"},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportExpiryDateDisabled","type":"STATIC","value":"isPassportExpiryDateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[],"displayInfo":{"value":"applicantInformation.messages.infoMessages.message6","visible":true,"type":"STATIC","key":null}}],"mandatory":true},{"row":6,"fields":[{"displayName":"applicantInformation.formLabel.label12","logicalName":"dateOfDeparture","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","cssClass":"col-12 col-sm-6","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message16","value":true},"minValue":{"isActive":true,"message":"commonSections.messages.errorMessages.message22","type":"CURRENT","value":null,"params":[],"boundaryValue":"0"},"maxValue":{"isActive":true,"key":"mx_alwd_dt_of_departure","message":"applicantInformation.messages.errorMessages.message16","type":"SESSION","value":"mx_alwd_dt_of_departure","params":[{"type":"FUNCTION","key":"mx_alwd_dt_of_departure","value":"0"}],"boundaryValue":"0"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message28"},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableDateOfDeperature","type":"STATIC","value":"enableDateOfDeperature"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[],"displayInfo":{"visible":true,"value":null,"type":"FUNCTION","key":"getDisplayInfo"}}],"mandatory":true},{"row":7,"fields":[{"displayName":"","logicalName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"readOnly":false,"fieldType":"hr","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"","validations":{"regex":null,"mandatory":null,"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"optionsListApi":{"online":null,"backoffice":null}}],"mandatory":false},{"row":8,"fields":[{"displayName":"applicantInformation.formLabel.label10","logicalName":"dialCode","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"44","validations":{"regex":{"value":"^[0-9]+$","message":"applicantInformation.messages.errorMessages.message11"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message8","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}],"optionsListApi":{"online":{},"backoffice":{}}},{"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"input","displayName":"applicantInformation.formLabel.label11","logicalName":"contactNumber","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"onChangeEvent":[],"placeholder":"applicantInformation.placeholder.label7","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message12","value":"^[0-9]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message9","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":15},"minLength":{"message":"commonSections.messages.patternMessages.message27","value":7}},"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}]}],"mandatory":true,"bundleLabel":"applicantInformation.formLabel.label8","bundleName":"contact"},{"row":9,"fields":[{"displayName":"applicantInformation.formLabel.label9","logicalName":"emailId","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"email","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label6","validations":{"regex":{"value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$","message":"commonSections.messages.patternMessages.message1"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message10","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4}},"onChangeEvent":[]}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"row":11,"fields":[{"displayName":"applicantInformation.formLabel.label13","logicalName":"addressline1","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label8","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message17","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine1Disabled","type":"STATIC","value":"isAddressLine1Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":12,"fields":[{"displayName":"applicantInformation.formLabel.label15","logicalName":"addressline2","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label12","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message22","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine2Disabled","type":"STATIC","value":"isAddressLine2Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":13,"fields":[{"displayName":"applicantInformation.formLabel.label16","logicalName":"stateCode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label11","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message20","value":"^[a-zA-Z ]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message23","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isStateDisabled","type":"STATIC","value":"isStateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":14,"fields":[{"displayName":"applicantInformation.formLabel.label17","logicalName":"cityCode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label13","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message21","value":"^[a-zA-Z][a-zA-Z\\\\s]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message24","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isCityDisabled","type":"STATIC","value":"isCityDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":15,"fields":[{"displayName":"applicantInformation.formLabel.label18","logicalName":"pincode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label14","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message25","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPinCodeDisabled","type":"STATIC","value":"isPinCodeDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":16,"fields":[{"displayName":"commonSections.buttons.button3","logicalName":"goBack","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"button","hidden":false,"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"cssClass":"btn mat-btn-lg btn-block btn-outline-brand-orange","onClickEvent":[{"functionName":"routePrevious","params":[]}],"matDirective":"mat-stroked-button"},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button16","logicalName":"saveAndContinue","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"saveAndContinue","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":true,"params":[]}]},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button36","logicalName":"updateApplicant","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"updateApplicant","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":false,"params":[]}]}],"mandatory":false,"bundleLabel":null,"bundleName":"multi-button"}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":3,"displayName":"header.headerLabel.label5","logicalName":"bookAppointment","routeUrl":"book-appointment","displayPosition":3,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":4,"displayName":"header.headerLabel.label6","logicalName":"services","routeUrl":"services","displayPosition":4,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":5,"displayName":"header.headerLabel.label7","logicalName":"disclaimer","routeUrl":"review-pay","displayPosition":5,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}}]},"schema_pol":{"tenent":"nld","secretKey":"@#$nbknknk!@#$MKKK()_^12","dashboardTitle":"dashboard.headerLabel.label1","description":"LIFT","filter":{"module":{"key":"visaTypeId"},"field":{"key":"visaCategoryId"}},"modules":[{"id":1,"displayName":"header.headerLabel.label12","logicalName":"eligibilityCriteria","routeUrl":"application-detail","displayPosition":1,"apis":{"online":[{"url":"/application/get-eligibility","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"centerCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label1","defaultValueLookup":[{"type":"SESSION","value":"curr_app_cntr_code"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label1","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/center","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true}],"displayKey":"centerName","valueKey":"isoCode"},"backoffice":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"nationalityId"}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"selectedSubvisaCategory","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label2","defaultValueLookup":[{"type":"SESSION","value":"curr_app_visa_type"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label2","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/visacategory","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true}],"displayKey":"name","valueKey":"code"},"backoffice":{}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"changeEmitterFields":[{"targetFieldLogicalName":"centerCode","functionName":"updateListenerDropdownField","params":["centerCode"]}]}]},{"row":3,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":4,"fields":[{"readOnly":false,"logicalName":"visaCategoryCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label3","defaultValueLookup":[{"type":"SESSION","value":"cur_app_visa_sub_category"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label3","onChangeEvent":[{"functionName":"isSlotAvailiable","params":[]}],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"visaCategoryCode","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true}],"url":"/master/subvisacategory","displayKey":"name","valueKey":"code"},"backoffice":{}},"changeEmitterFields":[{"targetFieldLogicalName":"selectedSubvisaCategory","functionName":"updateListenerDropdownField","params":["selectedSubvisaCategory"]}],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":5,"fields":[{"readOnly":true,"logicalName":"btnSaveAndContinue","fieldType":"button","hidden":false,"displayName":"commonSections.buttons.button19","defaultValueLookup":"","defaultValueOptionSet":[],"onChangeEvent":[],"placeholder":"","validations":{"regex":{"message":"","value":""},"mandatory":{"message":"","value":""},"minValue":null,"maxValue":{"message":"","value":""},"minLength":{"message":"","value":""},"validateDateTime":{"parentField":"","compareDateWith":"","compareTimeWith":"","comparisonType":"","message":""}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"mandatory":false,"titleText":"","subText1":"","subText2":"","disableOnValues":[],"toggleDisableField":[],"cssClass":"","onClickEvent":[{"functionName":"saveToSession","url":"","params":[{"key":"curr_app_cntr_code","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"curr_app_visa_type","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true},{"key":"cur_app_visa_sub_category","type":"FORM_VALUE","value":"visaCategoryCode","mandatory":true}]},{"functionName":"saveAndContinue","url":"/application/submit-eligibility","params":[{"key":"routeId","type":"SESSION","value":"route_id","mandatory":true},{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":false},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":false},{"key":"documentIdentifierId","type":"SESSION","value":"document_identifier","mandatory":false}]}],"toggleHideShow":[]}],"mandatory":false}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}},{"id":2,"displayName":"header.headerLabel.label4","logicalName":"applicantInformation","routeUrl":"your-details","displayPosition":2,"apis":{"online":[{"url":"/applicant-details/get-applicant-details","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"fields":[{"displayName":"applicantInformation.formLabel.label14","logicalName":"referenceNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label9","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message19","key":"setRefNoValidation","type":"FUNCTION"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message18","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableReferenceNumber","type":"STATIC","value":"enableReferenceNumber"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":1,"fields":[{"displayName":"applicantInformation.formLabel.label14","logicalName":"referenceNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"Enter refrence number in IRL12345578 format","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message19","key":"setRefNoValidation","type":"FUNCTION"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message18","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableIRLNumber","type":"STATIC","value":"enableIRLNumber"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":1,"fields":[{"displayName":"VLN Number","logicalName":"vlnNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label16","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message32","type":"SESSION","value":"vln_regex"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message31","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"isVLNEnabled","type":"STATIC","value":"isVLNEnabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":1,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label23","logicalName":"nationalId","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label17","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message40","value":true},"regex":{"value":"^[A-Z0-9]+$","message":"applicantInformation.messages.errorMessages.message41"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label24","logicalName":"VisaToken","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label18","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message42","value":true},"regex":{"message":"applicantInformation.messages.errorMessages.message50","key":"setVisaTokenRegExpression","type":"FUNCTION"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"isVisaTokenEnabled","type":"STATIC","value":"isVisaTokenEnabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":1,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label1","logicalName":"firstName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label1","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message1","value":true},"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message13"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isFirstNameDisabled","type":"STATIC","value":"isFirstNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"fields":[{"displayName":"applicantInformation.formLabel.label2","logicalName":"lastName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.messages.errorMessages.message2","fieldType":"textbox","validations":{"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message14"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isLastNameDisabled","type":"STATIC","value":"isLastNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":3,"fields":[{"displayName":"applicantInformation.formLabel.label3","logicalName":"gender","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{},"mandatory":{"message":"applicantInformation.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isGenderDisabled","type":"STATIC","value":"isGenderDisabled"}]}],"optionsListApi":{"online":{"url":"/master/gender","type":"GET","params":[],"displayKey":"langaugeName","valueKey":"id"},"backoffice":{"url":"/master/maritalStatus","type":"GET","params":[],"displayKey":"displayName","valueKey":"id"}}},{"displayName":"applicantInformation.formLabel.label4","logicalName":"dateOfBirth","defaultValueLookup":"","readOnly":false,"placeholder":"applicantInformation.placeholder.label4","fieldType":"datepicker","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message4","value":true},"minValue":null,"maxValue":{"isActive":false,"message":"applicantInformation.messages.errorMessages.message27","type":"CURRENT","value":null,"params":[],"boundaryValue":"-1"},"maxLength":null,"minLength":null,"invalid":"commonSections.messages.errorMessages.message21"},"changeEmitterFields":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isDOBDisabled","type":"STATIC","value":"isDOBDisabled"}]}],"hidden":false,"onChangeEvent":[],"isInputDisabled":true,"disableOnValues":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":true},{"row":4,"fields":[{"displayName":"applicantInformation.formLabel.label5","logicalName":"nationalityCode","defaultValueLookup":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{"value":"^[a-zA-Z0-9]+$","message":""},"mandatory":{"message":"applicantInformation.messages.errorMessages.message5","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"defaultValueOptionSet":null,"optionsListApi":{"online":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"isoCode"},"backoffice":{"url":"/master/residency","type":"GET","params":[],"displayKey":"name","valueKey":"id"}}}],"mandatory":false},{"row":5,"fields":[{"displayName":"applicantInformation.formLabel.label6","logicalName":"passportNumber","defaultValueLookup":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label5","validations":{"regex":{"value":"^[a-zA-Z0-9][a-zA-Z0-9]+$","message":"commonSections.messages.patternMessages.message29"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message6","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportNoDisabled","type":"STATIC","value":"isPassportNoDisabled"}]}],"defaultValueOptionSet":null},{"displayName":"applicantInformation.formLabel.label7","logicalName":"passportExpirtyDate","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message7","value":true},"maxValue":null,"minValue":{"isActive":false,"message":"commonSections.messages.errorMessages.message15","type":"CURRENT","value":null,"params":[],"boundaryValue":"1"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message7"},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportExpiryDateDisabled","type":"STATIC","value":"isPassportExpiryDateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[]}],"mandatory":true},{"row":6,"fields":[{"displayName":"applicantInformation.formLabel.label12","logicalName":"dateOfDeparture","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","cssClass":"col-12 col-sm-6","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message16","value":true},"minValue":{"isActive":true,"message":"commonSections.messages.errorMessages.message22","type":"CURRENT","value":null,"params":[],"boundaryValue":"0"},"maxValue":{"isActive":true,"key":"mx_alwd_dt_of_departure","message":"applicantInformation.messages.errorMessages.message16","type":"SESSION","value":"mx_alwd_dt_of_departure","params":[{"type":"FUNCTION","key":"mx_alwd_dt_of_departure","value":"0"}],"boundaryValue":"0"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message28"},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableDateOfDeperature","type":"STATIC","value":"enableDateOfDeperature"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[],"displayInfo":{"visible":true,"value":null,"type":"FUNCTION","key":"getDisplayInfo"}}],"mandatory":true},{"row":7,"fields":[{"displayName":"","logicalName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"readOnly":false,"fieldType":"hr","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"","validations":{"regex":null,"mandatory":null,"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"optionsListApi":{"online":null,"backoffice":null}}],"mandatory":false},{"row":8,"fields":[{"displayName":"applicantInformation.formLabel.label10","logicalName":"dialCode","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"44","validations":{"regex":{"value":"^[0-9]+$","message":"applicantInformation.messages.errorMessages.message11"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message8","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":3},"minLength":null},"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}],"optionsListApi":{"online":{},"backoffice":{}}},{"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"input","displayName":"applicantInformation.formLabel.label11","logicalName":"contactNumber","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"onChangeEvent":[],"placeholder":"applicantInformation.placeholder.label7","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message12","value":"^[0-9]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message9","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":15},"minLength":{"message":"commonSections.messages.patternMessages.message27","value":7}},"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}]}],"mandatory":true,"bundleLabel":"applicantInformation.formLabel.label8","bundleName":"contact"},{"row":9,"fields":[{"displayName":"applicantInformation.formLabel.label9","logicalName":"emailId","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"email","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label6","validations":{"regex":{"value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$","message":"commonSections.messages.patternMessages.message1"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message10","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4}},"onChangeEvent":[]}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"row":11,"fields":[{"displayName":"applicantInformation.formLabel.label13","logicalName":"addressline1","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label8","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message17","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine1Disabled","type":"STATIC","value":"isAddressLine1Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":12,"fields":[{"displayName":"applicantInformation.formLabel.label15","logicalName":"addressline2","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label12","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message22","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine2Disabled","type":"STATIC","value":"isAddressLine2Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":13,"fields":[{"displayName":"applicantInformation.formLabel.label16","logicalName":"state","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label11","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message20","value":"^[a-zA-Z ]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message23","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isStateDisabled","type":"STATIC","value":"isStateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":14,"fields":[{"displayName":"applicantInformation.formLabel.label17","logicalName":"city","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label13","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message21","value":"^[a-zA-Z][a-zA-Z\\\\s]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message24","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isCityDisabled","type":"STATIC","value":"isCityDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":15,"fields":[{"displayName":"applicantInformation.formLabel.label18","logicalName":"pincode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label14","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message25","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPinCodeDisabled","type":"STATIC","value":"isPinCodeDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":16,"fields":[{"displayName":"commonSections.buttons.button3","logicalName":"goBack","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"button","hidden":false,"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"cssClass":"btn mat-btn-lg btn-block btn-outline-brand-orange","onClickEvent":[{"functionName":"routePrevious","params":[]}],"matDirective":"mat-stroked-button"},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button16","logicalName":"saveAndContinue","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"saveAndContinue","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":true,"params":[]}]},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button36","logicalName":"updateApplicant","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"updateApplicant","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":false,"params":[]}]}],"mandatory":false,"bundleLabel":null,"bundleName":"multi-button"}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":3,"displayName":"header.headerLabel.label5","logicalName":"bookAppointment","routeUrl":"book-appointment","displayPosition":3,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":4,"displayName":"header.headerLabel.label6","logicalName":"services","routeUrl":"services","displayPosition":4,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":5,"displayName":"header.headerLabel.label16","logicalName":"insurance","routeUrl":"insurance","displayPosition":5,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":6,"displayName":"header.headerLabel.label7","logicalName":"disclaimer","routeUrl":"review-pay","displayPosition":6,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}}]}}')},"3N+h":function(e,t,a){"use strict";a.d(t,"a",function(){return c});var n=a("tk/3"),i=a("AytR"),r=a("QrD/"),o=a("fXoL"),s=a("cT3p"),l=i.a.apiEndPoint,c=function(){var e=function(){function e(t,a){p(this,e),this.http=t,this.sessionService=a}return f(e,[{key:"doGet",value:function(e,t){return t?this.http.get(l+e,{params:t}):this.http.get(l+e)}},{key:"slashParamsDoGet",value:function(e,t,a){var n=e;return t&&(n=e+"/"+Object.values(t).reduce(function(e,t){return e+"/"+t})),n+=a||"",this.http.get(l+n)}},{key:"getLamdaData",value:function(e,t){var a={headers:(new n.f).set("Authorization",this.sessionService.getJWT()||"").set("Content-Type","application/json;charset=utf-8")},i=t?this.convertParam("get",t):"";return this.http.get(l+e+i,a)}},{key:"externalGet",value:function(e){return this.http.get(e)}},{key:"convertParam",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"post",t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return"post"===e?t:0===Object.keys(t).length?"":"param"===a?"string"==typeof t?"/"+t:Object.keys(t).map(function(e){return"/"+encodeURIComponent(t[e])}).join(""):"string"==typeof t?"?"+t:"?"+Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}},{key:"doPost",value:function(e,t){var a=new n.g;Object.keys(t).forEach(function(e){a=a.set(e,t[e])});var i={headers:(new n.f).set("Content-Type","application/x-www-form-urlencoded")};return this.http.post(l+e,a,i)}},{key:"doOTPPost",value:function(e,t){var a=this.sessionService.getJWT()||"",i={headers:(new n.f).set("authorize",a).set("Content-Type","application/json;charset=utf-8").set("datacenter","GERMANY")};return this.http.post(l+e,t,i)}},{key:"doPut",value:function(e,t){return this.http.put(e,t)}},{key:"payloadPost",value:function(e,t,a){var r=this.sessionService.getJWT()||"",o={headers:(new n.f).set("authorize",r).set("Content-Type","application/json;charset=utf-8")};return this.http.post((a?i.a.apiEndPoint2:l)+e,t,o)}},{key:"basicPayload",value:function(e,t,a){var r=i.a.production?"bGlmdHByb2R2ZnM6bGlmdHByb2R2ZnNAMjAyMg==":"VmZzVUFUOlZmc1VBVEBQYXNzd29yZA==",o={headers:(new n.f).set("authorization","Basic "+r).set("Content-Type","application/json;charset=utf-8")};return this.http.post((a?i.a.apiEndPoint2:l)+e,t,o)}},{key:"payloadWithoutTokenPost",value:function(e,t){var a={headers:(new n.f).set("Content-Type","application/json;charset=utf-8")};return this.http.post(l+e,t,a)}},{key:"doCheck",value:function(e,t){var a={};switch(e.type){case"GET":if(t){var o=new n.g({fromObject:t});a=(null==i.a?void 0:i.a.getParamsType)===r.c.SLASH&&(null==e?void 0:e.getParamsType)===r.c.SLASH?this.slashParamsDoGet(e.url,t):this.doGet(e.url,o)}else a=this.doGet(e.url);break;case"POST":a=this.doPost(e.url,t)}return a}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.dc(n.c),o.dc(s.a))},e.\u0275prov=o.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},"4h0v":function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=a("rIfo"),i=a("fXoL"),r=function(){var e=function(){function e(){p(this,e),this.subs=new n.a}return f(e,[{key:"ngOnDestroy",value:function(){var e;null===(e=this.subs)||void 0===e||e.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Kb({type:e,selectors:[["ng-component"]],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e}()},"8ajC":function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return ke});var n=a("mrSG"),i=a("0IaG"),r=a("TCge"),l=a("C+1A"),u=a("KD1d"),d=a("AytR"),b=a("fXoL"),v=a("ofXK"),g=a("z+xu"),h=a("3Pt+"),y=a("Wp6s"),S=a("bTqV"),C=a("7EHt"),D=a("bSwM"),I=a("QibW"),V=a("kmnG"),k=a("d3UM"),A=a("FKr1"),O=a("sYmb"),T=["captchaContainer"];function L(e,t){if(1&e&&(b.Wb(0,"div",5),b.Oc(1),b.mc(2,"translate"),b.Rb(3,"countdown",6,7),b.Vb()),2&e){var a=b.lc();b.Db(1),b.Qc(" ",b.nc(2,2,"header.headerLabel.label17"),""),b.Db(2),b.tc("config",a.config)}}function w(e,t){if(1&e&&(b.Ub(0),b.Wb(1,"div",18),b.Wb(2,"div",19),b.Rb(3,"i",20),b.Wb(4,"div"),b.Oc(5),b.Vb(),b.Vb(),b.Vb(),b.Tb()),2&e){var a=b.lc(3);b.Db(5),b.Pc(a.proceedFailMsg)}}function N(e,t){if(1&e){var a=b.Xb();b.Wb(0,"div",32),b.Wb(1,"span",33),b.hc("click",function(){b.Fc(a);var e=b.lc(4);return e.route(e.constants.modules.ELIGIBILITY_CRITERIA)}),b.Oc(2),b.mc(3,"translate"),b.Vb(),b.Vb()}2&e&&(b.Db(2),b.Pc(b.nc(3,1,"reviewAndPayment.buttons.button1")))}function x(e,t){if(1&e&&(b.Wb(0,"li",27),b.Wb(1,"div",12),b.Oc(2),b.mc(3,"translate"),b.Vb(),b.Wb(4,"div",28),b.Oc(5),b.Vb(),b.Vb()),2&e){var a=b.lc(4);b.Db(2),b.Pc(b.nc(3,2,"reviewAndPayment.formLabel.label24")),b.Db(3),b.Pc(null==a.reviewPaymentData?null:a.reviewPaymentData.serviceType)}}function M(e,t){if(1&e&&(b.Wb(0,"li",27),b.Wb(1,"div",12),b.Oc(2),b.mc(3,"translate"),b.Vb(),b.Wb(4,"div",28),b.Oc(5),b.Vb(),b.Vb()),2&e){var a=b.lc(4);b.Db(2),b.Pc(b.nc(3,2,"eligibilityCriteria.formLabel.label15")),b.Db(3),b.Pc(null==a.reviewPaymentData?null:a.reviewPaymentData.nationalityName)}}function E(e,t){if(1&e&&(b.Wb(0,"li",27),b.Wb(1,"div",12),b.Oc(2),b.mc(3,"translate"),b.Vb(),b.Wb(4,"div",28),b.Oc(5),b.Vb(),b.Vb()),2&e){var a=b.lc(4);b.Db(2),b.Pc(b.nc(3,2,"eligibilityCriteria.formLabel.label14")),b.Db(3),b.Pc(null==a.reviewPaymentData?null:a.reviewPaymentData.entryType)}}function W(e,t){if(1&e&&(b.Wb(0,"li",27),b.Wb(1,"div",12),b.Oc(2),b.mc(3,"translate"),b.Vb(),b.Wb(4,"div",28),b.Oc(5),b.Vb(),b.Vb()),2&e){var a=b.lc(4);b.Db(2),b.Pc(b.nc(3,2,"eligibilityCriteria.formLabel.label13")),b.Db(3),b.Pc(null==a.reviewPaymentData?null:a.reviewPaymentData.visaType)}}function P(e,t){if(1&e&&(b.Wb(0,"li",27),b.Wb(1,"div",12),b.Oc(2),b.mc(3,"translate"),b.Vb(),b.Wb(4,"div",28),b.Oc(5),b.Vb(),b.Vb()),2&e){var a=b.lc(4);b.Db(2),b.Pc(b.nc(3,2,"eligibilityCriteria.formLabel.label12")),b.Db(3),b.Pc(null==a.reviewPaymentData?null:a.reviewPaymentData.applicationType)}}function F(e,t){if(1&e){var a=b.Xb();b.Wb(0,"tr"),b.Wb(1,"td",43),b.Wb(2,"span",33),b.hc("click",function(){b.Fc(a);var e=b.lc().index;return b.lc(5).editYourDetails(e)}),b.Oc(3),b.mc(4,"translate"),b.Vb(),b.Vb(),b.Vb()}2&e&&(b.Db(3),b.Pc(b.nc(4,1,"reviewAndPayment.buttons.button1")))}function _(e,t){if(1&e&&(b.Wb(0,"tr"),b.Wb(1,"td",41),b.Oc(2),b.mc(3,"translate"),b.Vb(),b.Wb(4,"td",42),b.Oc(5),b.Vb(),b.Vb()),2&e){var a=b.lc().$implicit,n=b.lc(5);b.Db(2),b.Qc("",b.nc(3,2,"applicantInformation.formLabel.label4")," :"),b.Db(3),b.Pc(n.utilityService.momentInstance(null==a?null:a.dob,"DD/MM/YYYY").format(n.dateFormat.toUpperCase()))}}function R(e,t){if(1&e&&(b.Wb(0,"tr"),b.Wb(1,"td",41),b.Oc(2),b.mc(3,"translate"),b.Vb(),b.Wb(4,"td",42),b.Oc(5),b.Vb(),b.Vb()),2&e){var a=b.lc().$implicit;b.Db(2),b.Qc("",b.nc(3,2,"applicantInformation.formLabel.label6")," :"),b.Db(3),b.Pc(null==a?null:a.passportNumber)}}function G(e,t){if(1&e&&(b.Wb(0,"tr"),b.Wb(1,"td",41),b.Oc(2),b.mc(3,"translate"),b.Vb(),b.Wb(4,"td",42),b.Oc(5),b.Vb(),b.Vb()),2&e){var a=b.lc().$implicit;b.Db(2),b.Qc("",b.nc(3,2,"applicantInformation.formLabel.label7")," :"),b.Db(3),b.Pc(null==a?null:a.passportExpiry)}}function U(e,t){if(1&e&&(b.Wb(0,"tr"),b.Wb(1,"td",41),b.Oc(2),b.mc(3,"translate"),b.Vb(),b.Wb(4,"td",42),b.Oc(5),b.Vb(),b.Vb()),2&e){var a=b.lc().$implicit;b.Db(2),b.Qc("",b.nc(3,2,"postalInformation.formLabel.label8")," :"),b.Db(3),b.Pc(null==a||null==a.postalList[0]?null:a.postalList[0].courierType)}}function B(e,t){if(1&e&&(b.Ub(0),b.Wb(1,"tr"),b.Wb(2,"td",41),b.Oc(3),b.mc(4,"translate"),b.Vb(),b.Wb(5,"td",42),b.Oc(6),b.Vb(),b.Vb(),b.Wb(7,"tr"),b.Wb(8,"td",41),b.Oc(9),b.mc(10,"translate"),b.Vb(),b.Wb(11,"td",42),b.Oc(12),b.Vb(),b.Vb(),b.Wb(13,"tr"),b.Wb(14,"td",41),b.Oc(15),b.mc(16,"translate"),b.Vb(),b.Wb(17,"td",42),b.Oc(18),b.Vb(),b.Vb(),b.Wb(19,"tr"),b.Wb(20,"td",41),b.Oc(21),b.mc(22,"translate"),b.Vb(),b.Wb(23,"td",42),b.Oc(24),b.Vb(),b.Vb(),b.Wb(25,"tr"),b.Wb(26,"td",41),b.Oc(27),b.mc(28,"translate"),b.Vb(),b.Wb(29,"td",42),b.Oc(30),b.Vb(),b.Vb(),b.Wb(31,"tr"),b.Wb(32,"td",41),b.Oc(33),b.mc(34,"translate"),b.Vb(),b.Wb(35,"td",42),b.Oc(36),b.Vb(),b.Vb(),b.Tb()),2&e){var a=b.lc().$implicit;b.Db(3),b.Qc("",b.nc(4,12,"postalInformation.formLabel.label1")," :"),b.Db(3),b.Pc(null==a||null==a.postalList[0]?null:a.postalList[0].pincode),b.Db(3),b.Qc("",b.nc(10,14,"postalInformation.formLabel.label2")," :"),b.Db(3),b.Pc(null==a||null==a.postalList[0]?null:a.postalList[0].addressline1),b.Db(3),b.Qc("",b.nc(16,16,"postalInformation.formLabel.label3")," :"),b.Db(3),b.Pc(null==a||null==a.postalList[0]?null:a.postalList[0].addressline2),b.Db(3),b.Qc("",b.nc(22,18,"postalInformation.formLabel.label4")," :"),b.Db(3),b.Pc(null==a||null==a.postalList[0]?null:a.postalList[0].state),b.Db(3),b.Qc("",b.nc(28,20,"postalInformation.formLabel.label5")," :"),b.Db(3),b.Pc(null==a||null==a.postalList[0]?null:a.postalList[0].city),b.Db(3),b.Qc("",b.nc(34,22,"postalInformation.formLabel.label6")," :"),b.Db(3),b.Pc(null==a||null==a.postalList[0]?null:a.postalList[0].countryCode)}}function j(e,t){if(1&e&&(b.Ub(0),b.Wb(1,"tr"),b.Wb(2,"td",41),b.Oc(3),b.mc(4,"translate"),b.Vb(),b.Wb(5,"td",42),b.Oc(6),b.Vb(),b.Vb(),b.Wb(7,"tr"),b.Wb(8,"td",41),b.Oc(9),b.mc(10,"translate"),b.Vb(),b.Wb(11,"td",42),b.Oc(12),b.Vb(),b.Vb(),b.Wb(13,"tr"),b.Wb(14,"td",41),b.Oc(15),b.mc(16,"translate"),b.Vb(),b.Wb(17,"td",42),b.Oc(18),b.Vb(),b.Vb(),b.Tb()),2&e){var a=b.lc().$implicit;b.Db(3),b.Qc("",b.nc(4,6,"postalInformation.formLabel.label11")," :"),b.Db(3),b.Pc(null==a||null==a.postalList[0]?null:a.postalList[0].courierServiceProvider),b.Db(3),b.Qc("",b.nc(10,8,"postalInformation.formLabel.label12")," :"),b.Db(3),b.Pc(null==a||null==a.postalList[0]?null:a.postalList[0].incomingAWBNumber),b.Db(3),b.Qc("",b.nc(16,10,"postalInformation.formLabel.label13")," :"),b.Db(3),b.Pc(null==a||null==a.postalList[0]?null:a.postalList[0].outgoingAWBNumber)}}function Y(e,t){if(1&e){var a=b.Xb();b.Wb(0,"tr"),b.Wb(1,"td",44),b.Wb(2,"span",33),b.hc("click",function(){b.Fc(a);var e=b.lc().index;return b.lc(5).openDialog(e)}),b.Oc(3),b.mc(4,"translate"),b.Vb(),b.Vb(),b.Vb()}2&e&&(b.Db(3),b.Pc(b.nc(4,1,"reviewAndPayment.formLabel.label13")))}function Q(e,t){if(1&e&&(b.Wb(0,"mat-expansion-panel"),b.Wb(1,"mat-expansion-panel-header",36),b.Wb(2,"div",37),b.Wb(3,"div",38),b.Oc(4),b.mc(5,"translate"),b.Vb(),b.Wb(6,"div",39),b.Oc(7),b.Vb(),b.Vb(),b.Vb(),b.Wb(8,"table",40),b.Mc(9,F,5,3,"tr",2),b.Mc(10,_,6,4,"tr",2),b.Wb(11,"tr"),b.Wb(12,"td",41),b.Oc(13),b.mc(14,"translate"),b.Vb(),b.Wb(15,"td",42),b.Oc(16),b.Vb(),b.Vb(),b.Mc(17,R,6,4,"tr",2),b.Mc(18,G,6,4,"tr",2),b.Wb(19,"tr"),b.Wb(20,"td",41),b.Oc(21),b.mc(22,"translate"),b.Vb(),b.Wb(23,"td",42),b.Oc(24),b.Vb(),b.Vb(),b.Wb(25,"tr"),b.Wb(26,"td",41),b.Oc(27),b.mc(28,"translate"),b.Vb(),b.Wb(29,"td",42),b.Oc(30),b.Vb(),b.Vb(),b.Mc(31,U,6,4,"tr",2),b.Mc(32,B,37,24,"ng-container",2),b.Mc(33,j,19,12,"ng-container",2),b.Mc(34,Y,5,3,"tr",2),b.Vb(),b.Vb()),2&e){var a=t.$implicit,n=t.index,i=b.lc(5);b.Db(1),b.tc("@.disabled",!0),b.Db(3),b.Rc("",b.nc(5,19,"reviewAndPayment.formLabel.label6")," ",n+1,""),b.Db(3),b.Rc("",null==a?null:a.firstName," ",null==a?null:a.lastName,""),b.Db(2),b.tc("ngIf",!i.isPtFlow||!i.isDocumentUploadEnabled),b.Db(1),b.tc("ngIf",!(null!=i.configuration&&i.configuration.isDOBDisabled)),b.Db(3),b.Qc("",b.nc(14,21,"applicantInformation.formLabel.label5")," :"),b.Db(3),b.Pc(null==a?null:a.countryName),b.Db(1),b.tc("ngIf",!(null!=i.configuration&&i.configuration.isPassportNoDisabled)),b.Db(1),b.tc("ngIf",!(null!=i.configuration&&i.configuration.isPassportExpiryDateDisabled)),b.Db(3),b.Qc("",b.nc(22,23,"applicantInformation.formLabel.label11")," :"),b.Db(3),b.Pc(null==a?null:a.contactNumber),b.Db(3),b.Qc("",b.nc(28,25,"applicantInformation.formLabel.label9")," :"),b.Db(3),b.Pc(null==a?null:a.emailId),b.Db(1),b.tc("ngIf",i.commonService.checkIfPostal(i.applicationType)),b.Db(1),b.tc("ngIf",i.commonService.checkIfPostal(i.applicationType)&&!i.commonService.checkIfPrepaidCourier(null==a||null==a.postalList[0]?null:a.postalList[0].courierType)),b.Db(1),b.tc("ngIf",i.commonService.checkIfPostal(i.applicationType)&&i.commonService.checkIfPrepaidCourier(null==a||null==a.postalList[0]?null:a.postalList[0].courierType)),b.Db(1),b.tc("ngIf",!i.tmiEnabled&&!i.isPtFlow)}}function q(e,t){if(1&e&&(b.Wb(0,"mat-accordion",34),b.Mc(1,Q,35,27,"mat-expansion-panel",35),b.Vb()),2&e){var a=b.lc(4);b.Db(1),b.tc("ngForOf",null==a.reviewPaymentData?null:a.reviewPaymentData.yourDetail)("ngForTrackBy",a.trackByFn)}}function H(e,t){if(1&e&&(b.Ub(0),b.Wb(1,"div",21),b.Wb(2,"div",22),b.Wb(3,"h2",23),b.Oc(4),b.mc(5,"translate"),b.Vb(),b.Vb(),b.Mc(6,N,4,3,"div",24),b.Vb(),b.Wb(7,"div",25),b.Wb(8,"ul",26),b.Wb(9,"li",27),b.Wb(10,"div",12),b.Oc(11),b.mc(12,"translate"),b.Vb(),b.Wb(13,"div",28),b.Oc(14),b.Vb(),b.Vb(),b.Wb(15,"li",27),b.Wb(16,"div",12),b.Oc(17),b.mc(18,"translate"),b.Vb(),b.Wb(19,"div",28),b.Oc(20),b.Vb(),b.Vb(),b.Wb(21,"li",27),b.Wb(22,"div",12),b.Oc(23),b.mc(24,"translate"),b.Vb(),b.Wb(25,"div",28),b.Oc(26),b.Vb(),b.Vb(),b.Mc(27,x,6,4,"li",29),b.Wb(28,"li",27),b.Wb(29,"div",12),b.Oc(30),b.mc(31,"translate"),b.Vb(),b.Wb(32,"div",28),b.Oc(33),b.Vb(),b.Vb(),b.Wb(34,"li",27),b.Wb(35,"div",12),b.Oc(36),b.mc(37,"translate"),b.Vb(),b.Wb(38,"div",28),b.Oc(39),b.Vb(),b.Vb(),b.Mc(40,M,6,4,"li",29),b.Mc(41,E,6,4,"li",29),b.Mc(42,W,6,4,"li",29),b.Mc(43,P,6,4,"li",29),b.Vb(),b.Vb(),b.Wb(44,"h2",30),b.Oc(45),b.mc(46,"translate"),b.Vb(),b.Mc(47,q,2,2,"mat-accordion",31),b.Tb()),2&e){var a=b.lc(3);b.Db(4),b.Pc(b.nc(5,19,"reviewAndPayment.headerLabel.label2")),b.Db(2),b.tc("ngIf",a.isPtFlow),b.Db(5),b.Pc(b.nc(12,21,"eligibilityCriteria.formLabel.label4")),b.Db(3),b.Pc(null==a.reviewPaymentData?null:a.reviewPaymentData.countryName),b.Db(3),b.Pc(b.nc(18,23,"eligibilityCriteria.formLabel.label5")),b.Db(3),b.Pc(null==a.reviewPaymentData?null:a.reviewPaymentData.missionName),b.Db(3),b.Pc(b.nc(24,25,"reviewAndPayment.formLabel.label3")),b.Db(3),b.Pc(null==a.reviewPaymentData?null:a.reviewPaymentData.vacCodeName),b.Db(1),b.tc("ngIf",null==a.reviewPaymentData?null:a.reviewPaymentData.serviceType),b.Db(3),b.Pc(b.nc(31,27,"reviewAndPayment.formLabel.label4")),b.Db(3),b.Pc(null==a.reviewPaymentData?null:a.reviewPaymentData.visaCategoryName),b.Db(3),b.Pc(b.nc(37,29,"reviewAndPayment.formLabel.label5")),b.Db(3),b.Pc(null==a.reviewPaymentData?null:a.reviewPaymentData.visaSubCategoryName),b.Db(1),b.tc("ngIf",null==a.reviewPaymentData?null:a.reviewPaymentData.nationalityName),b.Db(1),b.tc("ngIf",null==a.reviewPaymentData?null:a.reviewPaymentData.entryType),b.Db(1),b.tc("ngIf",null==a.reviewPaymentData?null:a.reviewPaymentData.visaType),b.Db(1),b.tc("ngIf",null==a.reviewPaymentData?null:a.reviewPaymentData.applicationType),b.Db(2),b.Pc(b.nc(46,31,"reviewAndPayment.headerLabel.label3")),b.Db(2),b.tc("ngIf",null==a.reviewPaymentData?null:a.reviewPaymentData.yourDetail)}}function K(e,t){if(1&e){var a=b.Xb();b.Wb(0,"div",32),b.Wb(1,"span",33),b.hc("click",function(){b.Fc(a);var e=b.lc(4);return e.route(e.constants.modules.BOOK_APPOINTMENT)}),b.Oc(2),b.mc(3,"translate"),b.Vb(),b.Vb()}2&e&&(b.Db(2),b.Pc(b.nc(3,1,"reviewAndPayment.buttons.button1")))}function z(e,t){if(1&e&&(b.Ub(0),b.Wb(1,"div",21),b.Wb(2,"div",22),b.Wb(3,"h2",23),b.Oc(4),b.mc(5,"translate"),b.Vb(),b.Vb(),b.Mc(6,K,4,3,"div",24),b.Vb(),b.Wb(7,"div",25),b.Wb(8,"ul",26),b.Wb(9,"li",27),b.Wb(10,"div",12),b.Oc(11),b.mc(12,"translate"),b.Vb(),b.Wb(13,"div",28),b.Oc(14),b.mc(15,"translate"),b.Vb(),b.Vb(),b.Wb(16,"li",27),b.Wb(17,"div",12),b.Oc(18),b.mc(19,"translate"),b.Vb(),b.Wb(20,"div",28),b.Oc(21),b.mc(22,"date"),b.Vb(),b.Vb(),b.Wb(23,"li",27),b.Wb(24,"div",12),b.Oc(25),b.mc(26,"translate"),b.Vb(),b.Wb(27,"div",28),b.Oc(28),b.Vb(),b.Vb(),b.Vb(),b.Vb(),b.Tb()),2&e){var a=b.lc(3);b.Db(4),b.Pc(b.nc(5,8,"reviewAndPayment.headerLabel.label4")),b.Db(2),b.tc("ngIf",!a.isRescheduleAptmntMode),b.Db(5),b.Pc(b.nc(12,10,"reviewAndPayment.formLabel.label14")),b.Db(3),b.Pc(b.nc(15,12,null==a.reviewPaymentData||null==a.reviewPaymentData.bookAppointment?null:a.reviewPaymentData.bookAppointment.slotTypeName)),b.Db(4),b.Pc(b.nc(19,14,"reviewAndPayment.formLabel.label15")),b.Db(3),b.Pc(b.oc(22,16,null==a.reviewPaymentData||null==a.reviewPaymentData.bookAppointment?null:a.reviewPaymentData.bookAppointment.date,a.dateFormat)),b.Db(4),b.Pc(b.nc(26,19,"reviewAndPayment.formLabel.label16")),b.Db(3),b.Pc(null==a.reviewPaymentData||null==a.reviewPaymentData.bookAppointment?null:a.reviewPaymentData.bookAppointment.allocationSlot)}}function $(e,t){if(1&e){var a=b.Xb();b.Wb(0,"span",33),b.hc("click",function(){b.Fc(a);var e=b.lc(4);return e.route(e.constants.modules.SERVICES)}),b.Oc(1),b.mc(2,"translate"),b.Vb()}2&e&&(b.Db(1),b.Pc(b.nc(2,1,"reviewAndPayment.buttons.button1")))}function Z(e,t){if(1&e&&(b.Wb(0,"div",59),b.Wb(1,"div",52),b.Oc(2),b.Vb(),b.Oc(3),b.mc(4,"number"),b.Vb()),2&e){var a=b.lc().$implicit,n=b.lc(4);b.Db(2),b.Pc(n.currencyCode),b.Db(1),b.Qc(" ",b.oc(4,2,(null==a?null:a.unit)*(null==a?null:a.amount),"1.2-2")," ")}}function J(e,t){if(1&e&&(b.Wb(0,"div",59),b.Wb(1,"div",52),b.Oc(2),b.Vb(),b.Oc(3),b.mc(4,"number"),b.Vb()),2&e){var a=b.lc().$implicit,n=b.lc(4);b.Db(2),b.Pc(n.currencyCode),b.Db(1),b.Qc(" ",b.oc(4,2,null==a?null:a.amount,"1.2-2")," ")}}function X(e,t){if(1&e&&(b.Wb(0,"div",53),b.Wb(1,"div",54),b.Wb(2,"div",55),b.Oc(3),b.Vb(),b.Wb(4,"div",56),b.Wb(5,"div",52),b.Oc(6),b.Vb(),b.Oc(7),b.mc(8,"translate"),b.Vb(),b.Mc(9,Z,5,5,"div",57),b.Mc(10,J,5,5,"ng-template",null,58,b.Nc),b.Vb(),b.Vb()),2&e){var a=t.$implicit,n=b.Bc(11),i=b.lc(4);b.Db(3),b.Pc((null==a||null==a.contentful?null:a.contentful.heading)||(null==a?null:a.name)),b.Db(3),b.Pc(null==a?null:a.unit),b.Db(1),b.Qc(" ",b.nc(8,5,"reviewAndPayment.formLabel.label19")," "),b.Db(2),b.tc("ngIf",!i.isTmiService(a))("ngIfElse",n)}}function ee(e,t){if(1&e&&(b.Ub(0),b.Wb(1,"div",21),b.Wb(2,"div",22),b.Wb(3,"h2",23),b.Oc(4),b.mc(5,"translate"),b.Vb(),b.Vb(),b.Wb(6,"div",32),b.Mc(7,$,3,3,"span",45),b.Vb(),b.Vb(),b.Wb(8,"div",46),b.Wb(9,"div",47),b.Mc(10,X,12,7,"div",48),b.Wb(11,"div",49),b.Wb(12,"div",50),b.Wb(13,"div",22),b.Oc(14),b.mc(15,"translate"),b.Vb(),b.Wb(16,"div",51),b.Wb(17,"div",52),b.Oc(18),b.Vb(),b.Oc(19),b.mc(20,"number"),b.Vb(),b.Vb(),b.Vb(),b.Vb(),b.Vb(),b.Tb()),2&e){var a=b.lc(3);b.Db(4),b.Pc(b.nc(5,7,"reviewAndPayment.headerLabel.label6")),b.Db(3),b.tc("ngIf",!a.isRescheduleAptmntMode),b.Db(3),b.tc("ngForOf",null==a.reviewPaymentData?null:a.reviewPaymentData.services)("ngForTrackBy",a.trackByFn),b.Db(4),b.Pc(b.nc(15,9,"reviewAndPayment.formLabel.label17")),b.Db(4),b.Pc(a.currencyCode),b.Db(1),b.Qc(" ",b.oc(20,11,null==a.reviewPaymentData?null:a.reviewPaymentData.servicesTotal,"1.2-2")," ")}}function te(e,t){if(1&e&&(b.Wb(0,"div",65),b.Wb(1,"div",14),b.Wb(2,"div",66),b.Oc(3),b.Vb(),b.Rb(4,"div",67),b.Wb(5,"div",68),b.Oc(6),b.mc(7,"number"),b.Vb(),b.Vb(),b.Vb()),2&e){var a=b.lc().$implicit,n=b.lc(4);b.Db(3),b.Pc(null==a?null:a.feeName),b.Db(3),b.Rc("",n.currencyCode," ",b.oc(7,3,null==a?null:a.feeAmount,"1.2-2"),"")}}function ae(e,t){if(1&e&&(b.Ub(0),b.Mc(1,te,8,6,"div",64),b.Tb()),2&e){var a=t.$implicit,n=b.lc(4);b.Db(1),b.tc("ngIf",(null==a?null:a.feeAmount)>0&&(null==a?null:a.feeTypeCode)!==n.constants.FEE_TYPE_CODES.CVFEE)}}function ne(e,t){if(1&e&&(b.Wb(0,"div",65),b.Wb(1,"div",14),b.Wb(2,"div",66),b.Oc(3),b.Vb(),b.Rb(4,"div",67),b.Wb(5,"div",68),b.Oc(6),b.mc(7,"number"),b.Vb(),b.Vb(),b.Vb()),2&e){var a=b.lc().$implicit,n=b.lc(4);b.Db(3),b.Pc(null==a?null:a.feeName),b.Db(3),b.Rc("",n.currencyCode," ",b.oc(7,3,null==a?null:a.feeAmount,"1.2-2"),"")}}function ie(e,t){if(1&e&&(b.Ub(0),b.Mc(1,ne,8,6,"div",64),b.Tb()),2&e){var a=t.$implicit,n=b.lc(4);b.Db(1),b.tc("ngIf",(null==a?null:a.feeTypeCode)===n.constants.FEE_TYPE_CODES.CVFEE&&(null==a?null:a.feeAmount)>0)}}function re(e,t){if(1&e&&(b.Wb(0,"div",65),b.Wb(1,"div",14),b.Wb(2,"div",66),b.Oc(3),b.Vb(),b.Rb(4,"div",67),b.Wb(5,"div",68),b.Oc(6),b.mc(7,"number"),b.Vb(),b.Vb(),b.Vb()),2&e){var a=b.lc().$implicit,n=b.lc(4);b.Db(3),b.Qc(" ",null==a?null:a.title," "),b.Db(3),b.Rc("",n.currencyCode," ",b.oc(7,3,null==a?null:a.value,"1.2-2"),"")}}function oe(e,t){if(1&e&&(b.Ub(0),b.Mc(1,re,8,6,"div",64),b.Tb()),2&e){var a=t.$implicit;b.Db(1),b.tc("ngIf",(null==a?null:a.value)>0)}}function se(e,t){if(1&e&&(b.Wb(0,"div",14),b.Wb(1,"div",69),b.Oc(2),b.mc(3,"translate"),b.mc(4,"number"),b.Vb(),b.Vb()),2&e){var a=b.lc(4);b.Db(2),b.Sc(" ",b.nc(3,3,"reviewAndPayment.pageDetails.para3")," ",a.currencyCode," ",b.oc(4,5,null==a.reviewPaymentData?null:a.reviewPaymentData.serviceFeeTax,a.sessionService.decimalConfiguration)," ")}}var le=function(){return[]};function ce(e,t){if(1&e&&(b.Ub(0),b.Wb(1,"h2",30),b.Oc(2),b.mc(3,"translate"),b.Vb(),b.Wb(4,"div",46),b.Wb(5,"div",47),b.Mc(6,ae,2,1,"ng-container",35),b.Wb(7,"div",60),b.Wb(8,"div",14),b.Wb(9,"div",22),b.Oc(10),b.mc(11,"translate"),b.Vb(),b.Wb(12,"div",51),b.Oc(13),b.Oc(14),b.mc(15,"number"),b.Vb(),b.Vb(),b.Vb(),b.Vb(),b.Mc(16,ie,2,1,"ng-container",35),b.Wb(17,"div",61),b.Wb(18,"div",22),b.Wb(19,"h2",23),b.Oc(20),b.mc(21,"translate"),b.Vb(),b.Vb(),b.Vb(),b.Wb(22,"div",62),b.Wb(23,"div",47),b.Mc(24,oe,2,1,"ng-container",35),b.Wb(25,"div",60),b.Wb(26,"div",14),b.Wb(27,"div",22),b.Oc(28),b.mc(29,"translate"),b.Vb(),b.Wb(30,"div",51),b.Oc(31),b.mc(32,"number"),b.Vb(),b.Vb(),b.Vb(),b.Vb(),b.Vb(),b.Wb(33,"div",53),b.Wb(34,"div",14),b.Wb(35,"div",22),b.Oc(36),b.mc(37,"translate"),b.Vb(),b.Wb(38,"div",51),b.Oc(39),b.mc(40,"number"),b.Vb(),b.Vb(),b.Mc(41,se,5,8,"div",63),b.Vb(),b.Vb(),b.Tb()),2&e){var a=b.lc(3);b.Db(2),b.Pc(b.nc(3,18,"reviewAndPayment.headerLabel.label5")),b.Db(4),b.tc("ngForOf",(null==a.reviewPaymentData?null:a.reviewPaymentData.fees)||b.wc(37,le))("ngForTrackBy",a.trackByFn),b.Db(4),b.Pc(b.nc(11,20,"reviewAndPayment.formLabel.label17")),b.Db(3),b.Qc(" ",a.currencyCode," "),b.Db(1),b.Qc(" ",b.oc(15,22,a.calFeesTotal,"1.2-2")," "),b.Db(2),b.tc("ngForOf",(null==a.reviewPaymentData?null:a.reviewPaymentData.fees)||b.wc(38,le))("ngForTrackBy",a.trackByFn),b.Db(4),b.Pc(b.nc(21,25,"reviewAndPayment.headerLabel.label8")),b.Db(4),b.tc("ngForOf",null==a.reviewPaymentData?null:a.reviewPaymentData.additionalFee)("ngForTrackBy",a.trackByFn),b.Db(4),b.Pc(b.nc(29,27,"reviewAndPayment.formLabel.label17")),b.Db(3),b.Rc(" ",a.currencyCode," ",b.oc(32,29,null==a.reviewPaymentData?null:a.reviewPaymentData.additionalFeeTotal,"1.2-2")," "),b.Db(5),b.Pc(b.nc(37,32,"reviewAndPayment.formLabel.label20")),b.Db(3),b.Rc(" ",a.currencyCode," ",b.oc(40,34,null==a.reviewPaymentData?null:a.reviewPaymentData.overallTotal,"1.2-2")," "),b.Db(2),b.tc("ngIf",(null==a.reviewPaymentData?null:a.reviewPaymentData.serviceFeeTax)>0)}}var ue=function(){return{standalone:!0}};function de(e,t){if(1&e){var a=b.Xb();b.Wb(0,"div",76),b.Wb(1,"mat-checkbox",77),b.hc("ngModelChange",function(e){return b.Fc(a),b.lc(4).agreeToWaitlistConfirmation=e}),b.Wb(2,"span",78),b.Oc(3),b.mc(4,"translate"),b.Vb(),b.Vb(),b.Vb()}if(2&e){var n=b.lc(4);b.Db(1),b.tc("ngModel",n.agreeToWaitlistConfirmation)("ngModelOptions",b.wc(5,ue)),b.Db(2),b.Pc(b.nc(4,3,"reviewAndPayment.formLabel.label24"))}}function me(e,t){if(1&e){var a=b.Xb();b.Ub(0),b.Wb(1,"div",70),b.Wb(2,"div",71),b.Wb(3,"mat-checkbox",72),b.hc("ngModelChange",function(e){return b.Fc(a),b.lc(3).agreeToTermsAndCondition=e}),b.Wb(4,"span",73),b.Oc(5),b.mc(6,"translate"),b.Vb(),b.Vb(),b.Wb(7,"a",74),b.Wb(8,"span",75),b.Oc(9),b.mc(10,"translate"),b.Vb(),b.Vb(),b.Vb(),b.Vb(),b.Wb(11,"div",76),b.Wb(12,"mat-checkbox",77),b.hc("ngModelChange",function(e){return b.Fc(a),b.lc(3).canVFSReachoutToApplicant=e}),b.Wb(13,"span",78),b.Oc(14),b.mc(15,"translate"),b.Vb(),b.Vb(),b.Vb(),b.Mc(16,de,5,6,"div",79),b.Tb()}if(2&e){var n=b.lc(3);b.Db(3),b.tc("ngModel",n.agreeToTermsAndCondition)("ngModelOptions",b.wc(15,ue)),b.Db(2),b.Pc(b.nc(6,9,"reviewAndPayment.formLabel.label21")),b.Db(2),b.tc("href",n.termCondition,b.Hc),b.Db(2),b.Pc(b.nc(10,11,"reviewAndPayment.formLabel.label22")),b.Db(3),b.tc("ngModel",n.canVFSReachoutToApplicant)("ngModelOptions",b.wc(16,ue)),b.Db(2),b.Pc(b.nc(15,13,"reviewAndPayment.formLabel.label23")),b.Db(2),b.tc("ngIf",n.isWaitListJourney)}}function pe(e,t){if(1&e&&(b.Wb(0,"div",86),b.Wb(1,"mat-radio-button",87),b.Wb(2,"span",78),b.Oc(3),b.mc(4,"translate"),b.Vb(),b.Vb(),b.Vb()),2&e){var a=t.$implicit;b.Db(1),b.tc("value",a.name),b.Db(2),b.Pc(b.nc(4,2,a.label))}}function be(e,t){if(1&e){var a=b.Xb();b.Wb(0,"div"),b.Wb(1,"div",80),b.Wb(2,"h2",81),b.Oc(3),b.mc(4,"translate"),b.Vb(),b.Wb(5,"p",82),b.Oc(6),b.mc(7,"translate"),b.Vb(),b.Vb(),b.Wb(8,"div",83),b.Wb(9,"a",74),b.Wb(10,"span",75),b.Oc(11),b.mc(12,"translate"),b.Vb(),b.Vb(),b.Vb(),b.Rb(13,"br"),b.Wb(14,"div",83),b.Wb(15,"a",74),b.Wb(16,"span",75),b.Oc(17),b.mc(18,"translate"),b.Vb(),b.Vb(),b.Vb(),b.Wb(19,"div",80),b.Wb(20,"p",82),b.Oc(21),b.mc(22,"translate"),b.Vb(),b.Vb(),b.Wb(23,"mat-radio-group",84),b.hc("ngModelChange",function(e){return b.Fc(a),b.lc(3).ptRemindingType=e})("change",function(e){return b.Fc(a),b.lc(3).radioChange(e)}),b.Mc(24,pe,5,4,"div",85),b.Vb(),b.Vb()}if(2&e){var n=b.lc(3);b.Db(3),b.Pc(b.nc(4,10,"polandTurkey.pageDetails.para6")),b.Db(3),b.Pc(b.nc(7,12,"polandTurkey.pageDetails.para12")),b.Db(3),b.tc("href",n.rescheduleAppointment,b.Hc),b.Db(2),b.Pc(b.nc(12,14,"polandTurkey.pageDetails.para13")),b.Db(4),b.tc("href",n.ptRefundServiceFee,b.Hc),b.Db(2),b.Qc(" ",b.nc(18,16,"polandTurkey.pageDetails.para14"),""),b.Db(4),b.Pc(b.nc(22,18,"polandTurkey.pageDetails.para15")),b.Db(2),b.tc("ngModel",n.ptRemindingType)("ngModelOptions",b.wc(20,ue)),b.Db(1),b.tc("ngForOf",n.notificationType)}}function fe(e,t){1&e&&b.Sb(0)}function ve(e,t){if(1&e){var a=b.Xb();b.Wb(0,"form",9),b.hc("ngSubmit",function(){return b.Fc(a),b.lc(2).submitCaptcha()}),b.Wb(1,"mat-card",10),b.Mc(2,w,6,1,"ng-container",2),b.Wb(3,"h1",11),b.Oc(4),b.mc(5,"translate"),b.Vb(),b.Wb(6,"p",12),b.Oc(7),b.mc(8,"translate"),b.Vb(),b.Mc(9,H,48,33,"ng-container",2),b.Mc(10,z,29,21,"ng-container",2),b.Mc(11,ee,21,14,"ng-container",2),b.Mc(12,ce,42,39,"ng-container",2),b.Mc(13,me,17,17,"ng-container",2),b.Mc(14,be,25,21,"div",2),b.Vb(),b.Wb(15,"mat-card",13),b.Wb(16,"div",14),b.Wb(17,"div",15),b.Wb(18,"button",16),b.hc("click",function(){return b.Fc(a),b.lc(2).routePrevious()}),b.Oc(19),b.mc(20,"translate"),b.Vb(),b.Vb(),b.Wb(21,"div",15),b.Mc(22,fe,1,0,"ng-container",17),b.Vb(),b.Vb(),b.Vb(),b.Vb()}if(2&e){var n=b.lc(2),i=b.Bc(8),r=b.Bc(6);b.Eb("data-ot-cp-id",n.dataOtCpId),b.Db(2),b.tc("ngIf",n.proceedFailMsg),b.Db(2),b.Pc(b.nc(5,12,"reviewAndPayment.headerLabel.label1")),b.Db(3),b.Pc(b.nc(8,14,"reviewAndPayment.pageDetails.para1")),b.Db(2),b.tc("ngIf",!(n.isRescheduleAptmntMode||n.iswaitlistScheduleMode)),b.Db(1),b.tc("ngIf",!n.commonService.checkIfPostal(n.applicationType)&&!n.commonService.checkIfOWA(n.applicationType)&&!n.iswaitlistConfirmMode),b.Db(1),b.tc("ngIf",!n.isRescheduleAptmntMode&&!n.iswaitlistConfirmMode),b.Db(1),b.tc("ngIf",!n.isRescheduleAptmntMode),b.Db(1),b.tc("ngIf",!n.isRescheduleAptmntMode),b.Db(1),b.tc("ngIf",n.isPtFlow),b.Db(5),b.Qc(" ",b.nc(20,16,"commonSections.buttons.button8")," "),b.Db(3),b.tc("ngTemplateOutlet",(null==n.selectedSevices?null:n.selectedSevices.length)>0?i:r)}}function ge(e,t){if(1&e&&(b.Ub(0),b.Mc(1,ve,23,18,"form",8),b.Tb()),2&e){var a=b.lc();b.Db(1),b.tc("ngIf",a.reviewPaymentData)}}function he(e,t){if(1&e&&(b.Ub(0),b.Wb(1,"div",18),b.Wb(2,"div",19),b.Rb(3,"i",20),b.Wb(4,"div"),b.Oc(5),b.Vb(),b.Vb(),b.Vb(),b.Tb()),2&e){var a=b.lc(2);b.Db(5),b.Pc(a.proceedFailMsg)}}function ye(e,t){if(1&e){var a=b.Xb();b.Ub(0),b.Wb(1,"mat-card"),b.Mc(2,he,6,1,"ng-container",2),b.Wb(3,"h1",11),b.Oc(4),b.mc(5,"translate"),b.Vb(),b.Wb(6,"p",12),b.Oc(7),b.mc(8,"translate"),b.Vb(),b.Wb(9,"div"),b.Wb(10,"h2",23),b.Wb(11,"b"),b.Oc(12),b.mc(13,"translate"),b.Vb(),b.Vb(),b.Wb(14,"p",28),b.Oc(15),b.mc(16,"translate"),b.Vb(),b.Wb(17,"p",28),b.Oc(18),b.mc(19,"translate"),b.Vb(),b.Wb(20,"p",28),b.Oc(21),b.mc(22,"translate"),b.Vb(),b.Wb(23,"h2",23),b.Wb(24,"b"),b.Oc(25),b.mc(26,"translate"),b.Vb(),b.Vb(),b.Wb(27,"p",28),b.Oc(28),b.mc(29,"translate"),b.Vb(),b.Wb(30,"h2",23),b.Wb(31,"b"),b.Oc(32),b.mc(33,"translate"),b.Vb(),b.Vb(),b.Wb(34,"p",28),b.Oc(35),b.mc(36,"translate"),b.Vb(),b.Wb(37,"p",28),b.Oc(38),b.mc(39,"translate"),b.Vb(),b.Wb(40,"p",28),b.Oc(41),b.mc(42,"translate"),b.Vb(),b.Wb(43,"p",28),b.Oc(44),b.mc(45,"translate"),b.Vb(),b.Vb(),b.Wb(46,"div",14),b.Wb(47,"div",15),b.Wb(48,"button",16),b.hc("click",function(){return b.Fc(a),b.lc().goBack()}),b.Oc(49),b.mc(50,"translate"),b.Vb(),b.Vb(),b.Wb(51,"div",15),b.Wb(52,"button",16),b.hc("click",function(){return b.Fc(a),b.lc().proceedToPayment()}),b.Oc(53),b.mc(54,"translate"),b.Vb(),b.Vb(),b.Vb(),b.Vb(),b.Tb()}if(2&e){var n=b.lc();b.Db(2),b.tc("ngIf",n.proceedFailMsg),b.Db(2),b.Pc(b.nc(5,16,"reviewAndPayment.headerLabel.label9")),b.Db(3),b.Pc(b.nc(8,18,"reviewAndPayment.pageDetails.para4")),b.Db(5),b.Pc(b.nc(13,20,"reviewAndPayment.pageDetails.para5")),b.Db(3),b.Pc(b.nc(16,22,"reviewAndPayment.pageDetails.para6")),b.Db(3),b.Pc(b.nc(19,24,"reviewAndPayment.pageDetails.para7")),b.Db(3),b.Pc(b.nc(22,26,"reviewAndPayment.pageDetails.para8")),b.Db(4),b.Pc(b.nc(26,28,"reviewAndPayment.pageDetails.para9")),b.Db(3),b.Pc(b.nc(29,30,"reviewAndPayment.pageDetails.para10")),b.Db(4),b.Pc(b.nc(33,32,"reviewAndPayment.pageDetails.para11")),b.Db(3),b.Pc(b.nc(36,34,"reviewAndPayment.pageDetails.para12")),b.Db(3),b.Pc(b.nc(39,36,"reviewAndPayment.pageDetails.para13")),b.Db(3),b.Pc(b.nc(42,38,"reviewAndPayment.pageDetails.para14")),b.Db(3),b.Pc(b.nc(45,40,"reviewAndPayment.pageDetails.para15")),b.Db(5),b.Qc(" ",b.nc(50,42,"reviewAndPayment.buttons.button2")," "),b.Db(4),b.Qc(" ",b.nc(54,44,"reviewAndPayment.buttons.button3")," ")}}function Se(e,t){if(1&e&&(b.Ub(0),b.Wb(1,"div",18),b.Wb(2,"div",19),b.Rb(3,"i",20),b.Wb(4,"div"),b.Oc(5),b.Vb(),b.Vb(),b.Vb(),b.Tb()),2&e){var a=b.lc(2);b.Db(5),b.Pc(a.proceedFailMsg)}}function Ce(e,t){if(1&e&&(b.Wb(0,"mat-option",96),b.Oc(1),b.Vb()),2&e){var a=t.$implicit;b.tc("value",a.code)("disabled",!a.IsActive),b.Db(1),b.Qc(" ",null==a?null:a.name," ")}}function De(e,t){if(1&e){var a=b.Xb();b.Ub(0),b.Wb(1,"mat-card",10),b.Mc(2,Se,6,1,"ng-container",2),b.Wb(3,"h1",88),b.Oc(4),b.mc(5,"translate"),b.Vb(),b.Wb(6,"p",89),b.Oc(7),b.mc(8,"translate"),b.Vb(),b.Wb(9,"div"),b.Oc(10),b.mc(11,"translate"),b.Wb(12,"span",90),b.Oc(13,"*"),b.Vb(),b.Vb(),b.Wb(14,"div",91),b.Wb(15,"mat-form-field",92),b.Wb(16,"mat-select",93),b.hc("ngModelChange",function(e){return b.Fc(a),b.lc().selectPaymentType=e}),b.mc(17,"translate"),b.Mc(18,Ce,2,3,"mat-option",94),b.Vb(),b.Vb(),b.Vb(),b.Vb(),b.Wb(19,"mat-card",13),b.Wb(20,"div",14),b.Wb(21,"div",15),b.Wb(22,"button",16),b.hc("click",function(){return b.Fc(a),b.lc().goBack()}),b.Oc(23),b.mc(24,"translate"),b.Vb(),b.Vb(),b.Wb(25,"div",15),b.Wb(26,"button",95),b.hc("click",function(){return b.Fc(a),b.lc().goForward()}),b.Oc(27),b.mc(28,"translate"),b.Vb(),b.Vb(),b.Vb(),b.Vb(),b.Tb()}if(2&e){var n=b.lc();b.Db(2),b.tc("ngIf",n.proceedFailMsg),b.Db(2),b.Pc(b.nc(5,10,"polandTurkey.headerLabel.label2")),b.Db(3),b.Pc(b.nc(8,12,"polandTurkey.pageDetails.para26")),b.Db(3),b.Pc(b.nc(11,14,"polandTurkey.formLabel.label8")),b.Db(6),b.uc("placeholder",b.nc(17,16,"polandTurkey.formLabel.label9")),b.tc("ngModel",n.selectPaymentType),b.Db(2),b.tc("ngForOf",n.payOptions),b.Db(5),b.Qc(" ",b.nc(24,18,"commonSections.buttons.button8")," "),b.Db(3),b.tc("disabled",!n.selectPaymentType),b.Db(1),b.Qc(" ",b.nc(28,20,"commonSections.buttons.button19")," ")}}function Ie(e,t){if(1&e&&(b.Wb(0,"button",97),b.Oc(1),b.mc(2,"translate"),b.Vb()),2&e){var a=b.lc();b.tc("disabled",!a.termsAndConditionFlag),b.Db(1),b.Qc(" ",b.nc(2,2,a.finalButtonText)," ")}}function Ve(e,t){if(1&e&&(b.Rb(0,"input",98),b.Rb(1,"input",99),b.Wb(2,"button",100),b.Oc(3),b.mc(4,"translate"),b.Vb()),2&e){var a=b.lc();b.tc("value",a.loggedInUser),b.Db(2),b.tc("disabled",!a.termsAndConditionFlag),b.Db(1),b.Qc(" ",b.nc(4,3,a.finalButtonText)," ")}}var ke=function(){var t=function(t){s(u,t);var a=c(u);function u(e){var t,n,i;return p(this,u),(t=a.call(this)).dialog=e,t.constants=r.c,t.submitAttempt=!1,t.optedOutTmi=!1,t.tmiServicesAvailable=!0,t.agreeTmiProdConditions=!0,t.dataOtCpId=d.a.oneTrustPortal.dataOtCpId,t.loggedInUser="",t.payOptions=[],t.isPtFlowPaymentOption=!1,t.notificationType=[],t.initBaseForm(r.c.modules.REVIEW_PAYMENT),t.proceedFailMsg="",t.subVisaCategoryCode=[],t.configuration={},t.currencyCode="",t.visaCategoryCode=[],t.nationalityList=[],t.vacList=[],t.providerList=[],t.courierList=[],t.stateList=[],t.allowedCaptcha=!1,t.splitPayment=null===(n=t.sessionService)||void 0===n?void 0:n.splitEnabled,t.currentCaptcha=t.captchaVersionConst.default,t.agreeToTermsAndCondition=!1,t.canVFSReachoutToApplicant=!1,t.agreeToWaitlistConfirmation=!1,t.isWaitListJourney=t.iswaitlistConfirmMode,t.tmiEnabled=null===(i=t.sessionService)||void 0===i?void 0:i.tmiEnabled,t.loggedInUser=t.sessionService.getLoggedEmail(),t.isPtFlowPaymentOption=!!t.isPtFlow,t.pgDisclaimer=!1,t.isPaymentOptionsPage=!1,t.notificationType=[{name:"email",label:"polandTurkey.pageDetails.para16"},{name:"sms",label:"polandTurkey.pageDetails.para17"},{name:"none",label:"polandTurkey.pageDetails.para18"}],t}return f(u,[{key:"ngOnInit",value:function(){var e,t;this.currentCaptcha=this.captchaVersionConst.default,this.captchaToken="",this.allowedCaptcha=!0;var a={dl_category:"pageview",dl_action:"pageview- review page",dl_label:this.utilityService.countrynameByIso(window.location.pathname.split("/")[1]),value:void 0,ecommerce:void 0};if(this.timeLeft=String(600),this.isPtFlow&&!this.isRescheduleAptmntMode&&this.start(),this.utilityService.fireCustomEvent(a),this.currencyCode=this.sessionService.currencyCode||"",this.configuration=this.sessionService.applicationConfiguration,this.isRescheduleAptmntMode){this.reviewPaymentData=[];var n=this.sessionService.getAppointmentDetails();this.reviewPaymentData.bookAppointment=n}else this.loadReviewPaymentData(),(null===(t=null===(e=this.sessionService)||void 0===e?void 0:e.tmiVas)||void 0===t?void 0:t.length)>0&&this.InitiateCreateTMIPolicy();this.optedOutTmi=this.sessionService.optOutTmi,this.tmiServicesAvailable=this.sessionService.isTmiProductsAvailable,this.selectedSevices=this.sessionService.tmiVas}},{key:"getCaptchaValue",value:function(){var e=this;return new Promise(function(t,a){e.utilityService.executeCapctha(r.c.captcha_action.SCHEDULE).then(function(a){e.captchaToken=a,t(!0)})})}},{key:"start",value:function(){this.config={leftTime:this.timeLeft,format:"mm:ss",demand:!1},this.commonService.autoLogout(600)}},{key:"checkCaptchaAllowed",value:function(){var e=this;this.subs.sink=this.dataShareService.captchaAllowedRoutes.subscribe(function(t){return Object(n.b)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t?(this.allowedCaptcha=t.indexOf(r.q.REVIEW_AND_PAY)>-1,this.allowedCaptcha&&this.getCaptchaValue()):this.allowedCaptcha=!1;case 1:case"end":return e.stop()}},e,this)}))})}},{key:"getSubvisaCategoryCode",value:function(){return Object(n.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.sessionService.centerCode,a=this.sessionService.eligibilityDetails,n=null==a?void 0:a.selectedSubvisaCategory,e.next=6,this.commonService.getSubVisaCategories(t,n);case 6:i=e.sent,this.subVisaCategoryCode=i,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Error Status: ".concat(e.t0.status,"\nMessage: ").concat(e.t0.message," : ").concat(e.t0.error.data));case 13:case"end":return e.stop()}},e,this,[[0,10]])}))}},{key:"getVisaCategoryCode",value:function(){return Object(n.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.sessionService.centerCode,e.next=4,this.commonService.getVisaCategories(t);case 4:a=e.sent,this.visaCategoryCode=a,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error Status: ".concat(e.t0.status,"\nMessage: ").concat(e.t0.message," : ").concat(e.t0.error.data));case 11:case"end":return e.stop()}},e,this,[[0,8]])}))}},{key:"loadNationality",value:function(){return Object(n.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.commonService.loadNationality();case 2:this.nationalityList=e.sent;case 3:case"end":return e.stop()}},e,this)}))}},{key:"loadServiceProvider",value:function(){return Object(n.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.commonService.loadMasterData(r.c.api.masterCourierSercProvider);case 2:this.providerList=e.sent;case 3:case"end":return e.stop()}},e,this)}))}},{key:"loadCourier",value:function(){return Object(n.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.commonService.loadMasterData(r.c.api.masterCourierType);case 2:this.courierList=e.sent;case 3:case"end":return e.stop()}},e,this)}))}},{key:"loadStates",value:function(){return Object(n.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.httpService.slashParamsDoGet(r.c.api.masterState,{countryCode:this.sessionService.countryCode}).toPromise();case 2:this.stateList=e.sent;case 3:case"end":return e.stop()}},e,this)}))}},{key:"getApplicationData",value:function(){var e;return Object(n.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.commonService.getVacCenters(null===(e=this.sessionService)||void 0===e?void 0:e.appCultureCode);case 2:(a=t.sent)&&(this.vacList=a,this.sessionService.appCenterCode=a);case 4:case"end":return t.stop()}},t,this)}))}},{key:"feesApplied",value:function(){return Object(n.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.utilityService.loadFees();case 2:return t=e.sent,e.abrupt("return",((null==t?void 0:t.feeDetails)&&(this.sessionService.vacFees=null==t?void 0:t.feeDetails),this.sessionService.additionalFees=(null==t?void 0:t.additionalFee)||[],t));case 4:case"end":return e.stop()}},e,this)}))}},{key:"loadYourDetails",value:function(){var e,t,a=this;try{return null===(t=null===(e=this.sessionService)||void 0===e?void 0:e.applicationDetailValue)||void 0===t?void 0:t.applicantList.map(function(e){var t,n,i,r;return e.countryName=a.utilityService.getnationalityName(a.nationalityList,e.nationalityCode),a.commonService.checkIfPostal(a.applicationType)&&(e.postalList[0].courierType=a.utilityService.getNameFromCode(a.courierList,e.postalList[0].courierType),a.commonService.checkIfPrepaidCourier(null===(t=null==e?void 0:e.postalList[0])||void 0===t?void 0:t.courierType)?e.postalList[0].courierServiceProvider=a.utilityService.getNameFromCode(a.providerList,null===(n=null==e?void 0:e.postalList[0])||void 0===n?void 0:n.courierServiceProvider):(e.postalList[0].countryCode=a.utilityService.getnationalityName(a.nationalityList,null===(i=null==e?void 0:e.postalList[0])||void 0===i?void 0:i.countryCode),e.postalList[0].state=a.utilityService.getStateNameFromISOcode(a.stateList,null===(r=null==e?void 0:e.postalList[0])||void 0===r?void 0:r.state))),e.dob=e.dateOfBirth.day+"/"+e.dateOfBirth.month+"/"+e.dateOfBirth.year,e.passportExpiry=e.passportExpirtyDate.day+"/"+e.passportExpirtyDate.month+"/"+e.passportExpirtyDate.year,e})}catch(n){console.log(n)}}},{key:"loadReviewPaymentData",value:function(){var e,t,a,i,r,o,s,l,c,u,d;return Object(n.b)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var m,p,b,f,v,g,h,y,S,C,D,I,V,k,A,O,T,L,w,N,x;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.utilityService.startNgxUiSpinner(),m=this.isRescheduleAptmntMode||this.iswaitlistScheduleMode?this.sessionService.applicationDetailValue:this.sessionService.eligibilityDetails,n.t0=this.loadNationality(),n.t1=this.getApplicationData(),n.next=6,this.getVisaCategoryCode();case 6:return n.t2=n.sent,n.t3=this.getSubvisaCategoryCode(),p=[n.t0,n.t1,n.t2,n.t3],(null===(e=this.configuration)||void 0===e?void 0:e.enableEntryType)?(b=this.commonService.loadEntryType(),p.push(b)):p.push(void 0),(null===(t=this.configuration)||void 0===t?void 0:t.enableServiceType)?(f=this.commonService.loadServiceType(),p.push(f)):p.push(void 0),(null===(a=this.configuration)||void 0===a?void 0:a.enableVisaType)&&(null===(i=this.configuration)||void 0===i?void 0:i.enableServiceType)?(v=this.commonService.loadEOIVisaType(),p.push(v)):p.push(void 0),(null===(r=this.configuration)||void 0===r?void 0:r.enableApplicationType)?(g=this.commonService.loadSubmissionType(),p.push(g),this.applicationType=m.applicationType?m.applicationType:null,this.commonService.checkIfPostal(this.applicationType)?(h=this.loadServiceProvider(),y=this.loadCourier(),S=this.loadStates(),p.push(h,y,S)):p.push(void 0,void 0,void 0)):p.push(void 0,void 0,void 0,void 0),n.next=12,Promise.all(p);case 12:return C=n.sent,D=[this.utilityService.getnationalityName(this.nationalityList,this.sessionService.countryCode),this.utilityService.getnationalityName(this.nationalityList,this.sessionService.tenent),this.utilityService.filterVacFromCode(this.vacList,m.centerCode,"centerName"),this.utilityService.getNameFromCode(this.visaCategoryCode,m.selectedSubvisaCategory),this.utilityService.getNameFromCode(this.subVisaCategoryCode,m.visaCategoryCode),this.feesApplied()],(null===(o=this.configuration)||void 0===o?void 0:o.enableEntryType)&&m.entryType?(I=this.utilityService.getCodeName(C[4].entryTypes,m.entryType),D.push(I)):D.push(void 0),(null===(s=this.configuration)||void 0===s?void 0:s.enableServiceType)&&m.serviceType?(V=this.utilityService.getCodeName(C[5],m.serviceType),D.push(V)):D.push(void 0),(null===(l=this.configuration)||void 0===l?void 0:l.enableVisaType)&&(null===(c=this.configuration)||void 0===c?void 0:c.enableServiceType)&&m.visaType?(k=this.utilityService.getCodeName(C[6].eoiVisaTypes,m.visaType),D.push(k)):D.push(void 0),(null===(u=this.configuration)||void 0===u?void 0:u.enableApplicationType)&&m.applicationType?(A=this.utilityService.getCodeName(C[7],m.applicationType),D.push(A)):D.push(void 0),(null===(d=this.configuration)||void 0===d?void 0:d.enableNationalityFilterForVisaCategory)&&m.nationalityCode?(O=this.utilityService.getnationalityName(this.nationalityList,m.nationalityCode),D.push(O)):D.push(void 0),n.next=17,Promise.all(D);case 17:T=n.sent,this.utilityService.stopNgxUiSpinner(),L=this.loadYourDetails(),w=this.sessionService.getAppointmentDetails(),N=T[5],x=this.sessionService.applicantService,this.reviewPaymentData={},this.reviewPaymentData.nationalityName=T[10],this.reviewPaymentData.entryType=T[6],this.reviewPaymentData.serviceType=T[7],this.reviewPaymentData.visaType=T[8],this.reviewPaymentData.applicationType=T[9],this.sessionService.calculatedCodeData=this.reviewPaymentData,this.reviewPaymentData.countryName=T[0],this.reviewPaymentData.missionName=T[1],this.reviewPaymentData.vacCodeName=T[2],this.reviewPaymentData.visaCategoryName=T[3],this.reviewPaymentData.visaSubCategoryName=T[4],this.reviewPaymentData.yourDetail=L,this.reviewPaymentData.bookAppointment=w,this.reviewPaymentData.fees=null==N?void 0:N.feeDetails,this.reviewPaymentData.feesTotal=(null==N?void 0:N.feeDetails)?null==N?void 0:N.feeDetails.reduce(function(e,t){return e+t.feeAmount},0):0,this.reviewPaymentData.additionalFee=(null==N?void 0:N.additionalFee)||[],this.reviewPaymentData.additionalFeeTotal=(null==N?void 0:N.additionalFee)?null==N?void 0:N.additionalFee.reduce(function(e,t){return e+t.value},0):0,this.reviewPaymentData.services=x,this.reviewPaymentData.servicesTotal=(null==N?void 0:N.servicesFee)?N.servicesFee.reduce(function(e,t){return e+(t.totalamount||0)},0):0,this.reviewPaymentData.overallTotal=(null==N?void 0:N.totalamount)?null==N?void 0:N.totalamount:0,this.reviewPaymentData.serviceFeeTax=(null==N?void 0:N.servicesFee)?null==N?void 0:N.servicesFee.reduce(function(e,t){var a;return t.taxes.length>0?e+(null===(a=t.taxes[0])||void 0===a?void 0:a.taxAmount):e+0},0):0,this.sessionService.serviceTax=this.reviewPaymentData.serviceFeeTax,this.utilityService.updateTotalFees(this.reviewPaymentData.feesTotal),this.sessionService.feeAmount=this.reviewPaymentData.feesTotal,this.loadScript(),this.currencyCode=this.sessionService.currencyCode||"";case 21:case"end":return n.stop()}},n,this)}))}},{key:"calFeesTotal",get:function(){var e,t,a,n,i,o=null===(t=null===(e=this.reviewPaymentData)||void 0===e?void 0:e.fees)||void 0===t?void 0:t.filter(function(e){return e.feeTypeCode===r.c.FEE_TYPE_CODES.CVFEE});return o&&o.length>0?(null===(a=this.reviewPaymentData)||void 0===a?void 0:a.feesTotal)-(null===(n=o[0])||void 0===n?void 0:n.feeAmount):null===(i=this.reviewPaymentData)||void 0===i?void 0:i.feesTotal}},{key:"termCondition",get:function(){return this.utilityService.externalUrlAppend("termsandconditions")}},{key:"termsAndConditionFlag",get:function(){return this.isWaitListJourney?(this.agreeToTermsAndCondition&&this.agreeToWaitlistConfirmation||this.isRescheduleAptmntMode)&&(!this.tmiProductsView||this.optedOutTmi||this.agreeTmiProdConditions||!this.tmiServicesAvailable):this.isPtFlow?(this.agreeToTermsAndCondition||this.isRescheduleAptmntMode)&&(!this.tmiProductsView||this.optedOutTmi||this.agreeTmiProdConditions||!this.tmiServicesAvailable)&&this.ptRemindingType:(this.agreeToTermsAndCondition||this.isRescheduleAptmntMode)&&(!this.tmiProductsView||this.optedOutTmi||this.agreeTmiProdConditions||!this.tmiServicesAvailable)}},{key:"submitCaptcha",value:function(){var e,t,a,n;this.utilityService.fireCustomEvent({dl_category:"Form Submission",dl_action:"Form Submission - Confirm and Pay",dl_label:void 0,value:0});var i=this.sessionService.applicantService;i&&(null==i?void 0:i.length)>0&&this.utilityService.onCheckout(i),this.utilityService.fireCustomEvent({dl_category:"Form Submission",dl_action:"Form Submission - Confirm and Pay",dl_label:"ReviewandPayClick",value:0});var r=this.sessionService.tmiDetails||[],o={event:"pay_online",dl_category:"pay_online",dl_action:"cta_click",visa_type:null===(e=this.reviewPaymentData)||void 0===e?void 0:e.visaCategoryName,appointment_type:null===(t=this.reviewPaymentData.bookAppointment)||void 0===t?void 0:t.slotType,coverage_type:null==r?void 0:r.coveragetype,coverage_level:null==r?void 0:r.coveragelevel,extreme_sports:null==r?void 0:r.extremesports,travel_insurance_added:(null===(a=this.sessionService.tmiVas)||void 0===a?void 0:a.length)>0};this.utilityService.gaForTMI(o),this.isPtFlowPaymentOption&&!this.isPaymentOptionsPage&&this.reviewPaymentData.overallTotal>0?this.loadPaymentOptionsView():this.reviewPaymentData.overallTotal>0&&(null===(n=this.configuration)||void 0===n?void 0:n.payOnlineEnabled)?(this.pgDisclaimer=!0,this.utilityService.pushDataLayerGA({dl_event:"review_application",dl_category:"Review Application",dl_action:"Pay Online",dl_label:"Success"})):(this.utilityService.pushDataLayerGA({dl_event:"review_application",dl_category:"Review Application",dl_action:"Confirm",dl_label:"Success"}),this.proceedToPayment())}},{key:"proceedToPayment",value:function(){var e,t,a,i,o,s,l,c,u;return Object(n.b)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var m,p,b,f,v,g,h,y,S,C,D,I=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,this.submitAttempt=!0,!this.allowedCaptcha||this.captchaToken||this.captchaVersionConst.alternate!==this.currentCaptcha){n.next=3;break}return n.abrupt("return");case 3:if(this.agreeToTermsAndCondition||this.isRescheduleAptmntMode){n.next=5;break}return n.abrupt("return");case 5:if(!this.isWaitListJourney||this.agreeToWaitlistConfirmation){n.next=7;break}return n.abrupt("return");case 7:return m=this.sessionService.paymentDetails,p=null,b=null===(e=this.sessionService.applicantService)||void 0===e?void 0:e.find(function(e){return"TMIPS"===e.code}),p={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,cultureCode:this.sessionService.appCultureCode,centerCode:this.sessionService.centerCode,loginUser:this.sessionService.getLoggedEmail(),urn:this.sessionService.urn,notificationType:this.ptRemindingType||"none",paymentdetails:{paymentmode:this.configuration.payAtBankEnabled||this.isPayAtBankSelected?"Bank":(null===(t=this.configuration)||void 0===t?void 0:t.payOnlineEnabled)||this.isPayOnlineSelected?"Online":"Vac",RequestRefNo:m&&m.requestrefno?m.requestrefno.toString():"",clientId:"",merchantId:"",amount:this.reviewPaymentData.overallTotal,currency:this.sessionService.currencyCode}},this.allowedCaptcha&&this.captchaVersionConst.alternate===this.currentCaptcha&&(p.paymentdetails.api_captcha_mapvas=this.captchaToken,p.paymentdetails.captcha_version=this.captchaVersionConst.alternate),b&&(p.SplitPay=[{SplitAmount:b?null==b?void 0:b.amount:0,SubMerchantId:"43712-1"}]),this.commonService.checkIfPostal(this.applicationType)||this.commonService.checkIfOWA(this.applicationType)||this.iswaitlistConfirmMode||(p.allocationId=this.sessionService.isRescheduleAptmntMode?Number(null===(a=this.reviewPaymentData.bookAppointment)||void 0===a?void 0:a.allocationId):String(null===(i=this.reviewPaymentData.bookAppointment)||void 0===i?void 0:i.allocationId)),this.iswaitlistConfirmMode&&delete p.paymentdetails,f=this.commonService.checkIfPostal(this.applicationType)||this.commonService.checkIfOWA(this.applicationType)?r.c.api.paymentInitiate:this.iswaitlistConfirmMode?r.c.api.confirmWaitlist:this.sessionService.isRescheduleAptmntMode?r.c.api.apptReschedule:r.c.api.apptSchedule,this.sessionService.isRescheduleAptmntMode||this.commonService.checkIfPostal(this.applicationType)||this.commonService.checkIfOWA(this.applicationType)||(p.CanVFSReachoutToApplicant=this.canVFSReachoutToApplicant),n.next=15,this.httpService.payloadPost(f,p,"Schedule").toPromise().catch(function(e){throw e}).then(function(e){return e});case 15:if(v=n.sent,(null===(o=this.sessionService)||void 0===o?void 0:o.resourceGroupDataTemp)||(this.sessionService.resourceGroupDataTemp=null===(s=this.sessionService)||void 0===s?void 0:s.resourceGroupData),g=this.utilityService.convertKeystoLowercase(v),!this.isRescheduleAptmntMode||!(null==g?void 0:g.isappointmentrescheduled)){n.next=20;break}return n.abrupt("return",(this.dataShareService.rescheduledData=v,void this.commonService.routeToDashboard()));case 20:if((null==g?void 0:g.error)||!(null==g?void 0:g.isconfirmed)||!this.sessionService.waitlistJourney){n.next=22;break}return n.abrupt("return",(this.sessionService.paymentDetails=g,this.sessionService.paymentData=null==p?void 0:p.paymentdetails,void this.commonService.routeToPostLoginModule(r.q.PAYMENT_CONFIRMATION)));case 22:if((null==g?void 0:g.error)||!this.isPayAtBankSelected){n.next=24;break}return n.abrupt("return",(this.sessionService.paymentDetails=g,this.isPtFlow&&this.commonService.stopTimeOut(),this.sessionService.paymentData=null==p?void 0:p.paymentdetails,this.sessionService.isPayAtBankSelected=!0,void this.commonService.routeToPostLoginModule(r.q.PAYMENT_CONFIRMATION)));case 24:(null==g?void 0:g.error)||!(null==g?void 0:g.isappointmentbooked)||(null==g?void 0:g.ispaymentrequired)||(null==g?void 0:g.url)?g&&!g.error&&(null==g?void 0:g.isappointmentbooked)&&g.ispaymentrequired&&g.url?(this.isPtFlow&&this.commonService.stopTimeOut(),this.sessionService.paymentDetails=g,this.sessionService.paymentData=null==p?void 0:p.paymentdetails,h="".concat(g.url,"?RequestRefNo=").concat(g.requestrefno,"&Email=").concat(this.sessionService.getLoggedEmail(),"&Currency=").concat(this.sessionService.currencyCode,"&Culture=").concat(this.sessionService.appCultureCode,"&Amount=").concat(this.reviewPaymentData.overallTotal,"&DigitalSignature=").concat(g.digitalsignature,"&RedirectURL="),window.open(h,"_self")):g&&!g.error&&(this.commonService.checkIfPostal(this.applicationType)||this.commonService.checkIfOWA(this.applicationType))&&g.ispaymentrequired&&g.url?(this.sessionService.paymentDetails=g,this.sessionService.paymentData=null==p?void 0:p.paymentdetails,y="".concat(g.url,"?RequestRefNo=").concat(g.requestrefno,"&Currency=").concat(this.sessionService.currencyCode,"&Culture=").concat(this.sessionService.appCultureCode,"&Amount=").concat(this.reviewPaymentData.overallTotal,"&DigitalSignature=").concat(g.digitalsignature,"&RedirectURL="),window.open(y,"_self")):(document.body.scrollTop=document.documentElement.scrollTop=0,1035===(null===(l=null==g?void 0:g.error)||void 0===l?void 0:l.code)&&this.sessionService.appCultureCode.indexOf("zh-CN")>-1?this.subs.sink=this.translateService.get("reviewAndPayment.messages.errorMessages.message1").subscribe(function(e){return S=e}):S=null===(c=null==g?void 0:g.error)||void 0===c?void 0:c.description,S=S.replace(" X "," ".concat(null===(u=this.configuration)||void 0===u?void 0:u.allowRescheduleXDaysPriorToAppointment," ")),(C=S.match(/\[([^)]+)\]/))&&C[1],JSON.parse(JSON.stringify(this.configuration)),this.proceedFailMsg=S.replace(" X "," ".concat(this.configuration.allowRescheduleXDaysPriorToAppointment," ")),setTimeout(function(){I.proceedFailMsg=""},5e3)):(this.isPtFlow&&this.commonService.stopTimeOut(),this.sessionService.paymentDetails=g,this.sessionService.paymentData=null==p?void 0:p.paymentdetails,this.commonService.routeToPostLoginModule(r.q.PAYMENT_CONFIRMATION)),n.next=39;break;case 27:if(n.prev=27,n.t0=n.catch(0),this.logger.error(n.t0),this.allowedCaptcha){n.next=31;break}return n.abrupt("return");case 31:if(!d.a.captchaFallbackEnabled){n.next=35;break}this.captchaToken="",this.currentCaptcha=this.captchaVersionConst.alternate,this.captchaToken="",this.utilityService.resetCaptcha(),n.next=39;break;case 35:return n.next=37,this.captchaContainer.generateToken();case 37:D=n.sent,this.captchaToken=D;case 39:case"end":return n.stop()}},n,this,[[0,27]])}))}},{key:"InitiateCreateTMIPolicy",value:function(){var e,t,a,i,o;return Object(n.b)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var s,l,c,u,d,m,p=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return s=null===(t=null===(e=this.sessionService)||void 0===e?void 0:e.applicationDetailValue)||void 0===t?void 0:t.applicantList,(l=null===(a=this.sessionService)||void 0===a?void 0:a.tmiDetails).startDate=this.utilityService.convertJSONInDate(null==l?void 0:l.startdate),c=null===(i=this.sessionService)||void 0===i?void 0:i.tmiVas,u=[],s.forEach(function(e){(null==e?void 0:e.isTmiApplicant)&&u.push({arn:e.arn,firstName:null==e?void 0:e.firstName,lastName:null==e?void 0:e.lastName,age:null==e?void 0:e.age,dateOfBirth:p.utilityService.convertJSONInDate(null==e?void 0:e.dateOfBirth),emailId:null==e?void 0:e.emailId,dialCode:null==e?void 0:e.dialCode,contactNumber:null==e?void 0:e.contactNumber})}),d=null==s?void 0:s.filter(function(e){return null==e?void 0:e.isTmiApplicant}).map(function(e){return Object({addressLine1:e.addressline1,addressLine2:e.addressline2,postalCode:e.pincode,city:e.city,state:e.state,country:e.state,district:e.state})}),m={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.centerCode,loginUser:this.sessionService.getLoggedEmail(),URN:this.sessionService.urn,amount:String(null===(o=c[0])||void 0===o?void 0:o.amount),productId:c[0].productId,subProductId:c[0].subProductId||"",companyName:c[0].companyName,productName:c[0].productName,applicants:u,insuranceTravelDetails:{coverageLevel:null==l?void 0:l.coveragelevel,coverageType:null==l?void 0:l.coveragetype,startDate:this.utilityService.convertJSONInDate(null==l?void 0:l.startdate),endDate:this.utilityService.convertJSONInDate(null==l?void 0:l.enddate),firstCountryOfEntry:null==l?void 0:l.countryofentry,isRequiredExtraSports:!!(null==l?void 0:l.extremesports)&&JSON.parse(null==l?void 0:l.extremesports)},productHolderAddress:d[0]},n.next=7,this.httpService.payloadPost(r.c.api.createPolicy,m).toPromise().then(function(e){return e}).catch(function(e){return e});case 7:case"end":return n.stop()}},n,this)}))}},{key:"route",value:function(e){try{this.isPtFlow&&this.commonService.stopTimeOut(),this.commonService.removeTmiProductSelection();var t=this.commonService.getSchemaByModuleName(e);this.commonService.routeToPostLoginModule(t.routeUrl)}catch(a){console.log(a)}}},{key:"editYourDetails",value:function(t){try{this.dataShareService.editYourDetail=!0,this.sessionService.editApplicantDetailsIdx=t;var a=this.sessionService.getAllModulesSchema().find(function(e){return e.logicalName===r.c.modules.APPLICANT_DETAILS});if(!a)throw new Error("Error: invalid_module ".concat(e));this.commonService.routeToPostLoginModule(a.routeUrl)}catch(n){console.log(n)}}},{key:"removeApplicant",value:function(e){var t;return Object(n.b)(this,void 0,void 0,regeneratorRuntime.mark(function a(){var n,i,r;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,this.commonService.deleteApplicantDetails(e);case 3:return n=a.sent,this.reviewPaymentData.yourDetail=this.loadYourDetails(),this.sessionService.updateFees=!0,a.next=7,this.feesApplied();case 7:i=a.sent,r=this.sessionService.applicantService,this.reviewPaymentData.fees=null==i?void 0:i.feeDetails,this.reviewPaymentData.feesTotal=(null==i?void 0:i.feeDetails)?null==i?void 0:i.feeDetails.reduce(function(e,t){return e+t.feeAmount},0):0,this.reviewPaymentData.services=r,this.reviewPaymentData.servicesTotal=(null==i?void 0:i.servicesFee)?i.servicesFee.reduce(function(e,t){return e+(t.totalamount||0)},0):0,this.reviewPaymentData.overallTotal=(null==i?void 0:i.totalamount)?null==i?void 0:i.totalamount:0,this.reviewPaymentData.serviceFeeTax=(null==i?void 0:i.servicesFee)?null==i?void 0:i.servicesFee.reduce(function(e,t){var a;return t.taxes.length>0?e+(null===(a=t.taxes[0])||void 0===a?void 0:a.taxAmount):e+0},0):0,this.sessionService.serviceTax=this.reviewPaymentData.serviceFeeTax,this.utilityService.updateTotalFees(this.reviewPaymentData.feesTotal),0===(null===(t=null==n?void 0:n.applicantList)||void 0===t?void 0:t.length)&&(this.utilityService.clearInProgressApplication(),this.commonService.routeToDashboard()),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),console.log(a.t0);case 15:case"end":return a.stop()}},a,this,[[0,12]])}))}},{key:"openDialog",value:function(e){var t=this;try{var a=new i.e;a.data={header:"commonSections.headerLabel.label3",translateHeader:!0,dialogDisplay:"small",body:"applicantInformation.messages.infoMessages.message1",translateBody:!0,rightButton:"commonSections.buttons.button37",translateRightButton:!0,leftButton:"commonSections.buttons.button3",translateLeftButton:!0};var n=this.dialog.open(l.a,a);this.subs.sink=n.afterClosed().subscribe(function(a){a&&t.removeApplicant(Number(e))})}catch(r){console.log(r)}}},{key:"routePrevious",value:function(){try{if(this.utilityService.pushDataLayerGA({dl_event:"review_application",dl_category:"Review Application",dl_action:"Go Back",dl_label:"page_url"}),this.isRescheduleAptmntMode){var e=this.commonService.getSchemaByModuleName(r.c.modules.BOOK_APPOINTMENT);this.commonService.routeToPostLoginModule(e.routeUrl)}else o(m(u.prototype),"routePrevious",this).call(this)}catch(t){console.log(t)}}},{key:"isRescheduleAptmntMode",get:function(){return!0===this.sessionService.isRescheduleAptmntMode}},{key:"iswaitlistConfirmMode",get:function(){var e=this.sessionService.eligibilityDetails;return!!(null==e?void 0:e.agreeToWaitlist)&&e.agreeToWaitlist}},{key:"iswaitlistScheduleMode",get:function(){return this.sessionService.iswaitlistScheduleMode}},{key:"isTmiService",value:function(e){return"TMIPS"===(null==e?void 0:e.code)}},{key:"submitV2Captcha",value:function(e){this.captchaToken=e,this.currentCaptcha=this.captchaVersionConst.alternate}},{key:"tmiProductsView",get:function(){var e;return null===(e=this.sessionService)||void 0===e?void 0:e.tmiProductView}},{key:"finalButtonText",get:function(){var e,t,a;return 0===(null===(e=this.reviewPaymentData)||void 0===e?void 0:e.overallTotal)||this.isRescheduleAptmntMode||this.iswaitlistConfirmMode?"commonSections.buttons.button4":this.isPtFlowPaymentOption?"commonSections.buttons.button19":(null===(t=this.configuration)||void 0===t?void 0:t.payOnlineEnabled)?"commonSections.buttons.button34":(null===(a=this.configuration)||void 0===a?void 0:a.payAtVACEnabled)?"commonSections.buttons.button39":"commonSections.buttons.button4"}},{key:"loadScript",value:function(){return this.utilityService.appendScriptForConsent(),!0}},{key:"radioChange",value:function(e){}},{key:"ptRescheduleAppointmentLink",get:function(){return this.utilityService.externalUrlAppend("book-your-appointment")}},{key:"ptRefundServiceFee",get:function(){return this.utilityService.externalUrlAppend("refund-policy")}},{key:"rescheduleAppointment",get:function(){return this.utilityService.externalUrlAppend("reschedule-appointment")}},{key:"goBack",value:function(){this.isPaymentOptionsPage?(this.isPaymentOptionsPage=!1,this.pgDisclaimer=!1):this.pgDisclaimer&&(this.isPtFlowPaymentOption?(this.pgDisclaimer=!1,this.isPaymentOptionsPage=!0):this.pgDisclaimer=!1)}},{key:"goForward",value:function(){this.isPayOnlineSelected?(this.pgDisclaimer=!0,this.isPaymentOptionsPage=!1):this.proceedToPayment()}},{key:"isPayOnlineSelected",get:function(){return!!this.utilityService.strictCompare(this.selectPaymentType,"ONLINE")}},{key:"isPayAtBankSelected",get:function(){return!!this.utilityService.strictCompare(this.selectPaymentType,"BANK")}},{key:"loadPaymentOptionsView",value:function(){var e,t,a;return Object(n.b)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,vacCenter:this.sessionService.centerCode,cultureCode:this.sessionService.appCultureCode,date:this.utilityService.momentInstance(null===(t=null===(e=this.reviewPaymentData)||void 0===e?void 0:e.bookAppointment)||void 0===t?void 0:t.date).format("DD-MM-YYYY")},n.next=4,this.httpService.slashParamsDoGet(r.c.api.masterPaymentMode,i).toPromise();case 4:(o=n.sent).length>0&&null===(null===(a=o[0])||void 0===a?void 0:a.error)&&(this.isPaymentOptionsPage=!0,this.payOptions=o),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),this.logger.error(n.t0);case 11:case"end":return n.stop()}},n,this,[[0,8]])}))}}]),u}(u.a);return t.\u0275fac=function(e){return new(e||t)(b.Qb(i.b))},t.\u0275cmp=b.Kb({type:t,selectors:[["app-review-and-payment"]],viewQuery:function(e,t){var a;(1&e&&b.Uc(T,1),2&e)&&(b.Ac(a=b.ic())&&(t.captchaContainer=a.first))},features:[b.Ab],decls:9,vars:4,consts:[[1,"container","py-15","py-md-30"],["class","form-card timer-css text-right border-0 mb-5",4,"ngIf"],[4,"ngIf"],["continueBtn",""],["submitBtn",""],[1,"form-card","timer-css","text-right","border-0","mb-5"],[3,"config"],["cd",""],["class","ot-form-consent","action","","method","post",3,"ngSubmit",4,"ngIf"],["action","","method","post",1,"ot-form-consent",3,"ngSubmit"],[1,"form-card"],[1,"fs-24","fs-sm-42","mb-30"],[1,"c-brand-grey-para"],[1,"form-card","p-0","border-0","shadow-none"],[1,"row"],[1,"col-12","col-sm-6","mt-20"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange",3,"click"],[4,"ngTemplateOutlet"],[1,"border-info",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-check-circle-o","fs-24","position-absolute","left-15","top-18","mb-0"],[1,"row","mb-20"],[1,"col"],[1,"fs-18","fs-sm-24","mb-0"],["class","col-auto",4,"ngIf"],[1,"card","border-bottom-2","mb-40"],[1,"list-group","list-group-flush"],[1,"list-group-item","p-15","px-md-25"],[1,"fs-18","mt-8"],["class","list-group-item p-15 px-md-25",4,"ngIf"],[1,"fs-18","fs-sm-24","mb-20"],["class","dashboard-accordion card mb-40",4,"ngIf"],[1,"col-auto"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer",3,"click"],[1,"dashboard-accordion","card","mb-40"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"card-header","bg-brand-footer"],[1,"py-2"],[1,"fs-16","c-brand-grey-para"],[1,"fs-18","mt-3","text-overflow"],[1,"c-brand-grey-para","w-100","fs-16","mt-15"],[1,"py-10","w-25"],[1,"py-10"],["colspan","2",1,"py-10","text-right"],["colspan","2",1,"pt-20"],["class","c-brand-orange text-decoration-underline cursor-pointer",3,"click",4,"ngIf"],[1,"card","fs-sm-18","border-0","border-bottom-1","mb-40"],[1,"card"],["class","card-body p-15 px-md-25",4,"ngFor","ngForOf","ngForTrackBy"],[1,"card-body","border-top-1","border-bottom-1","p-15","px-md-25","bg-brand-footer"],[1,"row","align-items-center"],[1,"col-auto","c-brand-green","text-right"],[1,"d-sm-inline-block"],[1,"card-body","p-15","px-md-25"],[1,"row","no-gutters"],[1,"col-7"],[1,"col-2","px-2","c-brand-grey-para"],["class","col-3 text-right",4,"ngIf","ngIfElse"],["tmi",""],[1,"col-3","text-right"],[1,"card-body","p-15","px-md-25","bg-brand-footer","rounded-4"],[1,"row","mb-20","mt-40"],[1,"card","fs-sm-18","border-0","border-bottom-1","mb-0"],["class","row",4,"ngIf"],["class","card-body border-bottom-1 p-15 px-md-25",4,"ngIf"],[1,"card-body","border-bottom-1","p-15","px-md-25"],[1,"col-12","col-sm-7"],[1,"col","c-brand-grey-para"],[1,"col-auto","text-right"],[1,"col","fs-13","text-right"],[1,"form-group","mb-20"],[1,"pl-35"],[1,"mat-checkbox-brand","ml-n35",3,"ngModel","ngModelOptions","ngModelChange"],[1,"fs-sm-18","text-wrap","mr-5"],["target","_blank",3,"href"],[1,"c-brand-orange","fs-sm-18","text-decoration-underline","cursor-pointer"],[1,"form-group","mb-30"],[1,"mat-checkbox-brand",3,"ngModel","ngModelOptions","ngModelChange"],[1,"fs-sm-18","text-wrap"],["class","form-group mb-30",4,"ngIf"],[1,"col-12","mt-30"],[1,"fs-18"],[1,"c-brand-grey-para","fs-sm-18"],[1,"pl-15"],[1,"flex-column","mat-radio-group-brand","mb-10",3,"ngModel","ngModelOptions","ngModelChange","change"],["class","mb-15",4,"ngFor","ngForOf"],[1,"mb-15"],[3,"value"],[1,"fs-24","fs-sm-42","mb-15"],[1,"c-brand-grey-para","mb-30"],[1,"c-brand-error"],[1,"mb-10"],["appearance","outline",1,"mat-form-field-outline-brand"],[3,"ngModel","placeholder","ngModelChange"],[3,"value","disabled",4,"ngFor","ngForOf"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange",3,"disabled","click"],[3,"value","disabled"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled"],["type","email","id","inputEmail","required","",1,"ot-form-control","d-none",3,"value"],["value","The personal details provided by all persons on this form may be shared with VFS' Insurance partners","checked","true","type","checkbox",1,"d-none"],["type","submit","id","trigger","mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled"]],template:function(e,t){1&e&&(b.Wb(0,"section",0),b.Mc(1,L,5,4,"div",1),b.Mc(2,ge,2,1,"ng-container",2),b.Mc(3,ye,55,46,"ng-container",2),b.Mc(4,De,29,22,"ng-container",2),b.Vb(),b.Mc(5,Ie,3,4,"ng-template",null,3,b.Nc),b.Mc(7,Ve,5,5,"ng-template",null,4,b.Nc)),2&e&&(b.Db(1),b.tc("ngIf",!t.isRescheduleAptmntMode&&t.isPtFlow),b.Db(1),b.tc("ngIf",!t.pgDisclaimer&&!t.isPaymentOptionsPage),b.Db(1),b.tc("ngIf",t.pgDisclaimer&&!t.isPaymentOptionsPage),b.Db(1),b.tc("ngIf",!t.pgDisclaimer&&t.isPaymentOptionsPage))},directives:[v.o,g.a,h.y,h.r,h.s,y.a,S.a,v.t,C.a,v.n,C.c,C.d,D.a,h.q,h.t,I.b,I.a,V.b,k.a,A.j],pipes:[O.d,v.e,v.f],encapsulation:2}),t}()}).call(this,a("3UD+")(e))},"9fxR":function(e){e.exports=JSON.parse('{"modules":{"IGNORE":"ignore","LOGIN":"login","FORGOT_PASSWORD":"forgotPassword","REGISTER":"register","ON_BOARDING":"onBoarding","DOCUMENT_UPLOAD":"documentsUpload","PASSPORT_DETAILS":"passportInformation","FLIGHT_DETAILS":"travelInformation","ACCOMODATION_DETAILS":"accommodationInformation","ADDITIONAL_DETAILS":"vafInformation","REVIEW_PAYMENT":"disclaimer","ELIGIBILITY_CRITERIA":"eligibilityCriteria","TRAVEL_DETAILS":"travelInformation","APPLICANT_DETAILS":"applicantInformation","BOOK_APPOINTMENT":"bookAppointment","SERVICES":"services","TRAVEL_MEDICAL_INSURANCE":"insurance","POSTAL_INFORMATION":"postalInformation","UPDATE_CATEGORY":"update-category","RESEND_EMAIL_ACTIVATION":"resend-email-activation","TMI_OAB_Login":"tmi-oab-login"},"captchaaction":{"LOGIN":"login","SLOT":"slot","APPLICANT":"applicant","SCHEDULE":"schedule","COURIER":"courier","POSTAL":"postal","FEES":"fees","MAPVAS":"mapvas","ACTIVEAPPLICATION":"activeapplication","ELIGIBILITY":"eligibility","ON_BOARDING":"register","FORGOT_PASSWORD":"forgotpassword"},"routes":{"LOGIN":"login","FORGOT_PASSWORD":"forgot-password","ELIGIBILITY_CRITERIA":"eligibility-criteria","ON_BOARDING":"register","BASE_ROUTE":"user","DOCUMENT_UPLOAD":"document-upload","PASSPORT_DETAILS":"passport-details","FLIGHT_DETAILS":"flight-details","ACCOMODATION_DETAILS":"accomodation-details","ADDITIONAL_DETAILS":"additional-details","REVIEW_AND_PAY":"review-pay","DASHBOARD":"dashboard","TRAVEL_DETAILS":"travel-details","APPLICANT_DETAILS":"applicant-details","PAYMENT_CONFIRMATION":"confirmation","PAYMENT_GATEWAY":"payment-gateway","REVIEW_APPLICATION":"review-application","ADDITIONAL_DOCUMENT":"additional-document","TRACK_STATUS":"track-status","ACTIVATE_EMAIL":"activateemail","RESETPASSWORD":"resetpassword","SERVICES":"services","BOOK_APPOINTMENT":"book-appointment","POSTAL_INFORMATION":"postal-information","TRAVEL_MEDICAL_INSURANCE":"insurance","YOUR_DETAILS":"your-details","APPLICATION_DETAIL":"application-detail","APPLICATION_DETAILS":"applicationdetails","NOT_FOUND":"page-not-found","UPDATE_CATEGORY":"update-category","APPOINTMENT_VERIFICATION":"appointment-verification","RESEND_EMAIL_ACTIVATION":"email-activation","COURIER_ADDRESS":"courier-address","TMI_OAB_Login":"tmi-oab-login","VAYD_ADDRESS":"VAYD-Address","FF_INFO":"ff-info","FF_YOUR_DETAILS":"ff-your-details","FF_PAYMENT_CONFIRMATION":"ff-confirmation","FF_VISA_INFO":"ff-visa-info","FF_TRANSACTION_SUMMARY":"ff-transaction-summary"},"errors":{"MODULE_NOT_FOUND":"ERROR: module_not_found","INVALID_RESPONSE":"ERROR: invalid_response","INVALID_FILE":"ERROR: invalid_file","API_NOT_FOUND":"ERROR: api_not_found","FUNCTION_CALL_FAILED":"ERROR: fn_call_failed","ERROR_OCCURED":"ERROR: error_occured","MIN_DATE_VALIDATOR_FAILED":"ERROR: min_date_validator_failed","MAX_DATE_VALIDATOR_FAILED":"ERROR: max_date_validator_failed","MAX_CURR_DATE_VALIDATOR_FAILED":"ERROR: max_curr_date_validator_failed","MIN_CURR_DATE_VALIDATOR_FAILED":"ERROR: min_curr_date_validator_failed","FILE_UPLOAD_FAILED":"ERROR: file_upload_failed","DATETIME_VALIDATOR_FAILED":"ERROR: datetime_validator_failed","BASEFORM_INIT_FAILED":"ERROR: baseform_init_failed","DEP_INJECTION_FAILED":"ERROR: dependency_injection_failed","ROUTE_NEXT_FAILED":"ERROR: route_next_failed","ROUTE_PREV_FAILED":"ERROR: route_prev_failed","NEXT_MODULE_NAME_FETCH_FAILED":"ERROR: next_module_name_fetch_failed","BASE_FORM_INIT_FAILED":"ERROR: base_form_init_failed","TRANSLATION_INIT_FAILED":"ERROR: translation_init_failed","API_CALL_FAILED":"Error: api_call_failed","PAGE_SCHEMA_LOAD_FAILED":"Error: page_schema_load_failed","INVALID_URL":"Errors: invalid_url","FORM_INIT_FAILED":"Errors: form_group_init_failed","EVENT_REGISTRATION_FAILED":"Error: event_reg_failed","INVALID_REGISTRATION_RESPONSE":"Error: invalid_user_reg_response","CHILD_ACTIVATION_FAILED":"Error: child_activation_end_failed","FORM_DATA_LOAD_FAILED":"Error: form_data_load_failed","TEXT_VAL_CHANGE_EVENT_REG_FAILED":"Error: text_val_change_evnt_reg_failed","ONCLICK_EVENT_FAILED":"Error: onclick_event_failed","FUNCTION_NOT_FOUND":"Error: function_not_found","BUCKET_NOT_FOUND":"Error: module_bucket_not_found","NO_BUCKET_PROVIDED":"Error: no_bucket_provided_for_selected_value","NO_BUCKET_FIELD_REF_SCHEMA":"Error: no_bucket_field_ref_in_schema","FILTER_KEY_NOT_FOUND_IN_RESPONSE":"Error: filter_key_not_found_in_response","ROUTE_ID_FETCH_FAILED":"Error: route_id_fetch_failed","VISA_TYPE_CONTROL_NOT_FOUND":"Error: visatype_control_not_found","KEY_NOT_FOUND_IN_STORAGE":"Error: key_not_found_in_browser_storage","INVALID_DATE_FORMAT":"Error: invalid_date_format","INVALID_GOVT_REF_NMBR":"Error: invalid_govt_ref_number"},"urls":{"schema":{"postLogin":"/schema","onBoarding":"/schema/on-boarding","registration":"/schema/registration","documentUpload":"/schema/document-upload","login":"/schema/login","forgotPassword":"/schema/forgot-password"},"api":{"login":"/user/login","documentUpload":"/document-upload","forgotPassword":"/user/forgetpassword","generateOtp":"/user/generateuserotp","resetPassword":"/user/resetpassword","passportDetails":"/passport-details","registration":"/user/registration","status":"/application/get-applicants-list","payment":"/payment","postLoginSchema":"/application/get-schema","verifyOtp":"/auth/verify-otp","applicantStatus":"/dashboard/get-applications-status","logout":"/user/logout","deleteApplication":"/application/delete-application","getApplications":"/dashboard/get-applications","getActiveApplication":"/appointment/application","downloadPdf":"/appointment/downloadpdf","emailPdf":"/appointment/emailpdf","cancelAppointment":"/appointment/cancel","cancelWaitlist":"/appointment/CancelWaitlist","appointmentSlots":"/appointment/slots","appointmentFees":"/appointment/fees","loadNationality":"/master/nationality","loadEntrytype":"/master/entrytype","loadFeeExemptionType":"/master/FeeExemptionType","loadFeeEntrytype":"/master/FeeEntryType","loadFeeExemptionDetails":"/master/FeeExemptionDetails","loadEoiVisaType":"/master/eoivisatype","loadEoiApplicationType":"/master/submissiontype","loadEoiServiceType":"/master/servicetype","saveVAYDAddress":"/appointment/vaydaddress","courierAddress":"/appointment/address","vasByVac":"/vas/vasbyvac","configuration":"/configuration/fields","mapVas":"/vas/mapvas","mapTmiVas":"/vas/MapTMIPartnerService","activateEmail":"/user/activateemail","masterMission":"/master/mission","masterCountry":"/master/country","masterCenter":"/master/center","masterTMIData":"/tmicomponent/gettmipartnermasterdata","masterSubVisaCategory":"/master/subvisacategory","masterVisaCategoryCode":"/master/visacategory","masterLanguage":"/master/language","paymentInitiate":"/payment/initiate","paymentConfirm":"/payment/confirm","apptReschedule":"/appointment/reschedule","apptSchedule":"/appointment/schedule","confirmAppointment":"/payments/confirmappointment","downloadShippingLabel":"/courier/downloadshippinglabel","getAddress":"/courier/getaddress","masterGender":"/master/gender","masterPassportType":"/master/passporttype","mapFee":"/appointment/mapfee","masterCourierType":"/master/couriertype","masterCourierSercProvider":"/master/courierserviceprovider","updatePrepaidCourierInfo":"/courier/updateppcourierinfo","updateVFSCourierInfo":"/courier/updateaddress","masterState":"/master/state","serviceFee":"/appointment/servicefees","appointmentVerify":"/appointment/verify","checkSlotavailiable":"/appointment/CheckIsSlotAvailable","confirmWaitlist":"/appointment/ConfirmWaitlist","applicant":"/appointment/applicants","getTMIProducts":"/tmi/GetTMIProducts","createPolicy":"/tmi/initiatecreatepolicy","updateApplicant":"/appointment/updatewaitlistvisa","createverifyotp":"/appointment/OTP","resendEmailActivation":"/user/resendactivationmail","vss4ReportData":"/appointment/saveuseractionaudit","visaCategoryCodeWithoutCenter":"/master/visacategorywithoutcenter","subVisacategoryWithoutCenter":"/master/subvisacategorywithoutcenter","centerWithSlots":"/master/centerwithslots","serviceFeeswithoutUrn":"/appointment/servicefees","saveCourierAddress":"/appointment/savecourieraddress","uploadDocument":"/appointment/UploadApplicantDocument","masterPaymentMode":"/master/paymentmode","subVisaCategory":"/master/subvisacategoryforservice","serviceApplicants":"/appointment/serviceapplicants","confirmSevicePayment":"/payments/confirmservicepayment","serviceForApplicant":"/vas/serviceforapplicant"},"data":{"passportDetails":"/data/passport-details"}},"schemaValues":{"getModuleData":"GET_MODULE_DATA","saveToSession":"SAVE_TO_SESSION"},"schemaKeys":{"uploadedFiles":"uploadedFiles"},"validations":{"datepicker":{"MIN_CURRENT":"MIN-CURRENT","MAX_CURRENT":"MAX-CURRENT","email_caps_allowed":"^([a-zA-Z0-9_\\\\-\\\\.+]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,24})$","referenceNumber":"^GWF([0-9]){9}$","NO_SPACE_APLHA_NUMERIC":"[a-zA-Z0-9]+$","NUMERIC":"[0-9]+$","ALPHA_NUMERIC_WITH_HYPEN_AND_SPACE":"^(?!\\\\s)[A-Za-z0-9? \\\\-]+$","ALPHA_NUMERIC_WITH_SPACE":"^(?!\\\\s)([a-zA-Z0-9\\\\s])+[^\\\\s]$","ADDRESS_LINE_1":"^(?!\\\\s)[A-Za-z0-9? \\\\-\\\\,\\\\./]+$"},"timepicker":{"POST-TIME":"POST-TIME","PRE-TIME":"PRE-TIME","POST-DATETIME":"POST-DATETIME","PRE-DATETIME":"PRE-DATETIME"},"email":"^[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]+$","email_caps_allowed":"^([a-zA-Z0-9_\\\\-\\\\.+]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,24})$","referenceNumber":"^GWF([0-9]){9}$","NO_SPACE_APLHA_NUMERIC":"[a-zA-Z0-9]+$","NUMERIC":"[0-9]+$","ALPHA_NUMERIC_WITH_HYPEN_AND_SPACE":"^(?!\\\\s)[A-Za-z0-9? \\\\-]+$","ALPHA_NUMERIC_WITH_SPACE":"^(?!\\\\s)([a-zA-Z0-9\\\\s])+[^\\\\s]$","ADDRESS_LINE_1":"^(?!\\\\s)[A-Za-z0-9? \\\\-\\\\,\\\\./]+$","NAME":"[a-zA-Z][a-zA-Z ]+$","EXCEPTZERONUMERIC":"[1-9]+$"},"controls":{"Textbox":"textbox","Password":"password","Email":"email","Number":"number","Button":"button","Datepicker":"datepicker","Timepicker":"timepicker","Dropdown":"dropdown","SearchableDropdown":"searchable-dropdown","Radio":"radio","File_upload_type_1":"type-1","File_upload_type_2":"type-2","Checkbox":"checkbox","List_group_1":"list-group-1","Contact":"contact","Dual_block":"dual-block","Image":"image","Dual_button":"dual-button","Address":"address","Multi_button":"multi-button","Password_toggle":"password-toggle","InputContact":"input-contact","InputAndDatepicker":"input-datepicker","DropdownAndDatepicker":"dropdown-datepicker","ReadOnlyTextbox":"readonly-textbox","Horizontal_Rule":"hr"},"formSchemaType":{"singleColumnSchema":"type-1","doubleColumnSchema":"type-2"},"fileName":{"applicantEvoa":"EVOA_","paymentReceipt":"receipt_"},"assetsPath":{"l18n":"src/_angular/assets/i18n/","globalImages":"_angular/assets/images/global"},"validLanguages":[{"languageCode":"en","cultureCode":"en-US"},{"languageCode":"zh","cultureCode":"zh-CN"},{"languageCode":"fr","cultureCode":"fr-FR"}],"cultureCodeKey":"app_culture_code","courierLabels":{"inLabel":"IN","outLabel":"OUT","bothLabels":"BOTH"}}')},AytR:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var n=a("E3Zs"),i={clientIpEndPoint:"https://api.ipify.org?format=json",localtranslation:!1,localschema:!1,localReload:!1,production:!0,appVersion:a("kiQV").version,apiEndPoint:"https://lift-api.vfsglobal.com",apiEndPoint2:"https://lift.vfsglobal.com/globalappointment/api/v2.0",lambdaEndpoint:"https://iuk8t24f6d.execute-api.us-east-1.amazonaws.com/prod",defaultCultureCode:"en-US",defaultLang:"en",numberOfPassengers:10,pageTitle:"VFS Global | Official partner of the Government",applicationType:"online",externalUrl:"https://visa.vfsglobal.com",activateLink:"https://visa.vfsglobal.com/",gaUAID:"GTM-K3RCXTZ",captchaKey:"6LdJReUUAAAAAPR1hddg-9JUC_TO13OrlKVpukHL",V2_CaptchaKey:"6LfDUY8bAAAAAPU5MWGT_w0x5M-8RdzC29SClOfI",sessionTime:900,getParamsType:"slash",externalPath:"https://liftassets.vfsglobal.com/_angular",cookieScript1:"https://cdn.cookielaw.org/consent/410ea619-00d1-490a-8784-ea1bbb4c4f7e/OtAutoBlock.js",cookieScript2:"https://cdn.cookielaw.org/scripttemplates/otSDKStub.js",cookiedomainKey:"410ea619-00d1-490a-8784-ea1bbb4c4f7e",contentful:{space:"xxg4p8gt3sg6",accessToken:"5YpTBRikGN59YHwM18CyGr5F43bFuaak9U8FSMEDmb8",host:"d2ab400qlgxn2g.cloudfront.net",basePath:"/dev"},disableConsoleLogging:!0,serverLogLevel:n.c.ERROR,slotDuration:3,slotDaysEnabled:180,sessionTimeOut:1200,captchaFallbackEnabled:!1,oneTrustPortal:{url:"https://privacyportal-uatde-cdn.onetrust.com/consent-receipt-scripts/scripts/otconsent-1.0.min.js",dataOtId:"2445c202-727e-46d9-8429-f73cbacccf73",dataOtCpId:"c9ab9950-5dc6-4472-ab13-14c4774224f9-active",scriptId:"consent-receipt-script"},contentForMetaTag:"xDNQW5PIy5neaZIL5abWW-IG-Q5bJES_1MB35OX9g38",websiteVFSGlobal:"https://www.vfsglobal.com/en/individuals/index.html",websiteMissionPoland:"https://www.gov.pl/web/dyplomacja"}},"C+1A":function(e,t,a){"use strict";a.d(t,"a",function(){return w});var n=a("0IaG"),i=a("QvU+"),r=a("fXoL"),o=a("ofXK"),l=a("bTqV"),u=a("sYmb");function d(e,t){if(1&e&&(r.Wb(0,"div",7),r.Wb(1,"button",8),r.Rb(2,"img",9),r.Vb(),r.Vb()),2&e){var a=r.lc();r.Db(2),r.vc("src","",a.getGlobalImagePath,"/close-btn.png",r.Hc)}}function m(e,t){1&e&&r.Rb(0,"div")}function b(e,t){if(1&e&&(r.Rb(0,"div",11),r.mc(1,"translate")),2&e){var a=r.lc(2);r.tc("innerHTML",r.nc(1,1,a.header),r.Gc)}}function v(e,t){if(1&e&&r.Rb(0,"div",11),2&e){var a=r.lc(2);r.tc("innerHTML",a.header,r.Gc)}}function g(e,t){if(1&e&&(r.Wb(0,"div"),r.Mc(1,m,1,0,"div",3),r.Mc(2,b,2,3,"ng-template",null,4,r.Nc),r.Mc(4,v,1,1,"ng-template",null,5,r.Nc),r.Rb(6,"hr",10),r.Vb()),2&e){var a=r.Bc(3),n=r.Bc(5),i=r.lc();r.Db(1),r.tc("ngIf",!!i.data.translateHeader)("ngIfThen",a)("ngIfElse",n)}}function h(e,t){1&e&&r.Rb(0,"div")}function y(e,t){if(1&e&&(r.Rb(0,"div",12),r.mc(1,"translate")),2&e){var a=r.lc();r.tc("innerHTML",r.nc(1,1,a.body),r.Gc)}}function S(e,t){if(1&e&&r.Rb(0,"div",12),2&e){var a=r.lc();r.tc("innerHTML",a.body,r.Gc)}}function C(e,t){1&e&&r.Rb(0,"div")}function D(e,t){if(1&e&&(r.Rb(0,"div",18),r.mc(1,"translate")),2&e){var a=r.lc(3);r.tc("innerHTML",r.nc(1,1,a.leftButton),r.Gc)}}function I(e,t){if(1&e&&r.Rb(0,"div",18),2&e){var a=r.lc(3);r.tc("innerHTML",a.leftButton,r.Gc)}}function V(e,t){if(1&e){var a=r.Xb();r.Wb(0,"div",16),r.Wb(1,"button",17),r.hc("click",function(){return r.Fc(a),r.lc(2).onClick(!1)}),r.Mc(2,C,1,0,"div",3),r.Mc(3,D,2,3,"ng-template",null,4,r.Nc),r.Mc(5,I,1,1,"ng-template",null,5,r.Nc),r.Vb(),r.Vb()}if(2&e){var n=r.Bc(4),i=r.Bc(6),o=r.lc(2);r.Db(2),r.tc("ngIf",!!o.data.translateLeftButton)("ngIfThen",n)("ngIfElse",i)}}function k(e,t){1&e&&r.Rb(0,"div")}function A(e,t){if(1&e&&(r.Rb(0,"div",18),r.mc(1,"translate")),2&e){var a=r.lc(3);r.tc("innerHTML",r.nc(1,1,a.rightButton),r.Gc)}}function O(e,t){if(1&e&&r.Rb(0,"div",18),2&e){var a=r.lc(3);r.tc("innerHTML",a.rightButton,r.Gc)}}function T(e,t){if(1&e){var a=r.Xb();r.Wb(0,"div",16),r.Wb(1,"button",19),r.hc("click",function(){return r.Fc(a),r.lc(2).onClick(!0)}),r.Mc(2,k,1,0,"div",3),r.Mc(3,A,2,3,"ng-template",null,4,r.Nc),r.Mc(5,O,1,1,"ng-template",null,5,r.Nc),r.Vb(),r.Vb()}if(2&e){var n=r.Bc(4),i=r.Bc(6),o=r.lc(2);r.Db(2),r.tc("ngIf",!!o.data.translateRightButton)("ngIfThen",n)("ngIfElse",i)}}function L(e,t){if(1&e&&(r.Wb(0,"mat-dialog-actions",13),r.Wb(1,"div",14),r.Mc(2,V,7,3,"div",15),r.Mc(3,T,7,3,"div",15),r.Vb(),r.Vb()),2&e){var a=r.lc();r.Db(2),r.tc("ngIf",!!a.leftButton),r.Db(1),r.tc("ngIf",!!a.rightButton)}}var w=function(){var e=function(e){s(a,e);var t=c(a);function a(e,n){var i;return p(this,a),(i=t.call(this)).info=e,i.dialogRef=n,i.data=e,i.dialogDisplay=e.dialogDisplay,i.hasCloseButton=e.closeButton,i.header=e.header,i.body=e.body,i.rightButton=e.rightButton,i.leftButton=e.leftButton,i}return f(a,[{key:"onConfirmClick",value:function(){this.dialogRef.close(!0)}},{key:"onClick",value:function(e){this.dialogRef.close(e)}}]),a}(i.a);return e.\u0275fac=function(t){return new(t||e)(r.Qb(n.a),r.Qb(n.h))},e.\u0275cmp=r.Kb({type:e,selectors:[["app-common-dialog-box"]],features:[r.Ab],decls:10,vars:7,consts:[[1,"",3,"ngClass"],["class","position-absolute top-10 right-10",4,"ngIf"],[4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],["thenBlock",""],["elseBlock",""],["class","d-block mt-35",4,"ngIf"],[1,"position-absolute","top-10","right-10"],["mat-dialog-close","",1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"my-20"],[1,"fs-24","fs-md-42","mb-10","pr-18",3,"innerHTML"],[1,"c-brand-grey-para","py-5",3,"innerHTML"],[1,"d-block","mt-35"],[1,"row"],["class","col",4,"ngIf"],[1,"col"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange",3,"click"],[3,"innerHTML"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"]],template:function(e,t){if(1&e&&(r.Wb(0,"div",0),r.Mc(1,d,3,1,"div",1),r.Mc(2,g,7,3,"div",2),r.Wb(3,"mat-dialog-content"),r.Mc(4,h,1,0,"div",3),r.Mc(5,y,2,3,"ng-template",null,4,r.Nc),r.Mc(7,S,1,1,"ng-template",null,5,r.Nc),r.Vb(),r.Mc(9,L,4,2,"mat-dialog-actions",6),r.Vb()),2&e){var a=r.Bc(6),n=r.Bc(8);r.tc("ngClass",t.dialogDisplay&&"small"===t.dialogDisplay?"mat-modal-delete-document":"mat-modal-container"),r.Db(1),r.tc("ngIf",!!t.hasCloseButton),r.Db(1),r.tc("ngIf",!!t.header),r.Db(2),r.tc("ngIf",t.data.translateBody)("ngIfThen",a)("ngIfElse",n),r.Db(5),r.tc("ngIf",!!t.leftButton||!!t.rightButton)}},directives:[o.m,o.o,n.f,n.d,n.c,l.a],pipes:[u.d],encapsulation:2}),e}()},IXuf:function(e,t,a){"use strict";a.d(t,"a",function(){return v});var n=a("mrSG"),i=a("AytR"),r=a("VjyN"),o=a("BU3v"),s=a("TCge"),l=a("fXoL"),c=a("cT3p"),u=a("XjvO"),d=a("mS5l"),m=a("tyNb"),b=RegExp("{{\\s*([a-zA-Z-.0-9]+)\\s*}}","g"),v=function(){var e=function(){function e(t,a,n,o){p(this,e),this.sessionService=t,this.utilityService=a,this.dataShareService=n,this.router=o,this.RESOURCE_GROUP_TYPE="resourceGroup",this.cdaClient=Object(r.createClient)(i.a.contentful),this.getResourceGroup()}return f(e,[{key:"allowedLan",get:function(){return this.allowedMissionLanguage}},{key:"getEnteries",value:function(e){return Object(n.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a,n,i,r,o=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(a={},n=this.resourceGroups,i=0;i<n.length;i++)(r=n[i].fields)&&r.resources&&(a=Object.assign({countryResourceSet:a},r.resources));return t.abrupt("return",this.cdaClient.getEntries(e).then(function(e){return e.items.forEach(function(e,t,n){n[t]=JSON.parse(JSON.stringify(n[t]).replace(b,o.utilityService.replacerFunction.bind(o,a)))}),e}));case 4:case"end":return t.stop()}},t,this)}))}},{key:"routeParam",get:function(){var e=window.location.pathname.split("/");return{tenent:e[3],countryCode:e[1],appLanguageCode:e[2]}}},{key:"loadCaptchaRoute",value:function(){var e=this;this.cdaClient.getEntries({content_type:"countryCaptchaConfiguration","fields.locale":["".concat(this.routeParam.tenent," > ").concat(this.routeParam.countryCode," > ").concat(this.routeParam.appLanguageCode),"".concat(this.routeParam.tenent," > ").concat(this.routeParam.countryCode),"".concat(this.routeParam.tenent," > ").concat(this.routeParam.appLanguageCode),this.routeParam.tenent,this.routeParam.appLanguageCode,s.y].join("&"),limit:1}).then(function(t){var a=t.items||[];e.sessionService.captchaConfiguration=a,a.length>0&&e.dataShareService.captchaAllowedRoutes.next(a[0].fields.allowedRoute.allowedRoute)})}},{key:"loadDecimalAllowed",value:function(){var e=this;this.cdaClient.getEntries({content_type:"decimalConfiguration","fields.locale":["".concat(this.routeParam.tenent," > ").concat(this.routeParam.countryCode," > ").concat(this.routeParam.appLanguageCode),"".concat(this.routeParam.tenent," > ").concat(this.routeParam.countryCode),"".concat(this.routeParam.tenent," > ").concat(this.routeParam.appLanguageCode),this.routeParam.tenent,this.routeParam.appLanguageCode,s.y].join("&"),limit:1}).then(function(t){var a=t.items||[];if(a.length>0){var n=a[0].fields.decimalAllowed;e.sessionService.decimalConfiguration=n}else e.sessionService.decimalConfiguration="2"})}},{key:"getResourceGroup",value:function(e){var t=this,a=e||this.routeParam.appLanguageCode;this.cdaClient.getEntries({content_type:this.RESOURCE_GROUP_TYPE,"fields.locale":["".concat(this.routeParam.tenent," > ").concat(this.routeParam.countryCode," > ").concat(a),"".concat(this.routeParam.tenent," > ").concat(this.routeParam.countryCode),"".concat(this.routeParam.tenent," > ").concat(a),this.routeParam.tenent,a,s.y].join("&"),limit:500}).then(function(e){var a,n;t.resourceGroups=e.items;var i=null===(n=null===(a=t.resourceGroups[0])||void 0===a?void 0:a.fields)||void 0===n?void 0:n.resources;t.sessionService.resourceGroupData=i,t.utilityService.strictCompare(null==i?void 0:i.disablevfslogo,"true")?t.sessionService.setIsVFSLogoDisabled(!0):t.sessionService.setIsVFSLogoDisabled(!1)})}},{key:"getMissionLanguage",value:function(){var e=this;return new Promise(function(t){e.sessionService.clearMissionlanguage();var a=Object.assign({content_type:"mission","fields.isoCode":e.routeParam.tenent});e.cdaClient.getEntries(a).then(function(a){var n,i;if((null===(n=a.items)||void 0===n?void 0:n.length)>0){if((null===(i=a.items[0].fields.locales[e.routeParam.countryCode])||void 0===i?void 0:i.length)>0){var r=[];a.items[0].fields.locales[e.routeParam.countryCode].map(function(e){return r.push({code:e,languagename:"tl"==e?"Filipino":o.a.getName(e)}),e}),e.sessionService.appMissionLanguage=r}else e.sessionService.appMissionLanguage=[];t(!0)}else t([])})})}},{key:"getMockSchema",value:function(){var e=this;return new Promise(function(t){var a=window.location.pathname.split("/"),n=Object.assign({content_type:"dyanmicFormSchema","fields.locale":["".concat(a[3]," > ").concat(a[1]),a[3],s.y].join("&"),limit:1});e.cdaClient.getEntries(n).then(function(a){var n;if((null===(n=a.items)||void 0===n?void 0:n.length)>0){if(a.items[0].fields.schemaJson){var i=a.items[0].fields.schemaJson;e.sessionService.saveFullApplicationSchemaInBrowser(i),e.sessionService.saveApplicationSchemaInBrowser(i)}t(!0)}else t([])}).catch(function(){t([])})})}},{key:"getTravelInsurance",value:function(){var e=this,t=Object.assign({content_type:"travelInsurance","fields.isoCode":"".concat(this.sessionService.tenent)});return this.cdaClient.getEntries(t).then(function(t){var a,n,i;if((null===(a=null==t?void 0:t.items)||void 0===a?void 0:a.length)>0){var r=null==t?void 0:t.items[0].fields;return!!((null===(n=Object.keys(r))||void 0===n?void 0:n.length)>0&&(null==r?void 0:r.locales[e.sessionService.countryCode])&&(null===(i=null==r?void 0:r.locales[e.sessionService.countryCode])||void 0===i?void 0:i.length)>0)&&"1"===(null==r?void 0:r.locales[e.sessionService.countryCode][0])}return!1})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.dc(c.a),l.dc(u.a),l.dc(d.a),l.dc(m.f))},e.\u0275prov=l.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},KD1d:function(e,t,a){"use strict";a.d(t,"a",function(){return k});var n=a("mrSG"),i=a("TCge"),r=a("suCx"),l=a("Yt5x"),u=a("cT3p"),d=a("tyNb"),b=a("3Pt+"),v=a("psYf"),g=a("mS5l"),h=a("3N+h"),y=a("AytR"),S=a("XjvO"),C=a("E3Zs"),D=a("rIfo"),I=a("sYmb"),V=a("fXoL"),k=function(){var e=function(e){s(a,e);var t=c(a);function a(){var e;return p(this,a),(e=t.call(this,y.a)).fields=[],e.subs=new D.a,e.captchaVersionConst=i.b,e.initDependencyInjection(),e.currentModuleName="",e}return f(a,[{key:"initBaseForm",value:function(e){var t=this,r=Object.create(null,{initBaseForm:{get:function(){return o(m(a.prototype),"initBaseForm",t)}}});return Object(n.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:try{r.initBaseForm.call(this,e),this.notifyPageLoadCompleted(!1)}catch(a){console.log(i.d.BASE_FORM_INIT_FAILED,a)}case 1:case"end":return t.stop()}},t,this)}))}},{key:"getGlobalImagePath",get:function(){return y.a.externalPath+"/assets/images/global"}},{key:"isPtFlow",get:function(){var e,t;return this.utilityService.strictCompare(null===(e=this.sessionService.resourceGroupData)||void 0===e?void 0:e.isloginConcentRequired,"true")||this.utilityService.strictCompare(null===(t=this.sessionService.resourceGroupDataTemp)||void 0===t?void 0:t.isloginConcentRequired,"true")}},{key:"initDependencyInjection",value:function(){try{var e=l.a.getInjector();return this.coreBaseFormService=e.get(r.a),this.sessionService=e.get(u.a),this.router=e.get(d.f),this.formBuilder=e.get(b.e),this.commonService=e.get(v.a),this.utilityService=e.get(S.a),this.dataShareService=e.get(g.a),this.httpService=e.get(h.a),this.logger=e.get(C.b),void(this.translateService=e.get(I.e))}catch(t){throw t}}},{key:"routeNext",value:function(){return Object(n.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.getAllModules(),a=this.coreSessionService.currentModule,(n=t.findIndex(function(e){return Number(e.displayPosition)===Number(a.displayPosition)}))!==t.length-1){e.next=4;break}return e.abrupt("return");case 4:if(e.t0=this.router.url.indexOf(i.q.POSTAL_INFORMATION)>-1||this.router.url.indexOf(i.q.BOOK_APPOINTMENT)>-1,!e.t0){e.next=8;break}return e.next=8,this.commonService.addMandatoryService();case 8:this.isPtFlow&&this.commonService.stopTimeOut(),this.sessionService.completedModuleName=a.logicalName,this.commonService.routeToPostLoginModule(t[n+1].routeUrl),e.next=16;break;case 13:e.prev=13,e.t1=e.catch(0),console.log(i.d.ROUTE_NEXT_FAILED,e.t1);case 16:case"end":return e.stop()}},e,this,[[0,13]])}))}},{key:"isDocumentUploadEnabled",get:function(){var e;return null===(e=this.sessionService)||void 0===e?void 0:e.documentUploadEnabled}},{key:"routePrevious",value:function(){try{var e=this.coreSessionService.currentModule,t=this.getAllModules(),a=t.findIndex(function(t){return Number(t.displayPosition)===Number(e.displayPosition)});if(a<=0)return;this.isPtFlow&&this.commonService.stopTimeOut(),this.commonService.routeToPostLoginModule(t[a-1].routeUrl)}catch(n){console.log("ERROR: ",i.d.ROUTE_PREV_FAILED,n)}}},{key:"getNextModuleName",value:function(){try{var e=this.getAllModules(),t=this.coreSessionService.currentModule,a=e.findIndex(function(e){return Number(e.displayPosition)===Number(t.displayPosition)});if(a===e.length-1)return;return e[a+1].logicalName}catch(n){console.log(i.d.NEXT_MODULE_NAME_FETCH_FAILED)}}},{key:"postPageLoadActivities",value:function(e,t){try{this.setFormGroup(e.form),t&&this.checkAndPopulateForm(e.form),this.formMetaData=e,this.formValueChanges(),this.notifyPageLoadCompleted(!0)}catch(a){console.log(a)}}},{key:"notifyPageLoadCompleted",value:function(e){try{this.dataShareService.notifyPageLoadCompleted(e)}catch(t){console.log(t)}}},{key:"getAllModules",value:function(){return this.sessionService.getAllModulesSchema()||[]}},{key:"setFormGroup",value:function(e){return this.currentFormGroup=e,this.dataShareService.currentFormGroup=e,!0}},{key:"filterModuleOnEligibilitySubmit",value:function(e,t){var a,r;return Object(n.b)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var o,s,l,c,u,d,m;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=this.sessionService.getFullApplicationSchema()){n.next=3;break}return n.abrupt("return");case 3:if(s=[],l=[],!e){n.next=10;break}return n.next=7,this.commonService.loadServices(e);case 7:c=n.sent,(u=c.find(function(e){return"TMIPS"===e.code}))&&(this.sessionService.tmiVasID=u.id),0!==(null==c?void 0:c.length)&&(null===(a=c.filter(function(e){return!0===e.isAvailableOnline}))||void 0===a?void 0:a.length)>0?l.push(i.c.modules.SERVICES):s.push(i.c.modules.SERVICES);case 10:if(this.sessionService.waitlistJourney?s=s.concat([i.c.modules.SERVICES,i.c.modules.BOOK_APPOINTMENT]):l=l.concat([i.c.modules.BOOK_APPOINTMENT].toString()),(null===(r=this.sessionService)||void 0===r?void 0:r.tmiEnabled)?(l.push(i.c.modules.TRAVEL_MEDICAL_INSURANCE),this.commonService.constructTMIData()):s.push(i.c.modules.TRAVEL_MEDICAL_INSURANCE),t&&(d=this.commonService.checkIfOWA(t)?[i.c.modules.POSTAL_INFORMATION,i.c.modules.BOOK_APPOINTMENT]:this.commonService.checkIfPostal(t)?[i.c.modules.BOOK_APPOINTMENT]:[i.c.modules.POSTAL_INFORMATION],this.commonService.checkIfOWA(t)||this.commonService.checkIfPostal(t)?d&&(s=s.concat(d)):d&&(l=l.concat(d.toString()))),m=o,n.t0=l.length>0,!n.t0){n.next=18;break}return n.next=16,this.commonService.addModule(o,l);case 16:m=n.sent,this.sessionService.saveApplicationSchemaInBrowser(m);case 18:if(n.t1=s.length>0,!n.t1){n.next=24;break}return n.next=22,this.commonService.removeModule(o,s);case 22:m=n.sent,this.sessionService.saveApplicationSchemaInBrowser(m);case 24:case"end":return n.stop()}},n,this)}))}},{key:"filterModuleBasedOnVac",value:function(e){return Object(n.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.abrupt("return",new Promise(function(t,r){return Object(n.b)(a,void 0,void 0,regeneratorRuntime.mark(function a(){var n,r,o,s,l;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=this.sessionService.getFullApplicationSchema(),e&&r||t(!0),a.next=4,this.commonService.loadServices(e);case 4:if(!(0!==(null==(o=a.sent)?void 0:o.length)&&(null===(n=o.filter(function(e){return!0===e.isAvailableOnline}))||void 0===n?void 0:n.length)>0)){a.next=12;break}return a.next=8,this.commonService.addModule(r,i.c.modules.SERVICES);case 8:s=a.sent,this.sessionService.saveApplicationSchemaInBrowser(s),t(!0),a.next=16;break;case 12:return a.next=14,this.commonService.removeModule(r,[i.c.modules.SERVICES]);case 14:l=a.sent,this.sessionService.saveApplicationSchemaInBrowser(l),t(!0);case 16:case"end":return a.stop()}},a,this)}))}));case 4:t.prev=4,t.t0=t.catch(0),console.log(t.t0);case 7:case"end":return t.stop()}},t,null,[[0,4]])}))}},{key:"filterModuleBasedOnSubmissionType",value:function(e){return Object(n.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.abrupt("return",new Promise(function(t,r){return Object(n.b)(a,void 0,void 0,regeneratorRuntime.mark(function a(){var n,r,o;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n=this.sessionService.getFullApplicationSchema(),e&&n||t(!0),r=this.commonService.checkIfOWA(e)?[i.c.modules.POSTAL_INFORMATION,i.c.modules.BOOK_APPOINTMENT]:this.commonService.checkIfPostal(e)?[i.c.modules.BOOK_APPOINTMENT]:[i.c.modules.POSTAL_INFORMATION],!this.commonService.checkIfOWA(e)&&!this.commonService.checkIfPostal(e)){a.next=11;break}if(a.t0=r,!a.t0){a.next=9;break}return a.next=8,this.commonService.removeModule(n,r);case 8:o=a.sent;case 9:a.next=16;break;case 11:if(a.t1=r,!a.t1){a.next=16;break}return a.next=15,this.commonService.addModule(n,r);case 15:o=a.sent;case 16:o&&this.sessionService.saveApplicationSchemaInBrowser(o),t(!0);case 18:case"end":return a.stop()}},a,this)}))}));case 4:t.prev=4,t.t0=t.catch(0),console.log(t.t0);case 7:case"end":return t.stop()}},t,null,[[0,4]])}))}},{key:"saveToSession",value:function(e,t,a,n){try{for(var i=this.coreCommonService.extractAndConstructParams(n,this.currentFormGroup),r=0,o=Object.keys(i);r<o.length;r++){var s=o[r];this.sessionService.saveToSession(s,i[s])}return!0}catch(l){console.log(n,l)}}},{key:"saveToLocalStorage",value:function(e,t,a,n){try{for(var i=this.coreCommonService.extractAndConstructParams(n,this.currentFormGroup),r=0,o=Object.keys(i);r<o.length;r++){var s=o[r];this.sessionService.setStorageValue(s,i[s])}return!0}catch(l){console.log(n,l)}}},{key:"scrollToInvalidForm",value:function(e){this.commonService.touchAllFields(e);var t=document.querySelector(".ng-invalid");t&&t.scrollIntoView({behavior:"smooth",block:"start"})}},{key:"hasTranslation",value:function(e){var t=this.translateService.instant(e);return t!==e&&""!==t}},{key:"ngOnDestroy",value:function(){var e,t;null===(e=this.valueChangesSubscription)||void 0===e||e.unsubscribe(),null===(t=this.subs)||void 0===t||t.unsubscribe()}},{key:"dateFormat",get:function(){var e,t,a,n;return(null===(t=null===(e=this.sessionService)||void 0===e?void 0:e.applicationConfiguration)||void 0===t?void 0:t.showDateFormat)?null===(n=null===(a=this.sessionService)||void 0===a?void 0:a.applicationConfiguration)||void 0===n?void 0:n.showDateFormat:"dd/MM/yyyy"}}]),a}(r.c);return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=V.Kb({type:e,selectors:[["app-base-form"]],features:[V.Ab],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e}()},LjYc:function(e){e.exports=JSON.parse('{"documentUpload":{"id":4,"displayName":"Accomodation Details","logicalName":"accomodationDetails","routeUrl":"accomodation-details","displayPosition":4,"controls":[]},"passportDetailsData":{"salutation":2,"firstName":"asd","middleName":"asd","surname":"asd","gender":1,"dateOfBirth":"2019-09-24T18:30:00.000Z","passportType":1,"passportNumber":"AB123","passportIssueDate":"2019-09-24T18:30:00.000Z","passportExpiryDate":"2019-09-25T18:30:00.000Z","placeOfIssue":1,"countryOfIssue":1},"nationality":[{"id":"1","displayName":"INDIA","value":"IN"},{"id":"2","displayName":"UNITED ARAB EMIRATES","value":"UAE"}],"countryCodes":[{"id":"1","displayName":"INDIA","value":"91"},{"id":"2","displayName":"USA","value":"01"}],"arrivalFlightApplcants":[{"id":1,"displayName":"Applicant1"},{"id":2,"displayName":"Applicant2"}],"countryCode":[{"id":"1","displayName":"INDIA","value":"91"},{"id":"2","displayName":"USA","value":"01"}],"salutations":[{"id":1,"displayName":"Mr"},{"id":2,"displayName":"Mrs"},{"id":3,"displayName":"Miss"}],"gender":[{"id":1,"displayName":"Male"},{"id":2,"displayName":"Female"}],"passportType":[{"id":1,"displayName":"Type1"},{"id":2,"displayName":"Type2"}],"placeOfIssue":[{"id":1,"displayName":"Mumbai"},{"id":2,"displayName":"Delhi"},{"id":3,"displayName":"Chennai"}],"countryOfIssue":[{"id":1,"displayName":"India"},{"id":2,"displayName":"USA"},{"id":3,"displayName":"UK"}],"province":[{"id":1,"displayName":"Other"},{"id":2,"displayName":"Ang Thong"}],"otherDistricts":[{"id":1,"displayName":"district - 1"},{"id":2,"displayName":"district - 2"}],"angThongDistricts":[{"id":1,"displayName":"district - 3"},{"id":2,"displayName":"district - 4"}],"visaCategory":[{"id":1,"displayName":"Tourism","value":"1"},{"id":2,"displayName":"Business","value":"2"},{"id":3,"displayName":"Visit to Family/Friends","value":"3"}],"purposeOfVisitForTourists":[{"id":1,"displayName":"Tourism","value":"1"}],"purposeOfVisitForTouristSingle":[{"id":1,"displayName":"Vacation","value":"1"},{"id":2,"displayName":"Transit","value":"2"},{"id":3,"displayName":"Business","value":"3"}],"visaTypes":[{"id":1,"VisaTypeName":"C Type","visaTypeId":1},{"id":2,"VisaTypeName":"D Type","visaTypeId":2}],"residingCountry":[{"id":"1","displayName":"INDIA","value":"IN"},{"id":"2","displayName":"UNITED ARAB EMIRATES","value":"UAE"},{"id":"3","displayName":"UNITED STATES OF AMERICA","value":"USA"},{"id":"4","displayName":"UNITED KINGDOM","value":"UK"}],"yesNoValue":[{"id":"1","displayName":"Yes","value":1},{"id":"2","displayName":"No","value":0}],"costOfTravellingCoveredBy":[{"id":"1","displayName":"Cash","value":"cash"},{"id":"2","displayName":"Traveller\'s cheques","value":"travellersCheques"},{"id":"3","displayName":"Credit card","value":"creditCard"},{"id":"4","displayName":"Prepaid accomodation","value":"prepaidAccomodation"},{"id":"5","displayName":"Prepaid transport","value":"prepaidTransport"},{"id":"6","displayName":"All expenses covered during the stay","value":"allExpensesCoveredDuringStay"}],"timeSlotRange":[{"time":"8:00","range":"8:00-8:15"},{"time":"8:15","range":"8:15-8:30"},{"time":"8:30","range":"8:30-8:45"},{"time":"8:45","range":"8:45-9:00"},{"time":"9:00","range":"9:00-9:15"},{"time":"9:15","range":"9:15-9:30"},{"time":"9:30","range":"9:30-9:45"},{"time":"9:45","range":"9:45-10:00"},{"time":"10:00","range":"10:00-10:15"},{"time":"10:15","range":"10:15-10:30"},{"time":"10:30","range":"10:30-10:45"},{"time":"10:45","range":"10:45-11:00"},{"time":"11:00","range":"11:00-11:15"},{"time":"11:15","range":"11:15-11:30"},{"time":"11:30","range":"11:30-11:45"},{"time":"11:45","range":"11:45-12:00"},{"time":"12:00","range":"12:00-12:15"},{"time":"12:15","range":"12:15-12:30"},{"time":"12:30","range":"12:30-12:45"},{"time":"12:45","range":"12:45-13:00"},{"time":"13:00","range":"13:00-13:15"},{"time":"13:15","range":"13:15-13:30"},{"time":"13:30","range":"13:30-13:45"},{"time":"13:45","range":"13:45-14:00"},{"time":"14:00","range":"14:00-14:15"},{"time":"14:15","range":"14:15-14:30"},{"time":"14:30","range":"14:30-14:45"},{"time":"14:45","range":"14:45-15:00"}]}')},"QrD/":function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"a",function(){return i}),a.d(t,"c",function(){return r}),a.d(t,"d",function(){return o});var n=function(e){return e.year="year",e.month="month",e.day="day",e}({}),i=function(e){return e.D_M_Y_SLASH="dd/mm/yyyy",e.M_D_Y_SLASH="mm/dd/yyyy",e.Y_M_D_SLASH="yyyy/dd/mm",e}({}),r=function(e){return e.SLASH="slash",e.QUERY_PARAM="queryParam",e}({}),o=function(e){return e.ADD="ADD",e.REMOVE="REMOVE",e.REMOVE_NORMAL="REMOVE_NORMAL",e}({})},"QvU+":function(e,t,a){"use strict";a.d(t,"a",function(){return C});var n=a("mrSG"),i=a("psYf"),r=a("TCge"),o=a("z6cu"),l=a("Yt5x"),u=a("tyNb"),d=a("mS5l"),m=a("cT3p"),b=a("3N+h"),v=a("XjvO"),g=a("AytR"),h=a("suCx"),y=a("4h0v"),S=a("fXoL"),C=function(){var e=function(e){s(a,e);var t=c(a);function a(){var e;return p(this,a),(e=t.call(this)).courierLabels=r.w,e.captchaVersionConst=r.b,e.courierLabels=r.w,e.initDependencyInjection(),e}return f(a,[{key:"initDependencyInjection",value:function(){try{var e=l.a.getInjector();return this.sessionService=e.get(m.a),this.router=e.get(u.f),this.commonService=e.get(i.a),this.utilityService=e.get(v.a),this.dataShareService=e.get(d.a),this.httpService=e.get(b.a),this.coreCommonService=e.get(h.b),void(this.coreSessionService=e.get(h.d))}catch(t){console.log(r.d.DEP_INJECTION_FAILED),Object(o.a)(t)}}},{key:"trackByFn",value:function(e,t){return t?e:null}},{key:"getGlobalImagePath",get:function(){return g.a.externalPath+"/assets/images/global"}},{key:"isPtFlow",get:function(){var e,t;return this.utilityService.strictCompare(null===(e=this.sessionService.resourceGroupData)||void 0===e?void 0:e.isloginConcentRequired,"true")||this.utilityService.strictCompare(null===(t=this.sessionService.resourceGroupDataTemp)||void 0===t?void 0:t.isloginConcentRequired,"true")}},{key:"attendCenter",get:function(){return this.utilityService.externalUrlAppend("attend-centre")}},{key:"appointmentCategory",get:function(){var e;return null===(e=this.sessionService.resourceGroupData)||void 0===e?void 0:e.onepager}},{key:"getImagePath",get:function(){return this.commonService.imagePath}},{key:"downloadCourierDetails",value:function(e,t,a){return Object(n.b)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i,o,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.httpService.payloadPost(r.c.api.downloadShippingLabel,{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,loginUser:this.sessionService.getLoggedEmail(),centerCode:t,aurn:e,labelType:a||""}).toPromise().then(function(e){return e}).catch(function(e){return e});case 2:for(o in null==(i=n.sent)?void 0:i.pdfStream)i.pdfStream.hasOwnProperty(o)&&(s=!a&&"0"===o||a===r.w.outLabel?"".concat(this.sessionService.getLoggedEmail(),"_outgoing.pdf"):"".concat(this.sessionService.getLoggedEmail(),"_incoming.pdf"),this.utilityService.showFile(i.pdfStream[o],s));case 4:case"end":return n.stop()}},n,this)}))}},{key:"termCondition",get:function(){return this.utilityService.externalUrlAppend("termsandconditions")}},{key:"route",value:function(e){try{this.commonService.routeToPostLoginModule(e)}catch(t){console.log(t)}}},{key:"dateFormat",get:function(){var e,t,a,n;return(null===(t=null===(e=this.sessionService)||void 0===e?void 0:e.applicationConfiguration)||void 0===t?void 0:t.showDateFormat)?null===(n=null===(a=this.sessionService)||void 0===a?void 0:a.applicationConfiguration)||void 0===n?void 0:n.showDateFormat:"dd/MM/yyyy"}}]),a}(y.a);return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=S.Kb({type:e,selectors:[["app-base-non-dynamic"]],features:[S.Ab],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e}()},RnhZ:function(e,t,a){var n={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn-bd":"loYQ","./bn-bd.js":"loYQ","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-in":"7C5Q","./en-in.js":"7C5Q","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./en-sg":"t+mt","./en-sg.js":"t+mt","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-mx":"tbfe","./es-mx.js":"tbfe","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fil":"1ppg","./fil.js":"1ppg","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-deva":"qvJo","./gom-deva.js":"qvJo","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./oc-lnc":"Fnuy","./oc-lnc.js":"Fnuy","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tk":"Wv91","./tk.js":"Wv91","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-mo":"OmwH","./zh-mo.js":"OmwH","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function i(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=r,e.exports=i,i.id="RnhZ"},TCge:function(e,t,a){"use strict";a.d(t,"y",function(){return i}),a.d(t,"f",function(){return r}),a.d(t,"v",function(){return o}),a.d(t,"m",function(){return s}),a.d(t,"k",function(){return l}),a.d(t,"t",function(){return c}),a.d(t,"n",function(){return u}),a.d(t,"i",function(){return d}),a.d(t,"g",function(){return m}),a.d(t,"j",function(){return b}),a.d(t,"p",function(){return v}),a.d(t,"a",function(){return g}),a.d(t,"d",function(){return h}),a.d(t,"r",function(){return y}),a.d(t,"e",function(){return S}),a.d(t,"s",function(){return C}),a.d(t,"q",function(){return D}),a.d(t,"h",function(){return I}),a.d(t,"b",function(){return V}),a.d(t,"z",function(){return k}),a.d(t,"x",function(){return A}),a.d(t,"o",function(){return O}),a.d(t,"l",function(){return T}),a.d(t,"u",function(){return L}),a.d(t,"w",function(){return w}),a.d(t,"A",function(){return N}),a.d(t,"c",function(){return x});var n=a("9fxR"),i="vfs",r=n.modules,o=["WWA"],s=["PT"],l=["PL"],c=["VAYD"],u="Primetime",d=["PST","Postal"],m=["OWA","Online Without Appointment"],b=["PPD","PREPAID"],v="RTC",g=["isAddressLine1Disabled","isAddressLine2Disabled","isStateDisabled","isCityDisabled","isPinCodeDisabled"],h=n.errors,y="USA",S="IND",C=n.validations,D=n.routes,I={assets:{images:"assets/images/$TENENT"}},V={default:"v3",alternate:"v2"},k="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[@$!#%*?])[A-Za-z0-9@$!#%*?]{8,15}$",A=n.cultureCodeKey,O="PTS",T="PLC",L="VAYD",w=n.courierLabels,N={allowed:"SLOTS AVAILABLE",waitlisted:"WAITLISTED"},x=function(){var e=function(){function e(){p(this,e)}return f(e,null,[{key:"schema",get:function(){return n.urls.schema}},{key:"captcha_action",get:function(){return n.captchaaction}},{key:"api",get:function(){return n.urls.api}},{key:"modules",get:function(){return n.modules}},{key:"data",get:function(){return n.urls.data}},{key:"schemaKeys",get:function(){return n.schemaKeys}},{key:"schemaValues",get:function(){return n.schemaValues}},{key:"controls",get:function(){return n.controls}},{key:"formSchemaType",get:function(){return n.formSchemaType}},{key:"routes",get:function(){return n.routes}}]),e}();return e.GET_MODULE_DATA=n.schemaValues,e.ALL="ALL",e.JSON_FILE_FORMAT=".json",e.ASSETS_PATH=n.assetsPath,e.NAVBAR_EXCEPTION_LIST=[D.DASHBOARD,D.PAYMENT_CONFIRMATION,D.ADDITIONAL_DOCUMENT,D.REVIEW_APPLICATION,D.NOT_FOUND,D.UPDATE_CATEGORY,D.VAYD_ADDRESS],e.DROP_DOWN_EXCLUDE_ROUTE=[D.PAYMENT_CONFIRMATION,D.LOGIN,D.ON_BOARDING,D.NOT_FOUND],e.SAVE_AS_DRAFT_EXCEPTION_LIST=[e.modules.ELIGIBILITY_CRITERIA],e.BUTTON_CONTROLS_LIST=[e.controls.Button,e.controls.Dual_button,e.controls.Multi_button],e.DROPDOWNS_LIST=[e.controls.Dropdown,e.controls.SearchableDropdown],e.MODULE_BUCKET={b1:[r.ELIGIBILITY_CRITERIA,r.APPLICANT_DETAILS,r.BOOK_APPOINTMENT,r.SERVICES,r.REVIEW_PAYMENT],b2:[r.ELIGIBILITY_CRITERIA,r.APPLICANT_DETAILS,r.POSTAL_INFORMATION,r.SERVICES,r.REVIEW_PAYMENT]},e.NON_INTERACTIVE_CONTROLS=[e.controls.Horizontal_Rule],e.HTTP_METHODS={GET:"GET",POST:"POST"},e.SCHEMA={DEFAULT:"schema_pol",IND_FRA:"schema_ind_fra",IHC:"schema_ihc"},e.URLS_FOR_SLOTS_GET_METHOD=["https://d5ifytxc6r3nx.cloudfront.net","https://lift-api.vfsglobal.com","https://d2rjlmbuhruvpu.cloudfront.net"],e.FEE_TYPE_CODES={VFSFEE:"VFSFEE",VISAFEE:"VISAFEE",CVFEE:"CVFEE"},e}()},XjvO:function(e,t,a){"use strict";a.d(t,"a",function(){return D});var n=a("mrSG"),i=a("AytR"),o=a("3Pt+"),s=a("TCge"),l=a("f0Wu"),c=a.n(l),u=a("ngv/"),d=a("BU3v"),m=a("fXoL"),b=a("sYmb"),v=a("jhN1"),g=a("cT3p"),h=a("0IaG"),y=a("mS5l"),S=a("3N+h"),C=a("gren"),D=function(){var e=function(){function e(t,a,n,i,r,o,s){p(this,e),this.translate=t,this.titleService=a,this.sessionService=n,this.dialogRef=i,this.dataShareService=r,this.httpService=o,this.ngxService=s,this.VFS_FEES="VFS Service Fee"}return f(e,[{key:"formatDate",value:function(e){return this.momentInstance(e).format("YYYY-MM-DD")}},{key:"momentInstance",value:function(e,t){try{return e&&t?c()(e,t).tz(Intl.DateTimeFormat().resolvedOptions().timeZone):e?c()(e).tz(Intl.DateTimeFormat().resolvedOptions().timeZone):c()().tz(Intl.DateTimeFormat().resolvedOptions().timeZone)}catch(a){throw console.log(a),a}}},{key:"GAForDeleteServicePage",value:function(e){var t,a;try{var n=null===(t=this.sessionService)||void 0===t?void 0:t.getAppointmentDetails(),i=null===(a=this.sessionService)||void 0===a?void 0:a.eligibilityDetails;this.digitalAnalytics({event:"delete_vas_services",eventCategory:"Delete VAS Services",eventAction:null==e?void 0:e.action,eventLabel:null==e?void 0:e.label,"Visa Center Seleted":(null==i?void 0:i.centerCode)||void 0,"Type of Visa services":(null==i?void 0:i.visaType)||void 0,"Appointment Date":(null==n?void 0:n.date)||void 0,"Appointment Type":(null==n?void 0:n.slotTypeName)||void 0,"Appointment Value.":void 0})}catch(r){throw r}}},{key:"digitalAnalytics",value:function(e){var t;try{if(this.checkIfProd)return;var a=this.getCookie("_ga"),n=null===(t=this.sessionService)||void 0===t?void 0:t.vaydDetails,i={User_ID:void 0,"Page Name":this.gaPredefiedData.PageName,"Country Of Operation":this.gaPredefiedData.CountryOfOperation,Mission:this.gaPredefiedData.Mission,"Website Language":this.gaPredefiedData.WebsiteLanguage,"City Of Operation":this.gaPredefiedData.CityOfOperation,"Vac Name":this.gaPredefiedData.VacName,"Applicant ID":n.gwfNumber,"GA Client Id":a,"Hit Timestamp":this.momentInstance().format(),"GWF ID":n.gwfNumber,User_Status:void 0};window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(Object.assign({},e),i))}catch(r){throw r}}},{key:"clearInProgressApplication",value:function(){this.dataShareService.cartAmount.next("0"),this.dataShareService.dashboardTab=1,this.sessionService.deleteOldApplicantDetails()}},{key:"startNgxUiSpinner",value:function(){this.ngxService.start()}},{key:"stopNgxUiSpinner",value:function(){this.ngxService.stop()}},{key:"setTitle",value:function(e){this.titleService.setTitle(e||i.a.pageTitle)}},{key:"strictCompare",value:function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];try{return a?(null==e?void 0:e.toString().toLowerCase())===(null==t?void 0:t.toString().toLowerCase()):(null==e?void 0:e.toString().toLowerCase())==(null==t?void 0:t.toString().toLowerCase())}catch(n){throw n}}},{key:"translationService",value:function(e){var t=this;return new Promise(function(a,n){t.translate.get(e).subscribe(function(e){a(e)},function(e){return console.log(e)})}).then(function(e){return e})}},{key:"translationTitleService",value:function(e){var t=this;if(0===this.translate.langs.length)return!1;this.translate.get(e).subscribe(function(e){t.setTitle(e)})}},{key:"getChild",value:function(e){return e.firstChild?this.getChild(e.firstChild):e}},{key:"convertJSONInDate",value:function(e){return("0"+e.day).slice(-2)+"/"+("0"+e.month).slice(-2)+"/"+e.year}},{key:"removeByAttr",value:function(e,t,a){for(var n=e.length;n--;)e[n]&&e[n].hasOwnProperty(t)&&arguments.length>2&&e[n][t]===a&&e.splice(n,1);return e}},{key:"MatchPassword",value:function(e,t){return function(a){var n=a.controls[e],i=a.controls[t];return n&&i?i.errors&&!i.errors.passwordMismatch?null:i.setErrors(n.value!==i.value?{passwordMismatch:!0}:null):null}}},{key:"showFile",value:function(e,t){return Object(n.b)(this,void 0,void 0,regeneratorRuntime.mark(function a(){var n,i,r,o;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.base64ToArrayBuffer(e);case 2:if(n=a.sent,i=new Blob([n],{type:"application/pdf"}),!window.navigator||!window.navigator.msSaveOrOpenBlob){a.next=6;break}return a.abrupt("return",void window.navigator.msSaveOrOpenBlob(i));case 6:r=window.URL.createObjectURL(i),(o=document.createElement("a")).href=r,o.download=t||"".concat(this.sessionService.getLoggedEmail(),".pdf"),o.click(),setTimeout(function(){window.URL.revokeObjectURL(r)},100);case 8:case"end":return a.stop()}},a,this)}))}},{key:"base64ToArrayBuffer",value:function(e){for(var t=window.atob(e),a=t.length,n=new Uint8Array(a),i=0;i<a;i++){var r=t.charCodeAt(i);n[i]=r}return n}},{key:"allowedCaptcha",value:function(e){return this.sessionService.captchaConfiguration.indexOf(e)>-1}},{key:"patchCaptchaValue",value:function(e,t,a,n){var i;e.patchValue((r(i={},n||"captcha_api_key",t),r(i,"captcha_version",a),i))}},{key:"patchCaptchaValueForApplicants",value:function(e,t,a){e.patchValue({captcha_key_applicant:t,captcha_version:a})}},{key:"externalUrlAppend",value:function(e){return"".concat(i.a.externalUrl,"/").concat(this.sessionService.countryCode,"/").concat(this.sessionService.appLanguageCode,"/").concat(this.sessionService.tenent,"/").concat(e)}},{key:"closeAllDialog",value:function(){this.dialogRef.closeAll()}},{key:"filterFees",value:function(e){var t=this;return e?e.filter(function(e){return e.feeName===t.VFS_FEES}):[]}},{key:"updateTotalFees",value:function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(n.b)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i,r,o,s,l,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=0,0===a||void 0===a){n.next=5;break}i=a,n.next=9;break;case 5:return n.next=7,this.loadFees();case 7:o=n.sent,i=null==o?void 0:o.currfeeAmount,this.sessionService.feeAmount=i,r=(null==o?void 0:o.additionalFee)?null==o?void 0:o.additionalFee.reduce(function(e,t){return e+t.value},0):0;case 9:if(s=0,l=this.sessionService.applicantService.filter(function(e){return"TMIPS"!==e.code}),n.t0=(null==l?void 0:l.length)>0,!n.t0){n.next=16;break}return n.next=15,l.reduce(function(e,t){return e+(t.amount*t.unit||0)},0);case 15:s=n.sent;case 16:if(!this.sessionService.tmiVas){n.next=21;break}c=(null===(t=null===(e=this.sessionService)||void 0===e?void 0:e.tmiVas[0])||void 0===t?void 0:t.amount)||0,this.sessionService.updatedCartAmount=s+i+c+r,this.dataShareService.cartAmount.next(s+i+c+r),n.next=22;break;case 21:this.sessionService.updatedCartAmount=s+i+r,this.dataShareService.cartAmount.next(s+i+r);case 22:case"end":return n.stop()}},n,this)}))}},{key:"loadFees",value:function(){return Object(n.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",this.loadFeesWithCaptcha());case 4:throw e.prev=4,e.t0=e.catch(0),e.t0;case 7:case"end":return e.stop()}},e,this,[[0,4]])}))}},{key:"loadFeesWithCaptcha",value:function(){var e,t,a,i;return Object(n.b)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.centerCode,loginUser:this.sessionService.getLoggedEmail(),urn:this.sessionService.urn,languageCode:null===(t=null===(e=this.sessionService)||void 0===e?void 0:e.applicationDetailValue)||void 0===t?void 0:t.languageCode},n.next=4,this.httpService.payloadPost(s.c.api.appointmentFees,r).toPromise().catch(function(e){return console.log(e)}).then(function(e){return e});case 4:if(o=n.sent){n.next=7;break}return n.abrupt("return");case 7:return n.abrupt("return",(this.sessionService.updateFees=!1,!this.sessionService.currencyCode&&o.feeDetails&&(this.sessionService.setCurrencyCode=null===(a=null==o?void 0:o.feeDetails[0])||void 0===a?void 0:a.currency),o.currfeeAmount=(null===(i=null==o?void 0:o.feeDetails)||void 0===i?void 0:i.length)>0?o.feeDetails.reduce(function(e,t){return e+t.feeAmount},0):0,o));case 10:throw n.prev=10,n.t0=n.catch(0),n.t0;case 13:case"end":return n.stop()}},n,this,[[0,10]])}))}},{key:"getnationalityName",value:function(e,t){if(!e)return!1;var a=e.filter(function(e){return e.isoCode.toLowerCase()===t.toLowerCase()});return a.length>0?a[0].nationalityName:t}},{key:"getStateNameFromISOcode",value:function(e,t){var a=this;if(!e)return!1;var n=e.filter(function(e){return a.strictCompare(e.isoCode,t)});return n.length>0?n[0].stateName:t}},{key:"getNameFromCode",value:function(e,t){var a=this;if(!e)return!1;var n=e.filter(function(e){return a.strictCompare(e.code,t)});return n.length>0?n[0].name:t}},{key:"getNosOfUnit",value:function(e,t){var a=this.sessionService.applicantService.filter(function(e){return e.id===t});return a.length>0?a[0][e]:1}},{key:"filterVacFromCode",value:function(e,t,a){if(e.length<0)return!1;var n=e.filter(function(e){return e.isoCode===t});return n.length>0?n[0][a]:""}},{key:"appendGaTrackingCode",value:function(){try{var e=document.createElement("script");e.innerHTML="(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n    })(window,document,'script','dataLayer','GTM-K3RCXTZ');",document.head.appendChild(e);var t=document.createElement("script");return t.innerHTML="(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');",document.head.appendChild(t),ga("create","UA-114055881-1","auto"),!0}catch(a){console.log("Error appending google analytics :",a)}}},{key:"handleCaptcha",value:function(){return Object(n.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{$(".grecaptcha-badge").remove(),setTimeout(function(){t.appendCaptcha()})}catch(a){console.log("Error appending google analytics :",a)}case 1:case"end":return e.stop()}},e)}))}},{key:"appendCaptcha",value:function(){try{var e=window.location.pathname.split("/"),t=document.createElement("script");t.src="https://recaptcha.net/recaptcha/api.js?render=".concat(i.a.captchaKey,"&hl=").concat(e[2]),t.type="text/javascript",t.async=!1,document.getElementsByTagName("head")[0].appendChild(t)}catch(a){console.log(a)}}},{key:"appendScriptForCookies",value:function(){try{var e=document.createElement("script");e.type="text/javascript",e.src=i.a.cookieScript1,document.getElementsByTagName("head")[0].appendChild(e);var t=document.createElement("script");return t.type="text/javascript",t.src=i.a.cookieScript2,t.setAttribute("data-domain-script",i.a.cookiedomainKey),document.getElementsByTagName("head")[0].appendChild(t),!0}catch(a){console.log(a)}}},{key:"replacerFunction",value:function(e,t,a,n){return"number"==typeof e[a]?a&&e[a]?String(e[a]).trim():"":a&&e[a]?e[a].trim():""}},{key:"resetCaptcha",value:function(){grecaptcha.reset()}},{key:"executeCapctha",value:function(e){var t=this;return new Promise(function(a,r){return Object(n.b)(t,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0="object"!=typeof grecaptcha,!t.t0){t.next=4;break}return t.next=4,new Promise(function(e){return setTimeout(e,3e3)});case 4:grecaptcha.ready(function(){grecaptcha.execute(i.a.captchaKey,{action:e}).then(function(e){return a(e)})});case 5:case"end":return t.stop()}},t)}))})}},{key:"getCodeName",value:function(e,t){var a=e.filter(function(e){return e.code===t});return a.length>0?a[0].name:t}},{key:"appendScriptForConsent",value:function(){var e;try{var t=document.createElement("script"),a=i.a.oneTrustPortal;t.id=a.scriptId,t.type="text/javascript",t.src=a.url;var n=document.getElementById(a.scriptId);return null===(e=null==n?void 0:n.parentNode)||void 0===e||e.removeChild(n),t.setAttribute("data-ot-id",a.dataOtId),t.setAttribute("data-ot-consent-register-even","document-load"),document.getElementsByTagName("head")[0].appendChild(t),!0}catch(r){console.log(r)}}},{key:"convertKeystoLowercase",value:function(e){return Object.keys(e).reduce(function(t,a){return t[a.toLowerCase()]=e[a],t},{})}},{key:"disableBrowserBack",value:function(){history.pushState(null,"",location.href),window.onpopstate=function(){history.go(1)}}},{key:"formcontrolReset",value:function(e,t){return t.forEach(function(t){var a;e.get(t)&&(null===(a=e.get(t))||void 0===a||a.reset())}),!0}},{key:"makeFieldRequired",value:function(e,t){return t.forEach(function(t){e.get(t)&&(e.controls[t].setValidators([o.x.required]),e.controls[t].updateValueAndValidity())}),!0}},{key:"gaPredefiedData",get:function(){var e,t,a,n,i,r;try{var o=this.sessionService.eligibilityDetails;return{Mission:null===(e=u.byIso(window.location.pathname.split("/")[3]))||void 0===e?void 0:e.country,CountryOfOperation:null===(t=u.byIso(window.location.pathname.split("/")[1]))||void 0===t?void 0:t.country,CityOfOperation:(null==o?void 0:o.centerCode)||"",WebsiteLanguage:d.a.getName(window.location.pathname.split("/")[2]),PageName:null===(r=null===(i=null===(n=null===(a=window.location)||void 0===a?void 0:a.pathname)||void 0===n?void 0:n.split("/"))||void 0===i?void 0:i.pop())||void 0===r?void 0:r.split("-").map(function(e){return e.charAt(0).toUpperCase()+e.substring(1)}).join("-"),VacName:(null==o?void 0:o.centerCode)||null}}catch(s){console.log(s)}}},{key:"checkIfProd",get:function(){return!i.a.production}},{key:"fireCustomEvent",value:function(e){try{if(this.checkIfProd)return;window.dataLayer=window.dataLayer||[];var t={event:"custom_event","Vac Name":this.gaPredefiedData.VacName,"Page Name":this.gaPredefiedData.PageName,"Website Language":this.gaPredefiedData.WebsiteLanguage};window.dataLayer.push(Object.assign(Object.assign({},e),t))}catch(a){console.log(a)}}},{key:"countrynameByIso",value:function(e){var t;return(null===(t=u.byIso(e))||void 0===t?void 0:t.country)||e}},{key:"product_impression",value:function(e){return Object(n.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a,n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!this.checkIfProd){t.next=3;break}return t.abrupt("return");case 3:return window.dataLayer=window.dataLayer||[],a=[],t.next=7,e.map(function(e,t){var i,r;a.push({name:e.name,id:e.code,price:e.unitPrice,brand:"".concat(null===(i=u.byIso(window.location.pathname.split("/")[1]))||void 0===i?void 0:i.country,"/").concat(null===(r=u.byIso(window.location.pathname.split("/")[3]))||void 0===r?void 0:r.country),category:"VAS",variant:n.gaPredefiedData.VacName,list:n.gaPredefiedData.PageName+" Page Product Listing",position:t,uniqueId:e.id})});case 7:window.dataLayer.push({event:"productImpression",dl_category:"Product Performance",dl_action:"Impression",dl_label:this.gaPredefiedData.PageName+" Page Product Listing",dl_value:"0","Page Name":this.gaPredefiedData.PageName,"Vac Name":this.gaPredefiedData.VacName,ecommerce:{currencyCode:e[0].currency,actionField:{list:this.gaPredefiedData.PageName+" Page Product Listing"},impressions:a}}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}},t,this,[[0,10]])}))}},{key:"onCheckout",value:function(e){return Object(n.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a,n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!this.checkIfProd){t.next=3;break}return t.abrupt("return");case 3:return window.dataLayer=window.dataLayer||[],a=[],t.next=7,e.map(function(e,t){var i,r;a.push({name:e.name,id:e.code,price:e.unitPrice,brand:"".concat(null===(i=u.byIso(window.location.pathname.split("/")[1]))||void 0===i?void 0:i.country,"/").concat(null===(r=u.byIso(window.location.pathname.split("/")[3]))||void 0===r?void 0:r.country),category:"VAS",variant:n.gaPredefiedData.VacName,quantity:e.total})});case 7:window.dataLayer.push({event:"checkout","Vac Name":this.gaPredefiedData.VacName,ecommerce:{checkout:{actionField:{step:1,option:"Payment Gateway",action:"checkout"},products:a}}}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}},t,this,[[0,10]])}))}},{key:"fireGAEvent",value:function(){try{if(this.checkIfProd)return;window.dataLayer=window.dataLayer||[],window.dataLayer.push({Mission:this.gaPredefiedData.Mission,"Country Of Operation":this.gaPredefiedData.CountryOfOperation,"City Of Operation":this.gaPredefiedData.CityOfOperation,"Website Language":this.gaPredefiedData.WebsiteLanguage,"Page Name":this.gaPredefiedData.PageName,"Vac Name":this.gaPredefiedData.VacName})}catch(e){console.log(e)}}},{key:"sendConfirmationPageAnalytics",value:function(e){var t,a;try{if(this.checkIfProd)return;var n={event:"custom_event",dl_category:"PageView",dl_action:"PageView - Transaction Successful",dl_label:"".concat(null===(t=u.byIso(window.location.pathname.split("/")[1]))||void 0===t?void 0:t.country," & ").concat(null===(a=u.byIso(window.location.pathname.split("/")[3]))||void 0===a?void 0:a.country),dl_value:void 0,"Vac Name":this.gaPredefiedData.VacName,"Page Name":this.gaPredefiedData.PageName,"Website Language":this.gaPredefiedData.WebsiteLanguage};window.dataLayer.push(Object.assign(Object.assign({},e),n)),this.eventEmitter(e.Applicants,e.vasApplicants,e.vasQuantity)}catch(i){console.log(i)}}},{key:"product_details",value:function(e){return Object(n.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a,n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!this.checkIfProd){t.next=3;break}return t.abrupt("return");case 3:return a=[],t.next=6,e.map(function(e,t){var i,r;a.push({name:e.name,id:e.code,price:e.unitPrice,brand:"".concat(null===(i=u.byIso(window.location.pathname.split("/")[1]))||void 0===i?void 0:i.country,"/").concat(null===(r=u.byIso(window.location.pathname.split("/")[3]))||void 0===r?void 0:r.country),category:"VAS",variant:n.gaPredefiedData.VacName,list:n.gaPredefiedData.PageName+" Page Product Listing",position:t,uniqueId:e.id})});case 6:window.dataLayer.push({event:"productDetails",dl_category:"Product Performance",dl_action:"Product Details",dl_label:e.name,dl_value:e.unitPrice,"Page Name":this.gaPredefiedData.PageName,"Vac Name":this.gaPredefiedData.VacName,ecommerce:{currencyCode:e.currency,detail:{actionField:{list:this.gaPredefiedData.PageName+" Page Product Listing"},products:a}}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}},t,this,[[0,9]])}))}},{key:"product_click",value:function(e){return Object(n.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a,n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!this.checkIfProd){t.next=3;break}return t.abrupt("return");case 3:return a=[],t.next=6,[e].map(function(e,t){var i,r;a.push({name:e.name,id:e.code,price:e.unitPrice,brand:"".concat(null===(i=u.byIso(window.location.pathname.split("/")[1]))||void 0===i?void 0:i.country,"/").concat(null===(r=u.byIso(window.location.pathname.split("/")[3]))||void 0===r?void 0:r.country),category:"VAS",variant:n.gaPredefiedData.VacName,list:n.gaPredefiedData.PageName+" Page Product Listing",position:t,uniqueId:e.id})});case 6:window.dataLayer.push({event:"productClick",dl_category:"Product Performance",dl_action:"Product Click",dl_label:e.name,dl_value:e.unitPrice,"Page Name":this.gaPredefiedData.PageName,"Vac Name":this.gaPredefiedData.VacName,ecommerce:{currencyCode:e.currency,click:{actionField:{list:this.gaPredefiedData.PageName+" Page Product Listing"},products:a}}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}},t,this,[[0,9]])}))}},{key:"add_to_cart",value:function(e){return Object(n.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a,n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!this.checkIfProd){t.next=3;break}return t.abrupt("return");case 3:return a=[],t.next=6,[e].map(function(e,t){var i,r;a.push({name:e.name,id:e.code,price:e.unitPrice,brand:"".concat(null===(i=u.byIso(window.location.pathname.split("/")[1]))||void 0===i?void 0:i.country,"/").concat(null===(r=u.byIso(window.location.pathname.split("/")[3]))||void 0===r?void 0:r.country),category:"VAS",variant:n.gaPredefiedData.VacName,list:n.gaPredefiedData.PageName+" Page Product Listing",position:t,uniqueId:e.id})});case 6:window.dataLayer.push({event:"addToCart",dl_category:"Add to Cart",dl_action:"Add to Cart From Service Card",dl_label:e.name,dl_value:e.unitPrice,"Page Name":this.gaPredefiedData.PageName,"Vac Name":this.gaPredefiedData.VacName,ecommerce:{currencyCode:e.currencyCode,add:{actionField:{list:this.gaPredefiedData.PageName+" Page Product Listing"},products:a}}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}},t,this,[[0,9]])}))}},{key:"remove_to_cart",value:function(e){return Object(n.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a,n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!this.checkIfProd){t.next=3;break}return t.abrupt("return");case 3:return a=[],t.next=6,[e].map(function(e,t){var i,r;a.push({name:e.name,id:e.code,price:e.unitPrice,brand:"".concat(null===(i=u.byIso(window.location.pathname.split("/")[1]))||void 0===i?void 0:i.country,"/").concat(null===(r=u.byIso(window.location.pathname.split("/")[3]))||void 0===r?void 0:r.country),category:"VAS",variant:n.gaPredefiedData.VacName,list:n.gaPredefiedData.PageName+" Page Product Listing",position:t,uniqueId:e.id})});case 6:window.dataLayer.push({event:"removeFromCart",dl_category:"Remove From Cart",dl_action:"Remove From Cart From Shopping Cart",dl_label:e.name,dl_value:e.unitPrice,"Page Name":this.gaPredefiedData.PageName,"Vac Name":this.gaPredefiedData.VacName,ecommerce:{currencyCode:e.currencyCode,remove:{actionField:{list:this.gaPredefiedData.PageName+" Page Product Listing"},products:a}}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}},t,this,[[0,9]])}))}},{key:"eventEmitter",value:function(e,t,a){ga("set","metric1",e),ga("set","metric2",t),ga("set","metric3",a),ga("send","pageview")}},{key:"resetSchema",value:function(){var e=this.sessionService.getFullApplicationSchema();this.sessionService.saveApplicationSchemaInBrowser(e)}},{key:"getDateFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";return e?e.day+t+e.month+t+e.year:e}},{key:"gaForTMI",value:function(e){try{if(this.checkIfProd)return;window.dataLayer=window.dataLayer||[];window.dataLayer.push(Object.assign(Object.assign({},e),{event:"custom_event"}))}catch(t){console.log(t)}}},{key:"getCookie",value:function(e){var t=e.length+1;return document.cookie.split(";").map(function(e){return e.trim()}).filter(function(a){return a.substring(0,t)==="".concat(e,"=")}).map(function(e){return decodeURIComponent(e.substring(t))})[0]||null}},{key:"pushDataLayerGA",value:function(e){var t,a,n,i,r;try{if(!this.checkIfProd)return;var o=this.sessionService.eligibilityDetails;window.dataLayer=window.dataLayer||[];var s=this.getCookie("_ga"),l={"Page Name":null===(t=this.gaPredefiedData)||void 0===t?void 0:t.PageName,"Country Of Operation":null===(a=this.gaPredefiedData)||void 0===a?void 0:a.CountryOfOperation,Mission:null===(n=this.gaPredefiedData)||void 0===n?void 0:n.Mission,"Website Language":null===(i=this.gaPredefiedData)||void 0===i?void 0:i.WebsiteLanguage,"City Of Operation":null===(r=this.gaPredefiedData)||void 0===r?void 0:r.CityOfOperation,"GA Client Id":s,"Hit Timestamp":this.momentInstance().format(),event:"custom_event"};o&&(l["Visa Center Seleted"]=null==o?void 0:o.centerCode,l["Appointment Category"]=null==o?void 0:o.selectedSubvisaCategory,l["Appointment Sub Category"]=null==o?void 0:o.visaCategoryCode),window.dataLayer.push(Object.assign(Object.assign({},e),l))}catch(c){console.log(c)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.dc(b.e),m.dc(v.d),m.dc(g.a),m.dc(h.b),m.dc(y.a),m.dc(S.a),m.dc(C.c))},e.\u0275prov=m.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},Yt5x:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var n=a("fXoL"),i=function(){var e=function(){function e(){p(this,e)}return f(e,null,[{key:"setInjector",value:function(t){e.injector=t}},{key:"getInjector",value:function(){return e.injector}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},cT3p:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var i=n("mrSG"),r=n("2Vo4"),o=n("XNiG"),s=n("TCge"),l=n("AytR"),c=n("fXoL"),u=n("jhN1"),d=n("E3Zs"),m=function(){var e=function(){function e(t,a){var n=this;p(this,e),this.titleService=t,this.logger=a,this.UPDATED_CART="updated_cart",this.APP_SCHEMA="appSchema",this.FULL_APP_SCHEMA="fullAppSchema",this.LOGIN_STATUS="loginStatus",this.JWT="JWT",this.EMAIL="logged_email",this.CURR_APP_VISA_CAT="curr_appl_visa_cat",this.CURR_APP_VISA_TYPE="curr_appl_visa_type",this.REGISTERED_USER_TOKEN="user_token",this.APP_MISSION_LANGUAGE="app_mission_language",this.VLN_REGEX="vln_regex",this.VLN_FORMAT="vln_format",this.IS_VLN_ENABLED="is_vln_enabled",this.loggedInStatus=new r.a(!1),this.APP_LANGUAGE_CODE="app_language_code",this.ACTIVATE_MESSAGE="activate_message",this.SERVICE_FEE="service_fees",this.VAC_FEE="vac_fee",this.ADDITIONAL_FEE="additional_fee",this.SERVICE_TAX="service_tax",this.APP_CULTURE_CODE=s.x,this.TENENT="tenent",this.TRANSACTION_ID="transactionid",this.COUNTRYCODE="countrycode",this.DOCUMENT_IDENTIFIER="document_identifier",this.ROUTE_ID="route_id",this.APPLICANT_APLHA_ID="applicant_alpha_id",this.APPLICANT_GRP_APLHA_ID="applicant_grp_alpha_id",this.LOGGED_IN_USING_EMAIL="logged_in_using_email",this.APPLICATION_STATUS="application_status",this.CURRENCY_CODE="currency_code",this.CURR_APP_VAC="curr_app_vac",this.APPOINTMENT_DETAILS="apt_dtls",this.CENTER_CODE="curr_app_cntr_code",this.URN_NO="urn_no",this.CMPLTD_MOD="cmpltd_mod",this.TEMP_APP_SCHEMA="temp_appschema",this.RESHDL_APTMNT_MODE="reshdl_mode",this.WAITLIST_APTMNT_MODE="waitlist_mode",this.UPDATE_FEES="update_fees",this.TMI_PRODUCT_VIEW="tmi_product_view",this.TMI_ENABLED="tmi_enabled",this.DOCUMENT_UPLOAD_ENABLED="document_upload_enabled",this.PAY_AT_BANK_SELECTED="pay_at_bank",this.SPLIT_PAY_ENABLED="split_pay_enabled",this.OPTED_OUT_TMI="opted_out_tmi",this.TMI_PRODUCTS_AVAILABLE="tmi_products_available",this.SCHEMA_UPDATED="schema_updated",this.TMI_PRODUCT_CONSENT="tmi_product_consent",this.CART_AMOUNT="cart_amount",this.TMI_VAS_ID="tmi_vas_id",this.IP_ADDRESS="ip",this.SERVICE_FEE_MODE_CHKBX_STATUS="serv_fee_mode_chkbx_sts",this.DOCUMENT_EXTRACTION="document_extraction",this.CAPTHA_CONFIGURATION="captcha_configuration",this.WAITLIST_JOURNEY="waitlist_journey",this.DECIMAL_ALLOWED="decimal_allowed",this.DISABLE_VFS_LOGO="disable_vfs_logo",this.TMI_VAS="tmiVas",this.RESOURCE_GROUP_DATA="resource_group_data",this.RESOURCE_GROUP_DATA_TEMP="resource_group_data_temp",this.FF_SERVICE_FOR_APPLICANT="ffServiceForApplicant",this.JWT_TOKEN="jwt_token",this.FF_APPLICANT_DETAILS="ff_applicant_details",this.FF_PAYMENT_DETAILS="ff_payment_details",this.isLoggedIn=this.loggedInStatus.asObservable(),this.isTotalFeesSource=new r.a("0"),this.appSchemaSubscriber=new r.a(null),this.appSchema$=this.appSchemaSubscriber.asObservable(),this.APPLICATION_DETAILS="application_details",this.APPLICATION_DETAILS_CPY="applctn_dtls_cpy",this.APPLICATION_CONFIGURATION="application_configuration",this.APP_CENTER_CODE="app_center_code",this.APPLICATION_SERVICE="application_services",this.EDIT_APLCT_IDX="edt_aplct_idx",this.IS_ADD_WALK_IN_MODE="is_add_walk_in_mode",this.PYMNT_DTLS="pymnt_dtls",this.PYMNT_DATA="pymnt_data",this.ELIGBLTY_DTLS="eligblty_dtls",this.COURIER_DTLS="courier_dtls",this.TMI_DETAILS="tmi_details",this.TMI_CONTENTFUL_DETAILS="tmi_contentful_details",this.CALCULATED_CODE="calculated_from_code",this.VISA_SUB_CATEGORY="cur_app_visa_sub_category",this.SERVICE_TYPE="cur_app_servicetype",this.VISA_CATEGORY="curr_app_visa_type",this.MX_ALWD_DEPARTURE_DT="mx_alwd_dt_of_departure",this.LATEST_SLOT="lst_slot",this.CAPTCHA_MODE="captcha_mode",this.IS_OTP_ENABLE="is_otp_enable",this.IS_OTP_VERIFIED="otp_verified",this.PAYMENT_OPTION="pt_payment_opt",this.IS_GRN_ENABLED="is_grn_enabled",this.IS_TMI_OAB_ENABLE="is_tmi_oab",this.TMI_ADD_APPLICANT="tmi_add_applicant",this.ODMV_DETAILS="odmv_dtls",this.COURIER_DETAILS="courier_dtls",this.IS_VAYD_ADDRESS_UPDATED="is_odmv_address_updated",this.IS_COURIER_ADDRESS_UPDATED="is_courier_address_updated",this.IS_COURIER_SERVICE_INTEGRATED="is_courier_service_integrated",this.ROUTE_HISTORY="route_history",this.dataToDeleteOnDashboardRoute=[this.EDIT_APLCT_IDX,this.PYMNT_DTLS,this.APPOINTMENT_DETAILS,this.ELIGBLTY_DTLS,this.COURIER_DTLS,this.CENTER_CODE,this.APPLICATION_SERVICE,this.CURR_APP_VAC,this.CURRENCY_CODE,this.CURR_APP_VISA_TYPE,this.CURR_APP_VISA_CAT,this.VISA_CATEGORY,this.VISA_SUB_CATEGORY,this.CMPLTD_MOD,this.RESHDL_APTMNT_MODE,this.SERVICE_TYPE,this.UPDATED_CART,this.CART_AMOUNT,this.TMI_VAS,this.TMI_VAS_ID,this.DOCUMENT_EXTRACTION,this.WAITLIST_JOURNEY,this.TMI_ENABLED,this.PAY_AT_BANK_SELECTED,this.SPLIT_PAY_ENABLED,this.TMI_VAS,this.WAITLIST_APTMNT_MODE,this.IS_OTP_ENABLE,this.IS_OTP_VERIFIED,this.PAYMENT_OPTION,this.FF_SERVICE_FOR_APPLICANT],this.dataToBeDeletedOnNewApplicantAdd=[this.MX_ALWD_DEPARTURE_DT,this.APPLICATION_STATUS,this.APPLICANT_APLHA_ID,this.APPLICANT_GRP_APLHA_ID,this.ROUTE_ID,this.CURR_APP_VISA_CAT,this.CURR_APP_VISA_TYPE,this.CURR_APP_VISA_TYPE,this.CENTER_CODE,this.SERVICE_FEE,this.SERVICE_TAX,this.VAC_FEE,this.ADDITIONAL_FEE,this.CURR_APP_VISA_TYPE,this.CENTER_CODE,this.APPOINTMENT_DETAILS,this.APPLICATION_DETAILS,this.TMI_DETAILS,this.PYMNT_DATA,this.PYMNT_DTLS,this.APPLICATION_SERVICE,this.TRANSACTION_ID,this.UPDATED_CART,this.CART_AMOUNT,this.TMI_VAS_ID,this.TMI_VAS,this.DOCUMENT_EXTRACTION,this.LATEST_SLOT,this.IS_OTP_ENABLE,this.PAYMENT_OPTION,this.FF_SERVICE_FOR_APPLICANT],this.errors=new o.a,this.addErrors=function(e){return n.errors.next(e)},this.getErrors=function(){return n.errors.asObservable()};var i=this.loggedInStatus.value||sessionStorage.getItem(this.LOGIN_STATUS),l=this.currentApplicantVisaCat;this.updateLoginStatus(i),this.setCurrApplicantVisaCategory(l);var c=sessionStorage.getItem("total_amount")||this.isTotalFeesSource.value,u=sessionStorage.getItem(this.CURRENCY_CODE)||null;this.updateTotalAmount(c,u)}return f(e,[{key:"getValue",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{var a=sessionStorage.getItem(e)||localStorage.getItem(e);if(a&&"null"!==a)return isNaN(a)?a:Number(a);if(t)throw new Error("".concat(s.d.KEY_NOT_FOUND_IN_STORAGE,": ").concat(e));return null}catch(n){throw n}}},{key:"setStorageValue",value:function(e,t){localStorage.setItem(e,t)}},{key:"getStorageValue",value:function(e){return localStorage.getItem(e)||null}},{key:"vaydDetails",get:function(){var e=sessionStorage.getItem(this.ODMV_DETAILS);return e?JSON.parse(e):void 0},set:function(e){sessionStorage.setItem(this.ODMV_DETAILS,e)}},{key:"getSession",value:function(e){var t=sessionStorage.getItem(e);return JSON.parse(t||"")}},{key:"saveToSession",value:function(e,t){try{var a="object"==typeof t?JSON.stringify(t):t;sessionStorage.setItem(e,a)}catch(n){throw n}}},{key:"setIsAddWalkinMode",value:function(e){sessionStorage.setItem(this.IS_ADD_WALK_IN_MODE,String(e))}},{key:"setIsVaydAddressUpdated",value:function(e){sessionStorage.setItem(this.IS_VAYD_ADDRESS_UPDATED,String(e))}},{key:"IsVaydAddressUpdated",get:function(){return"true"===sessionStorage.getItem(this.IS_VAYD_ADDRESS_UPDATED)}},{key:"clearSession",value:function(){sessionStorage.clear()}},{key:"setTitle",value:function(e){this.titleService.setTitle(e)}},{key:"saveApplicationSchemaInBrowser",value:function(e){return Object(i.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(sessionStorage.setItem(this.APP_SCHEMA,JSON.stringify(e)),this.appSchemaSubscriber.next(e),!0));case 1:case"end":return t.stop()}},t,this)}))}},{key:"saveFullApplicationSchemaInBrowser",value:function(e){return Object(i.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(sessionStorage.setItem(this.FULL_APP_SCHEMA,JSON.stringify(e)),!0));case 1:case"end":return t.stop()}},t,this)}))}},{key:"getApplicationSchema",value:function(){var e=sessionStorage.getItem(this.APP_SCHEMA)||null;return e?JSON.parse(e):e}},{key:"getFullApplicationSchema",value:function(){var e=sessionStorage.getItem(this.FULL_APP_SCHEMA)||null;return e?JSON.parse(e):e}},{key:"getAllModulesSchema",value:function(){try{var e=sessionStorage.getItem(this.APP_SCHEMA)||null;return e?JSON.parse(e).modules:e}catch(t){return[]}}},{key:"updateLoginStatus",value:function(e){sessionStorage.setItem(this.LOGIN_STATUS,String(e)),this.loggedInStatus.next(e)}},{key:"loggedStatus",get:function(){return sessionStorage.getItem(this.loginStatus)}},{key:"updateTotalAmount",value:function(e,t){t&&sessionStorage.setItem(this.CURRENCY_CODE,t),sessionStorage.setItem("total_amount",String(e)),this.isTotalFeesSource.next(e)}},{key:"totalAmount",get:function(){return sessionStorage.getItem("total_amount")}},{key:"latestSlotAvailiable",get:function(){return sessionStorage.getItem(this.LATEST_SLOT)||""},set:function(e){sessionStorage.setItem(this.LATEST_SLOT,e)}},{key:"captchaMode",get:function(){return sessionStorage.getItem(this.CAPTCHA_MODE)||"v3"},set:function(e){sessionStorage.setItem(this.CAPTCHA_MODE,e)}},{key:"documentExtractionData",get:function(){var e=sessionStorage.getItem(this.DOCUMENT_EXTRACTION);return e?JSON.parse(e):[]},set:function(e){sessionStorage.setItem(this.DOCUMENT_EXTRACTION,JSON.stringify(e))}},{key:"decimalConfiguration",get:function(){return sessionStorage.getItem(this.DECIMAL_ALLOWED)||""},set:function(e){sessionStorage.setItem(this.DECIMAL_ALLOWED,"1.".concat(e,"-").concat(e))}},{key:"captchaConfiguration",get:function(){var e=localStorage.getItem(this.CAPTHA_CONFIGURATION);return e?JSON.parse(e):[]},set:function(e){(null==e?void 0:e.length)&&localStorage.setItem(this.CAPTHA_CONFIGURATION,JSON.stringify(e[0].fields.allowedRoute.allowedRoute))}},{key:"waitlistJourney",get:function(){var e=sessionStorage.getItem(this.WAITLIST_JOURNEY)||"false";return Boolean(JSON.parse(e))},set:function(e){sessionStorage.setItem(this.WAITLIST_JOURNEY,JSON.stringify(e))}},{key:"tmiEnabled",get:function(){var e=sessionStorage.getItem(this.TMI_ENABLED)||"false";return Boolean(JSON.parse(e))},set:function(e){sessionStorage.setItem(this.TMI_ENABLED,JSON.stringify(e))}},{key:"documentUploadEnabled",get:function(){var e=sessionStorage.getItem(this.DOCUMENT_UPLOAD_ENABLED)||"false";return Boolean(JSON.parse(e))},set:function(e){sessionStorage.setItem(this.DOCUMENT_UPLOAD_ENABLED,JSON.stringify(e))}},{key:"isPayAtBankSelected",get:function(){var e=sessionStorage.getItem(this.PAY_AT_BANK_SELECTED)||"false";return Boolean(JSON.parse(e))},set:function(e){sessionStorage.setItem(this.PAY_AT_BANK_SELECTED,JSON.stringify(e))}},{key:"splitEnabled",get:function(){var e=sessionStorage.getItem(this.SPLIT_PAY_ENABLED)||"false";return Boolean(JSON.parse(e))},set:function(e){sessionStorage.setItem(this.SPLIT_PAY_ENABLED,JSON.stringify(e))}},{key:"clearDocumentExtration",value:function(){sessionStorage.removeItem(this.DOCUMENT_EXTRACTION)}},{key:"updateJwt",value:function(e){sessionStorage.setItem(this.JWT,e.accessToken)}},{key:"updateJwtFF",value:function(e){sessionStorage.setItem(this.JWT,e)}},{key:"updateLoggedEmail",value:function(e){sessionStorage.setItem(this.EMAIL,e)}},{key:"getJWT",value:function(){return sessionStorage.getItem(this.JWT)}},{key:"getLoggedEmail",value:function(){return sessionStorage.getItem(this.EMAIL)}},{key:"loginStatus",get:function(){return this.loggedInStatus.value}},{key:"containsAppSchema",get:function(){return!!this.getApplicationSchema()}},{key:"setCurrApplicantVisaCategory",value:function(e){sessionStorage.setItem(this.CURR_APP_VISA_CAT,String(e))}},{key:"setCurrApplicantVisaType",value:function(e){sessionStorage.setItem(this.CURR_APP_VISA_TYPE,String(e))}},{key:"currentApplicantVisaCat",get:function(){return sessionStorage.getItem(this.CURR_APP_VISA_CAT)}},{key:"currentApplicantVisaType",get:function(){return sessionStorage.getItem(this.CURR_APP_VISA_TYPE)}},{key:"updateTokenOnRegistration",value:function(e){sessionStorage.setItem(this.REGISTERED_USER_TOKEN,e)}},{key:"appMissionLanguage",get:function(){var e=localStorage.getItem(this.APP_MISSION_LANGUAGE);if(e)return JSON.parse(e)},set:function(e){localStorage.setItem(this.APP_MISSION_LANGUAGE,JSON.stringify(e))}},{key:"clientIpAddress",get:function(){return sessionStorage.getItem(this.IP_ADDRESS)},set:function(e){sessionStorage.setItem(this.IP_ADDRESS,e)}},{key:"updatedCartAmount",get:function(){return sessionStorage.getItem(this.UPDATED_CART)},set:function(e){sessionStorage.setItem(this.UPDATED_CART,e)}},{key:"tmiVasID",get:function(){return sessionStorage.getItem(this.TMI_VAS_ID)},set:function(e){sessionStorage.setItem(this.TMI_VAS_ID,e)}},{key:"clearMissionlanguage",value:function(){localStorage.removeItem(this.APP_MISSION_LANGUAGE)}},{key:"appLanguageCode",get:function(){return localStorage.getItem(this.APP_LANGUAGE_CODE)||void 0},set:function(e){e&&localStorage.setItem(this.APP_LANGUAGE_CODE,e)}},{key:"activateMessage",get:function(){return sessionStorage.getItem(this.ACTIVATE_MESSAGE)||""},set:function(e){e&&sessionStorage.setItem(this.ACTIVATE_MESSAGE,e)}},{key:"servicefees",get:function(){return sessionStorage.getItem(this.SERVICE_FEE)||"0"},set:function(e){sessionStorage.setItem(this.SERVICE_FEE,e)}},{key:"vacFees",get:function(){var e=sessionStorage.getItem(this.VAC_FEE);return e?JSON.parse(e):[]},set:function(e){sessionStorage.setItem(this.VAC_FEE,JSON.stringify(e))}},{key:"additionalFees",get:function(){var e=sessionStorage.getItem(this.ADDITIONAL_FEE);return e?JSON.parse(e):[]},set:function(e){sessionStorage.setItem(this.ADDITIONAL_FEE,JSON.stringify(e))}},{key:"serviceTax",get:function(){return sessionStorage.getItem(this.SERVICE_TAX)||"0"},set:function(e){sessionStorage.setItem(this.SERVICE_TAX,e)}},{key:"clearActivateMessage",value:function(){sessionStorage.removeItem(this.ACTIVATE_MESSAGE)}},{key:"appCultureCode",get:function(){return localStorage.getItem(this.APP_CULTURE_CODE)||l.a.defaultCultureCode},set:function(e){localStorage.setItem(this.APP_CULTURE_CODE,e)}},{key:"tenent",get:function(){return localStorage.getItem(this.TENENT)||null},set:function(e){localStorage.setItem(this.TENENT,e)}},{key:"transactionId",get:function(){return sessionStorage.getItem(this.TRANSACTION_ID)||null},set:function(e){sessionStorage.setItem(this.TRANSACTION_ID,e)}},{key:"countryCode",get:function(){return localStorage.getItem(this.COUNTRYCODE)||null},set:function(e){localStorage.setItem(this.COUNTRYCODE,e)}},{key:"documentIdentifierId",get:function(){return sessionStorage.getItem(this.DOCUMENT_IDENTIFIER)||null},set:function(e){sessionStorage.setItem(this.DOCUMENT_IDENTIFIER,e)}},{key:"jwtToken",get:function(){return localStorage.getItem(this.JWT_TOKEN)||null},set:function(e){localStorage.setItem(this.JWT_TOKEN,e)}},{key:"ffApplicantDetails",get:function(){return localStorage.getItem(this.FF_APPLICANT_DETAILS)||null},set:function(e){localStorage.setItem(this.FF_APPLICANT_DETAILS,JSON.stringify(e))}},{key:"ffPaymentDetails",get:function(){var e=localStorage.getItem(this.FF_PAYMENT_DETAILS);return e?JSON.parse(e):null},set:function(e){localStorage.setItem(this.FF_PAYMENT_DETAILS,JSON.stringify(e))}},{key:"getUserToken",value:function(){return sessionStorage.getItem("user_token")}},{key:"setRouteId",value:function(e){sessionStorage.setItem(this.ROUTE_ID,String(e))}},{key:"routeId",get:function(){var e=sessionStorage.getItem(this.ROUTE_ID)||null;return e?Number(e):null}},{key:"setApplicantAplhaId",value:function(e){sessionStorage.setItem(this.APPLICANT_APLHA_ID,e)}},{key:"applicantAplhaId",get:function(){return sessionStorage.getItem(this.APPLICANT_APLHA_ID)||null}},{key:"setApplicantGroupAplhaId",value:function(e){sessionStorage.setItem(this.APPLICANT_GRP_APLHA_ID,e)}},{key:"applicantGroupAplhaId",get:function(){return sessionStorage.getItem(this.APPLICANT_GRP_APLHA_ID)||null}},{key:"setCurrencyCode",set:function(e){sessionStorage.setItem(this.CURRENCY_CODE,e)}},{key:"currencyCode",get:function(){return sessionStorage.getItem(this.CURRENCY_CODE)}},{key:"loggedInUsingEmail",get:function(){var e=sessionStorage.getItem("logged_in_using_email");return!!e&&JSON.parse(e)},set:function(e){sessionStorage.setItem(this.LOGGED_IN_USING_EMAIL,String(e))}},{key:"applicationStatus",get:function(){return sessionStorage.getItem(this.APPLICATION_STATUS||"")},set:function(e){sessionStorage.setItem(this.APPLICATION_STATUS,e)}},{key:"clearApplicationDetails",value:function(){sessionStorage.removeItem(this.APPLICATION_DETAILS)}},{key:"cleartmiDetails",value:function(){sessionStorage.removeItem(this.TMI_DETAILS)}},{key:"routeHistory",get:function(){var e=sessionStorage.getItem(this.ROUTE_HISTORY);return e?JSON.parse(e):[]},set:function(e){sessionStorage.setItem(this.ROUTE_HISTORY,JSON.stringify(e))}},{key:"tmiDetails",get:function(){try{var e=sessionStorage.getItem(this.TMI_DETAILS);if(e)return JSON.parse(e)}catch(t){throw new Error(t)}},set:function(e){sessionStorage.setItem(this.TMI_DETAILS,JSON.stringify(e))}},{key:"tmiContentfulDetails",get:function(){try{var e=sessionStorage.getItem(this.TMI_CONTENTFUL_DETAILS);if(e)return JSON.parse(e)}catch(t){throw new Error(t)}},set:function(e){sessionStorage.setItem(this.TMI_CONTENTFUL_DETAILS,JSON.stringify(e))}},{key:"applicationDetailValue",get:function(){try{var e=sessionStorage.getItem(this.APPLICATION_DETAILS);if(e)return JSON.parse(e)}catch(t){throw new Error(t)}},set:function(e){sessionStorage.setItem(this.APPLICATION_DETAILS,JSON.stringify(e))}},{key:"applicationDetailCopy",get:function(){try{var e=sessionStorage.getItem(this.APPLICATION_DETAILS_CPY);if(e)return JSON.parse(e)}catch(t){throw new Error(t)}},set:function(e){sessionStorage.setItem(this.APPLICATION_DETAILS_CPY,JSON.stringify(e))}},{key:"clearAppConfiguration",value:function(){sessionStorage.removeItem(this.APPLICATION_CONFIGURATION)}},{key:"applicationConfiguration",get:function(){try{var e=sessionStorage.getItem(this.APPLICATION_CONFIGURATION);if(e)return JSON.parse(e)}catch(t){throw new Error(t)}},set:function(e){sessionStorage.setItem(this.APPLICATION_CONFIGURATION,JSON.stringify(e))}},{key:"clearappCenterCode",value:function(){sessionStorage.removeItem(this.APP_CENTER_CODE)}},{key:"appCenterCode",get:function(){try{var e=sessionStorage.getItem(this.APP_CENTER_CODE);if(e)return JSON.parse(e)}catch(t){throw new Error(t)}},set:function(e){sessionStorage.setItem(this.APP_CENTER_CODE,JSON.stringify(e))}},{key:"saveAppointmentDetails",value:function(e){sessionStorage.setItem(this.APPOINTMENT_DETAILS,JSON.stringify(e))}},{key:"setIsCourierAddressUpdated",value:function(e){sessionStorage.setItem(this.IS_COURIER_ADDRESS_UPDATED,String(e))}},{key:"IsCourierAddressUpdated",get:function(){return"true"===sessionStorage.getItem(this.IS_COURIER_ADDRESS_UPDATED)}},{key:"getAppointmentDetails",value:function(){var e=sessionStorage.getItem(this.APPOINTMENT_DETAILS);return e?JSON.parse(e):void 0}},{key:"clearAppointmentDetail",value:function(){sessionStorage.removeItem(this.APPOINTMENT_DETAILS)}},{key:"isCourierIntegratedVasPurchased",get:function(){return"true"===sessionStorage.getItem(this.IS_COURIER_SERVICE_INTEGRATED)}},{key:"setIsCourierIntegratedVasPurchased",value:function(e){sessionStorage.setItem(this.IS_COURIER_SERVICE_INTEGRATED,String(e))}},{key:"applicantService",get:function(){try{var e=sessionStorage.getItem(this.APPLICATION_SERVICE);return e?JSON.parse(e):[]}catch(t){throw new Error(t)}},set:function(e){sessionStorage.setItem(this.APPLICATION_SERVICE,JSON.stringify(e))}},{key:"centerCode",get:function(){return sessionStorage.getItem(this.CENTER_CODE)},set:function(e){sessionStorage.setItem(this.CENTER_CODE,e)}},{key:"urn",get:function(){return sessionStorage.getItem(this.URN_NO)},set:function(e){sessionStorage.setItem(this.URN_NO,e)}},{key:"editApplicantDetailsIdx",get:function(){var e=sessionStorage.getItem(this.EDIT_APLCT_IDX);return e?Number(e):null},set:function(e){sessionStorage.setItem(this.EDIT_APLCT_IDX,String(e))}},{key:"clearEditApplicationIdx",value:function(){sessionStorage.removeItem(this.EDIT_APLCT_IDX)}},{key:"paymentDetails",get:function(){var e=sessionStorage.getItem(this.PYMNT_DTLS);return e?JSON.parse(e):null},set:function(e){sessionStorage.setItem(this.PYMNT_DTLS,JSON.stringify(e))}},{key:"paymentData",get:function(){var e=sessionStorage.getItem(this.PYMNT_DATA);return e?JSON.parse(e):null},set:function(e){sessionStorage.setItem(this.PYMNT_DATA,JSON.stringify(e))}},{key:"completedModuleName",get:function(){return sessionStorage.getItem(this.CMPLTD_MOD)},set:function(e){sessionStorage.setItem(this.CMPLTD_MOD,e)}},{key:"eligibilityDetails",get:function(){var e=sessionStorage.getItem(this.ELIGBLTY_DTLS);if(e)return JSON.parse(e)},set:function(e){sessionStorage.setItem(this.ELIGBLTY_DTLS,JSON.stringify(e))}},{key:"courierDetails",get:function(){var e=sessionStorage.getItem(this.COURIER_DTLS);if(e)return JSON.parse(e)},set:function(e){sessionStorage.setItem(this.COURIER_DTLS,JSON.stringify(e))}},{key:"calculatedCodeData",get:function(){var e=sessionStorage.getItem(this.CALCULATED_CODE);if(e)return JSON.parse(e)},set:function(e){sessionStorage.setItem(this.CALCULATED_CODE,JSON.stringify(e))}},{key:"clearCalulatedData",value:function(){sessionStorage.removeItem(this.CALCULATED_CODE)}},{key:"tempAppSchema",get:function(){var e=sessionStorage.getItem(this.TEMP_APP_SCHEMA);if(e)return JSON.parse(e)},set:function(e){sessionStorage.setItem(this.TEMP_APP_SCHEMA,JSON.stringify(e))}},{key:"isVLNRequired",get:function(){return"true"===sessionStorage.getItem(this.IS_VLN_ENABLED)},set:function(e){sessionStorage.setItem(this.IS_VLN_ENABLED,String(e))}},{key:"setIsVFSLogoDisabled",value:function(e){localStorage.setItem(this.DISABLE_VFS_LOGO,String(e))}},{key:"isVFSLogoDisabled",get:function(){return"true"===localStorage.getItem(this.DISABLE_VFS_LOGO)}},{key:"setIsRescheduleAptmntMode",value:function(e){sessionStorage.setItem(this.RESHDL_APTMNT_MODE,String(e))}},{key:"isRescheduleAptmntMode",get:function(){return"true"===sessionStorage.getItem(this.RESHDL_APTMNT_MODE)}},{key:"vlnNumberFormat",get:function(){return sessionStorage.getItem(this.VLN_FORMAT)},set:function(e){sessionStorage.setItem(this.VLN_FORMAT,e)}},{key:"setIsWaitlistScheduleMode",value:function(e){sessionStorage.setItem(this.WAITLIST_APTMNT_MODE,String(e))}},{key:"iswaitlistScheduleMode",get:function(){return"true"===sessionStorage.getItem(this.WAITLIST_APTMNT_MODE)}},{key:"visaSubCategory",get:function(){return sessionStorage.getItem(this.VISA_SUB_CATEGORY)},set:function(e){sessionStorage.setItem(this.VISA_SUB_CATEGORY,e)}},{key:"serviceTypeCode",get:function(){return sessionStorage.getItem(this.SERVICE_TYPE)},set:function(e){sessionStorage.setItem(this.SERVICE_TYPE,e)}},{key:"regex",get:function(){return sessionStorage.getItem(this.VLN_REGEX)},set:function(e){sessionStorage.setItem(this.VLN_REGEX,e)}},{key:"visaCategory",get:function(){return sessionStorage.getItem(this.VISA_CATEGORY)},set:function(e){sessionStorage.setItem(this.VISA_CATEGORY,e)}},{key:"setMaxAlwdDepartureDate",value:function(e){sessionStorage.setItem(this.MX_ALWD_DEPARTURE_DT,JSON.stringify(e))}},{key:"getMaxAlwdDepartureDate",value:function(){var e=sessionStorage.getItem(this.MX_ALWD_DEPARTURE_DT);if(e)return JSON.parse(e)}},{key:"clearSessionOnDashboardRoute",value:function(){try{var e,t=a(this.dataToDeleteOnDashboardRoute);try{for(t.s();!(e=t.n()).done;){var n=e.value;sessionStorage.removeItem(n)}}catch(i){t.e(i)}finally{t.f()}}catch(r){console.log(r)}}},{key:"isSchemaUpdated",get:function(){return"true"===sessionStorage.getItem(this.SCHEMA_UPDATED)},set:function(e){sessionStorage.setItem(this.SCHEMA_UPDATED,String(e))}},{key:"updateFees",get:function(){return"true"===sessionStorage.getItem(this.UPDATE_FEES)},set:function(e){sessionStorage.setItem(this.UPDATE_FEES,String(e))}},{key:"tmiProductView",get:function(){return"true"===sessionStorage.getItem(this.TMI_PRODUCT_VIEW)},set:function(e){sessionStorage.setItem(this.TMI_PRODUCT_VIEW,String(e))}},{key:"optOutTmi",get:function(){return"true"===sessionStorage.getItem(this.OPTED_OUT_TMI)},set:function(e){sessionStorage.setItem(this.OPTED_OUT_TMI,String(e))}},{key:"isTmiProductsAvailable",get:function(){return"true"===sessionStorage.getItem(this.TMI_PRODUCTS_AVAILABLE)},set:function(e){sessionStorage.setItem(this.TMI_PRODUCTS_AVAILABLE,String(e))}},{key:"tmiProductConsent",get:function(){return"true"===sessionStorage.getItem(this.TMI_PRODUCT_CONSENT)},set:function(e){sessionStorage.setItem(this.TMI_PRODUCT_CONSENT,String(e))}},{key:"tmiVas",get:function(){var e=sessionStorage.getItem(this.TMI_VAS);return e?JSON.parse(e):null},set:function(e){sessionStorage.setItem(this.TMI_VAS,JSON.stringify(e))}},{key:"resourceGroupData",get:function(){var e=localStorage.getItem(this.RESOURCE_GROUP_DATA);return e?JSON.parse(e):null},set:function(e){localStorage.setItem(this.RESOURCE_GROUP_DATA,JSON.stringify(e))}},{key:"resourceGroupDataTemp",get:function(){var e=sessionStorage.getItem(this.RESOURCE_GROUP_DATA_TEMP);return e?JSON.parse(e):null},set:function(e){sessionStorage.setItem(this.RESOURCE_GROUP_DATA_TEMP,JSON.stringify(e))}},{key:"feeAmount",get:function(){var e=sessionStorage.getItem(this.CART_AMOUNT);return null!==e?Number(e).toFixed(2):null},set:function(e){sessionStorage.setItem(this.CART_AMOUNT,String(e))}},{key:"clearFeeAmount",value:function(){sessionStorage.removeItem(this.CART_AMOUNT)}},{key:"onlineFeePaymentModeOpted",get:function(){var e=sessionStorage.getItem(this.SERVICE_FEE_MODE_CHKBX_STATUS);return"true"===e||"false"!==e&&null},set:function(e){sessionStorage.setItem(this.SERVICE_FEE_MODE_CHKBX_STATUS,String(e))}},{key:"deleteOldApplicantDetails",value:function(){try{var e,t=a(this.dataToBeDeletedOnNewApplicantAdd);try{for(t.s();!(e=t.n()).done;){var n=e.value;sessionStorage.removeItem(n)}}catch(i){t.e(i)}finally{t.f()}}catch(r){console.log(r)}}},{key:"IsOTPEnable",get:function(){return"true"===sessionStorage.getItem(this.IS_OTP_ENABLE)},set:function(e){sessionStorage.setItem(this.IS_OTP_ENABLE,String(e))}},{key:"otpVerified",get:function(){return"true"===sessionStorage.getItem(this.IS_OTP_VERIFIED)},set:function(e){sessionStorage.setItem(this.IS_OTP_VERIFIED,String(e))}},{key:"ptFlowPaymentOption",get:function(){return"true"===sessionStorage.getItem(this.PAYMENT_OPTION)},set:function(e){sessionStorage.setItem(this.PAYMENT_OPTION,String(e))}},{key:"isTmiOabEnable",get:function(){return"true"===sessionStorage.getItem(this.IS_TMI_OAB_ENABLE)},set:function(e){sessionStorage.setItem(this.IS_TMI_OAB_ENABLE,String(e))}},{key:"isTmiOabAddApplicant",get:function(){return"true"===sessionStorage.getItem(this.TMI_ADD_APPLICANT)},set:function(e){sessionStorage.setItem(this.TMI_ADD_APPLICANT,String(e))}},{key:"isGRNEnabled",get:function(){return"true"===sessionStorage.getItem(this.IS_GRN_ENABLED)},set:function(e){sessionStorage.setItem(this.IS_GRN_ENABLED,String(e))}},{key:"VAYDAddressUpdated",get:function(){return"true"===sessionStorage.getItem(this.IS_VAYD_ADDRESS_UPDATED)}},{key:"ffServiceForApplicant",get:function(){var e=localStorage.getItem(this.TMI_VAS);return e?JSON.parse(e):null},set:function(e){localStorage.setItem(this.TMI_VAS,JSON.stringify(e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.dc(u.d),c.dc(d.b))},e.\u0275prov=c.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},kiQV:function(e){e.exports=JSON.parse('{"name":"lift","version":"6.0.27","scripts":{"ng":"ng","start":"ng serve --port 21174","start-ihc":"ng serve -c ihc --port 21174","build-staging-ihc":"node ./update_build_version.js && npm run prebuild_staging_bash && ng build --prod -c staging-ihc --deployUrl=https://staging-lift.vfsglobal.com/_angular/ --crossOrigin=anonymous && node ./versioning.build.js && npm run postbuild && npm run postbuild_staging_bash","build":"node ./update_build_version.js && ng build --prod --deployUrl=https://liftassets.vfsglobal.com/_angular/ --crossOrigin=anonymous && node ./versioning.build.js","build-nssr7":"node ./update_build_version.js && npm run prebuild_nssr7_bash && ng build --prod --configuration=nssr7 --deployUrl=https://nssr-7.vfsglobal.com/_angular/ --crossOrigin=anonymous && node ./versioning.build.js && npm run postbuild && npm run postbuild_nssr7_bash","build-staging":"node ./update_build_version.js && npm run prebuild_staging_bash && ng build --prod --configuration=staging --deployUrl=https://staging-lift.vfsglobal.com/_angular/ --crossOrigin=anonymous && node ./versioning.build.js && npm run postbuild && npm run postbuild_staging_bash","build-uat":"node ./update_build_version.js && npm run prebuild_uat_bash && ng build --prod --configuration=uat --deployUrl=https://uat-lift.vfsglobal.com/_angular/ --crossOrigin=anonymous && node ./versioning.build.js && npm run postbuild && npm run postbuild_uat_bash","build-nonukviuat":"node ./update_build_version.js && npm run prebuild_nonukviuat_bash && ng build --prod --configuration=nonukviuat --deployUrl=https://nonukviuat.vfsglobal.com/_angular/ --crossOrigin=anonymous && node ./versioning.build.js && npm run postbuild && npm run postbuild_nonukviuat_bash","build-preprod":"node ./update_build_version.js && npm run prebuild_preprod_bash && ng build --prod --configuration=preprod --deployUrl=https://liftpretest.vfsglobal.com/_angular/ --crossOrigin=anonymous && node ./versioning.build.js && npm run postbuild && npm run postbuild_preprod_bash","prebuild":"npm --no-git-tag-version version patch && npm run prebuild_prod_bash","postbuild":"html-minifier dist/LIFT/index.html --collapse-whitespace --remove-comments --remove-optional-tags --remove-redundant-attributes --remove-script-type-attributes --remove-tag-whitespace --use-short-doctype -o dist/LIFT/index.html && npm run organize_dist","prebuild_staging_bash":"bash ./pre-build.sh staging-lift.vfsglobal.com","prebuild_uat_bash":"bash ./pre-build.sh uat-lift.vfsglobal.com","prebuild_nssr7_bash":"bash ./pre-build.sh nssr-7.vfsglobal.com","prebuild_nonukviuat_bash":"bash ./pre-build.sh nonukviuat.vfsglobal.com","prebuild_preprod_bash":"bash ./pre-build.sh liftassets.vfsglobal.com","prebuild_prod_bash":"bash ./pre-build.sh liftassets.vfsglobal.com","postbuild_staging_bash":"bash ./post-build.sh staging-lift.vfsglobal.com","postbuild_uat_bash":"bash ./post-build.sh uat-lift.vfsglobal.com","postbuild_nssr7_bash":"bash ./post-build.sh nssr-7.vfsglobal.com","postbuild_nonukviuat_bash":"bash ./post-build.sh nonukviuat.vfsglobal.com","postbuild_preprod_bash":"bash ./post-build.sh liftassets.vfsglobal.com","postbuild_prod_bash":"bash ./post-build.sh liftassets.vfsglobal.com","organize_dist":"bash ./organize_dist.sh","aws-stage-clear":"aws s3 rm s3://evisa-staging-lift-application --recursive","aws-stage-deploy":"aws s3 cp ./dist/LIFT  s3://evisa-staging-lift-application --recursive --acl public-read","aws-nssr7-deploy":"aws s3 cp ./dist/LIFT  s3://nssr-7.vfsglobal.com --recursive","aws-stage-cf-invalidate":"aws cloudfront create-invalidation --distribution-id EC4G31UEP8GOW --paths \'/*\'","aws-uat-clear":"aws s3 rm s3://evisa-uat-lift-app --recursive","aws-uat-deploy":"aws s3 cp ./dist/LIFT  s3://evisa-uat-lift-app --recursive --acl public-read","aws-nonukviuat-deploy":"aws s3 cp ./dist/LIFT  s3://nonukviuat.vfsglobal.com --recursive","aws-uat-cf-invalidate":"aws cloudfront create-invalidation --distribution-id E3TNBSSC1L7FWO --paths \'/*\'","aws-preprod-clear":"aws s3 rm s3://evisa-prod-lift-app --recursive","aws-preprod-deploy":"aws s3 cp ./dist/LIFT  s3://liftpretest.vfsglobal.com --recursive ","aws-preprod-cf-invalidate":"aws cloudfront create-invalidation --distribution-id ELFSM6OW9YUB8 --path \'/*\'","aws-nssr7-cf-invalidate":"aws cloudfront create-invalidation --distribution-id E15CN1HI1ROR0A --paths \'/*\'","aws-nonukviuat-cf-invalidate":"aws cloudfront create-invalidation --distribution-id EQHWZ2GQVOJ6P --path \'/*\'","aws-prod-clear":"aws s3 rm s3://lift-poc-production --recursive","aws-prod-deploy":"aws s3 cp ./dist/LIFT  s3://lift-poc-production --recursive --acl public-read","test":"ng test --watch=false --code-coverage","e2e":"ng e2e","clean":"rm -rf dist"},"private":true,"dependencies":{"@angular/animations":"~11.2.6","@angular/cdk":"^11.2.5","@angular/common":"~11.2.6","@angular/compiler":"~11.2.6","@angular/core":"~11.2.6","@angular/forms":"~11.2.6","@angular/localize":"^11.2.6","@angular/material":"^11.2.5","@angular/platform-browser":"~11.2.6","@angular/platform-browser-dynamic":"~11.2.6","@angular/router":"~11.2.6","@angular/service-worker":"^11.2.6","@contentful/rich-text-html-renderer":"^14.1.2","@fullcalendar/angular":"^5.5.0","@fullcalendar/daygrid":"^5.5.0","@fullcalendar/interaction":"^5.5.0","@ng-bootstrap/ng-bootstrap":"^9.0.2","@ng-idle/core":"^10.0.0-beta.1","@ng-idle/keepalive":"^10.0.0-beta.1","@ngx-translate/core":"^13.0.0","@ngx-translate/http-loader":"^6.0.0","@vapnpm/vap-dynamic-form":"2.5.0","bootstrap":"^4.6.0","contentful":"^8.2.0","core-js":"^2.5.0","country-code-lookup":"0.0.19","file-saver":"^2.0.5","iso-639-1":"^2.1.8","jquery":"^3.6.3","moment":"^2.29.4","moment-timezone":"^0.5.33","ngx-countdown":"^11.0.3","ngx-file-drop":"^8.0.8","ngx-logger":"^4.2.1","ngx-mat-select-search":"^3.2.0","ngx-material-timepicker":"^5.5.3","ngx-ui-loader":"^10.0.0","replace-in-file":"^6.2.0","rxjs":"~6.6.0","subsink":"^1.0.2","tslib":"^2.0.0","zone.js":"~0.11.3"},"devDependencies":{"@angular-devkit/build-angular":"~0.1102.5","@angular/cli":"~11.2.5","@angular/compiler-cli":"~11.2.6","@angular/language-service":"^11.2.6","@types/jasmine":"~3.6.0","@types/node":"^12.11.1","codelyzer":"^6.0.0","gzipper":"^4.4.0","html-minifier":"^4.0.0","jasmine-core":"~3.6.0","jasmine-spec-reporter":"~5.0.0","karma":"~6.1.0","karma-chrome-launcher":"~3.1.0","karma-coverage":"~2.0.3","karma-jasmine":"~4.0.0","karma-jasmine-html-reporter":"^1.5.0","protractor":"~7.0.0","ts-node":"~8.3.0","tslint":"~6.1.0","typescript":"~4.1.5"}}')},mS5l:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=a("2Vo4"),i=a("fXoL"),r=function(){var e=function(){function e(){p(this,e),this.reviewDataObserable=new n.a([]),this.reviewData=this.reviewDataObserable.asObservable(),this.translations$=new n.a({}),this.appliedServiceList=new n.a([]),this.appliedServiceList$=this.appliedServiceList.asObservable(),this.pageLoadComplete=new n.a(!1),this.pageLoadComplete$=this.pageLoadComplete.asObservable(),this.cartAmount=new n.a(void 0),this.captchaAllowedRoutes=new n.a(void 0),this.editYourDetail=!1,this.isServiceModified=!1,this.dashboardTab=0}return f(e,[{key:"currentFormGroup",get:function(){return this.currFormGroup},set:function(e){this.currFormGroup=e}},{key:"notifyPageLoadCompleted",value:function(e){this.pageLoadComplete.next(e)}},{key:"getPageLoadCompleteValue",value:function(){return this.pageLoadComplete.value}},{key:"rescheduledData",get:function(){return this.reschldData},set:function(e){this.reschldData=e}},{key:"clearrescheduledData",value:function(){this.reschldData={}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},psYf:function(e,a,n){"use strict";n.d(a,"a",function(){return T});var i,r,o=n("mrSG"),s=n("TCge"),l=n("3Pt+"),c=n("QrD/"),u=n("2Vo4"),d=n("z6cu"),m=n("cp0P"),b=n("LRne"),v=n("AytR"),g=n("fXoL"),h=n("0IaG"),y=n("bTqV"),S=n("sYmb"),C=((i=function(){function e(t,a,n){p(this,e),this.dialog=t,this.dialogRef=a,this.changeRef=n}return f(e,[{key:"ngOnInit",value:function(){}},{key:"closeBtn",value:function(){this.dialogRef.close()}},{key:"getGlobalImagePath",get:function(){return v.a.externalPath+"/assets/images/global"}}]),e}()).\u0275fac=function(e){return new(e||i)(g.Qb(h.b),g.Qb(h.h),g.Qb(g.h))},i.\u0275cmp=g.Kb({type:i,selectors:[["app-session-termination"]],decls:17,vars:10,consts:[[1,"mat-modal-delete-document"],[1,"position-absolute","top-10","right-10"],[1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"fs-18","fs-sm-21","mb-10"],[1,"fa","fa-exclamation-triangle","mr-10"],[1,"my-20"],[1,"fs-sm-17","c-brand-grey-para","mb-30"],[1,"row"],[1,"col-12","col-sm"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mb-10","mb-sm-0",3,"click"]],template:function(e,t){1&e&&(g.Wb(0,"div",0),g.Wb(1,"div",1),g.Wb(2,"button",2),g.hc("click",function(){return t.closeBtn()}),g.Rb(3,"img",3),g.Vb(),g.Vb(),g.Wb(4,"h4",4),g.Rb(5,"i",5),g.Oc(6),g.mc(7,"translate"),g.Vb(),g.Rb(8,"hr",6),g.Wb(9,"p",7),g.Oc(10),g.mc(11,"translate"),g.Vb(),g.Wb(12,"div",8),g.Wb(13,"div",9),g.Wb(14,"button",10),g.hc("click",function(){return t.closeBtn()}),g.Oc(15),g.mc(16,"translate"),g.Vb(),g.Vb(),g.Vb(),g.Vb()),2&e&&(g.Db(3),g.vc("src","",t.getGlobalImagePath,"/close-btn.png",g.Hc),g.Db(3),g.Qc(" ",g.nc(7,4,"commonSections.headerLabel.label3")," "),g.Db(4),g.Pc(g.nc(11,6,"commonSections.messages.errorMessages.message23")),g.Db(5),g.Qc(" ",g.nc(16,8,"commonSections.buttons.button24")," "))},directives:[y.a],pipes:[S.d],encapsulation:2}),i),D=n("tyNb"),I=n("cT3p"),V=n("3N+h"),k=n("XjvO"),A=n("IXuf"),O=n("suCx"),T=((r=function(){function e(t,a,n,i,r,o,s,l){p(this,e),this.dialog=t,this.router=a,this.sessionService=n,this.httpService=i,this.utilityService=r,this.translate=o,this.contentfulService=s,this.coreCommonService=l,this.showAlertBarSubject=new u.a({}),this.showAlertBar$=this.showAlertBarSubject.asObservable()}return f(e,[{key:"removeError",value:function(e,t){var a=e.errors;return a&&delete a[t],a&&!Object.keys(a).length?e.setErrors(null):e.setErrors(a),!0}},{key:"setError",value:function(e,t){var a=e.errors,n={};return n[t]=!0,e.setErrors(Object.assign({},a,n)),!0}},{key:"convertToMomentDate",value:function(e){try{var t=Object.assign({},e);return t.month=e.month-1,t}catch(a){throw a}}},{key:"routeToDashboard",value:function(){this.routeToPostLoginModule(s.q.DASHBOARD)}},{key:"routeToBookAppointment",value:function(){this.routeToPostLoginModule(s.q.BOOK_APPOINTMENT)}},{key:"routeToPaymentConfirmation",value:function(){this.routeToPostLoginModule(s.q.PAYMENT_CONFIRMATION)}},{key:"routeToFFInfo",value:function(){this.routeToPostLoginModule(s.q.FF_INFO)}},{key:"routeToFFYourDetails",value:function(){this.routeToPostLoginModule(s.q.FF_YOUR_DETAILS)}},{key:"routeToFFPaymentConfiguration",value:function(){this.routeToPostLoginModule(s.q.FF_PAYMENT_CONFIRMATION)}},{key:"constructURLBeforeLogin",value:function(e){return"".concat(this.sessionService.countryCode,"/").concat(this.sessionService.appLanguageCode,"/").concat(this.sessionService.tenent,"/").concat(e)}},{key:"routeToNotFound",value:function(){try{this.router.navigate(this.sessionService.tenent?[this.sessionService.countryCode,this.sessionService.appLanguageCode,this.sessionService.tenent,s.q.NOT_FOUND]:["/"]),this.sessionService.updateLoginStatus(!1),this.sessionService.clearSession()}catch(e){this.utilityService.stopNgxUiSpinner(),console.log(e)}}},{key:"getStates",value:function(){return Object(o.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.httpService.doGet("".concat(s.c.api.masterState,"/").concat(this.sessionService.countryCode)).toPromise();case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0=[];case 6:return e.abrupt("return",e.t0);case 9:throw e.prev=9,e.t1=e.catch(0),e.t1;case 12:case"end":return e.stop()}},e,this,[[0,9]])}))}},{key:"isUSACountry",get:function(){return this.utilityService.strictCompare(this.sessionService.countryCode,s.r)}},{key:"isINDCountry",get:function(){return this.utilityService.strictCompare(this.sessionService.countryCode,s.e)}},{key:"routeToLogin",value:function(){try{this.sessionService.updateLoginStatus(!1),this.sessionService.clearSession();var e=window.location.pathname.split("/");(null==e?void 0:e.length)>3&&this.router.navigate([e[1],e[2],e[3],s.q.LOGIN])}catch(t){console.log(t)}}},{key:"routeToOnBoarding",value:function(){try{this.routeToPostLoginModule(s.q.ON_BOARDING)}catch(e){console.log(e)}}},{key:"routeToForgotPassword",value:function(){try{this.routeToPostLoginModule(s.q.FORGOT_PASSWORD)}catch(e){console.log(e)}}},{key:"routeToFFTransactionSummary",value:function(){this.routeToPostLoginModule(s.q.FF_TRANSACTION_SUMMARY)}},{key:"routeToPostLoginModule",value:function(e){this.router.navigate([this.sessionService.countryCode,this.sessionService.appLanguageCode,this.sessionService.tenent,e])}},{key:"routeToPostLoginModuleByIndex",value:function(e){try{var t=this.sessionService.getAllModulesSchema()||[],a=e<t.length?t[e]:null;a&&this.routeToPostLoginModule(a.routeUrl)}catch(n){console.log(n)}}},{key:"logoutAndRouteToLogin",value:function(){var e,t,a;return Object(o.b)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i,r,o=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,username:this.sessionService.getLoggedEmail()},n.next=4,this.httpService.payloadPost(s.c.api.logout,i).toPromise().catch(function(e){return Object(d.a)(e)}).then(function(e){return e});case 4:(r=n.sent)&&(this.showAlertBar((null===(e=null==r?void 0:r.error)||void 0===e?void 0:e.description)||(null==r?void 0:r.message)||(null===(t=null==r?void 0:r.error)||void 0===t?void 0:t.code)&&this.translateValue("commonSections.messages.statusMessages."+(null===(a=null==r?void 0:r.error)||void 0===a?void 0:a.code)),!1),setTimeout(function(){o.showAlertBar(null,!1)},5e3)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:return n.prev=11,this.routeToLogin(),window.location.reload(),n.finish(11);case 14:case"end":return n.stop()}},n,this,[[0,8,11,14]])}))}},{key:"logoutAndRouteToNotFound",value:function(){var e,t,a;return Object(o.b)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i,r,o=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,username:this.sessionService.getLoggedEmail()},n.next=4,this.httpService.payloadPost(s.c.api.logout,i).toPromise().catch(function(e){return Object(d.a)(e)}).then(function(e){return e});case 4:(r=n.sent)&&(this.showAlertBar((null===(e=null==r?void 0:r.error)||void 0===e?void 0:e.description)||(null==r?void 0:r.message)||(null===(t=null==r?void 0:r.error)||void 0===t?void 0:t.code)&&this.translateValue("commonSections.messages.statusMessages."+(null===(a=null==r?void 0:r.error)||void 0===a?void 0:a.code)),!1),setTimeout(function(){o.showAlertBar(null,!1)},5e3)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:return n.prev=11,this.routeToNotFound(),n.finish(11);case 14:case"end":return n.stop()}},n,this,[[0,8,11,14]])}))}},{key:"setSessionValues",value:function(e,t,a,n,i){this.sessionService.setApplicantAplhaId(t),this.sessionService.setApplicantGroupAplhaId(e),this.sessionService.setCurrApplicantVisaCategory(a),this.sessionService.setCurrApplicantVisaType(n),this.sessionService.setRouteId(i)}},{key:"postLoginActivity",value:function(e,t){return Object(o.b)(this,void 0,void 0,regeneratorRuntime.mark(function a(){var n,i;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,this.loadApplicationSchema(e);case 3:return n=a.sent,a.next=6,this.coreCommonService.moduleAccessibilityFilter(n);case 6:return i=a.sent,a.abrupt("return",(this.sessionService.saveFullApplicationSchemaInBrowser(i),this.sessionService.saveApplicationSchemaInBrowser(i),this.sessionService.updateLoginStatus(!0),this.sessionService.updateJwt(t),!0));case 10:throw a.prev=10,a.t0=a.catch(0),new Error(a.t0);case 13:case"end":return a.stop()}},a,this,[[0,10]])}))}},{key:"loadApplicationSchema",value:function(e){return Object(o.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getApplicationSchema();case 2:if((a=t.sent)&&0!==a.length){t.next=5;break}throw new Error(s.d.INVALID_RESPONSE);case 5:return t.abrupt("return",a);case 6:case"end":return t.stop()}},t)}))}},{key:"filterModulesOnBucketId",value:function(e,t,a){try{var n=JSON.parse(JSON.stringify(e)),i=n.modules,r=[];if(!s.c.MODULE_BUCKET.hasOwnProperty(t))throw new Error(s.d.BUCKET_NOT_FOUND);r=s.c.MODULE_BUCKET[t];var o=i.filter(function(e){if(r.indexOf(e.logicalName)>-1)return e});return n.modules=o,n}catch(l){throw l}}},{key:"filterModulesOnSelectedValue",value:function(e,t,a){var n;try{var i=t.hasOwnProperty("filter")?t.filter:void 0,r=e.find(function(e){return e.logicalName===s.c.modules.ELIGIBILITY_CRITERIA});if(!i||!r)return;var o=this.getBucketIdFromEligibilityCritera(r,a,null===(n=i.module)||void 0===n?void 0:n.key);return this.filterModulesOnBucketId(t,o,a)}catch(l){throw l}}},{key:"removeModule",value:function(e,t){try{var a=JSON.parse(JSON.stringify(e)),n=a.modules.filter(function(e){return!t.some(function(t){return t===e.logicalName})});return a.modules=n,a}catch(i){throw i}}},{key:"addModule",value:function(e,t){try{var a=JSON.parse(JSON.stringify(e)).modules,n=this.sessionService.getApplicationSchema(),i=a.filter(function(e){return t.some(function(t){return t===e.logicalName})}),r=null==i?void 0:i.filter(function(e){return!n.modules.some(function(t){return t.logicalName===e.logicalName})});return(null==r?void 0:r.length)>0&&r.forEach(function(e){return n.modules.push(e)}),n.modules.sort(function(e,t){return e.displayPosition>t.displayPosition?1:t.displayPosition>e.displayPosition?-1:0}),n}catch(o){throw o}}},{key:"getBucketIdFromEligibilityCritera",value:function(e,t,a){try{if(!a)throw new Error(s.d.NO_BUCKET_FIELD_REF_SCHEMA);var n=e.controls.find(function(e){return(null==e?void 0:e.fields[0].logicalName)===a}),i=(null==n?void 0:n.fields[0].onChangeEvent).find(function(e){return"filterModulesOnValue"===e.functionName});return this.coreCommonService.getBucketIdFromValue(i.params,t)}catch(r){throw r}}},{key:"getSchemaByModuleName",value:function(e){try{var t=this.sessionService.getAllModulesSchema().find(function(t){return t.logicalName===e});if(!t)throw new Error("Error: invalid_module ".concat(e," "));return t}catch(a){console.log(a)}}},{key:"showAlertBar",value:function(e,t){this.showAlertBarSubject.next({message:e,isError:t})}},{key:"onResponsesAlertBar",value:function(e){var t=e.statusCode,a=e.isError,n=t.toString().length>0&&this.translateValue("commonSections.messages.statusMessages."+t)?this.translateValue("commonSections.messages.statusMessages."+t):this.translateValue("commonSections.messages.apiErrorMessages.message1");this.showAlertBarSubject.next({message:n,isError:a}),401==t&&this.autoLogout(4)}},{key:"translateValue",value:function(e){var t="";return this.translate.get(e).subscribe(function(e){t=e}),t}},{key:"imagePath",get:function(){return"/ ".concat(String(s.h.assets.images).replace("$TENENT",this.sessionService.tenent)," /")}},{key:"globalImagePath",get:function(){return s.c.ASSETS_PATH.globalImages}},{key:"handleErrorCloseLoader",value:function(e){throw console.log("Error Status: ".concat(e.status,"\nMessage: ").concat(e.message)),e}},{key:"constructDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.a.D_M_Y_SLASH;try{var a,n=1===String(e.day).length?"0".concat(e.day):e.day,i=1===String(e.month).length?"0".concat(e.month):e.month;switch(t){case c.a.D_M_Y_SLASH:a="".concat(n,"/").concat(i,"/").concat(e.year);break;case c.a.M_D_Y_SLASH:a="".concat(i,"/").concat(n,"/").concat(e.year);break;case c.a.Y_M_D_SLASH:a="".concat(e.year,"/").concat(i,"/").concat(n);break;default:throw new Error(s.d.INVALID_DATE_FORMAT)}return a}catch(r){throw r}}},{key:"constructTMIProductData",value:function(e){return Object(o.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t){return Object(o.b)(a,void 0,void 0,regeneratorRuntime.mark(function a(){var n,i=this;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:0===(null==e?void 0:e.length)&&t([]),n=[],["".concat(this.sessionService.tenent," > ").concat(this.sessionService.countryCode," > ").concat(this.sessionService.appLanguageCode),"".concat(this.sessionService.tenent," > ").concat(this.sessionService.countryCode),"".concat(this.sessionService.countryCode," > ").concat(this.sessionService.appLanguageCode),this.sessionService.countryCode,this.sessionService.appLanguageCode].forEach(function(e){var t=Object.assign({content_type:"tmi","fields.locale":e});n.push(i.contentfulService.getEnteries(t))}),Object(m.a)(n).subscribe(function(a){var n,i=(a=a.filter(function(e){return e.items.length>0}))[0].items;e&&e.length>0&&(n=null==e?void 0:e.map(function(e){var t=i.filter(function(t){return t.fields.tmiProductCode.toLowerCase()===e.productId.toLowerCase()});return e.contentful=(null==t?void 0:t.length)>0?t[(null==t?void 0:t.length)-1].fields:[],e})),t(n)});case 3:case"end":return a.stop()}},a,this)}))}));case 1:case"end":return t.stop()}},t)}))}},{key:"constructTMIData",value:function(){return Object(o.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=[],a=Object.assign({content_type:"tmiPageContent","fields.locale":["".concat(this.sessionService.tenent," > ").concat(this.sessionService.countryCode," > ").concat(this.sessionService.appLanguageCode),"".concat(this.sessionService.tenent," > ").concat(this.sessionService.countryCode),"".concat(this.sessionService.countryCode," > ").concat(this.sessionService.appLanguageCode),this.sessionService.countryCode,this.sessionService.appLanguageCode].join("&"),limit:1}),t.push(this.contentfulService.getEnteries(a)),Object(m.a)(t).subscribe(function(e){var t=e[0].items[0].fields;return n.sessionService.tmiContentfulDetails=t,t});case 2:case"end":return e.stop()}},e,this)}))}},{key:"touchAllFields",value:function(e){for(var t=0,a=Object.keys(e.controls);t<a.length;t++){var n=a[t],i=e.get(n);i instanceof l.f?i.markAsTouched({onlySelf:!0}):i instanceof l.i&&this.touchAllFields(i)}return!0}},{key:"deleteApplicantFromSelectedService",value:function(e){try{var t=this.sessionService.applicantService;if(!t)return;var a=t.map(function(a,n){var i=a.modifiedList.length,r=a.modifiedList.filter(function(t){return t.arn!==e});return t[n].modifiedList=r,i>r.length&&(t[n].unit=parseFloat(a.unit)-1,t[n].total=parseFloat(a.total)-parseFloat(a.amount)),t[n]});return this.sessionService.applicantService=a,a}catch(n){throw n}}},{key:"deleteApplicantDetails",value:function(e){return Object(o.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a,n,i,r,s,l,c,u=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,(a=JSON.parse(JSON.stringify(this.sessionService.applicationDetailValue)))&&!(e>=a.applicantList.length)){t.next=4;break}throw new Error("Error:");case 4:return n=a.applicantList.slice(e,e+1),0===e&&(i=a.applicantList.filter(function(e){return u.utilityService.strictCompare(e.isEndorsedChild,!0)}),n=n.concat(i)),r={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,loginUser:this.sessionService.getLoggedEmail(),urn:null,arn:null},s=n.map(function(e){return Object(o.b)(u,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r.urn=e.urn,r.arn=e.arn,t.next=4,this.httpService.payloadPost("/appointment/deleteapplicant",r).toPromise().then(function(e){return e});case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}))}),t.next=10,Promise.all(s);case 10:return l=n.map(function(e){return e.arn}),c=a.applicantList.filter(function(e){return-1===l.indexOf(e.arn)}),t.abrupt("return",(a.applicantList=c,this.sessionService.applicationDetailValue=a,l.map(function(e){return u.deleteApplicantFromSelectedService(e)}),a));case 15:t.prev=15,t.t0=t.catch(0),console.log(t.t0);case 18:case"end":return t.stop()}},t,this,[[0,15]])}))}},{key:"formatDateDMY",value:function(e){var t=e.match(/\d+/g);return t[2]+"/"+t[1]+"/"+t[0]}},{key:"getVacCenters",value:function(e,t){return Object(o.b)(this,void 0,void 0,regeneratorRuntime.mark(function a(){var n;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode},e&&(n.cultureCode=e),t&&(n.centerCode=t),a.next=6,this.httpService.slashParamsDoGet(s.c.api.masterCenter,n).toPromise().catch(function(e){return e}).then(function(e){return e});case 6:return a.abrupt("return",a.sent);case 9:throw a.prev=9,a.t0=a.catch(0),a.t0;case 12:case"end":return a.stop()}},a,this,[[0,9]])}))}},{key:"getVisaCategories",value:function(e,t,a){return Object(o.b)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:e,cultureCode:this.sessionService.appCultureCode},r=t?"?serviceType=".concat(t):void 0,a&&(r+="".concat("null"!==r?"&":"","nationalityCode=").concat(a)),n.next=6,this.httpService.slashParamsDoGet(s.c.api.masterVisaCategoryCode,i,r).toPromise().catch(function(e){return e}).then(function(e){return e});case 6:return n.abrupt("return",n.sent);case 9:throw n.prev=9,n.t0=n.catch(0),n.t0;case 12:case"end":return n.stop()}},n,this,[[0,9]])}))}},{key:"getSubVisaCategories",value:function(e,t,a,n){return Object(o.b)(this,void 0,void 0,regeneratorRuntime.mark(function i(){var r,o;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,r={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:e},t&&(r.visaCategoryCode=t),o=a?"?serviceType=".concat(a):void 0,n&&(o+="".concat("null"!==o?"&":"","nationalityCode=").concat(n)),r.cultureCode="".concat(this.sessionService.appCultureCode),i.next=8,this.httpService.slashParamsDoGet(s.c.api.masterSubVisaCategory,r,o).toPromise().catch(function(e){return e}).then(function(e){return e});case 8:return i.abrupt("return",i.sent);case 11:throw i.prev=11,i.t0=i.catch(0),i.t0;case 14:case"end":return i.stop()}},i,this,[[0,11]])}))}},{key:"loadAppointmentSlots",value:function(e){return Object(o.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,centerCode:e.centerCode,loginUser:this.sessionService.getLoggedEmail(),visaCategoryCode:e.visaCategoryCode,languageCode:this.sessionService.appCultureCode,applicantsCount:e.applicantsCount,days:e.days,fromDate:e.fromDate,slotType:e.slotType,toDate:e.toDate},n=s.c.URLS_FOR_SLOTS_GET_METHOD.indexOf(v.a.apiEndPoint)>-1?this.httpService.getLamdaData(s.c.api.appointmentSlots,a):this.httpService.payloadPost(s.c.api.appointmentSlots,a),t.next=3,n.toPromise().then(function(e){return e}).catch(function(e){return e});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}))}},{key:"loadVacConfiguration",value:function(e){return Object(o.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e||(e=this.sessionService.centerCode),t.next=4,this.httpService.slashParamsDoGet("".concat(s.c.api.configuration,"/").concat(this.sessionService.tenent,"/").concat(this.sessionService.countryCode,"/").concat(e)).toPromise().catch(function(e){return e}).then(function(e){return e});case 4:return t.abrupt("return",t.sent);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}},t,this,[[0,7]])}))}},{key:"loadConfiguration",value:function(){return Object(o.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=window.location.pathname.split("/"),e.next=4,this.httpService.slashParamsDoGet("".concat(s.c.api.configuration,"/").concat(t[3],"/").concat(t[1])).toPromise().catch(function(e){return e}).then(function(e){return a.sessionService.applicationConfiguration=e});case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,this,[[0,7]])}))}},{key:"filterNationalityByName",value:function(e){return Object(o.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadNationality();case 2:return a=t.sent.filter(function(t){return t.nationalityName===e}),t.abrupt("return",(null==a?void 0:a.length)>0?a[0].isoCode:"");case 4:case"end":return t.stop()}},t,this)}))}},{key:"loadNationality",value:function(e){return Object(o.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a="".concat(s.c.api.loadNationality),e&&(a+="?serviceType=".concat(e)),t.next=5,this.httpService.slashParamsDoGet(a).toPromise().catch(function(e){return e}).then(function(e){return e});case 5:return t.abrupt("return",t.sent);case 8:throw t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}},t,this,[[0,8]])}))}},{key:"loadMasterTmiData",value:function(e,t){return Object(o.b)(this,void 0,void 0,regeneratorRuntime.mark(function a(){var n;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n="".concat(s.c.api.masterTMIData,"/").concat(e,"/").concat(t,"/").concat(this.sessionService.appCultureCode),a.next=4,this.httpService.slashParamsDoGet(n).toPromise().catch(function(e){return e}).then(function(e){return e});case 4:return a.abrupt("return",a.sent);case 7:throw a.prev=7,a.t0=a.catch(0),a.t0;case 10:case"end":return a.stop()}},a,this,[[0,7]])}))}},{key:"loadMasterData",value:function(e){return Object(o.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.httpService.slashParamsDoGet(e).toPromise().catch(function(e){return e}).then(function(e){return e});case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),t.t0;case 9:case"end":return t.stop()}},t,this,[[0,6]])}))}},{key:"loadEntryType",value:function(e,t,a,n){return Object(o.b)(this,void 0,void 0,regeneratorRuntime.mark(function i(){var r,o,l,c,u,d;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,r=this.sessionService.eligibilityDetails,o=r&&r.centerCode?r.centerCode:e,l=r&&r.visaCategoryCode?r.visaCategoryCode:t,c=r&&r.nationalityCode?r.nationalityCode:a,u=r&&r.serviceType?r.serviceType:n,c){i.next=4;break}return i.abrupt("return",Object(b.a)());case 4:return d="".concat(s.c.api.loadEntrytype,"/").concat(this.sessionService.tenent,"/").concat(this.sessionService.countryCode,"/").concat(o,"/").concat(l,"/").concat(c),u&&(d+="/".concat(u)),i.next=8,this.httpService.slashParamsDoGet(d).toPromise().catch(function(e){return e}).then(function(e){return e});case 8:return i.abrupt("return",i.sent);case 11:throw i.prev=11,i.t0=i.catch(0),i.t0;case 14:case"end":return i.stop()}},i,this,[[0,11]])}))}},{key:"loadSubmissionType",value:function(){return Object(o.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="".concat(s.c.api.loadEoiApplicationType,"/").concat(this.sessionService.tenent,"/").concat(this.sessionService.countryCode,"/").concat(this.sessionService.appCultureCode),e.next=4,this.httpService.slashParamsDoGet(t).toPromise().catch(function(e){return e}).then(function(e){return null==e?void 0:e.submissionTypes});case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,this,[[0,7]])}))}},{key:"loadFeeEntryType",value:function(){return Object(o.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="".concat(s.c.api.loadFeeEntrytype,"/").concat(this.sessionService.tenent,"/").concat(this.sessionService.countryCode,"/").concat(this.sessionService.appCultureCode),e.next=4,this.httpService.slashParamsDoGet(t).toPromise().catch(function(e){return e}).then(function(e){return e});case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,this,[[0,7]])}))}},{key:"loadFeeExcemptionType",value:function(){return Object(o.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="".concat(s.c.api.loadFeeExemptionType,"/").concat(this.sessionService.tenent,"/").concat(this.sessionService.countryCode,"/").concat(this.sessionService.appCultureCode),e.next=4,this.httpService.slashParamsDoGet(t).toPromise().catch(function(e){return e}).then(function(e){return e});case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,this,[[0,7]])}))}},{key:"loadFeeExcemptionDetails",value:function(e){return Object(o.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a="".concat(s.c.api.loadFeeExemptionDetails,"/").concat(this.sessionService.tenent,"/").concat(this.sessionService.countryCode,"/").concat(e,"/").concat(this.sessionService.appCultureCode),t.next=4,this.httpService.slashParamsDoGet(a).toPromise().catch(function(e){return e}).then(function(e){return e});case 4:return t.abrupt("return",t.sent);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}},t,this,[[0,7]])}))}},{key:"loadServiceType",value:function(){return Object(o.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.httpService.slashParamsDoGet(s.c.api.loadEoiServiceType).toPromise().catch(function(e){return e}).then(function(e){return null==e?void 0:e.serviceTypes});case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}},e,this,[[0,6]])}))}},{key:"autoLogout",value:function(e){return Object(o.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.terminationNotification(e),this.timeOut=setTimeout(function(){a.logoutAndRouteToLogin()},1e3*e);case 1:case"end":return t.stop()}},t,this)}))}},{key:"stopTimeOut",value:function(){return Object(o.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:clearTimeout(this.notificationTimeOut),clearTimeout(this.timeOut);case 1:case"end":return e.stop()}},e,this)}))}},{key:"terminationNotification",value:function(e){return Object(o.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.notificationTimeOut=setTimeout(function(){a.dialog.open(C,{data:"terminate"})},60*(e/60-1)*1e3);case 1:case"end":return t.stop()}},t,this)}))}},{key:"checkIfSlotAvailiable",value:function(e){return Object(o.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a,n,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.centerCode,n=e.SubVisaCategory,i="".concat(s.c.api.checkSlotavailiable,"/").concat(this.sessionService.tenent,"/").concat(this.sessionService.countryCode,"/").concat(a,"/Individual/").concat(n),t.next=4,this.httpService.slashParamsDoGet(i).toPromise();case 4:return t.abrupt("return",t.sent);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}},t,this,[[0,7]])}))}},{key:"loadEOIVisaType",value:function(e,t,a,n){return Object(o.b)(this,void 0,void 0,regeneratorRuntime.mark(function i(){var r,o,l;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,r=this.sessionService.eligibilityDetails,o=r&&r.serviceType?r.serviceType:n,l="".concat(s.c.api.loadEoiVisaType,"/").concat(this.sessionService.tenent,"/").concat(this.sessionService.countryCode,"/").concat(r?r.centerCode:e,"/").concat(r?r.visaCategoryCode:t,"/").concat(r?r.nationalityCode:a),o&&(l+="/".concat(o)),i.next=6,this.httpService.slashParamsDoGet(l).toPromise().catch(function(e){return e}).then(function(e){return e});case 6:return i.abrupt("return",i.sent);case 9:throw i.prev=9,i.t0=i.catch(0),i.t0;case 12:case"end":return i.stop()}},i,this,[[0,9]])}))}},{key:"loadClientIp",value:function(){return Object(o.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.sessionService.clientIpAddress){e.next=3;break}return e.abrupt("return",this.sessionService.clientIpAddress);case 3:(t=new XMLHttpRequest).overrideMimeType("application/json"),t.open("GET",v.a.clientIpEndPoint,!0),t.onload=function(){var e=JSON.parse(t.responseText);a.sessionService.clientIpAddress=(null==e?void 0:e.ip)?null==e?void 0:e.ip:null},t.send(null),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,this,[[0,7]])}))}},{key:"loadServices",value:function(e){return Object(o.b)(this,void 0,void 0,regeneratorRuntime.mark(function a(){var n=this;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.abrupt("return",new Promise(function(a){return Object(o.b)(n,void 0,void 0,regeneratorRuntime.mark(function n(){var i,r,o,l=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i="".concat(s.c.api.vasByVac,"/").concat(this.sessionService.tenent,"/").concat(this.sessionService.countryCode,"/").concat(e||this.sessionService.centerCode,"?languageCode=").concat(this.sessionService.appCultureCode),n.next=3,this.httpService.slashParamsDoGet(i).toPromise().then(function(e){return e}).catch(function(e){return e});case 3:r=n.sent,o=[],["".concat(this.sessionService.tenent," > ").concat(this.sessionService.countryCode," > ").concat(this.sessionService.appLanguageCode),"".concat(this.sessionService.tenent," > ").concat(this.sessionService.appLanguageCode),this.sessionService.appLanguageCode].forEach(function(e){var t=Object.assign({content_type:"valueAddedService","fields.locale":e});o.push(l.contentfulService.getEnteries(t))}),Object(m.a)(o).subscribe(function(e){var n,i=t(e,3),o=i[0],s=i[1],l=o,c=i[2];c.items=c.items.concat(s.items),c.items=c.items.concat(l.items);var u,d=c;(u=r&&(null===(n=r.data)||void 0===n?void 0:n.length)>0?r.data.map(function(e){var t,a,n=d.items.filter(function(t){return t.fields.vasCode.toLowerCase()===e.code.toLowerCase()});return(null===(t=null==e?void 0:e.complimentaryVAS)||void 0===t?void 0:t.length)>0&&(null===(a=null==e?void 0:e.complimentaryVAS)||void 0===a||a.map(function(t,a){var n=d.items.filter(function(e){return e.fields.vasCode.toLowerCase()===t.code.toLowerCase()});if((null==n?void 0:n.length)>0)return e.complimentaryVAS[a].contentful=n[(null==n?void 0:n.length)-1].fields})),e.contentful=(null==n?void 0:n.length)>0?n[(null==n?void 0:n.length)-1].fields:[],e}):[]).forEach(function(e){return delete e.timeslot}),a(u)});case 6:case"end":return n.stop()}},n,this)}))}));case 4:throw a.prev=4,a.t0=a.catch(0),new Error("".concat(s.d.INVALID_REGISTRATION_RESPONSE,": ").concat(a.t0));case 7:case"end":return a.stop()}},a,null,[[0,4]])}))}},{key:"addMandatoryService",value:function(){return Object(o.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.sessionService.updateFees=!0,t=[],e.next=5,this.loadServices();case 5:if(0!==(a=e.sent).length){e.next=8;break}return e.abrupt("return");case 8:a.forEach(function(e,i){return Object(o.b)(n,void 0,void 0,regeneratorRuntime.mark(function n(){var r,o,l,c,u,d,m,p,b=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.isMandatory){n.next=8;break}return n.next=3,this.modifyServiceList(e);case 3:for(o=n.sent,l=o.applicants.length-1;l>=0;l--)o.applicants[l].vasCode===s.p&&this.checkIfPrepaidCourier(o.applicants[l].courierType)&&(c=o.applicants.findIndex(function(e){return e.vasCode===s.p&&b.checkIfPrepaidCourier(e.courierType)}),o.applicants.splice(c,1),u=this.sessionService.applicantService,(d=u.findIndex(function(e){return e.code===s.p}))>-1&&(u.splice(d,1),this.sessionService.applicantService=u));o.applicants.length>0&&(a[i].unit=o.applicants.length,a[i].total=o.applicants.length*e.unitPrice,a[i].modifiedList=o.applicants,a[i].timeslot="isMandatory",t.push(e),this.sessionService.applicantService=t),n.next=10;break;case 8:m=this.sessionService.applicantService||[],(null===(r=null==m?void 0:m.filter(function(t){return t.id===e.id}))||void 0===r?void 0:r.length)>0&&(p=m.filter(function(t){return t.id===e.id}),t.push(p[0]));case 10:case"end":return n.stop()}},n,this)}))}),this.sessionService.applicantService=t,e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}},e,this,[[0,11]])}))}},{key:"modifyServiceList",value:function(e){var t;try{var a,n=this.sessionService.applicationDetailValue?null===(t=this.sessionService.applicationDetailValue)||void 0===t?void 0:t.applicantList:[];a=n&&(null==n?void 0:n.length)>0?n.map(function(t){var a,n;return{arn:t.arn,vasId:e.id.toString(),vasCode:e.code,courierType:(null===(a=null==t?void 0:t.postalList)||void 0===a?void 0:a.length)>0?null===(n=null==t?void 0:t.postalList[0])||void 0===n?void 0:n.courierType:null}}):[];var i={};return i.loginuser=this.sessionService.getLoggedEmail(),i.missioncode=this.sessionService.tenent,i.countrycode=this.sessionService.countryCode,i.urn=(null==n?void 0:n.length)>0?n[0].urn:"",i.applicants=a,i}catch(r){throw r}}},{key:"checkIfPostal",value:function(e){return!this.utilityService.strictCompare(s.i.indexOf(e),-1)}},{key:"removeTmiProductSelection",value:function(){var e=this.sessionService.applicantService||[],t=null==e?void 0:e.filter(function(e){return"TMIPS"!=e.code});this.sessionService.applicantService=t}},{key:"checkIfOWA",value:function(e){return!this.utilityService.strictCompare(s.g.indexOf(e),-1)}},{key:"checkIfPrepaidCourier",value:function(e){return!this.utilityService.strictCompare(s.j.indexOf(e),-1)}}]),e}()).\u0275fac=function(e){return new(e||r)(g.dc(h.b),g.dc(D.f),g.dc(I.a),g.dc(V.a),g.dc(k.a),g.dc(S.e),g.dc(A.a),g.dc(O.b))},r.\u0275prov=g.Mb({token:r,factory:r.\u0275fac,providedIn:"root"}),r)},rIfo:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n=function(){function e(){p(this,e),this._subs=[]}return f(e,[{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];this._subs=this._subs.concat(t)}},{key:"sink",set:function(e){this._subs.push(e)}},{key:"unsubscribe",value:function(){this._subs.forEach(function(e){return e&&e.unsubscribe()}),this._subs=[]}}]),e}()},zUnb:function(t,n,i){"use strict";i.r(n);var l=i("jhN1"),u=i("fXoL"),b=i("3Pt+"),v=i("tyNb"),g=i("mrSG"),h=i("TCge"),y=i("AytR"),S=i("QvU+"),C=i("Wp6s"),D=i("ofXK"),I=i("sYmb"),V=i("kmnG"),k=i("qFsG"),A=i("bSwM"),O=i("bTqV"),T=["captchaContainer"];function L(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"div",8),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Wb(4,"div",9),u.Wb(5,"div",10),u.Wb(6,"div",11),u.Wb(7,"div",12),u.Rb(8,"i",13),u.Vb(),u.Rb(9,"div",14),u.Vb(),u.Vb(),u.Vb(),u.Tb()),2&e){var a=u.lc();u.Db(2),u.Pc(u.nc(3,2,"onBoarding.pageDetails.para6")),u.Db(7),u.tc("translate",a.resgistrationResCode)}}function w(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"div",9),u.Wb(2,"div",10),u.Wb(3,"div",11),u.Wb(4,"div",12),u.Rb(5,"i",13),u.Vb(),u.Rb(6,"div",14),u.Vb(),u.Vb(),u.Vb(),u.Tb()),2&e){var a=u.lc();u.Db(6),u.tc("translate",a.successCode)}}function N(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"div",15),u.Wb(2,"div",16),u.Wb(3,"div",11),u.Wb(4,"div",12),u.Rb(5,"i",17),u.Vb(),u.Rb(6,"div",14),u.Vb(),u.Vb(),u.Vb(),u.Tb()),2&e){var a=u.lc();u.Db(6),u.tc("translate",a.errorCode)}}function x(e,t){1&e&&(u.Wb(0,"div",37),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"commonSections.messages.requiredMessages.message1")," "))}function M(e,t){1&e&&(u.Wb(0,"div",37),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"commonSections.messages.patternMessages.message1")," "))}function E(e,t){if(1&e&&(u.Wb(0,"div",35),u.Mc(1,x,3,3,"div",36),u.Mc(2,M,3,3,"div",36),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",a.registerF.emailid.errors.required),u.Db(1),u.tc("ngIf",a.registerF.emailid.errors.pattern)}}function W(e,t){1&e&&(u.Wb(0,"div",37),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"commonSections.messages.requiredMessages.message1")," "))}function P(e,t){if(1&e&&(u.Wb(0,"div",35),u.Mc(1,W,3,3,"div",36),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",a.registerF.password.errors.required)}}function F(e,t){1&e&&(u.Wb(0,"div",37),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"onBoarding.messages.passwordpattern")," "))}function _(e,t){if(1&e&&(u.Wb(0,"div",35),u.Mc(1,F,3,3,"div",36),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",a.registerF.password.errors.pattern)}}function R(e,t){1&e&&(u.Wb(0,"div",37),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"commonSections.messages.requiredMessages.message1")," "))}function G(e,t){1&e&&(u.Wb(0,"div",37),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"commonSections.messages.misMatch.message1")," "))}function U(e,t){if(1&e&&(u.Wb(0,"div",35),u.Mc(1,R,3,3,"div",36),u.Mc(2,G,3,3,"div",36),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",a.registerF.confirmPassword.errors.required),u.Db(1),u.tc("ngIf",a.registerF.confirmPassword.errors.passwordMismatch)}}function B(e,t){1&e&&(u.Wb(0,"div",37),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"commonSections.messages.requiredMessages.message1")," "))}function j(e,t){1&e&&(u.Wb(0,"div",37),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc("",u.nc(2,1,"login.messages.errorMessages.message1")," "))}function Y(e,t){1&e&&(u.Wb(0,"div",37),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"login.messages.errorMessages.message2")," "))}function Q(e,t){if(1&e&&(u.Wb(0,"div",35),u.Mc(1,B,3,3,"div",36),u.Mc(2,j,3,3,"div",36),u.Mc(3,Y,3,3,"div",36),u.Vb()),2&e){var a=u.lc(3);u.Db(1),u.tc("ngIf",a.registerF.dialcode.errors.required),u.Db(1),u.tc("ngIf",a.registerF.dialcode.errors.pattern),u.Db(1),u.tc("ngIf",!a.registerF.dialcode.errors.pattern&&a.registerF.dialcode.errors.maxlength)}}function q(e,t){1&e&&(u.Wb(0,"div",37),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"commonSections.messages.requiredMessages.message1")," "))}function H(e,t){1&e&&(u.Wb(0,"div",37),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"commonSections.messages.patternMessages.message31")," "))}function K(e,t){1&e&&(u.Wb(0,"div",37),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"commonSections.messages.patternMessages.message27")," "))}function z(e,t){1&e&&(u.Wb(0,"div",37),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"commonSections.messages.patternMessages.message25")," "))}function Z(e,t){if(1&e&&(u.Wb(0,"div",35),u.Mc(1,q,3,3,"div",36),u.Mc(2,H,3,3,"div",36),u.Mc(3,K,3,3,"div",36),u.Mc(4,z,3,3,"div",36),u.Vb()),2&e){var a=u.lc(3);u.Db(1),u.tc("ngIf",null==a.registerF.contact||null==a.registerF.contact.errors?null:a.registerF.contact.errors.required),u.Db(1),u.tc("ngIf",null==a.registerF.contact||null==a.registerF.contact.errors?null:a.registerF.contact.errors.pattern),u.Db(1),u.tc("ngIf",null==a.registerF.contact||null==a.registerF.contact.errors?null:a.registerF.contact.errors.minlength),u.Db(1),u.tc("ngIf",null==a.registerF.contact||null==a.registerF.contact.errors?null:a.registerF.contact.errors.maxlength)}}var J=function(e){return{"form-error":e}};function X(e,t){if(1&e&&(u.Wb(0,"div",38),u.Wb(1,"div",39),u.Wb(2,"div",28),u.Wb(3,"div"),u.Oc(4),u.mc(5,"translate"),u.Wb(6,"span",20),u.Oc(7,"*"),u.Vb(),u.Vb(),u.Mc(8,Q,4,3,"div",21),u.Wb(9,"mat-form-field",22),u.Rb(10,"input",40),u.Vb(),u.Vb(),u.Vb(),u.Wb(11,"div",41),u.Wb(12,"div",28),u.Wb(13,"div"),u.Rb(14,"span",20),u.Vb(),u.Mc(15,Z,5,4,"div",21),u.Wb(16,"mat-form-field",22),u.Rb(17,"input",42),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&e){var a=u.lc(2);u.tc("ngClass",u.xc(6,J,a.registerF.contact.touched&&a.registerF.contact.invalid||a.registerF.dialcode.touched&&a.registerF.dialcode.invalid)),u.Db(4),u.Pc(u.nc(5,4,"login.formLabel.label3")),u.Db(4),u.tc("ngIf",a.registerF.dialcode.touched&&a.registerF.dialcode.errors),u.Db(7),u.tc("ngIf",a.registerF.contact.touched&&a.registerF.contact.errors)}}function ee(e,t){1&e&&(u.Wb(0,"span"),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"onBoarding.buttons.button1"),""))}function te(e,t){1&e&&(u.Wb(0,"span"),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"commonSections.buttons.button19"),""))}function ae(e,t){if(1&e){var a=u.Xb();u.Wb(0,"form",18),u.Wb(1,"div",19),u.Wb(2,"div"),u.Oc(3),u.mc(4,"translate"),u.Wb(5,"span",20),u.Oc(6,"*"),u.Vb(),u.Vb(),u.Mc(7,E,3,2,"div",21),u.Wb(8,"mat-form-field",22),u.Rb(9,"input",23),u.Vb(),u.Vb(),u.Wb(10,"div",19),u.Wb(11,"div"),u.Oc(12),u.mc(13,"translate"),u.Wb(14,"span",20),u.Oc(15,"*"),u.Vb(),u.Vb(),u.Mc(16,P,2,1,"div",21),u.Mc(17,_,2,1,"div",21),u.Wb(18,"mat-form-field",22),u.Rb(19,"input",24),u.Wb(20,"i",25),u.hc("keypress",function(){u.Fc(a);var e=u.lc();return e.passwordToogle=!e.passwordToogle})("mouseenter",function(){return u.Fc(a),u.lc().passwordToogle=!0})("mouseleave",function(){return u.Fc(a),u.lc().passwordToogle=!1})("click",function(){return u.Fc(a),u.lc().passwordToogle=!0}),u.Vb(),u.Vb(),u.Vb(),u.Wb(21,"div",19),u.Wb(22,"div"),u.Oc(23),u.mc(24,"translate"),u.Wb(25,"span",20),u.Oc(26,"*"),u.Vb(),u.Vb(),u.Mc(27,U,3,2,"div",21),u.Wb(28,"mat-form-field",22),u.Rb(29,"input",26),u.Wb(30,"i",25),u.hc("keypress",function(){u.Fc(a);var e=u.lc();return e.confirmPasswordToggle=!e.confirmPasswordToggle})("mouseenter",function(){return u.Fc(a),u.lc().confirmPasswordToggle=!0})("mouseleave",function(){return u.Fc(a),u.lc().confirmPasswordToggle=!1})("click",function(){return u.Fc(a),u.lc().confirmPasswordToggle=!0}),u.Vb(),u.Vb(),u.Vb(),u.Mc(31,X,18,8,"div",27),u.Wb(32,"div",28),u.Wb(33,"mat-checkbox",29),u.Wb(34,"span",30),u.Oc(35),u.mc(36,"translate"),u.Wb(37,"a",31),u.Oc(38),u.mc(39,"translate"),u.Vb(),u.Oc(40),u.mc(41,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Wb(42,"button",32),u.hc("click",function(){return u.Fc(a),u.lc().registerUser()}),u.Mc(43,ee,3,3,"span",6),u.Mc(44,te,3,3,"span",6),u.Vb(),u.Wb(45,"div",33),u.Wb(46,"span"),u.Oc(47),u.mc(48,"translate"),u.Vb(),u.Wb(49,"a",34),u.hc("click",function(){u.Fc(a);var e=u.lc();return e.route(e.constants.routes.LOGIN)}),u.Oc(50),u.mc(51,"translate"),u.Vb(),u.Wb(52,"span"),u.Oc(53),u.mc(54,"translate"),u.Vb(),u.Vb(),u.Vb()}if(2&e){var n=u.lc();u.tc("formGroup",n.registerForm),u.Db(1),u.tc("ngClass",u.xc(44,J,n.registerF.emailid.touched&&n.registerF.emailid.invalid)),u.Db(2),u.Pc(u.nc(4,26,"onBoarding.formLabel.label1")),u.Db(4),u.tc("ngIf",n.registerF.emailid.touched&&n.registerF.emailid.errors),u.Db(3),u.tc("ngClass",u.xc(46,J,n.registerF.password.touched&&n.registerF.password.invalid)),u.Db(2),u.Pc(u.nc(13,28,"onBoarding.formLabel.label7")),u.Db(4),u.tc("ngIf",n.registerF.password.touched&&n.registerF.password.errors),u.Db(1),u.tc("ngIf",n.registerF.password.touched&&n.registerF.password.errors),u.Db(2),u.tc("type",n.passwordToogle?"text":"password"),u.Db(1),u.tc("ngClass",n.passwordToogle?"fa fa-eye-slash":"fa fa-eye"),u.Db(1),u.tc("ngClass",u.xc(48,J,n.registerF.confirmPassword.touched&&n.registerF.confirmPassword.invalid)),u.Db(2),u.Pc(u.nc(24,30,"onBoarding.formLabel.label8")),u.Db(4),u.tc("ngIf",n.registerF.confirmPassword.touched&&n.registerF.confirmPassword.errors),u.Db(2),u.tc("type",n.confirmPasswordToggle?"text":"password"),u.Db(1),u.tc("ngClass",n.confirmPasswordToggle?"fa fa-eye-slash":"fa fa-eye"),u.Db(1),u.tc("ngIf",n.isMobileNumberRequired&&!n.otpView),u.Db(4),u.Qc(" ",u.nc(36,32,"onBoarding.pageDetails.para7"),""),u.Db(2),u.tc("href",n.privacyPolicy,u.Hc),u.Db(1),u.Pc(u.nc(39,34,"onBoarding.pageDetails.para8")),u.Db(2),u.Qc(". ",u.nc(41,36,"onBoarding.pageDetails.para9")," "),u.Db(2),u.tc("disabled",n.registerForm.invalid),u.Db(1),u.tc("ngIf",!n.isMobileNumberRequired),u.Db(1),u.tc("ngIf",n.isMobileNumberRequired),u.Db(3),u.Pc(u.nc(48,38,"onBoarding.pageDetails.para3")),u.Db(3),u.Pc(u.nc(51,40,"login.buttons.button7")),u.Db(3),u.Pc(u.nc(54,42,"onBoarding.pageDetails.para5"))}}function ne(e,t){1&e&&(u.Wb(0,"div",37),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"commonSections.messages.requiredMessages.message1")," "))}function ie(e,t){if(1&e&&(u.Wb(0,"div",35),u.Mc(1,ne,3,3,"div",36),u.Vb()),2&e){var a=u.lc(3);u.Db(1),u.tc("ngIf",null==a.registerF?null:a.registerF.otp.errors.required)}}function re(e,t){1&e&&(u.Wb(0,"div",37),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Pc(u.nc(2,1,"login.messages.errorMessages.message4")))}function oe(e,t){if(1&e&&(u.Wb(0,"div",35),u.Mc(1,re,3,3,"div",36),u.Vb()),2&e){var a=u.lc(3);u.Db(1),u.tc("ngIf",null==a.registerF?null:a.registerF.otp.errors.pattern)}}function se(e,t){if(1&e){var a=u.Xb();u.Wb(0,"div",19),u.Wb(1,"div"),u.Oc(2),u.mc(3,"translate"),u.Wb(4,"span",20),u.Oc(5,"*"),u.Vb(),u.Vb(),u.Mc(6,ie,2,1,"div",21),u.Mc(7,oe,2,1,"div",21),u.Wb(8,"mat-form-field",45),u.Rb(9,"input",46),u.Wb(10,"i",25),u.hc("keypress",function(){u.Fc(a);var e=u.lc(2);return e.passwordToogle=!e.passwordToogle})("mouseenter",function(){return u.Fc(a),u.lc(2).passwordToogle=!0})("mouseleave",function(){return u.Fc(a),u.lc(2).passwordToogle=!1})("click",function(){return u.Fc(a),u.lc(2).passwordToogle=!0}),u.Vb(),u.Vb(),u.Wb(11,"span",47),u.hc("click",function(){return u.Fc(a),u.lc(2).generateOtp()}),u.Oc(12),u.mc(13,"translate"),u.Vb(),u.Vb()}if(2&e){var n=u.lc(2);u.tc("ngClass",u.xc(11,J,(null==n.registerF||null==n.registerF.otp?null:n.registerF.otp.touched)&&(null==n.registerF?null:n.registerF.otp.invalid))),u.Db(2),u.Pc(u.nc(3,7,"login.messages.errorMessages.message3")),u.Db(4),u.tc("ngIf",(null==n.registerF||null==n.registerF.otp?null:n.registerF.otp.touched)&&(null==n.registerF?null:n.registerF.otp.errors)),u.Db(1),u.tc("ngIf",(null==n.registerF?null:n.registerF.otp.touched)&&(null==n.registerF?null:n.registerF.otp.errors)),u.Db(2),u.tc("type",n.passwordToogle?"text":"password"),u.Db(1),u.tc("ngClass",n.passwordToogle?"fa fa-eye-slash":"fa fa-eye"),u.Db(2),u.Pc(u.nc(13,9,"applicantInformation.formLabel.label22"))}}function le(e,t){if(1&e){var a=u.Xb();u.Wb(0,"form",18),u.Wb(1,"div",43),u.Wb(2,"span"),u.Oc(3),u.mc(4,"translate"),u.Vb(),u.Wb(5,"a",34),u.hc("click",function(){return u.Fc(a),u.lc().switchView()}),u.Oc(6),u.mc(7,"translate"),u.Vb(),u.Vb(),u.Mc(8,se,14,13,"div",44),u.Wb(9,"button",32),u.hc("click",function(){return u.Fc(a),u.lc().registerUser()}),u.Oc(10),u.mc(11,"translate"),u.Vb(),u.Wb(12,"div",33),u.Wb(13,"span"),u.Oc(14),u.mc(15,"translate"),u.Vb(),u.Wb(16,"a",34),u.hc("click",function(){u.Fc(a);var e=u.lc();return e.route(e.constants.routes.LOGIN)}),u.Oc(17),u.mc(18,"translate"),u.Vb(),u.Wb(19,"span"),u.Oc(20),u.mc(21,"translate"),u.Vb(),u.Vb(),u.Vb()}if(2&e){var n=u.lc();u.tc("formGroup",n.registerForm),u.Db(3),u.Pc(u.nc(4,9,"onBoarding.messages.infoMessages.message1")),u.Db(3),u.Qc(" ",u.nc(7,11,"login.buttons.button7"),""),u.Db(2),u.tc("ngIf",n.otpView),u.Db(1),u.tc("disabled",n.registerForm.invalid),u.Db(1),u.Qc(" ",u.nc(11,13,"onBoarding.buttons.button1")," "),u.Db(4),u.Pc(u.nc(15,15,"onBoarding.pageDetails.para3")),u.Db(3),u.Pc(u.nc(18,17,"onBoarding.pageDetails.para4")),u.Db(3),u.Pc(u.nc(21,19,"onBoarding.pageDetails.para5"))}}var ce,ue,de,me=["captcha_version","captcha_api_key"],pe=((ce=function(e){s(a,e);var t=c(a);function a(e){var n;return p(this,a),(n=t.call(this)).formBuilder=e,n.constants=h.c,n.resgistrationResCode=null,n.errorCode=null,n.successCode=null,n.passwordToogle=!1,n.confirmPasswordToggle=!1,n.allowedCaptcha=!1,n.submitAttempt=!1,n.otpView=!1,n.currentCaptcha=n.captchaVersionConst.default,n}return f(a,[{key:"ngOnInit",value:function(){var e;(null===(e=this.sessionService)||void 0===e?void 0:e.applicationConfiguration)||this.commonService.loadConfiguration(),this.initRegisterForm(),this.isMobileNumberRequired&&this.addMobileNumberField()}},{key:"checkCaptchaAllowed",value:function(){var e=this;this.subs.sink=this.dataShareService.captchaAllowedRoutes.subscribe(function(t){return Object(g.b)(e,void 0,void 0,regeneratorRuntime.mark(function e(){var a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t?(this.allowedCaptcha=t.indexOf(h.q.ON_BOARDING)>-1,this.allowedCaptcha&&(me.forEach(function(e){a.registerForm.addControl(e,new b.f("",b.x.required))}),setTimeout(function(){return Object(g.b)(a,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.captchaContainer.generateToken();case 2:t=e.sent,this.utilityService.patchCaptchaValue(this.registerForm,t,this.captchaVersionConst.default);case 4:case"end":return e.stop()}},e,this)}))},1e3))):this.allowedCaptcha=!1;case 1:case"end":return e.stop()}},e,this)}))})}},{key:"addMobileNumberField",value:function(){this.registerForm.addControl("dialcode",new b.f(null,[b.x.pattern("^[0-9]+$"),b.x.maxLength(3),b.x.required])),this.registerForm.addControl("contact",new b.f(null,[b.x.pattern("^[0-9]+$"),b.x.maxLength(15),b.x.minLength(7),b.x.required]))}},{key:"privacyPolicy",get:function(){return this.utilityService.externalUrlAppend("register-privacy-policy")}},{key:"initRegisterForm",value:function(){this.registerForm=this.formBuilder.group({emailid:["",[b.x.pattern(h.s.email_caps_allowed),b.x.required]],password:["",[b.x.pattern(h.z),b.x.required]],confirmPassword:["",b.x.required],instructionAgreed:["",b.x.requiredTrue],missioncode:[this.sessionService.tenent],countrycode:[this.sessionService.countryCode],url:["".concat(y.a.activateLink).concat(this.sessionService.countryCode,"/").concat(this.sessionService.appLanguageCode,"/").concat(this.sessionService.tenent,"/activateemail?q=")]},{validator:this.utilityService.MatchPassword("password","confirmPassword")})}},{key:"registerF",get:function(){return this.registerForm.controls}},{key:"submitV2Captcha",value:function(e){this.utilityService.patchCaptchaValue(this.registerForm,e,this.captchaVersionConst.alternate)}},{key:"switchView",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.otpView=!1,this.registerForm.removeControl("otp");case 1:case"end":return e.stop()}},e,this)}))}},{key:"isMobileNumberRequired",get:function(){var e,t,a=null===(e=this.sessionService)||void 0===e?void 0:e.applicationConfiguration;return!(null==a?void 0:a.enableOTPLoginRegistration)||this.otpView||(null===(t=this.registerForm)||void 0===t?void 0:t.contains("dialcode"))||this.addMobileNumberField(),null==a?void 0:a.enableOTPLoginRegistration}},{key:"registerUser",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a,n,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.submitAttempt=!0,!this.registerForm.invalid){e.next=3;break}return e.abrupt("return");case 3:if(!this.isMobileNumberRequired||this.otpView){e.next=7;break}return e.next=6,this.generateOtp();case 6:return e.abrupt("return",void e.sent);case 7:return(t=this.registerForm.value).cultureCode=this.sessionService.appCultureCode,e.next=11,this.httpService.payloadWithoutTokenPost(h.c.api.registration,t).toPromise().then(function(e){return e}).catch(function(e){return e});case 11:if(a=e.sent,n="onBoarding.messages.status.","200"!==a.code&&"203"!==a.code){e.next=17;break}this.registerForm.reset(),this.resgistrationResCode=n+a.code,e.next=22;break;case 17:if("415"!==a.error.code&&"414"!==a.error.code&&"416"!==a.error.code){e.next=19;break}throw this.resgistrationResCode=n+a.error.code,a;case 19:if("422"===a.error.code||"423"===a.error.code||"424"===a.error.code||"999"===a.error.code){e.next=21;break}throw a;case 21:this.errorCode=n+a.error.code,setTimeout(function(){i.errorCode=null},5e3);case 22:e.next=29;break;case 24:if(e.prev=24,e.t0=e.catch(0),this.allowedCaptcha){e.next=28;break}return e.abrupt("return");case 28:this.allowedCaptcha&&this.sessionService.captchaMode===this.captchaVersionConst.alternate&&(this.currentCaptcha=this.captchaVersionConst.alternate,this.utilityService.formcontrolReset(this.registerForm,me),this.utilityService.resetCaptcha());case 29:case"end":return e.stop()}},e,this,[[0,24]])}))}},{key:"generateOtp",value:function(){var e,t,a,n;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function i(){var r,o,s,l=this;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,(null===(e=this.registerForm.get("contact"))||void 0===e?void 0:e.valid)&&(null===(t=this.registerForm.get("dialcode"))||void 0===t?void 0:t.valid)){i.next=3;break}return i.abrupt("return");case 3:return r={missioncode:this.sessionService.tenent,countrycode:this.sessionService.countryCode,contactNo:null===(a=this.registerForm.get("contact"))||void 0===a?void 0:a.value,dialCode:null===(n=this.registerForm.get("dialcode"))||void 0===n?void 0:n.value,action:"Register"},i.next=6,this.httpService.basicPayload(h.c.api.generateOtp,r,"gotp").toPromise().catch(function(e){return e}).then(function(e){return e});case 6:o=i.sent,s="onBoarding.messages.status.",(null==o?void 0:o.isOTPSend)?(this.successCode=s+"201",setTimeout(function(){l.successCode=null},4e3),this.registerForm.addControl("otp",new b.f(null,[b.x.pattern("^[0-9]+$"),b.x.required])),this.otpView=!0):"421"!==o.error.code&&"416"!==o.error.code&&"424"!==o.error.code||(this.errorCode=s+o.error.code,setTimeout(function(){l.errorCode=null},5e3)),i.next=14;break;case 11:i.prev=11,i.t0=i.catch(0),console.log(i.t0);case 14:case"end":return i.stop()}},i,this,[[0,11]])}))}}]),a}(S.a)).\u0275fac=function(e){return new(e||ce)(u.Qb(b.e))},ce.\u0275cmp=u.Kb({type:ce,selectors:[["app-on-boarding"]],viewQuery:function(e,t){var a;1&e&&u.Uc(T,1),2&e&&u.Ac(a=u.ic())&&(t.captchaContainer=a.first)},features:[u.Ab],decls:15,vars:11,consts:[[1,"container","py-15","py-md-30"],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-9","col-lg-7","col-xl-6"],[1,"form-card","px-md-50","py-md-40"],[1,"fs-21","fs-sm-24","mb-10"],[1,"c-brand-grey-para","fs-sm-18","mb-25"],[4,"ngIf"],[3,"formGroup",4,"ngIf"],[1,"mb-15","fs-24"],[1,"border-success",2,"border-left","5px solid"],[1,"alert","alert-success","border-0","rounded-0","py-20"],[1,"row","no-gutters","align-items-center"],[1,"col-auto","ml-n5","pr-15"],[1,"fa","fa-check-circle-o","fs-24","mb-0"],[1,"col",3,"translate"],[1,"alert-danger",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-20"],[1,"fa","fa-times-circle","fs-24","mb-0"],[3,"formGroup"],[1,"form-group",3,"ngClass"],[1,"c-brand-error"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["placeholder","jane.doe@email.com","matInput","","formControlName","emailid","type","text","autocomplete","off"],["matInput","","formControlName","password","placeholder","**********","autocomplete","off",3,"type"],["tabindex","0",1,"cursor-pointer","icon-toggle","position-absolute","right-0",3,"ngClass","keypress","mouseenter","mouseleave","click"],["matInput","","formControlName","confirmPassword","placeholder","**********","autocomplete","off",3,"type"],["class","row align-items-end",3,"ngClass",4,"ngIf"],[1,"form-group"],["formControlName","instructionAgreed",1,"mat-checkbox-brand","mr-5"],[1,"text-wrap"],["target","_blank",1,"c-brand-orange","text-decoration-underline",3,"href"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],[1,"fs-sm-18","mt-20"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer","mx-5",3,"click"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[1,"row","align-items-end",3,"ngClass"],[1,"col-12","col-sm-4","col-lg-4","pr-sm-1"],["placeholder","44","matInput","","formControlName","dialcode","type","text","autocomplete","off"],[1,"col-12","col-sm-8"],["placeholder","1234567890","matInput","","formControlName","contact","type","text","autocomplete","off"],[1,"c-brand-grey-para","fs-sm-16","mb-20"],["class","form-group",3,"ngClass",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand","mb-10"],["matInput","","formControlName","otp","placeholder","**********","autocomplete","off",3,"type"],[1,"c-brand-grey-para","text-decoration-underline",2,"cursor","pointer",3,"click"]],template:function(e,t){1&e&&(u.Wb(0,"section",0),u.Wb(1,"div",1),u.Wb(2,"div",2),u.Wb(3,"mat-card",3),u.Wb(4,"h1",4),u.Oc(5),u.mc(6,"translate"),u.Vb(),u.Wb(7,"p",5),u.Oc(8),u.mc(9,"translate"),u.Vb(),u.Mc(10,L,10,4,"ng-container",6),u.Mc(11,w,7,1,"ng-container",6),u.Mc(12,N,7,1,"ng-container",6),u.Mc(13,ae,55,50,"form",7),u.Mc(14,le,22,21,"form",7),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.Db(5),u.Pc(u.nc(6,7,"onBoarding.headerLabel.label1")),u.Db(3),u.Pc(u.nc(9,9,"onBoarding.pageDetails.para1")),u.Db(2),u.tc("ngIf",t.resgistrationResCode),u.Db(1),u.tc("ngIf",t.otpView&&t.successCode),u.Db(1),u.tc("ngIf",t.errorCode),u.Db(1),u.tc("ngIf",!t.resgistrationResCode&&!t.otpView),u.Db(1),u.tc("ngIf",!t.resgistrationResCode&&t.otpView))},directives:[C.a,D.o,I.a,b.y,b.r,b.j,D.m,V.b,k.b,b.d,b.q,b.h,A.a,O.a],pipes:[I.d],encapsulation:2}),ce),be=i("3N+h"),fe=i("cT3p"),ve=i("IXuf"),ge=((ue=function(){function e(t,a,n){p(this,e),this.httpServiceHandler=t,this.sessionService=a,this.contentFulService=n}return f(e,[{key:"getApplicationSchema",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!y.a.localschema){e.next=4;break}e.t0=this.httpServiceHandler.doGet(h.c.schema.postLogin).toPromise(),e.next=15;break;case 4:return e.next=6,this.contentFulService.getMockSchema();case 6:if(e.t1=e.sent,!e.t1){e.next=9;break}e.t1=this.sessionService.getFullApplicationSchema();case 9:if(!e.t1){e.next=13;break}e.t2=this.sessionService.getFullApplicationSchema(),e.next=14;break;case 13:e.t2=this.httpServiceHandler.doGet(h.c.schema.postLogin).toPromise();case 14:e.t0=e.t2;case 15:return e.abrupt("return",e.t0);case 16:case"end":return e.stop()}},e,this)}))}}]),e}()).\u0275fac=function(e){return new(e||ue)(u.dc(be.a),u.dc(fe.a),u.dc(ve.a))},ue.\u0275prov=u.Mb({token:ue,factory:ue.\u0275fac,providedIn:"root"}),ue),he=i("QibW"),ye=i("XjvO"),Se=((de=function(){function e(t,a,n){p(this,e),this.elementRef=t,this.ngZone=a,this.dom=n,this.recaptchaSuccess=new u.n,this.recaptchaExpired=new u.n,this.recaptchaError=new u.n,this.scriptId="volt-recaptcha"}return f(e,[{key:"ngOnInit",value:function(){this.registerCaptchaCallback(),this.addScript()}},{key:"ngOnDestroy",value:function(){this.widgetId=null}},{key:"registerCaptchaCallback",value:function(){var e=this;window.recaptchaCallback=function(){var t={sitekey:y.a.V2_CaptchaKey,callback:e.onSuccessCallback.bind(e),"error-callback":e.onErrorCallback.bind(e),"expired-callback":e.onExpiredCallback.bind(e)};e.widgetId=e.renderCaptcha(t)}}},{key:"addScript",value:function(){if(null==this.dom.getElementById(this.scriptId)){var e=this.dom.createElement("script");e.src="https://www.recaptcha.net/recaptcha/api.js?onload=recaptchaCallback&render=explicit",e.id=this.scriptId,e.async=!0,e.defer=!0,this.dom.body.appendChild(e)}}},{key:"onSuccessCallback",value:function(e){var t=this;this.ngZone.run(function(){t.recaptchaSuccess.emit(e)})}},{key:"onErrorCallback",value:function(){var e=this;this.ngZone.run(function(){e.recaptchaError.emit()})}},{key:"onExpiredCallback",value:function(){var e=this;this.ngZone.run(function(){e.recaptchaExpired.emit()})}},{key:"renderCaptcha",value:function(e){return window.grecaptcha.render(this.elementRef.nativeElement,e)}}]),e}()).\u0275fac=function(e){return new(e||de)(u.Qb(u.l),u.Qb(u.A),u.Qb(D.d))},de.\u0275dir=u.Lb({type:de,selectors:[["","appRecaptcha",""]],outputs:{recaptchaSuccess:"recaptchaSuccess",recaptchaExpired:"recaptchaExpired",recaptchaError:"recaptchaError"}}),de);function Ce(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Wb(1,"div",1),u.hc("recaptchaSuccess",function(e){return u.Fc(a),u.lc().onRecaptchaSuccess(e)}),u.Vb(),u.Tb()}}var De,Ie=((De=function(){function e(t){p(this,e),this.utilityService=t,this.v2CaptchaSet=new u.n,this.captchaType="v3"}return f(e,[{key:"generateToken",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.captchaToken="","v3"!==this.captchaType){e.next=2;break}return e.abrupt("return",new Promise(function(e,a){t.utilityService.executeCapctha(t.action).then(function(a){e(a),t.captchaToken=a})}));case 2:this.utilityService.resetCaptcha();case 3:case"end":return e.stop()}},e,this)}))}},{key:"onRecaptchaSuccess",value:function(e){this.captchaToken=e,this.v2CaptchaSet.emit(e)}}]),e}()).\u0275fac=function(e){return new(e||De)(u.Qb(ye.a))},De.\u0275cmp=u.Kb({type:De,selectors:[["app-captcha-container"]],inputs:{captchaType:"captchaType",action:"action"},outputs:{v2CaptchaSet:"v2CaptchaSet"},decls:1,vars:1,consts:[[4,"ngIf"],["appRecaptcha","",1,"my-10",3,"recaptchaSuccess"]],template:function(e,t){1&e&&u.Mc(0,Ce,2,0,"ng-container",0),2&e&&u.tc("ngIf","v2"===t.captchaType)},directives:[D.o,Se],encapsulation:2}),De),Ve=["captchaContainer"];function ke(e,t){1&e&&(u.Wb(0,"p",14),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Pc(u.nc(2,1,"login.pageDetails.para1")))}function Ae(e,t){1&e&&(u.Wb(0,"p",14),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Pc(u.nc(2,1,"login.pageDetails.para5")))}function Oe(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"div",15),u.Wb(2,"div",16),u.Rb(3,"i",17),u.Wb(4,"div"),u.Oc(5),u.Vb(),u.Vb(),u.Vb(),u.Tb()),2&e){var a=u.lc();u.Db(5),u.Pc(a.actiateMailMessage)}}function Te(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"div",18),u.Wb(2,"div",19),u.Wb(3,"div",20),u.Wb(4,"div",21),u.Rb(5,"i",22),u.Vb(),u.Rb(6,"div",23),u.Vb(),u.Vb(),u.Vb(),u.Tb()),2&e){var a=u.lc();u.Db(6),u.tc("translate",a.successCode)}}function Le(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"div",24),u.Wb(2,"div",25),u.Wb(3,"div",20),u.Wb(4,"div",21),u.Rb(5,"i",26),u.Vb(),u.Rb(6,"div",23),u.Vb(),u.Vb(),u.Vb(),u.Tb()),2&e){var a=u.lc();u.Db(6),u.tc("translate",a.errorCode)}}function we(e,t){if(1&e){var a=u.Xb();u.Wb(0,"mat-radio-group",27),u.hc("ngModelChange",function(e){return u.Fc(a),u.lc().slotType=e})("change",function(e){return u.Fc(a),u.lc().radioChange(e)}),u.Wb(1,"div",28),u.Wb(2,"mat-radio-button",29),u.Oc(3),u.mc(4,"translate"),u.Vb(),u.Vb(),u.Wb(5,"div",28),u.Wb(6,"mat-radio-button",29),u.Oc(7),u.mc(8,"translate"),u.Vb(),u.Vb(),u.Vb()}if(2&e){var n=u.lc();u.tc("ngModel",n.slotType),u.Db(2),u.tc("value",0),u.Db(1),u.Pc(u.nc(4,5,"login.formLabel.label1")),u.Db(3),u.tc("value",1),u.Db(1),u.Pc(u.nc(8,7,"login.formLabel.label3"))}}function Ne(e,t){1&e&&(u.Wb(0,"div",40),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"commonSections.messages.requiredMessages.message1")," "))}function xe(e,t){1&e&&(u.Wb(0,"div",40),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"commonSections.messages.patternMessages.message1")," "))}function Me(e,t){if(1&e&&(u.Wb(0,"div",38),u.Mc(1,Ne,3,3,"div",39),u.Mc(2,xe,3,3,"div",39),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",a.loginF.username.errors.required),u.Db(1),u.tc("ngIf",a.loginF.username.errors.pattern)}}function Ee(e,t){1&e&&(u.Wb(0,"div",40),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"commonSections.messages.requiredMessages.message1")," "))}function We(e,t){if(1&e&&(u.Wb(0,"div",38),u.Mc(1,Ee,3,3,"div",39),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",a.loginF.password.errors.required)}}function Pe(e,t){1&e&&(u.Wb(0,"div",38),u.Wb(1,"div",40),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()),2&e&&(u.Db(2),u.Qc(" ",u.nc(3,1,"commonSections.messages.requiredMessages.message1")," "))}function Fe(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Wb(1,"app-captcha-container",41,42),u.hc("v2CaptchaSet",function(e){return u.Fc(a),u.lc(2).submitV2Captcha(e)}),u.Vb(),u.Mc(3,Pe,4,3,"div",32),u.Tb()}if(2&e){var n=u.lc(2);u.Db(1),u.tc("action",n.constants.captcha_action.LOGIN)("captchaType",n.currentCaptcha),u.Db(2),u.tc("ngIf",(null==n.loginF.captcha_api_key||null==n.loginF.captcha_api_key.errors?null:n.loginF.captcha_api_key.errors.required)&&n.loginSubmit)}}var _e=function(e){return{"form-error":e}};function Re(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Wb(1,"div",30),u.Wb(2,"div"),u.Oc(3),u.mc(4,"translate"),u.Wb(5,"span",31),u.Oc(6,"*"),u.Vb(),u.Vb(),u.Mc(7,Me,3,2,"div",32),u.Wb(8,"mat-form-field",33),u.Rb(9,"input",34),u.Vb(),u.Vb(),u.Wb(10,"div",30),u.Wb(11,"div"),u.Oc(12),u.mc(13,"translate"),u.Wb(14,"span",31),u.Oc(15,"*"),u.Vb(),u.Vb(),u.Mc(16,We,2,1,"div",32),u.Wb(17,"mat-form-field",33),u.Rb(18,"input",35),u.Wb(19,"i",36),u.hc("keypress",function(){u.Fc(a);var e=u.lc();return e.passwordToogle=!e.passwordToogle})("mouseenter",function(){return u.Fc(a),u.lc().passwordToogle=!0})("mouseleave",function(){return u.Fc(a),u.lc().passwordToogle=!1})("click",function(){return u.Fc(a),u.lc().passwordToogle=!0}),u.Vb(),u.Vb(),u.Vb(),u.Mc(20,Fe,4,3,"ng-container",6),u.Wb(21,"button",37),u.hc("click",function(){return u.Fc(a),u.lc().submitLogin()}),u.Oc(22),u.mc(23,"translate"),u.Vb(),u.Tb()}if(2&e){var n=u.lc();u.Db(1),u.tc("ngClass",u.xc(16,_e,n.loginF.username.touched&&n.loginF.username.invalid)),u.Db(2),u.Pc(u.nc(4,10,"login.formLabel.label1")),u.Db(4),u.tc("ngIf",n.loginF.username.touched&&n.loginF.username.errors),u.Db(3),u.tc("ngClass",u.xc(18,_e,n.loginF.password.touched&&n.loginF.password.invalid)),u.Db(2),u.Pc(u.nc(13,12,"login.formLabel.label2")),u.Db(4),u.tc("ngIf",n.loginF.password.touched&&n.loginF.password.errors),u.Db(2),u.tc("type",n.passwordToogle?"text":"password"),u.Db(1),u.tc("ngClass",n.passwordToogle?"fa fa-eye-slash":"fa fa-eye"),u.Db(1),u.tc("ngIf",n.allowedCaptcha&&n.isPtFlow),u.Db(2),u.Qc(" ",u.nc(23,14,"login.buttons.button8")," ")}}function Ge(e,t){1&e&&(u.Wb(0,"div",40),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"commonSections.messages.requiredMessages.message1")," "))}function Ue(e,t){1&e&&(u.Wb(0,"div",40),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Pc(u.nc(2,1,"login.messages.errorMessages.message1")))}function Be(e,t){1&e&&(u.Wb(0,"div",40),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"login.messages.errorMessages.message2")," "))}function je(e,t){if(1&e&&(u.Wb(0,"div",38),u.Mc(1,Ge,3,3,"div",39),u.Mc(2,Ue,3,3,"div",39),u.Mc(3,Be,3,3,"div",39),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",a.loginF.dailcode.errors.required),u.Db(1),u.tc("ngIf",a.loginF.dailcode.errors.pattern),u.Db(1),u.tc("ngIf",!a.loginF.dailcode.errors.pattern&&a.loginF.dailcode.errors.maxlength)}}function Ye(e,t){1&e&&(u.Wb(0,"div",40),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"commonSections.messages.requiredMessages.message1")," "))}function Qe(e,t){1&e&&(u.Wb(0,"div",40),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"commonSections.messages.patternMessages.message31")," "))}function qe(e,t){1&e&&(u.Wb(0,"div",40),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"commonSections.messages.patternMessages.message27")," "))}function He(e,t){1&e&&(u.Wb(0,"div",40),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"commonSections.messages.patternMessages.message25")," "))}function Ke(e,t){if(1&e&&(u.Wb(0,"div",38),u.Mc(1,Ye,3,3,"div",39),u.Mc(2,Qe,3,3,"div",39),u.Mc(3,qe,3,3,"div",39),u.Mc(4,He,3,3,"div",39),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",null==a.loginF.contact||null==a.loginF.contact.errors?null:a.loginF.contact.errors.required),u.Db(1),u.tc("ngIf",null==a.loginF.contact||null==a.loginF.contact.errors?null:a.loginF.contact.errors.pattern),u.Db(1),u.tc("ngIf",null==a.loginF.contact||null==a.loginF.contact.errors?null:a.loginF.contact.errors.minlength),u.Db(1),u.tc("ngIf",null==a.loginF.contact||null==a.loginF.contact.errors?null:a.loginF.contact.errors.maxlength)}}function ze(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Wb(1,"div",43),u.Wb(2,"div",44),u.Wb(3,"div",45),u.Wb(4,"div"),u.Oc(5,"Mobile Number"),u.Wb(6,"span",31),u.Oc(7,"*"),u.Vb(),u.Vb(),u.Mc(8,je,4,3,"div",32),u.Wb(9,"mat-form-field",33),u.Rb(10,"input",46),u.Vb(),u.Vb(),u.Vb(),u.Wb(11,"div",47),u.Wb(12,"div",45),u.Wb(13,"div"),u.Rb(14,"span",31),u.Vb(),u.Mc(15,Ke,5,4,"div",32),u.Wb(16,"mat-form-field",33),u.Rb(17,"input",48),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(18,"button",49),u.hc("click",function(){return u.Fc(a),u.lc().generateOtp()}),u.Oc(19),u.mc(20,"translate"),u.Vb(),u.Tb()}if(2&e){var n=u.lc();u.Db(1),u.tc("ngClass",u.xc(6,_e,n.loginF.contact.touched&&n.loginF.contact.invalid||n.loginF.dailcode.touched&&n.loginF.dailcode.invalid)),u.Db(7),u.tc("ngIf",n.loginF.dailcode.touched&&n.loginF.dailcode.errors),u.Db(7),u.tc("ngIf",n.loginF.contact.touched&&n.loginF.contact.errors),u.Db(4),u.Qc(" ",u.nc(20,4,"commonSections.buttons.button19")," ")}}function $e(e,t){1&e&&(u.Wb(0,"div",40),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"commonSections.messages.requiredMessages.message1")," "))}function Ze(e,t){if(1&e&&(u.Wb(0,"div",38),u.Mc(1,$e,3,3,"div",39),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",null==a.loginF?null:a.loginF.otp.errors.required)}}function Je(e,t){1&e&&(u.Wb(0,"div",40),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Pc(u.nc(2,1,"login.messages.errorMessages.message4")))}function Xe(e,t){if(1&e&&(u.Wb(0,"div",38),u.Mc(1,Je,3,3,"div",39),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",null==a.loginF?null:a.loginF.otp.errors.pattern)}}function et(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Wb(1,"div",50),u.Wb(2,"span"),u.Oc(3),u.mc(4,"translate"),u.Vb(),u.Vb(),u.Wb(5,"div",30),u.Wb(6,"div"),u.Oc(7),u.mc(8,"translate"),u.Wb(9,"span",31),u.Oc(10,"*"),u.Vb(),u.Vb(),u.Mc(11,Ze,2,1,"div",32),u.Mc(12,Xe,2,1,"div",32),u.Wb(13,"mat-form-field",51),u.Rb(14,"input",52),u.Wb(15,"i",36),u.hc("keypress",function(){u.Fc(a);var e=u.lc();return e.passwordToogle=!e.passwordToogle})("mouseenter",function(){return u.Fc(a),u.lc().passwordToogle=!0})("mouseleave",function(){return u.Fc(a),u.lc().passwordToogle=!1})("click",function(){return u.Fc(a),u.lc().passwordToogle=!0}),u.Vb(),u.Vb(),u.Wb(16,"span",53),u.hc("click",function(){return u.Fc(a),u.lc().generateOtp()}),u.Oc(17),u.mc(18,"translate"),u.Vb(),u.Vb(),u.Wb(19,"button",54),u.hc("click",function(){return u.Fc(a),u.lc().submitLogin()}),u.Oc(20),u.mc(21,"translate"),u.Vb(),u.Tb()}if(2&e){var n=u.lc();u.Db(3),u.Pc(u.nc(4,10,"login.messages.infoMessages.message1")),u.Db(2),u.tc("ngClass",u.xc(18,_e,(null==n.loginF||null==n.loginF.otp?null:n.loginF.otp.touched)&&(null==n.loginF?null:n.loginF.otp.invalid))),u.Db(2),u.Pc(u.nc(8,12,"login.messages.errorMessages.message3")),u.Db(4),u.tc("ngIf",(null==n.loginF||null==n.loginF.otp?null:n.loginF.otp.touched)&&(null==n.loginF?null:n.loginF.otp.errors)),u.Db(1),u.tc("ngIf",(null==n.loginF?null:n.loginF.otp.touched)&&(null==n.loginF?null:n.loginF.otp.errors)),u.Db(2),u.tc("type",n.passwordToogle?"text":"password"),u.Db(1),u.tc("ngClass",n.passwordToogle?"fa fa-eye-slash":"fa fa-eye"),u.Db(2),u.Pc(u.nc(18,14,"applicantInformation.formLabel.label22")),u.Db(2),u.tc("disabled",n.loginForm.invalid),u.Db(1),u.Qc(" ",u.nc(21,16,"login.buttons.button8")," ")}}function tt(e,t){if(1&e){var a=u.Xb();u.Wb(0,"div",11),u.Wb(1,"a",12),u.hc("click",function(){u.Fc(a);var e=u.lc();return e.route(e.constants.routes.FORGOT_PASSWORD)}),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()}2&e&&(u.Db(2),u.Pc(u.nc(3,1,"login.buttons.button5")))}var at,nt=["captcha_version","captcha_api_key"],it=((at=function(e){s(a,e);var t=c(a);function a(e,n){var i;return p(this,a),(i=t.call(this)).formBuilder=e,i.baseService=n,i.constants=h.c,i.loginSubmit=!1,i.passwordToogle=!1,i.errorCode=null,i.successCode=null,i.actiateMailMessage=null,i.allowedCaptcha=!1,i.slotType=0,i.otpScreen=!1,i.agreeToTermsAndCondition=!1,i.currentCaptcha=i.captchaVersionConst.alternate,i}return f(a,[{key:"ngOnInit",value:function(){var e=this;this.commonService.loadConfiguration(),this.utilityService.fireCustomEvent({dl_category:"Authenticate",dl_action:"Authentication page is loaded",dl_label:void 0,value:void 0});try{this.actiateMailMessage=this.sessionService.activateMessage||"",setTimeout(function(){e.sessionService.clearActivateMessage(),e.actiateMailMessage=null},5e3),this.initLoginForm(),this.checkCaptchaAllowed()}catch(t){console.log(t)}}},{key:"radioChange",value:function(e){0===e.value&&(this.loginForm.contains("username")||this.loginForm.addControl("username",new b.f(null,[b.x.pattern(h.s.email_caps_allowed),b.x.required])),this.loginForm.contains("password")||this.loginForm.addControl("password",new b.f(null,[b.x.required])),this.loginForm.removeControl("dailcode"),this.loginForm.removeControl("contact"),this.loginForm.removeControl("otp")),1===e.value&&(this.loginForm.removeControl("username"),this.loginForm.removeControl("password"),this.loginForm.addControl("dailcode",new b.f(null,[b.x.pattern("^[0-9]+$"),b.x.maxLength(3),b.x.required])),this.loginForm.addControl("contact",new b.f(null,[b.x.pattern("^[0-9]+$"),b.x.maxLength(15),b.x.minLength(7),b.x.required])),this.loginForm.addControl("otp",new b.f(null,[b.x.pattern("^[0-9]+$"),b.x.required])))}},{key:"checkCaptchaAllowed",value:function(){var e=this;this.subs.sink=this.dataShareService.captchaAllowedRoutes.subscribe(function(t){return Object(g.b)(e,void 0,void 0,regeneratorRuntime.mark(function e(){var a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t&&(this.allowedCaptcha=t.indexOf(h.q.LOGIN)>-1,this.allowedCaptcha&&this.isPtFlow&&(nt.forEach(function(e){a.loginForm.addControl(e,new b.f("",b.x.required))}),setTimeout(function(){return Object(g.b)(a,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.captchaContainer.generateToken();case 2:t=e.sent,this.utilityService.patchCaptchaValue(this.loginForm,t,this.captchaVersionConst.alternate);case 4:case"end":return e.stop()}},e,this)}))},1e3)));case 1:case"end":return e.stop()}},e,this)}))})}},{key:"initLoginForm",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{this.loginForm=this.formBuilder.group({username:["",[b.x.pattern(h.s.email_caps_allowed),b.x.required]],password:["",b.x.required],missioncode:[this.sessionService.tenent],countrycode:[this.sessionService.countryCode]})}catch(t){console.log(t)}case 1:case"end":return e.stop()}},e,this)}))}},{key:"isOtpLoginEnabled",get:function(){var e,t=null===(e=this.sessionService)||void 0===e?void 0:e.applicationConfiguration;return null==t?void 0:t.enableOTPLoginRegistration}},{key:"loginF",get:function(){return this.loginForm.controls}},{key:"submitV2Captcha",value:function(e){this.utilityService.patchCaptchaValue(this.loginForm,e,this.captchaVersionConst.alternate,"captcha_api_key")}},{key:"switchView",value:function(){}},{key:"generateOtp",value:function(){var e,t,a,n;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function i(){var r,o,s,l=this;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,(null===(e=this.loginForm.get("contact"))||void 0===e?void 0:e.valid)&&(null===(t=this.loginForm.get("dailcode"))||void 0===t?void 0:t.valid)){i.next=3;break}return i.abrupt("return");case 3:return r={missioncode:this.sessionService.tenent,countrycode:this.sessionService.countryCode,contactNo:null===(a=this.loginForm.get("contact"))||void 0===a?void 0:a.value,dialCode:null===(n=this.loginForm.get("dailcode"))||void 0===n?void 0:n.value,action:"Login"},i.next=6,this.httpService.basicPayload(h.c.api.generateOtp,r,"gotp").toPromise().catch(function(e){return e}).then(function(e){return e});case 6:o=i.sent,s="onBoarding.messages.status.",(null==o?void 0:o.isOTPSend)?(this.successCode=s+"201",setTimeout(function(){l.successCode=null},4e3),this.otpScreen=!0):"421"!==o.error.code&&"416"!==o.error.code&&"413"!==o.error.code&&"424"!==o.error.code||(this.errorCode=s+o.error.code,setTimeout(function(){l.errorCode=null},5e3)),i.next=14;break;case 11:i.prev=11,i.t0=i.catch(0),console.log(i.t0);case 14:case"end":return i.stop()}},i,this,[[0,11]])}))}},{key:"disableLogin",get:function(){return this.isPtFlow&&!this.agreeToTermsAndCondition}},{key:"criticalInformation",get:function(){var e;return null===(e=this.sessionService.resourceGroupData)||void 0===e?void 0:e.criricalinformation}},{key:"submitLogin",value:function(){var e,t,a,n,i;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o,s,l,c=this;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,this.loginSubmit=!0,!this.loginForm.invalid){r.next=3;break}return r.abrupt("return");case 3:return o=this.loginForm.value,1===this.slotType&&(delete o.contact,delete o.otp,delete o.dailcode,o.username=null===(e=this.loginForm.get("contact"))||void 0===e?void 0:e.value,o.password=null===(t=this.loginForm.get("otp"))||void 0===t?void 0:t.value),r.next=7,this.httpService.doPost(h.c.api.login,o).toPromise();case 7:if(!(s=r.sent).accessToken){r.next=16;break}return this.sessionService.updateLoggedEmail(this.loginForm.contains("username")?null===(i=this.loginForm.value)||void 0===i?void 0:i.username:null==s?void 0:s.loginUser),r.next=12,this.commonService.postLoginActivity(this.baseService,s);case 12:this.isPtFlow&&this.commonService.loadConfiguration(),this.commonService.routeToDashboard(),r.next=17;break;case 16:this.actiateMailMessage=(null===(a=null==s?void 0:s.error)||void 0===a?void 0:a.description)||(null==s?void 0:s.message)||this.commonService.translateValue("commonSections.messages.statusMessages."+(null===(n=null==s?void 0:s.error)||void 0===n?void 0:n.code)),setTimeout(function(){c.actiateMailMessage=""},1e4);case 17:r.next=31;break;case 19:if(r.prev=19,r.t0=r.catch(0),this.allowedCaptcha){r.next=23;break}return r.abrupt("return");case 23:if(!y.a.captchaFallbackEnabled){r.next=27;break}this.currentCaptcha=this.captchaVersionConst.alternate,this.utilityService.formcontrolReset(this.loginForm,nt),this.utilityService.resetCaptcha(),r.next=31;break;case 27:return r.next=29,this.captchaContainer.generateToken();case 29:l=r.sent,this.utilityService.patchCaptchaValue(this.loginForm,l,this.captchaVersionConst.default);case 31:case"end":return r.stop()}},r,this,[[0,19]])}))}}]),a}(S.a)).\u0275fac=function(e){return new(e||at)(u.Qb(b.e),u.Qb(ge))},at.\u0275cmp=u.Kb({type:at,selectors:[["app-login"]],viewQuery:function(e,t){var a;1&e&&u.Uc(Ve,1),2&e&&u.Ac(a=u.ic())&&(t.captchaContainer=a.first)},features:[u.Ab],decls:27,vars:20,consts:[[1,"container","py-15","py-md-30"],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-9","col-lg-7","col-xl-6"],[1,"form-card","px-md-50","py-md-40"],[1,"fs-21","fs-sm-24","mb-10"],["class","c-brand-grey-para fs-sm-18 mb-25",4,"ngIf"],[4,"ngIf"],["class","row mat-radio-group-brand mb-10",3,"ngModel","ngModelChange","change",4,"ngIf"],[3,"formGroup"],[1,"row","no-gutters","justify-content-between","mt-20"],["class","col-auto mb-10",4,"ngIf"],[1,"col-auto","mb-10"],[1,"fs-14","fs-sm-18","text-decoration-underline","cursor-pointer","c-inherit",3,"click"],[1,"col-12","mb-10"],[1,"c-brand-grey-para","fs-sm-18","mb-25"],[1,"border-info",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-check-circle-o","fs-24","position-absolute","left-15","top-18","mb-0"],[1,"border-success",2,"border-left","5px solid"],[1,"alert","alert-success","border-0","rounded-0","py-20"],[1,"row","no-gutters","align-items-center"],[1,"col-auto","ml-n5","pr-15"],[1,"fa","fa-check-circle-o","fs-24","mb-0"],[1,"col",3,"translate"],[1,"alert-danger",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-20"],[1,"fa","fa-times-circle","fs-24","mb-0"],[1,"row","mat-radio-group-brand","mb-10",3,"ngModel","ngModelChange","change"],[1,"col-12","col-sm-6","mb-15"],[1,"mat-block",3,"value"],[1,"form-group",3,"ngClass"],[1,"c-brand-error"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["placeholder","jane.doe@email.com","matInput","","formControlName","username","type","text","autocomplete","off"],["matInput","","formControlName","password","placeholder","**********","autocomplete","off",3,"type"],["tabindex","0",1,"cursor-pointer","icon-toggle","position-absolute","right-0",3,"ngClass","keypress","mouseenter","mouseleave","click"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[3,"action","captchaType","v2CaptchaSet"],["captchaContainer",""],[1,"row","align-items-end",3,"ngClass"],[1,"col-12","col-sm-4","col-lg-4","pr-sm-1"],[1,"form-group"],["placeholder","44","matInput","","formControlName","dailcode","type","text","autocomplete","off"],[1,"col-12","col-sm-8"],["placeholder","1234567890","matInput","","formControlName","contact","type","text","autocomplete","off"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"],[1,"c-brand-grey-para","fs-sm-16","mb-20"],["appearance","outline",1,"mat-form-field-outline-brand","mb-10"],["matInput","","formControlName","otp","placeholder","**********","autocomplete","off",3,"type"],[1,"c-brand-grey-para","text-decoration-underline",2,"cursor","pointer",3,"click"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"]],template:function(e,t){1&e&&(u.Wb(0,"section",0),u.Wb(1,"div",1),u.Wb(2,"div",2),u.Wb(3,"mat-card",3),u.Wb(4,"h1",4),u.Oc(5),u.mc(6,"translate"),u.Vb(),u.Mc(7,ke,3,3,"p",5),u.Mc(8,Ae,3,3,"p",5),u.Mc(9,Oe,6,1,"ng-container",6),u.Mc(10,Te,7,1,"ng-container",6),u.Mc(11,Le,7,1,"ng-container",6),u.Mc(12,we,9,9,"mat-radio-group",7),u.Wb(13,"form",8),u.Mc(14,Re,24,20,"ng-container",6),u.Mc(15,ze,21,8,"ng-container",6),u.Mc(16,et,22,20,"ng-container",6),u.Wb(17,"div",9),u.Mc(18,tt,4,3,"div",10),u.Wb(19,"div",11),u.Wb(20,"a",12),u.hc("click",function(){return t.route(t.constants.routes.ON_BOARDING)}),u.Oc(21),u.mc(22,"translate"),u.Vb(),u.Vb(),u.Wb(23,"div",13),u.Wb(24,"a",12),u.hc("click",function(){return t.route(t.constants.routes.RESEND_EMAIL_ACTIVATION)}),u.Oc(25),u.mc(26,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.Db(5),u.Pc(u.nc(6,14,"login.headerLabel.label1")),u.Db(2),u.tc("ngIf",!t.isOtpLoginEnabled&&!t.otpScreen),u.Db(1),u.tc("ngIf",t.isOtpLoginEnabled&&!t.otpScreen),u.Db(1),u.tc("ngIf",t.actiateMailMessage),u.Db(1),u.tc("ngIf",t.otpScreen&&t.successCode),u.Db(1),u.tc("ngIf",t.errorCode),u.Db(1),u.tc("ngIf",t.isOtpLoginEnabled&&!t.otpScreen),u.Db(1),u.tc("formGroup",t.loginForm),u.Db(1),u.tc("ngIf",0===t.slotType),u.Db(1),u.tc("ngIf",1===t.slotType&&!t.otpScreen),u.Db(1),u.tc("ngIf",1===t.slotType&&t.otpScreen),u.Db(2),u.tc("ngIf",0===t.slotType),u.Db(3),u.Pc(u.nc(22,16,"login.buttons.button9")),u.Db(4),u.Pc(u.nc(26,18,"login.buttons.button10")))},directives:[C.a,D.o,b.y,b.r,b.j,I.a,he.b,b.q,b.t,he.a,D.m,V.b,k.b,b.d,b.h,O.a,Ie],pipes:[I.d],encapsulation:2}),at),rt=["captchaContainer"];function ot(e,t){if(1&e&&(u.Wb(0,"div",18),u.Wb(1,"div",19),u.Rb(2,"i",20),u.Wb(3,"div"),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Vb(),u.Vb()),2&e){var a=u.lc();u.Db(4),u.Pc(u.nc(5,1,a.message))}}var st=function(e,t){return{limit:e,TimeOut:t}};function lt(e,t){if(1&e&&(u.Wb(0,"div",21),u.Wb(1,"div",22),u.Rb(2,"i",23),u.Wb(3,"div"),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Vb(),u.Vb()),2&e){var a=u.lc();u.Db(4),u.Pc(u.oc(5,1,"forogotpassword.messages.errorMessages.message1",u.yc(4,st,a.errorDescription[0],a.errorDescription[1])))}}function ct(e,t){if(1&e&&(u.Wb(0,"div",21),u.Wb(1,"div",22),u.Rb(2,"i",20),u.Wb(3,"div"),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Vb(),u.Vb()),2&e){var a=u.lc();u.Db(4),u.Pc(u.nc(5,1,a.errorMessage))}}function ut(e,t){1&e&&(u.Wb(0,"div",26),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"commonSections.messages.requiredMessages.message1")," "))}function dt(e,t){1&e&&(u.Wb(0,"div",26),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"commonSections.messages.patternMessages.message1")," "))}function mt(e,t){if(1&e&&(u.Wb(0,"div",24),u.Mc(1,ut,3,3,"div",25),u.Mc(2,dt,3,3,"div",25),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",a.forgotF.email.errors.required),u.Db(1),u.tc("ngIf",a.forgotF.email.errors.pattern)}}var pt,bt,ft,vt,gt,ht=function(e){return{"form-error":e}},yt=["captcha_version","captcha_api_key"],St=((bt=function(e){s(a,e);var t=c(a);function a(e){var n;return p(this,a),(n=t.call(this)).formBuilder=e,n.constants=h.c,n.submitAttempt=!1,n.isErrorMessage=!1,n.message="",n.errorMessage="",n.allowedCaptcha=!1,n.currentCaptcha=n.captchaVersionConst.default,n}return f(a,[{key:"ngOnInit",value:function(){this.intitForgotForm()}},{key:"checkCaptchaAllowed",value:function(){var e=this;this.subs.sink=this.dataShareService.captchaAllowedRoutes.subscribe(function(t){return Object(g.b)(e,void 0,void 0,regeneratorRuntime.mark(function e(){var a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t?(this.allowedCaptcha=t.indexOf(h.q.FORGOT_PASSWORD)>-1,this.allowedCaptcha&&(yt.forEach(function(e){a.forgotPasswordForm.addControl(e,new b.f("",b.x.required))}),setTimeout(function(){return Object(g.b)(a,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.captchaContainer.generateToken();case 2:t=e.sent,this.utilityService.patchCaptchaValue(this.forgotPasswordForm,t,this.captchaVersionConst.default);case 4:case"end":return e.stop()}},e,this)}))},1e3))):this.allowedCaptcha=!1;case 1:case"end":return e.stop()}},e,this)}))})}},{key:"intitForgotForm",value:function(){this.forgotPasswordForm=this.formBuilder.group({email:["",[b.x.pattern(h.s.email_caps_allowed),b.x.required]],missioncode:[this.sessionService.tenent,b.x.required],countrycode:[this.sessionService.countryCode,b.x.required],url:["".concat(y.a.activateLink).concat(this.sessionService.countryCode,"/").concat(this.sessionService.appLanguageCode,"/").concat(this.sessionService.tenent,"/resetpassword?q=")]})}},{key:"forgotF",get:function(){var e;return null===(e=this.forgotPasswordForm)||void 0===e?void 0:e.controls}},{key:"submitV2Captcha",value:function(e){this.utilityService.patchCaptchaValue(this.forgotPasswordForm,e,this.captchaVersionConst.alternate)}},{key:"onSubmit",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.submitAttempt=!0,!this.forgotPasswordForm.invalid){e.next=3;break}return e.abrupt("return");case 3:return(t=this.forgotPasswordForm.value).cultureCode=this.sessionService.appCultureCode,e.next=7,this.httpService.payloadWithoutTokenPost(h.c.api.forgotPassword,t).toPromise();case 7:a=e.sent,this.message="",this.errorMessage="",this.isErrorMessage=!1,"200"===a.code?(this.message=this.commonService.translateValue("commonSections.messages.statusMessages.418"),setTimeout(function(){n.message=""},5e3)):"419"===a.error.code?(this.errorDescription=a.error.description.split(","),this.isErrorMessage=!0,setTimeout(function(){n.isErrorMessage=!1},5e3)):a.error&&"419"!==a.error.code&&(this.errorMessage=this.commonService.translateValue("commonSections.messages.statusMessages."+a.error.code),setTimeout(function(){n.errorMessage=""},5e3)),e.next=16;break;case 11:if(e.prev=11,e.t0=e.catch(0),this.allowedCaptcha){e.next=15;break}return e.abrupt("return");case 15:this.allowedCaptcha&&this.sessionService.captchaMode===this.captchaVersionConst.alternate&&(this.currentCaptcha=this.captchaVersionConst.alternate,this.utilityService.formcontrolReset(this.forgotPasswordForm,yt),this.utilityService.resetCaptcha());case 16:case"end":return e.stop()}},e,this,[[0,11]])}))}},{key:"routeToSignUp",value:function(){this.commonService.routeToOnBoarding()}}]),a}(S.a)).\u0275fac=function(e){return new(e||bt)(u.Qb(b.e))},bt.\u0275cmp=u.Kb({type:bt,selectors:[["app-forgot-password"]],viewQuery:function(e,t){var a;1&e&&u.Uc(rt,1),2&e&&u.Ac(a=u.ic())&&(t.captchaContainer=a.first)},features:[u.Ab],decls:32,vars:26,consts:[[1,"container","py-15","py-md-30"],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-9","col-lg-7","col-xl-6"],[1,"form-card","px-md-50","py-md-40"],[1,"d-none","d-block"],[1,"fs-21","fs-sm-24","mb-10"],[1,"c-brand-grey-para","fs-sm-18","mb-25"],["class","border-info","style","border-left: 5px solid",4,"ngIf"],["class","border-danger","style","border-left: 5px solid",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],[1,"c-brand-error"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["matInput","","formControlName","email","type","text","autocomplete","off",3,"placeholder"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange"],[1,"fs-sm-18","mt-20"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer",3,"click"],[1,"border-info",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-check-circle-o","fs-24","position-absolute","left-15","top-18","mb-0"],[1,"border-danger",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-chdangereck-circle-o","fs-24","position-absolute","left-15","top-18","mb-0"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"]],template:function(e,t){1&e&&(u.Wb(0,"section",0),u.Wb(1,"div",1),u.Wb(2,"div",2),u.Wb(3,"mat-card",3),u.Wb(4,"div",4),u.Wb(5,"h1",5),u.Oc(6),u.mc(7,"translate"),u.Vb(),u.Wb(8,"p",6),u.Oc(9),u.mc(10,"translate"),u.Vb(),u.Mc(11,ot,6,3,"div",7),u.Mc(12,lt,6,7,"div",8),u.Mc(13,ct,6,3,"div",8),u.Wb(14,"form",9),u.hc("ngSubmit",function(){return t.onSubmit()}),u.Wb(15,"div",10),u.Wb(16,"div"),u.Oc(17),u.mc(18,"translate"),u.Wb(19,"span",11),u.Oc(20,"*"),u.Vb(),u.Vb(),u.Mc(21,mt,3,2,"div",12),u.Wb(22,"mat-form-field",13),u.Rb(23,"input",14),u.mc(24,"translate"),u.Vb(),u.Vb(),u.Wb(25,"button",15),u.Oc(26),u.mc(27,"translate"),u.Vb(),u.Wb(28,"div",16),u.Wb(29,"a",17),u.hc("click",function(){return t.routeToSignUp()}),u.Oc(30),u.mc(31,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.Db(6),u.Pc(u.nc(7,12,"forogotpassword.headerLabel.label1")),u.Db(3),u.Pc(u.nc(10,14,"forogotpassword.pageDetails.para1")),u.Db(2),u.tc("ngIf",t.message),u.Db(1),u.tc("ngIf",t.isErrorMessage),u.Db(1),u.tc("ngIf",t.errorMessage),u.Db(1),u.tc("formGroup",t.forgotPasswordForm),u.Db(1),u.tc("ngClass",u.xc(24,ht,t.forgotF.email.touched&&t.forgotF.email.invalid)),u.Db(2),u.Pc(u.nc(18,16,"forogotpassword.formLabel.label1")),u.Db(4),u.tc("ngIf",t.forgotF.email.touched&&t.forgotF.email.errors),u.Db(2),u.uc("placeholder",u.nc(24,18,"commonSections.formLabel.label2")),u.Db(3),u.Qc(" ",u.nc(27,20,"forogotpassword.buttons.button1")," "),u.Db(4),u.Pc(u.nc(31,22,"forogotpassword.buttons.button2")))},directives:[C.a,D.o,b.y,b.r,b.j,D.m,V.b,k.b,b.d,b.q,b.h,O.a],pipes:[I.d],encapsulation:2}),bt),Ct=((pt=function(e){s(a,e);var t=c(a);function a(e){var n;return p(this,a),(n=t.call(this)).activatedRoute=e,n}return f(a,[{key:"ngOnInit",value:function(){this.activateEmail(this.activatedRoute.params._value,this.activatedRoute.queryParams._value.q)}},{key:"activateEmail",value:function(e,t){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function a(){var n,i;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n={missioncode:e.mission,countrycode:e.countrycode,token:t},a.next=3,this.httpService.payloadPost(h.c.api.activateEmail,n).toPromise().then(function(e){return e}).catch(function(e){return e});case 3:(i=a.sent)&&(this.sessionService.activateMessage=i.message?i.message:i.error.description,this.router.navigateByUrl("".concat(e.countrycode,"/").concat(this.sessionService.appLanguageCode,"/").concat(e.mission,"/").concat(h.q.LOGIN)));case 5:case"end":return a.stop()}},a,this)}))}}]),a}(S.a)).\u0275fac=function(e){return new(e||pt)(u.Qb(v.a))},pt.\u0275cmp=u.Kb({type:pt,selectors:[["app-activate-email"]],features:[u.Ab],decls:0,vars:0,template:function(e,t){},encapsulation:2}),pt),Dt=i("psYf"),It=((vt=function(){function e(t,a){p(this,e),this.sessionService=t,this.commonService=a}return f(e,[{key:"canActivate",value:function(){var e=this.sessionService.loginStatus&&this.sessionService.containsAppSchema;return e||this.commonService.routeToLogin(),e}}]),e}()).\u0275fac=function(e){return new(e||vt)(u.dc(fe.a),u.dc(Dt.a))},vt.\u0275prov=u.Mb({token:vt,factory:vt.\u0275fac,providedIn:"root"}),vt),Vt=((ft=function(){function e(t,a){p(this,e),this.sessionService=t,this.commonService=a}return f(e,[{key:"canActivate",value:function(){return this.sessionService.loginStatus&&this.sessionService.containsAppSchema?(this.commonService.routeToDashboard(),!1):(this.sessionService.clearSession(),!0)}}]),e}()).\u0275fac=function(e){return new(e||ft)(u.dc(fe.a),u.dc(Dt.a))},ft.\u0275prov=u.Mb({token:ft,factory:ft.\u0275fac,providedIn:"root"}),ft),kt=i("KD1d"),At=i("cp0P"),Ot=i("wd/R"),Tt=i.n(Ot),Lt=i("1kSV"),wt=i("d3UM"),Nt=((gt=function(){function e(t){p(this,e),this.ngcontrol=t,this.options=[],this.valueKey=""}return f(e,[{key:"ngOnChanges",value:function(){var e,t;try{var a=null===(e=this.ngcontrol)||void 0===e?void 0:e.control;a&&1===(null===(t=this.options)||void 0===t?void 0:t.length)&&this.valueKey&&null==(null==a?void 0:a.value)&&(a.setValue(this.options[0][this.valueKey]),a.updateValueAndValidity())}catch(n){console.log(n)}}}]),e}()).\u0275fac=function(e){return new(e||gt)(u.Qb(b.p))},gt.\u0275dir=u.Lb({type:gt,selectors:[["","appDefaultSelect",""]],inputs:{options:"options",valueKey:"valueKey"},features:[u.Bb]}),gt),xt=i("gfTr"),Mt=i("Qu3c"),Et=i("FKr1"),Wt=i("suCx"),Pt=["captchaContainer"];function Ft(e,t){if(1&e&&(u.Wb(0,"div",21),u.Wb(1,"span",22),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Wb(4,"a",23),u.Wb(5,"span",24),u.Oc(6),u.mc(7,"translate"),u.Vb(),u.Vb(),u.Wb(8,"span",22),u.Oc(9),u.mc(10,"translate"),u.Vb(),u.Wb(11,"a",23),u.Wb(12,"span",24),u.Oc(13),u.mc(14,"translate"),u.Vb(),u.Vb(),u.Vb()),2&e){var a=u.lc();u.Db(2),u.Pc(u.nc(3,6,"eligibilityCriteria.pageDetails.para3")),u.Db(2),u.tc("href",a.attendCenter,u.Hc),u.Db(2),u.Pc(u.nc(7,8,"eligibilityCriteria.pageDetails.para4")),u.Db(3),u.Qc(" ",u.nc(10,10,"eligibilityCriteria.pageDetails.para5"),""),u.Db(2),u.tc("href",a.appointmentCategory,u.Hc),u.Db(2),u.Pc(u.nc(14,12,"eligibilityCriteria.pageDetails.para6"))}}function _t(e,t){if(1&e){var a=u.Xb();u.Wb(0,"div",35),u.Wb(1,"div",36),u.Wb(2,"div",37),u.Oc(3,"\u2713"),u.Vb(),u.Oc(4),u.Vb(),u.Wb(5,"div",38),u.hc("click",function(){return u.Fc(a),(0,u.lc().openFileSelector)()}),u.Oc(6),u.mc(7,"translate"),u.Vb(),u.Vb()}if(2&e){var n=t.$implicit;u.Db(4),u.Qc(" ",n.relativePath," "),u.Db(2),u.Qc(" ",u.nc(7,2,"eligibilityCriteria.buttons.button3")," ")}}function Rt(e,t){if(1&e&&(u.Wb(0,"div",28),u.Wb(1,"div",29),u.Wb(2,"h5",30),u.Wb(3,"span"),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Wb(6,"span",31),u.Oc(7," *"),u.Vb(),u.Vb(),u.Wb(8,"div",32),u.Wb(9,"button",33),u.hc("click",function(){return(0,t.openFileSelector)()}),u.Oc(10),u.mc(11,"translate"),u.Vb(),u.Vb(),u.Mc(12,_t,8,4,"div",34),u.Vb(),u.Vb()),2&e){var a=u.lc(2);u.Db(4),u.Pc(u.nc(5,3,"eligibilityCriteria.placeholder.label10")),u.Db(6),u.Qc(" ",u.nc(11,5,"eligibilityCriteria.buttons.button2")," "),u.Db(2),u.tc("ngForOf",a.files)}}function Gt(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"div",39),u.Wb(2,"div",40),u.Oc(3),u.Vb(),u.Vb(),u.Tb()),2&e){var a=u.lc(2);u.Db(3),u.Qc(" ",a.dragFleError," ")}}function Ut(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Wb(1,"div",25),u.Wb(2,"ngx-file-drop",26),u.hc("onFileDrop",function(e){return u.Fc(a),u.lc().dropped(e)}),u.Mc(3,Rt,13,7,"ng-template",27),u.Vb(),u.Vb(),u.Mc(4,Gt,4,1,"ng-container",7),u.Tb()}if(2&e){var n=u.lc();u.Db(2),u.tc("multiple",!1),u.Db(2),u.tc("ngIf",n.dragFleError)}}function Bt(e,t){1&e&&(u.Ub(0),u.Rb(1,"i",41,42),u.mc(3,"translate"),u.Tb()),2&e&&(u.Db(1),u.uc("matTooltip",u.nc(3,1,"eligibilityCriteria.formLabel.tooltip1")))}function jt(e,t){if(1&e&&(u.Wb(0,"h6",43),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e){var a=u.lc();u.Db(1),u.Rc(" ",null==a.vacCenters?null:a.vacCenters.length," ",u.nc(2,2,"eligibilityCriteria.formLabel.label17")," ")}}function Yt(e,t){1&e&&(u.Wb(0,"div",40),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"eligibilityCriteria.messages.errorMessages.message1")," "))}function Qt(e,t){if(1&e&&(u.Wb(0,"div",39),u.Mc(1,Yt,3,3,"div",44),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.centerCode||null==a.formGroup.controls.centerCode.errors?null:a.formGroup.controls.centerCode.errors.required)}}function qt(e,t){if(1&e&&(u.Wb(0,"mat-option",45),u.Oc(1),u.Vb()),2&e){var a=t.$implicit;u.tc("value",a.isoCode),u.Db(1),u.Qc(" ",null==a?null:a.centerName," ")}}function Ht(e,t){1&e&&(u.Ub(0),u.Rb(1,"i",41,42),u.mc(3,"translate"),u.Tb()),2&e&&(u.Db(1),u.uc("matTooltip",u.nc(3,1,"eligibilityCriteria.formLabel.tooltip2")))}function Kt(e,t){1&e&&(u.Wb(0,"div",40),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"eligibilityCriteria.messages.errorMessages.message9")," "))}function zt(e,t){if(1&e&&(u.Wb(0,"div",39),u.Mc(1,Kt,3,3,"div",44),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",a.formGroup.controls.serviceType.errors.required)}}function $t(e,t){if(1&e&&(u.Wb(0,"mat-option",45),u.Oc(1),u.Vb()),2&e){var a=t.$implicit;u.tc("value",a.code),u.Db(1),u.Qc(" ",null==a?null:a.name," ")}}var Zt=function(e){return{"form-error":e}};function Jt(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Wb(1,"div",8),u.Wb(2,"div"),u.Oc(3),u.mc(4,"translate"),u.Wb(5,"span",10),u.Oc(6,"*"),u.Vb(),u.Mc(7,Ht,4,3,"ng-container",7),u.Vb(),u.Mc(8,zt,2,1,"div",12),u.Wb(9,"mat-form-field",13),u.Wb(10,"mat-select",46),u.hc("ngModelChange",function(e){return u.Fc(a),u.lc().onServiceTypeSelection(e)}),u.mc(11,"translate"),u.Mc(12,$t,2,2,"mat-option",15),u.mc(13,"sortBy"),u.Vb(),u.Vb(),u.Vb(),u.Rb(14,"hr"),u.Tb()}if(2&e){var n=u.lc();u.Db(1),u.tc("ngClass",u.xc(16,Zt,(null==n.formGroup||null==n.formGroup.controls||null==n.formGroup.controls.serviceType?null:n.formGroup.controls.serviceType.touched)&&(null==n.formGroup||null==n.formGroup.controls||null==n.formGroup.controls.serviceType?null:n.formGroup.controls.serviceType.invalid))),u.Db(2),u.Qc(" ",u.nc(4,9,"eligibilityCriteria.formLabel.label18"),""),u.Db(4),u.tc("ngIf",n.hasTranslation("eligibilityCriteria.formLabel.tooltip2")),u.Db(1),u.tc("ngIf",n.formGroup.controls.serviceType.touched&&n.formGroup.controls.serviceType.errors),u.Db(2),u.uc("placeholder",u.nc(11,11,"eligibilityCriteria.placeholder.label9")),u.tc("options",n.serviceTypes)("valueKey","code"),u.Db(2),u.tc("ngForOf",u.oc(13,13,n.serviceTypes,"name"))("ngForTrackBy",n.trackByFn)}}function Xt(e,t){1&e&&(u.Ub(0),u.Rb(1,"i",41,42),u.mc(3,"translate"),u.Tb()),2&e&&(u.Db(1),u.uc("matTooltip",u.nc(3,1,"eligibilityCriteria.formLabel.tooltip3")))}function ea(e,t){1&e&&(u.Wb(0,"div",40),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"eligibilityCriteria.messages.errorMessages.message4")," "))}function ta(e,t){if(1&e&&(u.Wb(0,"div",39),u.Mc(1,ea,3,3,"div",44),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.nationalityCode||null==a.formGroup.controls.nationalityCode.errors?null:a.formGroup.controls.nationalityCode.errors.required)}}function aa(e,t){if(1&e&&(u.Wb(0,"mat-option",45),u.Oc(1),u.Vb()),2&e){var a=t.$implicit;u.tc("value",a.isoCode),u.Db(1),u.Qc(" ",null==a?null:a.nationalityName," ")}}function na(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Wb(1,"div",8),u.Wb(2,"div"),u.Oc(3),u.mc(4,"translate"),u.Wb(5,"span",10),u.Oc(6,"*"),u.Vb(),u.Mc(7,Xt,4,3,"ng-container",7),u.Vb(),u.Mc(8,ta,2,1,"div",12),u.Wb(9,"mat-form-field",13),u.Wb(10,"mat-select",47),u.hc("ngModelChange",function(e){return u.Fc(a),u.lc().onNationalityChange(e)}),u.mc(11,"translate"),u.Mc(12,aa,2,2,"mat-option",15),u.mc(13,"sortBy"),u.Vb(),u.Vb(),u.Vb(),u.Rb(14,"hr"),u.Tb()}if(2&e){var n=u.lc();u.Db(1),u.tc("ngClass",u.xc(16,Zt,(null==n.formGroup||null==n.formGroup.controls||null==n.formGroup.controls.nationalityCode?null:n.formGroup.controls.nationalityCode.touched)&&(null==n.formGroup||null==n.formGroup.controls||null==n.formGroup.controls.nationalityCode?null:n.formGroup.controls.nationalityCode.invalid))),u.Db(2),u.Qc(" ",u.nc(4,9,"eligibilityCriteria.formLabel.label8"),""),u.Db(4),u.tc("ngIf",n.hasTranslation("eligibilityCriteria.formLabel.tooltip3")),u.Db(1),u.tc("ngIf",(null==n.formGroup||null==n.formGroup.controls||null==n.formGroup.controls.nationalityCode?null:n.formGroup.controls.nationalityCode.touched)&&(null==n.formGroup||null==n.formGroup.controls||null==n.formGroup.controls.nationalityCode?null:n.formGroup.controls.nationalityCode.errors)),u.Db(2),u.uc("placeholder",u.nc(11,11,"eligibilityCriteria.placeholder.label4")),u.tc("options",n.nationalityList)("valueKey","isoCode"),u.Db(2),u.tc("ngForOf",u.oc(13,13,n.nationalityList,"nationalityName"))("ngForTrackBy",n.trackByFn)}}function ia(e,t){1&e&&(u.Ub(0),u.Rb(1,"i",41,42),u.mc(3,"translate"),u.Tb()),2&e&&(u.Db(1),u.uc("matTooltip",u.nc(3,1,"eligibilityCriteria.formLabel.tooltip4")))}function ra(e,t){1&e&&(u.Wb(0,"div",40),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"eligibilityCriteria.messages.errorMessages.message2")," "))}function oa(e,t){if(1&e&&(u.Wb(0,"div",39),u.Mc(1,ra,3,3,"div",44),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.selectedSubvisaCategory||null==a.formGroup.controls.selectedSubvisaCategory.errors?null:a.formGroup.controls.selectedSubvisaCategory.errors.required)}}function sa(e,t){if(1&e&&(u.Wb(0,"mat-option",45),u.Oc(1),u.Vb()),2&e){var a=t.$implicit;u.tc("value",a.code),u.Db(1),u.Qc(" ",null==a?null:a.name," ")}}function la(e,t){1&e&&(u.Ub(0),u.Rb(1,"i",41,42),u.mc(3,"translate"),u.Tb()),2&e&&(u.Db(1),u.uc("matTooltip",u.nc(3,1,"eligibilityCriteria.formLabel.tooltip5")))}function ca(e,t){1&e&&(u.Wb(0,"div",40),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"eligibilityCriteria.messages.errorMessages.message3")," "))}function ua(e,t){if(1&e&&(u.Wb(0,"div",39),u.Mc(1,ca,3,3,"div",44),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.visaCategoryCode||null==a.formGroup.controls.visaCategoryCode.errors?null:a.formGroup.controls.visaCategoryCode.errors.required)}}function da(e,t){if(1&e&&(u.Wb(0,"mat-option",45),u.Oc(1),u.Vb()),2&e){var a=t.$implicit;u.tc("value",a.code),u.Db(1),u.Qc(" ",null==a?null:a.name," ")}}function ma(e,t){1&e&&(u.Ub(0),u.Rb(1,"i",41,42),u.mc(3,"translate"),u.Tb()),2&e&&(u.Db(1),u.uc("matTooltip",u.nc(3,1,"eligibilityCriteria.formLabel.tooltip6")))}function pa(e,t){1&e&&(u.Wb(0,"div",40),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"eligibilityCriteria.messages.errorMessages.message5")," "))}function ba(e,t){if(1&e&&(u.Wb(0,"div",39),u.Mc(1,pa,3,3,"div",44),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",null==a.formGroup.controls.entryType||null==a.formGroup.controls.entryType.errors?null:a.formGroup.controls.entryType.errors.required)}}function fa(e,t){if(1&e&&(u.Wb(0,"mat-option",45),u.Oc(1),u.Vb()),2&e){var a=t.$implicit;u.tc("value",a.code),u.Db(1),u.Qc(" ",null==a?null:a.name," ")}}function va(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"div",8),u.Wb(2,"div"),u.Oc(3),u.mc(4,"translate"),u.Wb(5,"span",10),u.Oc(6,"*"),u.Vb(),u.Mc(7,ma,4,3,"ng-container",7),u.Vb(),u.Mc(8,ba,2,1,"div",12),u.Wb(9,"mat-form-field",13),u.Wb(10,"mat-select",48),u.mc(11,"translate"),u.Mc(12,fa,2,2,"mat-option",15),u.mc(13,"sortBy"),u.Vb(),u.Vb(),u.Vb(),u.Rb(14,"hr"),u.Tb()),2&e){var a=u.lc();u.Db(1),u.tc("ngClass",u.xc(16,Zt,(null==a.formGroup.controls||null==a.formGroup.controls.entryType?null:a.formGroup.controls.entryType.touched)&&(null==a.formGroup.controls||null==a.formGroup.controls.entryType?null:a.formGroup.controls.entryType.invalid))),u.Db(2),u.Qc(" ",u.nc(4,9,"eligibilityCriteria.formLabel.label9"),""),u.Db(4),u.tc("ngIf",a.hasTranslation("eligibilityCriteria.formLabel.tooltip6")),u.Db(1),u.tc("ngIf",(null==a.formGroup.controls.entryType?null:a.formGroup.controls.entryType.touched)&&(null==a.formGroup.controls.entryType?null:a.formGroup.controls.entryType.errors)),u.Db(2),u.uc("placeholder",u.nc(11,11,"eligibilityCriteria.placeholder.label5")),u.tc("options",a.entryTypeList)("valueKey","code"),u.Db(2),u.tc("ngForOf",u.oc(13,13,a.entryTypeList,"name"))("ngForTrackBy",a.trackByFn)}}function ga(e,t){1&e&&(u.Ub(0),u.Rb(1,"i",41,42),u.mc(3,"translate"),u.Tb()),2&e&&(u.Db(1),u.uc("matTooltip",u.nc(3,1,"eligibilityCriteria.formLabel.tooltip7")))}function ha(e,t){1&e&&(u.Wb(0,"div",40),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"eligibilityCriteria.messages.errorMessages.message6")," "))}function ya(e,t){if(1&e&&(u.Wb(0,"div",39),u.Mc(1,ha,3,3,"div",44),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",null==a.formGroup.controls.visaType||null==a.formGroup.controls.visaType.errors?null:a.formGroup.controls.visaType.errors.required)}}function Sa(e,t){if(1&e&&(u.Wb(0,"mat-option",45),u.Oc(1),u.Vb()),2&e){var a=t.$implicit;u.tc("value",a.code),u.Db(1),u.Qc(" ",null==a?null:a.name," ")}}function Ca(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"div",8),u.Wb(2,"div"),u.Oc(3),u.mc(4,"translate"),u.Wb(5,"span",10),u.Oc(6,"*"),u.Vb(),u.Mc(7,ga,4,3,"ng-container",7),u.Vb(),u.Mc(8,ya,2,1,"div",12),u.Wb(9,"mat-form-field",13),u.Wb(10,"mat-select",49),u.mc(11,"translate"),u.Mc(12,Sa,2,2,"mat-option",15),u.mc(13,"sortBy"),u.Vb(),u.Vb(),u.Vb(),u.Rb(14,"hr"),u.Tb()),2&e){var a=u.lc();u.Db(1),u.tc("ngClass",u.xc(16,Zt,(null==a.formGroup.controls||null==a.formGroup.controls.visaType?null:a.formGroup.controls.visaType.touched)&&(null==a.formGroup.controls||null==a.formGroup.controls.visaType?null:a.formGroup.controls.visaType.invalid))),u.Db(2),u.Qc(" ",u.nc(4,9,"eligibilityCriteria.formLabel.label10"),""),u.Db(4),u.tc("ngIf",a.hasTranslation("eligibilityCriteria.formLabel.tooltip7")),u.Db(1),u.tc("ngIf",(null==a.formGroup.controls.visaType?null:a.formGroup.controls.visaType.touched)&&(null==a.formGroup.controls.visaType?null:a.formGroup.controls.visaType.errors)),u.Db(2),u.uc("placeholder",u.nc(11,11,"eligibilityCriteria.placeholder.label6")),u.tc("options",a.eoiVisaTypeList)("valueKey","code"),u.Db(2),u.tc("ngForOf",u.oc(13,13,a.eoiVisaTypeList,"name"))("ngForTrackBy",a.trackByFn)}}function Da(e,t){1&e&&(u.Ub(0),u.Rb(1,"i",41,42),u.mc(3,"translate"),u.Tb()),2&e&&(u.Db(1),u.uc("matTooltip",u.nc(3,1,"eligibilityCriteria.formLabel.tooltip8")))}function Ia(e,t){1&e&&(u.Wb(0,"div",40),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"eligibilityCriteria.messages.errorMessages.message7")," "))}function Va(e,t){if(1&e&&(u.Wb(0,"div",39),u.Mc(1,Ia,3,3,"div",44),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",null==a.formGroup.controls.applicationType||null==a.formGroup.controls.applicationType.errors?null:a.formGroup.controls.applicationType.errors.required)}}function ka(e,t){if(1&e&&(u.Wb(0,"mat-option",45),u.Oc(1),u.Vb()),2&e){var a=t.$implicit;u.tc("value",a.code),u.Db(1),u.Qc(" ",null==a?null:a.name," ")}}function Aa(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Wb(1,"div",8),u.Wb(2,"div"),u.Oc(3),u.mc(4,"translate"),u.Wb(5,"span",10),u.Oc(6,"*"),u.Vb(),u.Mc(7,Da,4,3,"ng-container",7),u.Vb(),u.Mc(8,Va,2,1,"div",12),u.Wb(9,"mat-form-field",13),u.Wb(10,"mat-select",50),u.hc("ngModelChange",function(e){return u.Fc(a),u.lc().submissionTypeChange(e)}),u.mc(11,"translate"),u.Mc(12,ka,2,2,"mat-option",15),u.mc(13,"sortBy"),u.Vb(),u.Vb(),u.Vb(),u.Rb(14,"hr"),u.Tb()}if(2&e){var n=u.lc();u.Db(1),u.tc("ngClass",u.xc(16,Zt,n.formGroup.controls.applicationType.touched&&n.formGroup.controls.applicationType.invalid)),u.Db(2),u.Qc(" ",u.nc(4,9,"eligibilityCriteria.formLabel.label11"),""),u.Db(4),u.tc("ngIf",n.hasTranslation("eligibilityCriteria.formLabel.tooltip8")),u.Db(1),u.tc("ngIf",n.formGroup.controls.applicationType.touched&&n.formGroup.controls.applicationType.errors),u.Db(2),u.uc("placeholder",u.nc(11,11,"eligibilityCriteria.placeholder.label7")),u.tc("options",n.submissionTypeList)("valueKey","code"),u.Db(2),u.tc("ngForOf",u.oc(13,13,n.submissionTypeList,"name"))("ngForTrackBy",n.trackByFn)}}function Oa(e,t){1&e&&(u.Ub(0),u.Rb(1,"i",41,42),u.mc(3,"translate"),u.Tb()),2&e&&(u.Db(1),u.uc("matTooltip",u.nc(3,1,"eligibilityCriteria.formLabel.tooltip2")))}function Ta(e,t){1&e&&(u.Wb(0,"div",40),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"eligibilityCriteria.messages.errorMessages.message10")," "))}function La(e,t){if(1&e&&(u.Wb(0,"div",39),u.Mc(1,Ta,3,3,"div",44),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",a.formGroup.controls.entryTypes.errors.required)}}function wa(e,t){if(1&e&&(u.Wb(0,"mat-option",45),u.Oc(1),u.Vb()),2&e){var a=t.$implicit;u.tc("value",a.code),u.Db(1),u.Qc(" ",null==a?null:a.name," ")}}function Na(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"div",8),u.Wb(2,"div"),u.Oc(3),u.mc(4,"translate"),u.Wb(5,"span",10),u.Oc(6,"*"),u.Vb(),u.Mc(7,Oa,4,3,"ng-container",7),u.Vb(),u.Mc(8,La,2,1,"div",12),u.Wb(9,"mat-form-field",13),u.Wb(10,"mat-select",51),u.mc(11,"translate"),u.Mc(12,wa,2,2,"mat-option",15),u.mc(13,"sortBy"),u.Vb(),u.Vb(),u.Vb(),u.Rb(14,"hr"),u.Tb()),2&e){var a=u.lc();u.Db(1),u.tc("ngClass",u.xc(16,Zt,(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.entryTypes?null:a.formGroup.controls.entryTypes.touched)&&(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.entryTypes?null:a.formGroup.controls.entryTypes.invalid))),u.Db(2),u.Qc(" ",u.nc(4,9,"eligibilityCriteria.formLabel.label14"),""),u.Db(4),u.tc("ngIf",a.hasTranslation("eligibilityCriteria.formLabel.tooltip2")),u.Db(1),u.tc("ngIf",a.formGroup.controls.entryTypes.touched&&a.formGroup.controls.entryTypes.errors),u.Db(2),u.uc("placeholder",u.nc(11,11,"eligibilityCriteria.placeholder.label9")),u.tc("options",a.entryTypesList)("valueKey","code"),u.Db(2),u.tc("ngForOf",u.oc(13,13,a.entryTypesList,"name"))("ngForTrackBy",a.trackByFn)}}function xa(e,t){1&e&&(u.Ub(0),u.Rb(1,"i",41,42),u.mc(3,"translate"),u.Tb()),2&e&&(u.Db(1),u.uc("matTooltip",u.nc(3,1,"eligibilityCriteria.formLabel.tooltip2")))}function Ma(e,t){1&e&&(u.Wb(0,"div",40),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"eligibilityCriteria.messages.errorMessages.message11")," "))}function Ea(e,t){if(1&e&&(u.Wb(0,"div",39),u.Mc(1,Ma,3,3,"div",44),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",a.formGroup.controls.feeExcemption.errors.required)}}function Wa(e,t){if(1&e&&(u.Wb(0,"mat-option",45),u.Oc(1),u.Vb()),2&e){var a=t.$implicit;u.tc("value",a.code),u.Db(1),u.Qc(" ",null==a?null:a.name," ")}}function Pa(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Wb(1,"div",8),u.Wb(2,"div"),u.Oc(3),u.mc(4,"translate"),u.Wb(5,"span",10),u.Oc(6,"*"),u.Vb(),u.Mc(7,xa,4,3,"ng-container",7),u.Vb(),u.Mc(8,Ea,2,1,"div",12),u.Wb(9,"mat-form-field",13),u.Wb(10,"mat-select",52),u.hc("ngModelChange",function(e){return u.Fc(a),u.lc().onExemptionTypeSelection(e)}),u.mc(11,"translate"),u.Mc(12,Wa,2,2,"mat-option",15),u.mc(13,"sortBy"),u.Vb(),u.Vb(),u.Vb(),u.Rb(14,"hr"),u.Tb()}if(2&e){var n=u.lc();u.Db(1),u.tc("ngClass",u.xc(16,Zt,(null==n.formGroup||null==n.formGroup.controls||null==n.formGroup.controls.feeExcemption?null:n.formGroup.controls.feeExcemption.touched)&&(null==n.formGroup||null==n.formGroup.controls||null==n.formGroup.controls.feeExcemption?null:n.formGroup.controls.feeExcemption.invalid))),u.Db(2),u.Qc(" ",u.nc(4,9,"eligibilityCriteria.formLabel.label21"),""),u.Db(4),u.tc("ngIf",n.hasTranslation("eligibilityCriteria.formLabel.tooltip2")),u.Db(1),u.tc("ngIf",n.formGroup.controls.feeExcemption.touched&&n.formGroup.controls.feeExcemption.errors),u.Db(2),u.uc("placeholder",u.nc(11,11,"eligibilityCriteria.placeholder.label9")),u.tc("options",n.feeExemptionList)("valueKey","code"),u.Db(2),u.tc("ngForOf",u.oc(13,13,n.feeExemptionList,"name"))("ngForTrackBy",n.trackByFn)}}function Fa(e,t){1&e&&(u.Ub(0),u.Rb(1,"i",41,42),u.mc(3,"translate"),u.Tb()),2&e&&(u.Db(1),u.uc("matTooltip",u.nc(3,1,"eligibilityCriteria.formLabel.tooltip2")))}function _a(e,t){1&e&&(u.Wb(0,"div",40),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"eligibilityCriteria.messages.errorMessages.message12")," "))}function Ra(e,t){if(1&e&&(u.Wb(0,"div",39),u.Mc(1,_a,3,3,"div",44),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",a.formGroup.controls.feeExemptionDetails.errors.required)}}function Ga(e,t){if(1&e&&(u.Wb(0,"mat-option",45),u.Oc(1),u.Vb()),2&e){var a=t.$implicit;u.tc("value",a.code),u.Db(1),u.Qc(" ",null==a?null:a.name," ")}}function Ua(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"div",8),u.Wb(2,"div"),u.Oc(3),u.mc(4,"translate"),u.Wb(5,"span",10),u.Oc(6,"*"),u.Vb(),u.Mc(7,Fa,4,3,"ng-container",7),u.Vb(),u.Mc(8,Ra,2,1,"div",12),u.Wb(9,"mat-form-field",13),u.Wb(10,"mat-select",53),u.mc(11,"translate"),u.Mc(12,Ga,2,2,"mat-option",15),u.mc(13,"sortBy"),u.Vb(),u.Vb(),u.Vb(),u.Rb(14,"hr"),u.Tb()),2&e){var a=u.lc();u.Db(1),u.tc("ngClass",u.xc(16,Zt,(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.feeExemptionDetails?null:a.formGroup.controls.feeExemptionDetails.touched)&&(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.feeExemptionDetails?null:a.formGroup.controls.feeExemptionDetails.invalid))),u.Db(2),u.Qc(" ",u.nc(4,9,"eligibilityCriteria.formLabel.label22"),""),u.Db(4),u.tc("ngIf",a.hasTranslation("eligibilityCriteria.formLabel.tooltip2")),u.Db(1),u.tc("ngIf",a.formGroup.controls.feeExemptionDetails.touched&&a.formGroup.controls.feeExemptionDetails.errors),u.Db(2),u.uc("placeholder",u.nc(11,11,"eligibilityCriteria.placeholder.label9")),u.tc("options",a.feeExemptionDetails)("valueKey","code"),u.Db(2),u.tc("ngForOf",u.oc(13,13,a.feeExemptionDetails,"name"))("ngForTrackBy",a.trackByFn)}}function Ba(e,t){1&e&&(u.Wb(0,"div",54),u.Wb(1,"div",55),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()),2&e&&(u.Db(2),u.Qc(" ",u.nc(3,1,"eligibilityCriteria.formLabel.label6")," "))}function ja(e,t){if(1&e&&(u.Wb(0,"div",54),u.Wb(1,"div",55),u.Oc(2),u.mc(3,"translate"),u.mc(4,"date"),u.Vb(),u.Vb()),2&e){var a=u.lc();u.Db(2),u.Rc(" ",u.nc(3,2,"eligibilityCriteria.formLabel.label7")," : ",u.oc(4,4,a.latestAvailableDate,a.dateFormat)," ")}}function Ya(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"div",56),u.Wb(2,"div",57),u.Wb(3,"mat-checkbox",58),u.Wb(4,"span",59),u.Oc(5),u.mc(6,"translate"),u.Vb(),u.Vb(),u.Wb(7,"a",23),u.Wb(8,"span",60),u.Oc(9),u.mc(10,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Tb()),2&e){var a=u.lc();u.Db(5),u.Pc(u.nc(6,3,"eligibilityCriteria.formLabel.label19")),u.Db(2),u.tc("href",a.termCondition,u.Hc),u.Db(2),u.Pc(u.nc(10,5,"eligibilityCriteria.formLabel.label20"))}}var Qa,qa=["captcha_version","captcha_api_key"],Ha=((Qa=function(t){s(n,t);var a=c(n);function n(e,t,i){var r;return p(this,n),(r=a.call(this)).ngbCalendar=e,r.fb=t,r.httpService=i,r.maxCallTime=12,r.files=[],r.environment=y.a,r.nationalityList=[],r.eoiVisaTypeList=[],r.submissionTypeList=[],r.constants=h.c,r.initBaseForm(h.c.modules.ELIGIBILITY_CRITERIA),r.appointmentSlots=!1,r.noSlotCheck=!1,r.serviceTypes=[],r.entryTypeError="",r.entryTypeList=[],r.visaCategories=[],r.vacCenters=[],r.visaTypes=[],r.entryTypesList=[],r.feeExemptionList=[],r.feeExemptionDetails=[],r.isEditMode=!1,r.latestAvailableDate=null,r.signedUrl=[],r.documentextracted=!1,r.dragFleError="",r.waitlistJourney=!1,r.allowedCaptcha=!1,r.currentCaptcha=r.captchaVersionConst.default,r.captchaToken="",r}return f(n,[{key:"ngOnInit",value:function(){try{this.utilityService.fireCustomEvent({dl_category:"form loaded",dl_action:"form loaded - application details",dl_label:void 0,value:void 0}),this.initFormGroup(),this.initApplication(),this.removeTmiModule()}catch(e){this.logger.error(e)}}},{key:"showExtractionField",get:function(){return!1}},{key:"checkCaptchaAllowed",value:function(){var e=this;this.subs.sink=this.dataShareService.captchaAllowedRoutes.subscribe(function(t){return Object(g.b)(e,void 0,void 0,regeneratorRuntime.mark(function e(){var a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t?(this.allowedCaptcha=t.indexOf(h.q.ELIGIBILITY_CRITERIA)>-1,this.allowedCaptcha&&(qa.forEach(function(e){a.formGroup.addControl(e,new b.f("",b.x.required))}),setTimeout(function(){return Object(g.b)(a,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.captchaContainer.generateToken();case 2:t=e.sent,this.utilityService.patchCaptchaValue(this.formGroup,t,this.captchaVersionConst.default);case 4:case"end":return e.stop()}},e,this)}))},1e3))):this.allowedCaptcha=!1;case 1:case"end":return e.stop()}},e,this)}))})}},{key:"generateSignedUrl",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.httpService.externalGet(preSignedUrl).toPromise().then(function(e){return e}).catch(function(e){return e});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}))}},{key:"isPtFlow",get:function(){var e;return this.utilityService.strictCompare(null===(e=this.sessionService.resourceGroupData)||void 0===e?void 0:e.isloginConcentRequired,"true")}},{key:"urlGeneration",value:function(t){var a=this;if(!(t.length>1))return this.dragFleError="",new Promise(function(n,i){var r=[];t.forEach(function(){r.push(a.generateSignedUrl())}),a.subs.sink=Object(At.a)(r).subscribe(function(t){var i;a.signedUrl=(i=[]).concat.apply(i,e(t)),n(!0)})});this.dragFleError="Only one file at time allow"}},{key:"dropped",value:function(e){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.urlGeneration(e);case 2:this.sessionService.clearDocumentExtration(),this.files=e,this.maxCallTime=4,e.forEach(function(e,t){e.fileEntry.isFile&&e.fileEntry.file(function(e){return Object(g.b)(a,void 0,void 0,regeneratorRuntime.mark(function a(){var n=this;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.httpService.doPut(this.signedUrl[t].uploadUrl,e).toPromise();case 2:this.utilityService.startNgxUiSpinner(),setTimeout(function(){n.checkForResult(t)},1e4);case 4:case"end":return a.stop()}},a,this)}))})});case 6:case"end":return t.stop()}},t,this)}))}},{key:"checkForResult",value:function(e){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a,n,i,r,o=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.maxCallTime--,t.next=4,this.httpService.externalGet(this.signedUrl[e].resultUrl).toPromise();case 4:if(!(a=t.sent)){t.next=24;break}return clearTimeout(this.timeout),this.documentextracted=!0,n=Tt()(a.expirationDate).format("DD-MM-yyyy"),i=Tt()(a.dateOfBirth).format("DD-MM-yyyy").split("-"),r=n.split("-"),a.firstName=a.givenname,a.lastName=a.surname,a.emailId=a.emailAddress,a.dialCode=a.phoneNumber.substr(0,1),a.contactNumber=a.phoneNumber.substr(1),a.referenceNumber=a.visaNumber.substr(4),a.gender="MALE"===a.gender?1:"FEMALE"===a.gender?2:3,a.passportExpirtyDate={year:Number(r[2]),month:Number(r[1]),day:Number(r[0])},a.dateOfBirth={year:Number(i[2]),month:Number(i[1]),day:Number(i[0])},a.centerCode=a.visaNumber.substr(0,4),t.next=20,this.commonService.filterNationalityByName(a.nationality);case 20:a.nationalityCode=t.sent,this.formGroup.patchValue(a),this.utilityService.stopNgxUiSpinner(),this.sessionService.documentExtractionData=this.sessionService.documentExtractionData.concat(a);case 24:t.next=29;break;case 26:t.prev=26,t.t0=t.catch(0),!this.documentextracted&&this.maxCallTime?this.timeout=setTimeout(function(){o.checkForResult(e)},1e4):this.utilityService.stopNgxUiSpinner();case 29:case"end":return t.stop()}},t,this,[[0,26]])}))}},{key:"initApplication",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.sessionService.applicationConfiguration?this.sessionService.applicationConfiguration:{},!(a=this.sessionService.eligibilityDetails)){e.next=14;break}return e.next=5,this.addFieldWithValue(t);case 5:return this.appConfiguration=t,e.next=8,this.loadVacCodes();case 8:return this.checkForEditMode().then(function(e){return n.onEditMode(e)}),e.next=11,this.loadVacCodes();case 11:this.formGroup.patchValue(a),e.next=15;break;case 14:this.loadVacCodes();case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),this.logger.error(e.t0);case 20:case"end":return e.stop()}},e,this,[[0,17]])}))}},{key:"setWaitlistMode",value:function(){var e=this,t=this.sessionService.eligibilityDetails;(null==t?void 0:t.agreeToWaitlist)&&(this.waitlistJourney=!0,this.formGroup.controls.agreeToWaitlist.setValue(!0),this.checkForEditMode().then(function(t){return e.onEditMode(t)}))}},{key:"addFieldWithValue",value:function(e){var t=this;return new Promise(function(a,n){return Object(g.b)(t,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null==e?void 0:e.enableNationalityFilterForVisaCategory,!t.t0){t.next=6;break}return t.next=4,this.commonService.loadNationality();case 4:this.nationalityList=t.sent,this.formGroup.addControl("nationalityCode",new b.f(null,b.x.required));case 6:if(t.t1=null==e?void 0:e.enableServiceType,!t.t1){t.next=12;break}return t.next=10,this.commonService.loadServiceType();case 10:this.serviceTypes=t.sent,this.formGroup.addControl("serviceType",new b.f(null,b.x.required));case 12:if(t.t2=null==e?void 0:e.enableEntryType,!t.t2){t.next=17;break}return t.next=16,this.loadEntryType();case 16:this.formGroup.addControl("entryType",new b.f(null,b.x.required));case 17:if(t.t3=(null==e?void 0:e.enableVisaType)&&(null==e?void 0:e.enableServiceType),!t.t3){t.next=22;break}return t.next=21,this.loadEOIVisaType();case 21:this.formGroup.addControl("visaType",new b.f(null,b.x.required));case 22:if(t.t4=null==e?void 0:e.enableApplicationType,!t.t4){t.next=28;break}return t.next=26,this.commonService.loadSubmissionType();case 26:this.submissionTypeList=t.sent,this.formGroup.addControl("applicationType",new b.f(null,b.x.required));case 28:if(t.t5=null==e?void 0:e.enableFeeExemption,!t.t5){t.next=42;break}return t.next=32,this.commonService.loadFeeEntryType();case 32:return this.entryTypesList=t.sent,this.formGroup.addControl("entryTypes",new b.f(null,b.x.required)),t.next=36,this.commonService.loadFeeExcemptionType();case 36:return this.feeExemptionList=t.sent,this.formGroup.addControl("feeExcemption",new b.f(null,b.x.required)),t.next=40,this.commonService.loadFeeExcemptionDetails();case 40:this.feeExemptionDetails=t.sent,this.formGroup.addControl("feeExemptionDetails",new b.f(null,b.x.required));case 42:a(!0);case 43:case"end":return t.stop()}},t,this)}))})}},{key:"initFormGroup",value:function(){this.formGroup=this.fb.group({centerCode:[null,b.x.required],selectedSubvisaCategory:[null,b.x.required],visaCategoryCode:[null,b.x.required]})}},{key:"submitV2Captcha",value:function(e){this.utilityService.patchCaptchaValue(this.formGroup,e,this.captchaVersionConst.alternate)}},{key:"checkSlotAvailability",value:function(){var e,t;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function a(){var n,i,r;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,this.appointmentSlots=!1,n={applicantsCount:1,slotType:2,days:y.a.slotDaysEnabled,centerCode:null===(e=this.formGroup.get("centerCode"))||void 0===e?void 0:e.value,visaCategoryCode:null===(t=this.formGroup.get("visaCategoryCode"))||void 0===t?void 0:t.value,fromDate:this.commonService.formatDateDMY(this.utilityService.momentInstance().add(1,"days").format("YYYY-MM-DD")),toDate:this.commonService.formatDateDMY(this.utilityService.momentInstance().add(y.a.slotDaysEnabled+1,"days").format("YYYY-MM-DD"))},a.next=5,this.commonService.loadAppointmentSlots(n);case 5:(i=a.sent)&&i.length>0&&(this.appointmentSlots=!0,this.latestAvailableDate=i[0].date?this.utilityService.momentInstance(i[0].date,"MM/DD/YYYY").format("DD/MM/YYYY"):null,this.sessionService.latestSlotAvailiable=this.latestAvailableDate||"",this.latestAvailableDate)&&(r=Tt()(this.latestAvailableDate,"DD/MM/YYYY"),this.latestAvailableDate=r.toDate()),a.next=12;break;case 9:throw a.prev=9,a.t0=a.catch(0),new Error("".concat(h.d.INVALID_REGISTRATION_RESPONSE,": ").concat(a.t0));case 12:case"end":return a.stop()}},a,this,[[0,9]])}))}},{key:"loadVacCodes",value:function(){var e;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.vacCenters=[],this.visaTypes=[],this.visaCategories=[],t.next=4,this.commonService.getVacCenters(null===(e=this.sessionService)||void 0===e?void 0:e.appCultureCode);case 4:return a=t.sent,t.abrupt("return",(a&&(this.vacCenters=a),!0));case 8:t.prev=8,t.t0=t.catch(0),this.logger.error(t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])}))}},{key:"onServiceTypeSelection",value:function(e){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.visaTypes=[],this.visaCategories=[],this.entryTypeList=[],this.eoiVisaTypeList=[],this.nationalityList=[],a=["selectedSubvisaCategory","visaCategoryCode","entryType","visaType","nationalityCode"],!0===this.waitlistJourney&&(a.push("agreeToWaitlist"),this.waitlistJourney=!1),this.utilityService.formcontrolReset(this.formGroup,a),this.loadNationality(e),this.loadVisaType(this.formGroup.value.centerCode);case 3:case"end":return t.stop()}},t,this)}))}},{key:"onCenterCodeChange",value:function(e){var t;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function a(){var n;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return this.utilityService.startNgxUiSpinner(),this.sessionService.eligibilityDetails||this.utilityService.pushDataLayerGA({dl_event:"appointment_details",dl_category:"Appointment Details",dl_action:"Choose Visa Application Centre",dl_label:"page_url"}),this.nationalityList=[],this.serviceTypes=[],this.visaTypes=[],this.visaCategories=[],this.entryTypeList=[],this.entryTypesList=[],this.feeExemptionList=[],this.feeExemptionDetails=[],this.eoiVisaTypeList=[],n=["nationalityCode","serviceType","selectedSubvisaCategory","visaCategoryCode","entryType","visaType","entryTypes","feeExcemptionDetails","feeExcemption"],!0===this.waitlistJourney&&(n.push("agreeToWaitlist"),this.waitlistJourney=!1),this.utilityService.formcontrolReset(this.formGroup,n),a.next=6,this.loadConfiguration(e);case 6:(null===(t=this.appConfiguration)||void 0===t?void 0:t.enableServiceType)||this.loadVisaType(e),this.utilityService.stopNgxUiSpinner();case 8:case"end":return a.stop()}},a,this)}))}},{key:"onNationalityChange",value:function(e){this.entryTypeList=[],this.eoiVisaTypeList=[],this.visaTypes=[],this.visaCategories=[];var t=["selectedSubvisaCategory","visaCategoryCode","entryType","visaType"];!0===this.waitlistJourney&&(t.push("agreeToWaitlist"),this.waitlistJourney=!1),this.utilityService.formcontrolReset(this.formGroup,t),this.loadVisaType(this.formGroup.value.centerCode),this.loadEntryType(),this.loadEOIVisaType()}},{key:"appointmentCatgoryChange",value:function(e){this.entryTypeList=[],this.eoiVisaTypeList=[];var t=["entryType","visaType"];!0===this.waitlistJourney&&(t.push("agreeToWaitlist"),this.waitlistJourney=!1),this.utilityService.formcontrolReset(this.formGroup,t),this.loadVisaCategory(e),null==e||this.sessionService.eligibilityDetails||this.utilityService.pushDataLayerGA({dl_event:"appointment_details",dl_category:"Appointment Details",dl_action:"Choose appointment category",dl_label:"page_url"})}},{key:"loadNationality",value:function(e){var t,a;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(null===(t=this.appConfiguration)||void 0===t?void 0:t.enableNationalityFilterForVisaCategory)){n.next=6;break}return n.next=3,this.commonService.loadNationality(e);case 3:this.nationalityList=n.sent,(i=this.sessionService.eligibilityDetails)&&i.hasOwnProperty("nationalityCode")&&(null===(a=this.formGroup.get("nationalityCode"))||void 0===a||a.setValue(i.nationalityCode));case 6:case"end":return n.stop()}},n,this)}))}},{key:"submitVisacategory",value:function(e){var t,a,n,i,r;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function o(){var s,l,c,u,d;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,e){o.next=3;break}return o.abrupt("return");case 3:if(null==e||this.sessionService.eligibilityDetails||this.utilityService.pushDataLayerGA({dl_event:"appointment_details",dl_category:"Appointment Details",dl_action:"Choose sub-category",dl_label:"page_url"}),s=this.visaCategories.filter(function(t){return(null==t?void 0:t.code)===e}),(null===(t=s[0])||void 0===t?void 0:t.isVLNNumberEnable)?(this.sessionService.isVLNRequired=!0,this.sessionService.regex=s[0].vlnNumberRegex):this.sessionService.isVLNRequired=!1,(null===(a=s[0])||void 0===a?void 0:a.isTMIEnabled)&&(this.sessionService.tmiEnabled=!0),this.sessionService.documentUploadEnabled=!!(null===(n=s[0])||void 0===n?void 0:n.isApplicantDocumentUploadEnabled),(null===(i=s[0])||void 0===i?void 0:i.IsOTPEnable)&&(this.sessionService.IsOTPEnable=!0),(null===(r=s[0])||void 0===r?void 0:r.enableReferenceNumber)&&(this.sessionService.isGRNEnabled=!0),this.waitlistJourney=!1,this.sessionService.waitlistJourney=!1,this.formGroup.removeControl("agreeToWaitlist"),!(this.appConfiguration.enableNationalityFilterForVisaCategory&&this.appConfiguration.enableEntryType&&this.appConfiguration.enableApplicationType)){o.next=9;break}this.entryTypeList=[],this.eoiVisaTypeList=[],this.utilityService.formcontrolReset(this.formGroup,["entryType","visaType","agreeToWaitlist"]),this.noSlotCheck=!0,this.loadEntryType(e),this.loadEOIVisaType(e),o.next=28;break;case 9:if(!this.appConfiguration.enableApplicationType){o.next=13;break}this.noSlotCheck=!0,o.next=28;break;case 13:if(!(this.visaCategories.find(function(t){return t.code===e})||{}).iswaitlist){o.next=27;break}return l={centerCode:this.formGroup.value.centerCode,SubVisaCategory:e},o.next=18,this.commonService.checkIfSlotAvailiable(l);case 18:if(o.t0=o.sent,o.t0){o.next=21;break}o.t0={};case 21:c=o.t0,(u=c.earliestDate)||(this.sessionService.waitlistJourney=!0,this.waitlistJourney=!0,this.formGroup.addControl("agreeToWaitlist",new b.f("",b.x.requiredTrue)),this.setWaitlistMode()),this.appointmentSlots=Boolean(u),this.latestAvailableDate=u?this.utilityService.momentInstance(u,"MM/DD/YYYY").format("DD/MM/YYYY"):null,this.sessionService.latestSlotAvailiable=this.latestAvailableDate||"",this.latestAvailableDate&&(d=Tt()(this.latestAvailableDate,"DD/MM/YYYY"),this.latestAvailableDate=d.toDate()),this.noSlotCheck=!0,o.next=28;break;case 27:this.noSlotCheck=!1,this.submitCaptcha();case 28:this.appConfiguration.enableNationalityFilterForVisaCategory&&this.appConfiguration.enableServiceType&&this.appConfiguration.enableVisaType&&this.loadEOIVisaType(e),o.next=34;break;case 31:o.prev=31,o.t1=o.catch(0),console.log(o.t1);case 34:case"end":return o.stop()}},o,this,[[0,31]])}))}},{key:"loadVisaType",value:function(e){var t;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function a(){var n,i,r,o,s,l;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,n=this.sessionService.eligibilityDetails,i=e||(n&&n.centerCode?n.centerCode:this.formGroup.value.centerCode)){a.next=4;break}return a.abrupt("return",!1);case 4:return this.utilityService.formcontrolReset(this.formGroup,["selectedSubvisaCategory"]),r=null,o=null,this.appConfiguration.enableServiceType&&(r=n&&n.serviceType?n.serviceType:this.formGroup.value.serviceType),this.appConfiguration.enableNationalityFilterForVisaCategory&&(o=n&&n.nationalityCode?n.nationalityCode:this.formGroup.value.nationalityCode),a.next=9,this.commonService.getVisaCategories(i,r,o);case 9:return(s=a.sent)&&(this.visaTypes=s),l=this.sessionService.eligibilityDetails,a.abrupt("return",(l&&l.hasOwnProperty("selectedSubvisaCategory")&&(null===(t=this.formGroup.get("selectedSubvisaCategory"))||void 0===t||t.setValue(l.selectedSubvisaCategory)),!0));case 15:a.prev=15,a.t0=a.catch(0),this.logger.error(a.t0);case 18:case"end":return a.stop()}},a,this,[[0,15]])}))}},{key:"loadVisaCategory",value:function(e,t){var a,n;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function i(){var r,o,s,l,c;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,e){i.next=3;break}return i.abrupt("return");case 3:return this.utilityService.formcontrolReset(this.formGroup,["visaCategoryCode"]),r=t||(null===(a=this.formGroup.get("centerCode"))||void 0===a?void 0:a.value),o=null,s=null,this.appConfiguration.enableServiceType&&(o=this.formGroup.value.serviceType),this.appConfiguration.enableNationalityFilterForVisaCategory&&(s=this.formGroup.value.nationalityCode),i.next=9,this.commonService.getSubVisaCategories(r,e,o,s);case 9:return(l=i.sent)&&(this.visaCategories=l),c=this.sessionService.eligibilityDetails,i.abrupt("return",(c&&c.visaCategoryCode&&(null===(n=this.formGroup.get("visaCategoryCode"))||void 0===n||n.setValue(c.visaCategoryCode)),!0));case 15:i.prev=15,i.t0=i.catch(0),this.logger.error(i.t0);case 18:case"end":return i.stop()}},i,this,[[0,15]])}))}},{key:"submitCaptcha",value:function(){var e;!this.isEditMode&&(null===(e=this.formGroup.get("visaCategoryCode"))||void 0===e?void 0:e.value)&&this.checkSlotAvailability()}},{key:"submissionTypeChange",value:function(e){this.commonService.checkIfPostal(e)||this.commonService.checkIfOWA(e)?this.noSlotCheck=!0:(this.noSlotCheck=!1,this.submitCaptcha())}},{key:"onExemptionTypeSelection",value:function(e){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.feeExemptionDetails=[],this.utilityService.formcontrolReset(this.formGroup,["feeExemptionDetails"]),t.next=5,this.commonService.loadFeeExcemptionDetails(e);case 5:this.feeExemptionDetails=t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),this.logger.error(t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])}))}},{key:"loadEntryType",value:function(e){var t,a,n,i;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o,s,l,c,u,d;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,this.appConfiguration.enableEntryType){r.next=3;break}return r.abrupt("return",!1);case 3:if(o=this.sessionService.eligibilityDetails,s=o&&o.centerCode?o.centerCode:this.formGroup.value.centerCode,l=e||(o&&o.visaCategoryCode?o.visaCategoryCode:this.formGroup.value.visaCategoryCode),c=o&&o.nationalityCode?o.nationalityCode:this.formGroup.value.nationalityCode,u=o&&o.serviceType?o.serviceType:this.formGroup.value.serviceType,!(s&&l&&c&&u)){r.next=9;break}return r.next=7,this.commonService.loadEntryType(s,l,c,u);case 7:d=r.sent,this.entryTypeList=(null==d?void 0:d.entryTypes)||[],0===(null===(t=null==d?void 0:d.entryTypes)||void 0===t?void 0:t.length)?this.utilityService.formcontrolReset(this.formGroup,["entryType"]):o&&o.hasOwnProperty("entryType")&&this.formGroup.get("entryType")&&(null===(a=this.formGroup.get("entryType"))||void 0===a||a.setValue(o.entryType)),this.entryTypeError=3010===(null===(n=null==d?void 0:d.error)||void 0===n?void 0:n.code)?null===(i=null==d?void 0:d.error)||void 0===i?void 0:i.description:null;case 9:r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),console.log(r.t0);case 14:case"end":return r.stop()}},r,this,[[0,11]])}))}},{key:"loadEOIVisaType",value:function(e){var t,a,n,i;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o,s,l,c,u,d;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,(null===(t=this.appConfiguration)||void 0===t?void 0:t.enableNationalityFilterForVisaCategory)&&(null===(a=this.appConfiguration)||void 0===a?void 0:a.enableServiceType)&&(null===(n=this.appConfiguration)||void 0===n?void 0:n.enableVisaType)){r.next=3;break}return r.abrupt("return",!1);case 3:if(o=this.sessionService.eligibilityDetails,s=o&&o.centerCode?o.centerCode:this.formGroup.value.centerCode,l=e||(o&&o.visaCategoryCode?o.visaCategoryCode:this.formGroup.value.visaCategoryCode),c=o&&o.nationalityCode?o.nationalityCode:this.formGroup.value.nationalityCode,u=o&&o.serviceType?o.serviceType:this.formGroup.value.serviceType,!(s&&l&&c&&u)){r.next=9;break}return r.next=7,this.commonService.loadEOIVisaType(s,l,c,u);case 7:d=r.sent,this.eoiVisaTypeList=(null==d?void 0:d.eoiVisaTypes)||[];case 9:o&&o.visaType&&(null===(i=this.formGroup.get("visaType"))||void 0===i||i.setValue(o.visaType)),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),console.log(r.t0);case 15:case"end":return r.stop()}},r,this,[[0,12]])}))}},{key:"checkForEditMode",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",(this.isEditMode=!!this.sessionService.eligibilityDetails,this.isEditMode));case 4:e.prev=4,e.t0=e.catch(0),this.logger.error(e.t0);case 7:case"end":return e.stop()}},e,this,[[0,4]])}))}},{key:"onEditMode",value:function(e){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,e&&this.formGroup.disable(),t.next=7;break;case 4:throw t.prev=4,t.t0=t.catch(0),t.t0;case 7:case"end":return t.stop()}},t,this,[[0,4]])}))}},{key:"disableButton",get:function(){return this.noSlotCheck||this.isEditMode?this.formGroup.invalid:this.formGroup.invalid||null===this.latestAvailableDate}},{key:"submitForm",value:function(e){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.isEditMode||this.formGroup.valid?this.isEditMode||this.sessionService.applicationDetailValue?this.routeNext():this.submitEligibility():this.commonService.touchAllFields(this.formGroup);case 1:case"end":return e.stop()}},e,this)}))}},{key:"submitEligibility",value:function(){var e,t;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function a(){var n,i,r;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n={dl_category:"form submission",dl_action:"form submission - application details",dl_label:null===(e=this.formGroup.value)||void 0===e?void 0:e.selectedSubvisaCategory,value:void 0},this.utilityService.fireCustomEvent(n),a.next=5,this.filterModuleOnEligibilitySubmit(this.formGroup.value.centerCode,this.formGroup.value.applicationType);case 5:this.sessionService.centerCode=this.formGroup.value.centerCode,this.sessionService.visaSubCategory=this.formGroup.value.selectedSubvisaCategory,this.sessionService.setCurrApplicantVisaType(this.formGroup.value.visaCategoryCode),(null===(t=this.appConfiguration)||void 0===t?void 0:t.enableServiceType)&&(this.sessionService.serviceTypeCode=this.formGroup.value.serviceType),i=this.getApplicationDetails(this.formGroup.value),this.sessionService.applicationDetailValue=i,this.sessionService.eligibilityDetails=this.formGroup.value,i&&this.routeNext(),this.utilityService.pushDataLayerGA({dl_event:"appointment_details",dl_category:"Appointment Details",dl_action:"Appointment Details Continue",dl_label:"Continue"}),a.next=25;break;case 13:if(a.prev=13,a.t0=a.catch(0),this.logger.error(a.t0),this.allowedCaptcha){a.next=17;break}return a.abrupt("return");case 17:if(!y.a.captchaFallbackEnabled){a.next=21;break}this.currentCaptcha=this.captchaVersionConst.alternate,this.utilityService.formcontrolReset(this.formGroup,qa),this.utilityService.resetCaptcha(),a.next=25;break;case 21:return a.next=23,this.captchaContainer.generateToken();case 23:r=a.sent,this.utilityService.patchCaptchaValue(this.formGroup,r,this.captchaVersionConst.default);case 25:case"end":return a.stop()}},a,this,[[0,13]])}))}},{key:"getApplicationDetails",value:function(e){for(var t=this.initApplicationDetails(),a=0,n=Object.keys(e);a<n.length;a++){var i=n[a];t.hasOwnProperty(i)&&(t[i]=e[i])}return t}},{key:"initApplicationDetails",value:function(){var e,t,a,n,i=(null===(t=null===(e=this.sessionService)||void 0===e?void 0:e.applicationConfiguration)||void 0===t?void 0:t.enableApplicationType)?"":void 0,r=(null===(n=null===(a=this.sessionService)||void 0===a?void 0:a.applicationConfiguration)||void 0===n?void 0:n.enableServiceType)?"":void 0;return{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,centerCode:"",loginUser:this.sessionService.getLoggedEmail()||"",visaCategoryCode:"",isEdit:!1,feeEntryTypeCode:null,feeExemptionTypeCode:null,feeExemptionDetailsCode:null,applicantList:[],languageCode:this.sessionService.appCultureCode,applicationType:i,serviceType:r}}},{key:"loadConfiguration",value:function(e){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e||(e=this.sessionService.centerCode),t.next=3,this.commonService.loadVacConfiguration(e);case 3:if(!(a=t.sent)){t.next=11;break}return t.next=7,this.alterFormField(a);case 7:this.sessionService.applicationConfiguration=a,this.appConfiguration=a,n=this.calculateMaxAllowedTravelDays(a),this.sessionService.setMaxAlwdDepartureDate(n);case 11:return t.abrupt("return",a);case 12:case"end":return t.stop()}},t,this)}))}},{key:"alterFormField",value:function(e){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t,n){return Object(g.b)(a,void 0,void 0,regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!e.enableNationalityFilterForVisaCategory){a.next=7;break}return a.next=3,this.commonService.loadNationality();case 3:this.nationalityList=a.sent,this.formGroup.addControl("nationalityCode",new b.f(null,b.x.required)),a.next=8;break;case 7:this.formGroup.removeControl("nationalityCode");case 8:if(e.enableEntryType?this.formGroup.addControl("entryType",new b.f(null,b.x.required)):this.formGroup.removeControl("entryType"),e.enableVisaType?this.formGroup.addControl("visaType",new b.f(null,b.x.required)):this.formGroup.removeControl("visaType"),!e.enableApplicationType){a.next=17;break}return a.next=13,this.commonService.loadSubmissionType();case 13:this.submissionTypeList=a.sent,this.formGroup.addControl("applicationType",new b.f(null,b.x.required)),a.next=18;break;case 17:this.formGroup.removeControl("applicationType");case 18:if(!e.enableServiceType){a.next=25;break}return a.next=21,this.commonService.loadServiceType();case 21:this.serviceTypes=a.sent,this.formGroup.addControl("serviceType",new b.f(null,b.x.required)),a.next=26;break;case 25:this.formGroup.removeControl("serviceType");case 26:if(!e.enableFeeExemption){a.next=38;break}return a.next=29,this.commonService.loadFeeEntryType();case 29:return this.entryTypesList=a.sent,a.next=32,this.commonService.loadFeeExcemptionType();case 32:this.feeExemptionList=a.sent,this.formGroup.addControl("entryTypes",new b.f(null,b.x.required)),this.formGroup.addControl("feeExcemption",new b.f(null,b.x.required)),this.formGroup.addControl("feeExemptionDetails",new b.f(null,b.x.required)),a.next=39;break;case 38:this.formGroup.removeControl("entryTypes"),this.formGroup.removeControl("feeExcemption"),this.formGroup.removeControl("feeExcemptionDetails");case 39:t(!0);case 40:case"end":return a.stop()}},a,this)}))}));case 1:case"end":return t.stop()}},t)}))}},{key:"calculateMaxAllowedTravelDays",value:function(e){try{var t=Number(null==e?void 0:e.xTravelDaysToBeAllowed);return this.ngbCalendar.getNext(this.ngbCalendar.getToday(),"d",t>0?t-1:0)}catch(a){this.logger.error(a)}}},{key:"removeTmiModule",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.sessionService.isSchemaUpdated){e.next=8;break}return t=this.sessionService.getFullApplicationSchema(),(a=[]).push(h.c.modules.TRAVEL_MEDICAL_INSURANCE),e.next=6,this.commonService.removeModule(t,a);case 6:n=e.sent,this.sessionService.saveApplicationSchemaInBrowser(n),this.sessionService.isSchemaUpdated=!0;case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.logger.error(e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])}))}},{key:"termCondition",get:function(){return this.utilityService.externalUrlAppend("termsandconditions")}},{key:"attendCenter",get:function(){return this.utilityService.externalUrlAppend("attend-centre")}},{key:"appointmentCategory",get:function(){var e;return null===(e=this.sessionService.resourceGroupData)||void 0===e?void 0:e.onepager}}]),n}(kt.a)).\u0275fac=function(e){return new(e||Qa)(u.Qb(Lt.b),u.Qb(b.e),u.Qb(be.a))},Qa.\u0275cmp=u.Kb({type:Qa,selectors:[["app-eligibility-criteria"]],viewQuery:function(e,t){var a;1&e&&u.Uc(Pt,1),2&e&&u.Ac(a=u.ic())&&(t.captchaContainer=a.first)},features:[u.Ab],decls:73,vars:82,consts:[[1,"container","py-15","py-md-30"],[1,"form-card"],[1,"c-brand-grey","mb-5"],[1,"fs-24","fs-sm-46","mb-25"],[1,"c-brand-grey-para","mb-30"],["class","mb-30",4,"ngIf"],[3,"formGroup"],[4,"ngIf"],[1,"form-group",3,"ngClass"],[1,"mt-15"],[1,"c-brand-error"],["class","d-inline pull-right text-right",4,"ngIf"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["formControlName","centerCode","appDefaultSelect","",3,"options","valueKey","placeholder","ngModelChange"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["formControlName","selectedSubvisaCategory","appDefaultSelect","",3,"placeholder","options","valueKey","ngModelChange"],["formControlName","visaCategoryCode","appDefaultSelect","",3,"placeholder","options","valueKey","ngModelChange"],["class","border-info mb-0","style","border-left: 5px solid",4,"ngIf"],[1,"form-card","p-0","border-0","mt-20","shadow-none"],["type","button","mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],[1,"mb-30"],[1,"fs-sm-16","text-wrap","mr-5"],["target","_blank",3,"href"],[1,"c-brand-orange","fs-sm-16","text-decoration-underline","cursor-pointer"],[1,"card-upload-document"],["accept",".pdf",3,"multiple","onFileDrop"],["ngx-file-drop-content-tmp",""],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"asterisk"],[1,"file-upload-wrapper"],["type","button",1,"file-browse",3,"click"],["class","row no-gutters file-path-box",4,"ngFor","ngForOf"],[1,"row","no-gutters","file-path-box"],[1,"col","file-name","text-overflow"],[1,"check-mark","text-center","bg-brand-green"],[1,"c-brand-error","text-decoration-underline","cursor-pointer",3,"click"],[1,"errorMessage"],[1,"errorMessage","c-brand-error"],["matTooltipPosition","above",1,"brand-tooltip","fa","fa-info",3,"matTooltip"],["tooltip","matTooltip"],[1,"d-inline","pull-right","text-right"],["class","errorMessage c-brand-error",4,"ngIf"],[3,"value"],["appDefaultSelect","","formControlName","serviceType",3,"options","valueKey","placeholder","ngModelChange"],["appDefaultSelect","","formControlName","nationalityCode",3,"options","valueKey","placeholder","ngModelChange"],["appDefaultSelect","","formControlName","entryType",3,"options","valueKey","placeholder"],["formControlName","visaType","appDefaultSelect","",3,"options","valueKey","placeholder"],["formControlName","applicationType","appDefaultSelect","",3,"placeholder","options","valueKey","ngModelChange"],["appDefaultSelect","","formControlName","entryTypes",3,"options","valueKey","placeholder"],["appDefaultSelect","","formControlName","feeExcemption",3,"options","valueKey","placeholder","ngModelChange"],["appDefaultSelect","","formControlName","feeExemptionDetails",3,"options","valueKey","placeholder"],[1,"border-info","mb-0",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0"],[1,"form-group","mb-20"],[1,"pl-35"],["formControlName","agreeToWaitlist",1,"mat-checkbox-brand","ml-n35"],[1,"fs-sm-18","text-wrap","mr-5"],[1,"c-brand-orange","fs-sm-18","text-decoration-underline","cursor-pointer"]],template:function(e,t){1&e&&(u.Wb(0,"section",0),u.Wb(1,"form"),u.Wb(2,"mat-card",1),u.Wb(3,"p",2),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Wb(6,"h1",3),u.Oc(7),u.mc(8,"translate"),u.Vb(),u.Wb(9,"p",4),u.Oc(10),u.mc(11,"translate"),u.Vb(),u.Mc(12,Ft,15,14,"div",5),u.Wb(13,"form",6),u.Mc(14,Ut,5,2,"ng-container",7),u.Wb(15,"div",8),u.Wb(16,"div",9),u.Oc(17),u.mc(18,"translate"),u.Wb(19,"span",10),u.Oc(20,"*"),u.Vb(),u.Mc(21,Bt,4,3,"ng-container",7),u.Mc(22,jt,3,4,"h6",11),u.Vb(),u.Mc(23,Qt,2,1,"div",12),u.Wb(24,"mat-form-field",13),u.Wb(25,"mat-select",14),u.hc("ngModelChange",function(e){return t.onCenterCodeChange(e)}),u.mc(26,"translate"),u.Mc(27,qt,2,2,"mat-option",15),u.mc(28,"sortBy"),u.Vb(),u.Vb(),u.Vb(),u.Rb(29,"hr"),u.Mc(30,Jt,15,18,"ng-container",7),u.Mc(31,na,15,18,"ng-container",7),u.Wb(32,"div",8),u.Wb(33,"div"),u.Oc(34),u.mc(35,"translate"),u.Wb(36,"span",10),u.Oc(37,"*"),u.Vb(),u.Mc(38,ia,4,3,"ng-container",7),u.Vb(),u.Mc(39,oa,2,1,"div",12),u.Wb(40,"mat-form-field",13),u.Wb(41,"mat-select",16),u.hc("ngModelChange",function(e){return t.appointmentCatgoryChange(e)}),u.mc(42,"translate"),u.Mc(43,sa,2,2,"mat-option",15),u.mc(44,"sortBy"),u.Vb(),u.Vb(),u.Vb(),u.Rb(45,"hr"),u.Wb(46,"div",8),u.Wb(47,"div"),u.Oc(48),u.mc(49,"translate"),u.Wb(50,"span",10),u.Oc(51,"*"),u.Vb(),u.Mc(52,la,4,3,"ng-container",7),u.Vb(),u.Mc(53,ua,2,1,"div",12),u.Wb(54,"mat-form-field",13),u.Wb(55,"mat-select",17),u.hc("ngModelChange",function(e){return t.submitVisacategory(e)}),u.mc(56,"translate"),u.Mc(57,da,2,2,"mat-option",15),u.mc(58,"sortBy"),u.Vb(),u.Vb(),u.Vb(),u.Rb(59,"hr"),u.Mc(60,va,15,18,"ng-container",7),u.Mc(61,Ca,15,18,"ng-container",7),u.Mc(62,Aa,15,18,"ng-container",7),u.Mc(63,Na,15,18,"ng-container",7),u.Mc(64,Pa,15,18,"ng-container",7),u.Mc(65,Ua,15,18,"ng-container",7),u.Mc(66,Ba,4,3,"div",18),u.Mc(67,ja,5,7,"div",18),u.Mc(68,Ya,11,7,"ng-container",7),u.Vb(),u.Vb(),u.Wb(69,"mat-card",19),u.Wb(70,"button",20),u.hc("click",function(){return t.submitForm()}),u.Oc(71),u.mc(72,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.Db(4),u.Pc(u.nc(5,47,"eligibilityCriteria.pageDetails.para1")),u.Db(3),u.Pc(u.nc(8,49,"eligibilityCriteria.headerLabel.label1")),u.Db(3),u.Pc(u.nc(11,51,"eligibilityCriteria.pageDetails.para2")),u.Db(2),u.tc("ngIf",t.isPtFlow),u.Db(1),u.tc("formGroup",t.formGroup),u.Db(1),u.tc("ngIf",t.showExtractionField),u.Db(1),u.tc("ngClass",u.xc(76,Zt,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.centerCode?null:t.formGroup.controls.centerCode.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.centerCode?null:t.formGroup.controls.centerCode.invalid))),u.Db(2),u.Qc(" ",u.nc(18,53,"eligibilityCriteria.formLabel.label1"),""),u.Db(4),u.tc("ngIf",t.hasTranslation("eligibilityCriteria.formLabel.tooltip1")),u.Db(1),u.tc("ngIf",null==t.vacCenters?null:t.vacCenters.length),u.Db(1),u.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.centerCode?null:t.formGroup.controls.centerCode.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.centerCode?null:t.formGroup.controls.centerCode.errors)),u.Db(2),u.uc("placeholder",u.nc(26,55,"eligibilityCriteria.placeholder.label1")),u.tc("options",t.vacCenters)("valueKey","isoCode"),u.Db(2),u.tc("ngForOf",u.oc(28,57,t.vacCenters,"centerName"))("ngForTrackBy",t.trackByFn),u.Db(3),u.tc("ngIf",(null==t.appConfiguration?null:t.appConfiguration.enableServiceType)&&(null==t.serviceTypes?null:t.serviceTypes.length)>0),u.Db(1),u.tc("ngIf",null==t.appConfiguration?null:t.appConfiguration.enableNationalityFilterForVisaCategory),u.Db(1),u.tc("ngClass",u.xc(78,Zt,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.selectedSubvisaCategory?null:t.formGroup.controls.selectedSubvisaCategory.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.selectedSubvisaCategory?null:t.formGroup.controls.selectedSubvisaCategory.invalid))),u.Db(2),u.Qc(" ",u.nc(35,60,"eligibilityCriteria.formLabel.label2"),""),u.Db(4),u.tc("ngIf",t.hasTranslation("eligibilityCriteria.formLabel.tooltip4")),u.Db(1),u.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.selectedSubvisaCategory?null:t.formGroup.controls.selectedSubvisaCategory.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.selectedSubvisaCategory?null:t.formGroup.controls.selectedSubvisaCategory.errors)),u.Db(2),u.uc("placeholder",u.nc(42,62,"eligibilityCriteria.placeholder.label2")),u.tc("options",t.visaTypes)("valueKey","code"),u.Db(2),u.tc("ngForOf",u.oc(44,64,t.visaTypes,"name"))("ngForTrackBy",t.trackByFn),u.Db(3),u.tc("ngClass",u.xc(80,Zt,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.visaCategoryCode?null:t.formGroup.controls.visaCategoryCode.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.visaCategoryCode?null:t.formGroup.controls.visaCategoryCode.invalid))),u.Db(2),u.Qc(" ",u.nc(49,67,"eligibilityCriteria.formLabel.label3"),""),u.Db(4),u.tc("ngIf",t.hasTranslation("eligibilityCriteria.formLabel.tooltip5")),u.Db(1),u.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.visaCategoryCode?null:t.formGroup.controls.visaCategoryCode.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.visaCategoryCode?null:t.formGroup.controls.visaCategoryCode.errors)),u.Db(2),u.uc("placeholder",u.nc(56,69,"eligibilityCriteria.placeholder.label3")),u.tc("options",t.visaCategories)("valueKey","code"),u.Db(2),u.tc("ngForOf",u.oc(58,71,t.visaCategories,"name"))("ngForTrackBy",t.trackByFn),u.Db(3),u.tc("ngIf",null==t.appConfiguration?null:t.appConfiguration.enableEntryType),u.Db(1),u.tc("ngIf",null==t.appConfiguration?null:t.appConfiguration.enableVisaType),u.Db(1),u.tc("ngIf",(null==t.appConfiguration?null:t.appConfiguration.enableApplicationType)&&(null==t.submissionTypeList?null:t.submissionTypeList.length)),u.Db(1),u.tc("ngIf",(null==t.appConfiguration?null:t.appConfiguration.enableFeeExemption)&&t.entryTypesList.length>0),u.Db(1),u.tc("ngIf",null==t.appConfiguration?null:t.appConfiguration.enableFeeExemption),u.Db(1),u.tc("ngIf",null==t.appConfiguration?null:t.appConfiguration.enableFeeExemption),u.Db(1),u.tc("ngIf",t.formGroup.valid&&t.appointmentSlots&&!t.latestAvailableDate),u.Db(1),u.tc("ngIf",(null==t.formGroup?null:t.formGroup.valid)&&t.appointmentSlots&&t.latestAvailableDate),u.Db(1),u.tc("ngIf",t.waitlistJourney),u.Db(2),u.tc("disabled",t.disableButton),u.Db(1),u.Qc(" ",u.nc(72,74,"commonSections.buttons.button19")," "))},directives:[b.y,b.r,b.s,C.a,D.o,b.j,D.m,V.b,wt.a,b.q,b.h,Nt,D.n,O.a,xt.a,xt.c,Mt.a,Et.j,A.a],pipes:[I.d,Wt.h,D.e],encapsulation:2}),Qa),Ka=i("8ajC"),za=i("0IaG"),$a=i("C+1A");function Za(e,t){1&e&&(u.Wb(0,"p",11),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Pc(u.nc(2,1,"dashboard.pageDetails.para10")))}function Ja(e,t){if(1&e){var a=u.Xb();u.Wb(0,"button",12),u.hc("click",function(){return u.Fc(a),u.lc().confirmReschedule()}),u.Oc(1),u.mc(2,"translate"),u.Vb()}2&e&&(u.Db(1),u.Pc(u.nc(2,1,"dashboard.buttons.button3")))}var Xa,en=((Xa=function(e){s(a,e);var t=c(a);function a(e,n,i){var r;return p(this,a),(r=t.call(this)).data=e,r.dialog=n,r.dialogRef=i,r}return f(a,[{key:"confirmReschedule",value:function(){var e;(null===(e=this.data)||void 0===e?void 0:e.isReschedulingAllowed)&&this.dialogRef.close({data:"reschedule"})}},{key:"close",value:function(){this.dialogRef.close()}},{key:"confirmCancel",value:function(){this.dialogRef.close({data:"cancel"})}}]),a}(S.a)).\u0275fac=function(e){return new(e||Xa)(u.Qb(za.a),u.Qb(za.b),u.Qb(za.h))},Xa.\u0275cmp=u.Kb({type:Xa,selectors:[["app-cancel-appointment-modal"]],features:[u.Ab],decls:16,vars:9,consts:[[1,"mat-modal-container",2,"max-width","550px"],[1,"position-absolute","top-10","right-10"],[1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"fs-18","fs-sm-21","mb-10","pr-20"],[1,"my-20"],["class","fs-sm-20 c-brand-grey-para mb-15",4,"ngIf"],[1,"row"],[1,"col-6","col-md"],["mat-stroked-button","","class","btn mat-btn-lg btn-block btn-outline-brand-orange mt-15","data-dismiss","modal",3,"click",4,"ngIf"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","mt-15",3,"click"],[1,"fs-sm-20","c-brand-grey-para","mb-15"],["mat-stroked-button","","data-dismiss","modal",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mt-15",3,"click"]],template:function(e,t){1&e&&(u.Wb(0,"div",0),u.Wb(1,"div",1),u.Wb(2,"button",2),u.hc("click",function(){return t.close()}),u.Rb(3,"img",3),u.Vb(),u.Vb(),u.Wb(4,"h4",4),u.Oc(5),u.mc(6,"translate"),u.Vb(),u.Rb(7,"hr",5),u.Mc(8,Za,3,3,"p",6),u.Wb(9,"div",7),u.Wb(10,"div",8),u.Mc(11,Ja,3,3,"button",9),u.Vb(),u.Wb(12,"div",8),u.Wb(13,"button",10),u.hc("click",function(){return t.confirmCancel()}),u.Oc(14),u.mc(15,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.Db(3),u.vc("src","",t.getGlobalImagePath,"/close-btn.png",u.Hc),u.Db(2),u.Pc(u.nc(6,5,"dashboard.pageDetails.para9")),u.Db(3),u.tc("ngIf",null==t.data?null:t.data.isReschedulingAllowed),u.Db(3),u.tc("ngIf",null==t.data?null:t.data.isReschedulingAllowed),u.Db(3),u.Pc(u.nc(15,7,"dashboard.buttons.button4")))},directives:[D.o,O.a],pipes:[I.d],encapsulation:2}),Xa),tn=i("lJxs"),an=i("wZkO");function nn(e,t){1&e&&(u.Ub(0),u.Wb(1,"div",7),u.Wb(2,"div",8),u.Oc(3),u.mc(4,"translate"),u.Vb(),u.Wb(5,"div",9),u.Oc(6),u.mc(7,"translate"),u.Vb(),u.Vb(),u.Tb()),2&e&&(u.Db(3),u.Pc(u.nc(4,2,"dashboard.pageDetails.para1")),u.Db(3),u.Pc(u.nc(7,4,"dashboard.pageDetails.para2")))}var rn=function(e){return{"my-12":e}};function on(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"li",0),u.Oc(2),u.Vb(),u.Tb()),2&e){var a=t.$implicit,n=t.odd;u.Db(1),u.tc("ngClass",u.xc(2,rn,n)),u.Db(1),u.Pc(null==a?null:a.value)}}function sn(e,t){if(1&e&&(u.Wb(0,"ul",14),u.Mc(1,on,3,4,"ng-container",15),u.mc(2,"keyvalue"),u.mc(3,"translate"),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngForOf",u.nc(2,2,u.nc(3,4,"dashboard.pageDetails.para11")))("ngForTrackBy",a.trackByFn)}}function ln(e,t){1&e&&(u.Wb(0,"div",10),u.Wb(1,"div",11),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Wb(4,"div",12),u.Oc(5),u.mc(6,"translate"),u.Vb(),u.Mc(7,sn,4,6,"ul",13),u.Vb()),2&e&&(u.Db(2),u.Pc(u.nc(3,3,"dashboard.pageDetails.para1")),u.Db(3),u.Pc(u.nc(6,5,"dashboard.pageDetails.para2")),u.Db(2),u.tc("ngIf","dashboard.pageDetails.para11".length>0))}var cn,un=function(e){return{"col-12":e}},dn=function(e){return{"col-lg-12 mb-lg-35":e}},mn=function(e){return{"col-lg-12 text-lg-center":e}},pn=((cn=function(e){s(a,e);var t=c(a);function a(){var e;return p(this,a),(e=t.call(this)).constants=h.c,e.type="",e}return f(a,[{key:"travelInsurance",get:function(){return this.utilityService.externalUrlAppend("travel-insurance")}},{key:"GAForClickDatails",value:function(){this.utilityService.pushDataLayerGA({dl_event:"travel_medical_insurance",dl_category:"Travel Medical Insurance",dl_action:"Get Quote",dl_label:"Apply For Travel Medical Insurance"})}}]),a}(S.a)).\u0275fac=function(e){return new(e||cn)},cn.\u0275cmp=u.Kb({type:cn,selectors:[["app-medical-insurance"]],inputs:{type:"type"},features:[u.Ab],decls:11,vars:18,consts:[[3,"ngClass"],[1,"row","no-gutters","align-items-center","bg-brand-footer","text-center","text-md-left","p-25",3,"ngClass"],[1,"col-12","col-md-auto",3,"ngClass"],["alt","Travel Medical Insurance",1,"img-fluid-center","mb-20","mb-md-0",3,"src"],[4,"ngIf","ngIfElse"],["secondTemplate",""],["target","_blank",1,"btn","btn-lg","btn-outline-brand-orange","min-w-160",3,"ngClass","href","click"],[1,"col-12","col-md","mb-40","mb-md-0","px-md-20"],[1,"c-brand-blue","fs-18","fs-sm-22","fs-lg-25","mb-5"],[1,"c-brand-grey-para","fs-lg-18"],[1,"col-12","col-md","col-lg-12","mb-40","mb-md-0","px-md-20","px-lg-0","mb-lg-40"],[1,"c-brand-blue","fs-18","fs-sm-22","fs-lg-18","mb-5","mb-lg-15"],[1,"c-brand-grey-para"],["class","c-brand-grey-para text-left mt-15 pl-20",4,"ngIf"],[1,"c-brand-grey-para","text-left","mt-15","pl-20"],[4,"ngFor","ngForOf","ngForTrackBy"]],template:function(e,t){if(1&e&&(u.Wb(0,"div",0),u.Wb(1,"div",1),u.Wb(2,"div",2),u.Rb(3,"img",3),u.Vb(),u.Mc(4,nn,8,6,"ng-container",4),u.Mc(5,ln,8,7,"ng-template",null,5,u.Nc),u.Wb(7,"div",2),u.Wb(8,"a",6),u.hc("click",function(){return t.GAForClickDatails()}),u.Oc(9),u.mc(10,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&e){var a=u.Bc(6);u.tc("ngClass",u.xc(12,un,"1"===t.type)),u.Db(1),u.tc("ngClass","1"===t.type?"p-lg-50":"py-lg-35"),u.Db(1),u.tc("ngClass",u.xc(14,dn,"1"!==t.type)),u.Db(1),u.vc("src","",t.getGlobalImagePath,"/travel.png",u.Hc),u.Db(1),u.tc("ngIf","1"===t.type)("ngIfElse",a),u.Db(3),u.tc("ngClass",u.xc(16,mn,"1"!==t.type)),u.Db(1),u.tc("ngClass","1"===t.type?"min-lg-w-180":"min-xl-w-180")("href",t.travelInsurance,u.Hc),u.Db(1),u.Pc(u.nc(10,10,"dashboard.buttons.button5"))}},directives:[D.m,D.o,D.n],pipes:[I.d,D.i],encapsulation:2}),cn),bn=i("7EHt"),fn=["viewChangeAppointmentModal"];function vn(e,t){if(1&e&&(u.Wb(0,"div",18),u.Wb(1,"div",19),u.Rb(2,"i",20),u.Wb(3,"div"),u.Oc(4),u.Vb(),u.Vb(),u.Vb()),2&e){var a=u.lc(2);u.Db(4),u.Pc(a.cancelAppointmentMsg)}}var gn=function(e,t){return{rescheduledTime:e,rescheduledDate:t}};function hn(e,t){if(1&e&&(u.Wb(0,"div",18),u.Wb(1,"div",19),u.Rb(2,"i",20),u.Wb(3,"div"),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Vb(),u.Vb()),2&e){var a=u.lc(2);u.Db(4),u.Qc(" ",u.oc(5,1,"dashboard.messages.infoMessages.message2",u.yc(4,gn,null==a.rescheduledDetails?null:a.rescheduledDetails.rescheduledTime,null==a.rescheduledDetails?null:a.rescheduledDetails.rescheduledDate))," ")}}function yn(e,t){if(1&e&&(u.Wb(0,"div",34),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e){var a=u.lc().$implicit;u.Db(1),u.Rc(" ",u.nc(2,2,"dashboard.headerLabel.label7")," - ",a.urn," ")}}function Sn(e,t){if(1&e){var a=u.Xb();u.Wb(0,"div",28),u.Wb(1,"span",29),u.hc("click",function(){u.Fc(a);var e=u.lc(2).$implicit;return u.lc(3).scheduleWaitlist(e)}),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()}2&e&&(u.Db(2),u.Qc(" ",u.nc(3,1,"dashboard.headerLabel.label27")," "))}function Cn(e,t){if(1&e){var a=u.Xb();u.Wb(0,"div",28),u.Wb(1,"span",29),u.hc("click",function(){u.Fc(a);var e=u.lc(2).$implicit;return u.lc(3).updateCategory(e)}),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()}2&e&&(u.Db(2),u.Qc(" ",u.nc(3,1,"dashboard.headerLabel.label28")," "))}function Dn(e,t){if(1&e&&(u.Wb(0,"div",26),u.Wb(1,"div",34),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Mc(4,Sn,4,3,"div",35),u.Mc(5,Cn,4,3,"div",35),u.Vb()),2&e){var a=u.lc().$implicit,n=u.lc(3);u.Db(2),u.Rc(" ",u.nc(3,4,"dashboard.headerLabel.label25"),": ",null==a?null:a.waitlistStatus," "),u.Db(2),u.tc("ngIf",a.isWaitlist&&(null==a?null:a.waitlistStatus)===n.waitlistAllowed),u.Db(1),u.tc("ngIf",!(null!=a&&a.isWaitlistUpdate)&&(null==a?null:a.waitlistStatus)===n.waitlisted)}}function In(e,t){1&e&&(u.Wb(0,"span"),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"polandTurkey.pageDetails.para30")," "))}function Vn(e,t){1&e&&(u.Wb(0,"span"),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"polandTurkey.pageDetails.para31")," "))}function kn(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"div",36),u.Oc(2),u.mc(3,"translate"),u.Mc(4,In,3,3,"span",16),u.Mc(5,Vn,3,3,"span",16),u.Vb(),u.Tb()),2&e){var a=u.lc().$implicit;u.Db(2),u.Qc(" ",u.nc(3,3,"polandTurkey.formLabel.label10"),": "),u.Db(2),u.tc("ngIf","Confirmed"==(null==a?null:a.PayAtBankStatus)),u.Db(1),u.tc("ngIf","Pending"==(null==a?null:a.PayAtBankStatus))}}function An(e,t){if(1&e&&(u.Wb(0,"div"),u.Wb(1,"div",37),u.Oc(2),u.Vb(),u.Vb()),2&e){var a=t.$implicit;u.Db(2),u.Rc("",a.firstName," ",a.lastName,"")}}function On(e,t){if(1&e){var a=u.Xb();u.Wb(0,"div",22),u.Wb(1,"div",23),u.Wb(2,"div",24),u.Oc(3),u.mc(4,"translate"),u.mc(5,"translate"),u.Vb(),u.Wb(6,"h2",25),u.Oc(7),u.Vb(),u.Wb(8,"div",26),u.Mc(9,yn,3,4,"div",27),u.Wb(10,"div",28),u.Wb(11,"span",29),u.hc("click",function(){u.Fc(a);var e=t.$implicit;return u.lc(3).displayDetail(e)}),u.Oc(12),u.mc(13,"translate"),u.mc(14,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Mc(15,Dn,6,6,"div",30),u.Mc(16,kn,6,5,"ng-container",16),u.Rb(17,"hr",31),u.Wb(18,"div",32),u.Oc(19),u.mc(20,"translate"),u.Vb(),u.Mc(21,An,3,2,"div",33),u.Vb(),u.Vb()}if(2&e){var n=t.$implicit,i=u.lc(3);u.Db(3),u.Qc(" ",null!=n&&n.isAppointment||null!=n&&n.isWaitlist?u.nc(4,9,"dashboard.headerLabel.label8"):u.nc(5,11,"dashboard.headerLabel.label6")," "),u.Db(4),u.Pc(n.visaCategoryName),u.Db(2),u.tc("ngIf",!(null!=i.allConfiguration[0]&&i.allConfiguration[0].enableIRLNumber)),u.Db(3),u.Qc(" ",null!=n&&n.isAppointment?u.nc(13,13,"dashboard.headerLabel.label20"):u.nc(14,15,"dashboard.headerLabel.label23")," "),u.Db(3),u.tc("ngIf",null==n?null:n.waitlistStatus),u.Db(1),u.tc("ngIf",null==n?null:n.isPayAtBankSelected),u.Db(3),u.Qc("",u.nc(20,17,"dashboard.headerLabel.label19"),":"),u.Db(2),u.tc("ngForOf",n.applicants)("ngForTrackBy",i.trackByFn)}}function Tn(e,t){if(1&e&&(u.Ub(0),u.Mc(1,On,22,19,"div",21),u.Tb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngForOf",a.applicationList)("ngForTrackBy",a.trackByFn)}}function Ln(e,t){if(1&e){var a=u.Xb();u.Wb(0,"div",38),u.Wb(1,"div",39),u.Wb(2,"h2",40),u.Oc(3),u.mc(4,"translate"),u.Vb(),u.Wb(5,"p",41),u.Oc(6),u.mc(7,"translate"),u.Vb(),u.Wb(8,"div",42),u.Wb(9,"div",43),u.Wb(10,"mat-checkbox",44),u.hc("ngModelChange",function(e){return u.Fc(a),u.lc(2).ptImportantCheck=e}),u.Wb(11,"div",45),u.Oc(12),u.mc(13,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(14,"div",39),u.Wb(15,"h2",40),u.Oc(16),u.mc(17,"translate"),u.Vb(),u.Wb(18,"p",41),u.Oc(19),u.mc(20,"translate"),u.Vb(),u.Wb(21,"div",42),u.Wb(22,"div",43),u.Wb(23,"mat-checkbox",44),u.hc("ngModelChange",function(e){return u.Fc(a),u.lc(2).ptWarningCheck=e}),u.Wb(24,"div",45),u.Oc(25),u.mc(26,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()}if(2&e){var n=u.lc(2);u.Db(3),u.Pc(u.nc(4,8,"polandTurkey.pageDetails.para6")),u.Db(3),u.Pc(u.nc(7,10,"polandTurkey.pageDetails.para7")),u.Db(4),u.tc("ngModel",n.ptImportantCheck),u.Db(2),u.Pc(u.nc(13,12,"polandTurkey.pageDetails.para8")),u.Db(4),u.Pc(u.nc(17,14,"polandTurkey.pageDetails.para9")),u.Db(3),u.Pc(u.nc(20,16,"polandTurkey.pageDetails.para10")),u.Db(4),u.tc("ngModel",n.ptWarningCheck),u.Db(2),u.Pc(u.nc(26,18,"polandTurkey.pageDetails.para11"))}}function wn(e,t){1&e&&(u.Wb(0,"div"),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"dashboard.messages.infoMessages.message1")," "))}function Nn(e,t){1&e&&(u.Ub(0),u.Rb(1,"app-medical-insurance",46),u.Tb()),2&e&&(u.Db(1),u.tc("type","1"))}function xn(e,t){if(1&e){var a=u.Xb();u.Wb(0,"section",5),u.Wb(1,"div",6),u.Wb(2,"div",7),u.Wb(3,"div",8),u.Mc(4,vn,5,1,"div",9),u.Mc(5,hn,6,7,"div",9),u.Vb(),u.Wb(6,"div",10),u.Wb(7,"button",11),u.hc("click",function(){return u.Fc(a),u.lc().applyNow()}),u.Oc(8),u.mc(9,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Wb(10,"div",12),u.Wb(11,"button",13),u.hc("click",function(){return u.Fc(a),u.lc().applyNow()}),u.Oc(12),u.mc(13,"translate"),u.Vb(),u.Wb(14,"mat-tab-group",14),u.hc("selectedIndexChange",function(e){u.Fc(a);var t=u.lc();return null==t.selected?null:t.selected.setValue(e)})("selectedTabChange",function(e){return u.Fc(a),u.lc().tabChanged(e)}),u.Wb(15,"mat-tab",15),u.mc(16,"translate"),u.Mc(17,Tn,2,2,"ng-container",16),u.Mc(18,Ln,27,20,"div",17),u.Rb(19,"br"),u.Mc(20,wn,3,3,"div",16),u.Vb(),u.Vb(),u.Vb(),u.Mc(21,Nn,2,1,"ng-container",16),u.Vb(),u.Vb()}if(2&e){var n=u.lc();u.tc("ngClass",n.detailMode?"d-none":"d-block"),u.Db(4),u.tc("ngIf",n.cancelAppointmentMsg),u.Db(1),u.tc("ngIf",n.viewRescheduledMsgFlag),u.Db(2),u.tc("disabled",n.checkIfDisabled()),u.Db(1),u.Qc(" ",u.nc(9,13,"dashboard.buttons.button2")," "),u.Db(3),u.tc("disabled",n.checkIfDisabled()),u.Db(1),u.Qc(" ",u.nc(13,15,"dashboard.buttons.button2")," "),u.Db(2),u.tc("selectedIndex",n.selectedIdx),u.Db(1),u.uc("label",u.nc(16,17,"dashboard.headerLabel.label3")),u.Db(2),u.tc("ngIf",(null==n.applicationList?null:n.applicationList.length)>0),u.Db(1),u.tc("ngIf",n.isPtFlow&&n.ptWarningView),u.Db(2),u.tc("ngIf",0===(null==n.applicationList?null:n.applicationList.length)&&!n.isPtFlow),u.Db(1),u.tc("ngIf",n.insuranceBox)}}function Mn(e,t){1&e&&(u.Wb(0,"div",18),u.Wb(1,"div",19),u.Rb(2,"i",20),u.Rb(3,"div",58),u.Vb(),u.Vb()),2&e&&(u.Db(3),u.tc("translate","dashboard.messages.resendConfirmationLetter.message1"))}function En(e,t){if(1&e&&(u.Wb(0,"p",59),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.Rc("",u.nc(2,2,"dashboard.headerLabel.label7"),": ",a.applicationDetail.urn,"")}}function Wn(e,t){if(1&e&&(u.Wb(0,"p",59),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.Rc(" ",u.nc(2,2,"dashboard.headerLabel.label25"),": ",null==a.applicationDetail?null:a.applicationDetail.waitlistStatus," ")}}function Pn(e,t){if(1&e){var a=u.Xb();u.Wb(0,"div",60),u.Wb(1,"div",61),u.Wb(2,"button",62),u.hc("click",function(){u.Fc(a);var e=u.lc(2);return e.scheduleWaitlist(e.applicationDetail)}),u.Oc(3),u.mc(4,"translate"),u.Vb(),u.Vb(),u.Vb()}2&e&&(u.Db(3),u.Qc(" ",u.nc(4,1,"dashboard.headerLabel.label27")," "))}function Fn(e,t){if(1&e){var a=u.Xb();u.Wb(0,"div",66),u.Wb(1,"span",48),u.hc("click",function(){u.Fc(a);var e=u.lc(4);return e.cancelWaitlist(e.applicationDetail.urn)}),u.Rb(2,"i",67),u.Wb(3,"span",68),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Vb(),u.Vb()}2&e&&(u.Db(4),u.Pc(u.nc(5,1,"dashboard.headerLabel.label29")))}function _n(e,t){if(1&e&&(u.Wb(0,"div",64),u.Mc(1,Fn,6,3,"div",65),u.Vb()),2&e){var a=u.lc(3);u.Db(1),u.tc("ngIf",a.applicationDetail.cancellationAllowed)}}function Rn(e,t){if(1&e&&(u.Wb(0,"mat-expansion-panel"),u.Wb(1,"mat-expansion-panel-header",55),u.Wb(2,"div",56),u.Oc(3),u.mc(4,"translate"),u.Vb(),u.Vb(),u.Mc(5,_n,2,1,"div",63),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("@.disabled",!0),u.Db(2),u.Qc("",u.nc(4,3,"dashboard.headerLabel.label8"),":"),u.Db(2),u.tc("ngIf",a.applicationDetail.isWaitlist)}}function Gn(e,t){if(1&e&&(u.Wb(0,"div",73),u.Oc(1),u.Vb()),2&e){var a=u.lc(3);u.Db(1),u.Qc(" ",a.appointmentDateFormat," ")}}function Un(e,t){if(1&e&&(u.Wb(0,"div",74),u.Oc(1),u.Vb()),2&e){var a=u.lc(3);u.Db(1),u.Qc(" ",null==a.applicationDetail||null==a.applicationDetail.applicants[0]||null==a.applicationDetail.applicants[0].appointment?null:a.applicationDetail.applicants[0].appointment.appointmentTime," ")}}function Bn(e,t){if(1&e){var a=u.Xb();u.Wb(0,"div",66),u.Wb(1,"span",48),u.hc("click",function(){u.Fc(a);var e=u.lc(4);return e.cancelAppointment(e.applicationDetail.urn,e.applicationDetail)}),u.Rb(2,"i",67),u.Wb(3,"span",68),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Vb(),u.Vb()}2&e&&(u.Db(4),u.Pc(u.nc(5,1,"dashboard.headerLabel.label9")))}function jn(e,t){if(1&e){var a=u.Xb();u.Wb(0,"div",66),u.Wb(1,"span",48),u.hc("click",function(){u.Fc(a);var e=u.lc(4);return e.rescheduleAppointment(e.applicationDetail)}),u.Rb(2,"i",75),u.Wb(3,"span",76),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Vb(),u.Vb()}2&e&&(u.Db(4),u.Pc(u.nc(5,1,"dashboard.headerLabel.label10")))}function Yn(e,t){if(1&e){var a=u.Xb();u.Wb(0,"div",66),u.Wb(1,"span",48),u.hc("click",function(){u.Fc(a);var e=u.lc(4);return e.resendConfirmationLetter(e.applicationDetail.urn)}),u.Rb(2,"i",77),u.Wb(3,"span",76),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Vb(),u.Vb()}2&e&&(u.Db(4),u.Pc(u.nc(5,1,"dashboard.headerLabel.label11")))}function Qn(e,t){if(1&e){var a=u.Xb();u.Wb(0,"div",66),u.Wb(1,"span",48),u.hc("click",function(){u.Fc(a);var e=u.lc(4);return e.printAppointmentLetter(e.applicationDetail.urn)}),u.Rb(2,"i",78),u.Wb(3,"span",76),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Vb(),u.Vb()}2&e&&(u.Db(4),u.Pc(u.nc(5,1,"dashboard.headerLabel.label12")))}function qn(e,t){if(1&e&&(u.Wb(0,"div",60),u.Mc(1,Bn,6,3,"div",65),u.Mc(2,jn,6,3,"div",65),u.Mc(3,Yn,6,3,"div",65),u.Mc(4,Qn,6,3,"div",65),u.Vb()),2&e){var a=u.lc(3);u.Db(1),u.tc("ngIf",a.applicationDetail.cancellationAllowed&&!a.isPtFlow),u.Db(1),u.tc("ngIf",a.applicationDetail.rescheduleAllowed&&!a.applicationDetail.isRescheduleDisabled&&"Pending"!==(null==a.applicationDetail?null:a.applicationDetail.PayAtBankStatus)),u.Db(1),u.tc("ngIf","Pending"!==(null==a.applicationDetail?null:a.applicationDetail.PayAtBankStatus)),u.Db(1),u.tc("ngIf","Pending"!==(null==a.applicationDetail?null:a.applicationDetail.PayAtBankStatus))}}function Hn(e,t){if(1&e&&(u.Wb(0,"mat-expansion-panel"),u.Wb(1,"mat-expansion-panel-header",55),u.Wb(2,"div",56),u.Oc(3),u.mc(4,"translate"),u.Vb(),u.Vb(),u.Mc(5,Gn,2,1,"div",69),u.Wb(6,"div",70),u.Oc(7),u.Vb(),u.Mc(8,Un,2,1,"div",71),u.Rb(9,"hr",72),u.Mc(10,qn,5,4,"div",53),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("@.disabled",!0),u.Db(2),u.Qc("",u.nc(4,6,"dashboard.headerLabel.label8"),":"),u.Db(2),u.tc("ngIf",null==a.applicationDetail||null==a.applicationDetail.applicants[0]||null==a.applicationDetail.applicants[0].appointment?null:a.applicationDetail.applicants[0].appointment.appoinmentDate),u.Db(2),u.Qc(" ",a.applicationDetail.vacAddress," "),u.Db(1),u.tc("ngIf",null==a.applicationDetail||null==a.applicationDetail.applicants[0]||null==a.applicationDetail.applicants[0].appointment?null:a.applicationDetail.applicants[0].appointment.appointmentTime),u.Db(2),u.tc("ngIf",a.applicationDetail.isAppointment)}}function Kn(e,t){if(1&e&&(u.Wb(0,"tr"),u.Wb(1,"td",81),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Wb(4,"td",81),u.Oc(5),u.Vb(),u.Vb()),2&e){var a=u.lc().$implicit,n=u.lc(2);u.Db(2),u.Qc("",u.nc(3,2,"dashboard.headerLabel.label15"),":"),u.Db(3),u.Pc(n.utilityService.momentInstance(a.dateOfBirth,"DD/MM/YYYY").format(n.dateFormat.toUpperCase()))}}function zn(e,t){if(1&e&&(u.Wb(0,"tr"),u.Wb(1,"td",81),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Wb(4,"td",81),u.Oc(5),u.Vb(),u.Vb()),2&e){var a=u.lc().$implicit;u.Db(2),u.Qc("",u.nc(3,2,"postalInformation.formLabel.label8")," :"),u.Db(3),u.Pc(null==a||null==a.postalList[0]?null:a.postalList[0].courierType)}}function $n(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Wb(1,"tr"),u.Wb(2,"td",81),u.Oc(3),u.mc(4,"translate"),u.Vb(),u.Wb(5,"td",81),u.Oc(6),u.Vb(),u.Vb(),u.Wb(7,"tr"),u.Wb(8,"td",81),u.Oc(9),u.mc(10,"translate"),u.Vb(),u.Wb(11,"td",81),u.Oc(12),u.Vb(),u.Vb(),u.Wb(13,"tr"),u.Wb(14,"td",81),u.Oc(15),u.mc(16,"translate"),u.Vb(),u.Wb(17,"td",81),u.Oc(18),u.Vb(),u.Vb(),u.Wb(19,"tr"),u.Wb(20,"td",81),u.Oc(21),u.mc(22,"translate"),u.Vb(),u.Wb(23,"td",81),u.Oc(24),u.Vb(),u.Vb(),u.Wb(25,"tr"),u.Wb(26,"td",81),u.Oc(27),u.mc(28,"translate"),u.Vb(),u.Wb(29,"td",81),u.Oc(30),u.Vb(),u.Vb(),u.Wb(31,"tr"),u.Wb(32,"td",81),u.Oc(33),u.mc(34,"translate"),u.Vb(),u.Wb(35,"td",81),u.Oc(36),u.Vb(),u.Vb(),u.Wb(37,"tr"),u.Wb(38,"td",83),u.Wb(39,"div",60),u.Wb(40,"div",66),u.Wb(41,"span",48),u.hc("click",function(){u.Fc(a);var e=u.lc().$implicit,t=u.lc(2);return t.downloadCourierDetails(e.arn,t.applicationDetail.vacCode,t.courierLabels.inLabel)}),u.Rb(42,"i",78),u.Wb(43,"span",76),u.Oc(44),u.mc(45,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Tb()}if(2&e){var n=u.lc().$implicit;u.Db(3),u.Qc("",u.nc(4,13,"postalInformation.formLabel.label1")," :"),u.Db(3),u.Pc(null==n||null==n.postalList[0]?null:n.postalList[0].pincode),u.Db(3),u.Qc("",u.nc(10,15,"postalInformation.formLabel.label2")," :"),u.Db(3),u.Pc(null==n||null==n.postalList[0]?null:n.postalList[0].addressline1),u.Db(3),u.Qc("",u.nc(16,17,"postalInformation.formLabel.label3")," :"),u.Db(3),u.Pc(null==n||null==n.postalList[0]?null:n.postalList[0].addressline2),u.Db(3),u.Qc("",u.nc(22,19,"postalInformation.formLabel.label4")," :"),u.Db(3),u.Pc(null==n||null==n.postalList[0]?null:n.postalList[0].state),u.Db(3),u.Qc("",u.nc(28,21,"postalInformation.formLabel.label5")," :"),u.Db(3),u.Pc(null==n||null==n.postalList[0]?null:n.postalList[0].city),u.Db(3),u.Qc("",u.nc(34,23,"postalInformation.formLabel.label6")," :"),u.Db(3),u.Pc(null==n||null==n.postalList[0]?null:n.postalList[0].country),u.Db(8),u.Pc(u.nc(45,25,"postalInformation.headerLabel.label2"))}}function Zn(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"tr"),u.Wb(2,"td",81),u.Oc(3),u.mc(4,"translate"),u.Vb(),u.Wb(5,"td",81),u.Oc(6),u.Vb(),u.Vb(),u.Wb(7,"tr"),u.Wb(8,"td",81),u.Oc(9),u.mc(10,"translate"),u.Vb(),u.Wb(11,"td",81),u.Oc(12),u.Vb(),u.Vb(),u.Wb(13,"tr"),u.Wb(14,"td",81),u.Oc(15),u.mc(16,"translate"),u.Vb(),u.Wb(17,"td",81),u.Oc(18),u.Vb(),u.Vb(),u.Tb()),2&e){var a=u.lc().$implicit;u.Db(3),u.Qc("",u.nc(4,6,"postalInformation.formLabel.label11")," :"),u.Db(3),u.Pc(null==a||null==a.postalList[0]?null:a.postalList[0].courierServiceProvider),u.Db(3),u.Qc("",u.nc(10,8,"postalInformation.formLabel.label12")," :"),u.Db(3),u.Pc(null==a||null==a.postalList[0]?null:a.postalList[0].incomingAWBNumber),u.Db(3),u.Qc("",u.nc(16,10,"postalInformation.formLabel.label13")," :"),u.Db(3),u.Pc(null==a||null==a.postalList[0]?null:a.postalList[0].outgoingAWBNumber)}}function Jn(e,t){if(1&e&&(u.Wb(0,"table",79),u.Wb(1,"tr"),u.Wb(2,"td",80),u.Oc(3),u.Vb(),u.Vb(),u.Wb(4,"tr"),u.Wb(5,"td",81),u.Oc(6),u.mc(7,"translate"),u.Vb(),u.Wb(8,"td",81),u.Oc(9),u.Vb(),u.Vb(),u.Mc(10,Kn,6,4,"tr",16),u.Wb(11,"tr"),u.Wb(12,"td",81),u.Oc(13),u.mc(14,"translate"),u.Vb(),u.Wb(15,"td",82),u.Oc(16),u.Vb(),u.Vb(),u.Wb(17,"tr"),u.Wb(18,"td",81),u.Oc(19),u.mc(20,"translate"),u.Vb(),u.Wb(21,"td",81),u.Oc(22),u.Vb(),u.Vb(),u.Wb(23,"tr"),u.Wb(24,"td",81),u.Oc(25),u.mc(26,"translate"),u.Vb(),u.Wb(27,"td",81),u.Oc(28),u.Vb(),u.Vb(),u.Mc(29,zn,6,4,"tr",16),u.Mc(30,$n,46,27,"ng-container",16),u.Mc(31,Zn,19,12,"ng-container",16),u.Vb()),2&e){var a=t.$implicit,n=u.lc(2);u.Db(3),u.Rc("",a.firstName," ",a.lastName,""),u.Db(3),u.Qc("",u.nc(7,15,"dashboard.headerLabel.label14"),":"),u.Db(3),u.Pc(a.passportNumber),u.Db(1),u.tc("ngIf",!n.isPtFlow),u.Db(3),u.Qc("",u.nc(14,17,"dashboard.headerLabel.label16"),":"),u.Db(3),u.Pc(a.emailId),u.Db(3),u.Qc("",u.nc(20,19,"dashboard.headerLabel.label17"),":"),u.Db(3),u.Rc("",a.dialCode," ",a.contactNumber,""),u.Db(3),u.Qc("",u.nc(26,21,"dashboard.headerLabel.label18"),":"),u.Db(3),u.Pc(n.getnationalityName(a.nationalityCode)),u.Db(1),u.tc("ngIf",!n.applicationDetail.isAppointment&&(null==a||null==a.postalList?null:a.postalList.length)>0&&(null==a?null:a.postalList[0].courierType)),u.Db(1),u.tc("ngIf",!n.applicationDetail.isAppointment&&(null==a||null==a.postalList?null:a.postalList.length)>0&&!n.commonService.checkIfPrepaidCourier(null==a||null==a.postalList[0]?null:a.postalList[0].courierType)),u.Db(1),u.tc("ngIf",!n.applicationDetail.isAppointment&&(null==a||null==a.postalList?null:a.postalList.length)>0&&n.commonService.checkIfPrepaidCourier(null==a||null==a.postalList[0]?null:a.postalList[0].courierType))}}function Xn(e,t){if(1&e&&(u.Wb(0,"tr"),u.Wb(1,"td",80),u.Oc(2),u.Vb(),u.Vb()),2&e){var a=t.$implicit;u.Db(2),u.Pc(a.name)}}function ei(e,t){if(1&e&&(u.Ub(0),u.Mc(1,Xn,3,1,"tr",33),u.Wb(2,"tr"),u.Wb(3,"td",84),u.Oc(4),u.Vb(),u.Vb(),u.Tb()),2&e){var a=u.lc().$implicit,n=u.lc(3);u.Db(1),u.tc("ngForOf",a.vas)("ngForTrackBy",n.trackByFn),u.Db(3),u.Rc("",a.firstName," ",a.lastName,"")}}function ti(e,t){if(1&e&&(u.Wb(0,"table",79),u.Mc(1,ei,5,4,"ng-container",16),u.Vb()),2&e){var a=t.$implicit;u.Db(1),u.tc("ngIf",a.vas&&(null==a.vas?null:a.vas.length)>0)}}function ai(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"mat-expansion-panel"),u.Wb(2,"mat-expansion-panel-header",55),u.Wb(3,"div",56),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Vb(),u.Mc(6,ti,2,1,"table",57),u.Vb(),u.Tb()),2&e){var a=u.lc(2);u.Db(2),u.tc("@.disabled",!0),u.Db(2),u.Pc(u.nc(5,4,"dashboard.headerLabel.label21")),u.Db(2),u.tc("ngForOf",a.applicationDetail.applicants)("ngForTrackBy",a.trackByFn)}}function ni(e,t){1&e&&(u.Ub(0),u.Rb(1,"app-medical-insurance",85),u.Tb()),2&e&&(u.Db(1),u.tc("type","2"))}var ii=function(e){return{applicantLength:e}};function ri(e,t){if(1&e){var a=u.Xb();u.Wb(0,"section",3),u.Wb(1,"div",47),u.Wb(2,"span",48),u.hc("click",function(){return u.Fc(a),u.lc().back()}),u.Rb(3,"i",49),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Vb(),u.Mc(6,Mn,4,1,"div",9),u.Wb(7,"div",38),u.Wb(8,"div",50),u.Wb(9,"h2",51),u.Oc(10),u.Vb(),u.Mc(11,En,3,4,"p",52),u.Mc(12,Wn,3,4,"p",52),u.Mc(13,Pn,5,3,"div",53),u.Wb(14,"mat-accordion",54),u.Mc(15,Rn,6,5,"mat-expansion-panel",16),u.Mc(16,Hn,11,8,"mat-expansion-panel",16),u.Wb(17,"mat-expansion-panel"),u.Wb(18,"mat-expansion-panel-header",55),u.Wb(19,"div",56),u.Oc(20),u.mc(21,"translate"),u.Vb(),u.Vb(),u.Mc(22,Jn,32,23,"table",57),u.Vb(),u.Mc(23,ai,7,6,"ng-container",16),u.Vb(),u.Vb(),u.Mc(24,ni,2,1,"ng-container",16),u.Vb(),u.Vb()}if(2&e){var n=u.lc();u.Db(4),u.Qc(" ",u.nc(5,14,"commonSections.buttons.button31"),""),u.Db(2),u.tc("ngIf",n.resendConfirmationLetterMsg),u.Db(4),u.Pc(n.applicationDetail.visaCategoryName),u.Db(1),u.tc("ngIf",!(null!=n.allConfiguration[0]&&n.allConfiguration[0].enableIRLNumber)),u.Db(1),u.tc("ngIf",n.applicationDetail.isWaitlist&&(null==n.applicationDetail?null:n.applicationDetail.waitlistStatus)),u.Db(1),u.tc("ngIf",n.applicationDetail.isWaitlist&&(null==n.applicationDetail?null:n.applicationDetail.waitlistStatus)===n.waitlistAllowed),u.Db(2),u.tc("ngIf",n.applicationDetail.isWaitlist),u.Db(1),u.tc("ngIf",n.applicationDetail.isAppointment),u.Db(2),u.tc("@.disabled",!0),u.Db(2),u.Qc(" ",u.oc(21,16,"dashboard.headerLabel.label24",u.xc(19,ii,null==n.applicationDetail.applicants?null:n.applicationDetail.applicants.length))," "),u.Db(2),u.tc("ngForOf",n.applicationDetail.applicants)("ngForTrackBy",n.trackByFn),u.Db(1),u.tc("ngIf",(null==n.applicationDetail||null==n.applicationDetail.applicants[0]||null==n.applicationDetail.applicants[0].vas?null:n.applicationDetail.applicants[0].vas.length)>0),u.Db(1),u.tc("ngIf",n.insuranceBox)}}function oi(e,t){if(1&e&&(u.Wb(0,"div",86),u.Wb(1,"div",87),u.Wb(2,"button",88),u.Rb(3,"img",89),u.Vb(),u.Vb(),u.Wb(4,"h2",90),u.Rb(5,"i",91),u.Oc(6),u.mc(7,"translate"),u.Vb(),u.Rb(8,"hr",72),u.Wb(9,"p",92),u.Oc(10),u.mc(11,"translate"),u.Vb(),u.Wb(12,"div",38),u.Wb(13,"div",93),u.Wb(14,"button",94),u.Oc(15),u.mc(16,"translate"),u.Vb(),u.Vb(),u.Wb(17,"div",93),u.Wb(18,"button",95),u.Oc(19),u.mc(20,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&e){var a=u.lc();u.Db(3),u.vc("src","",a.getGlobalImagePath,"/close-btn.png",u.Hc),u.Db(3),u.Qc(" ",u.nc(7,5,"commonSections.headerLabel.label3")," "),u.Db(4),u.Qc(" ",u.nc(11,7,"dashboard.pageDetails.para12")," "),u.Db(5),u.Qc(" ",u.nc(16,9,"commonSections.buttons.button3")," "),u.Db(4),u.Qc(" ",u.nc(20,11,"commonSections.buttons.button4")," ")}}function si(e,t){if(1&e){var a=u.Xb();u.Wb(0,"div",96),u.Wb(1,"h1",97),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Wb(4,"mat-accordion",98),u.Wb(5,"mat-expansion-panel"),u.Wb(6,"mat-expansion-panel-header"),u.Oc(7),u.mc(8,"translate"),u.Wb(9,"div",99),u.Wb(10,"span",100),u.Oc(11),u.mc(12,"translate"),u.Vb(),u.Wb(13,"span",101),u.Oc(14),u.mc(15,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Wb(16,"div",37),u.Oc(17),u.mc(18,"translate"),u.Wb(19,"a",102),u.Oc(20),u.mc(21,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Wb(22,"mat-expansion-panel"),u.Wb(23,"mat-expansion-panel-header"),u.Oc(24),u.mc(25,"translate"),u.Wb(26,"div",99),u.Wb(27,"span",100),u.Oc(28),u.mc(29,"translate"),u.Vb(),u.Wb(30,"span",101),u.Oc(31),u.mc(32,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Wb(33,"div",37),u.Oc(34),u.mc(35,"translate"),u.Rb(36,"br"),u.Rb(37,"br"),u.Oc(38),u.mc(39,"translate"),u.Rb(40,"br"),u.Rb(41,"br"),u.Oc(42),u.mc(43,"translate"),u.Wb(44,"a",102),u.Oc(45),u.mc(46,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Wb(47,"mat-expansion-panel"),u.Wb(48,"mat-expansion-panel-header"),u.Oc(49),u.mc(50,"translate"),u.Wb(51,"div",99),u.Wb(52,"span",100),u.Oc(53),u.mc(54,"translate"),u.Vb(),u.Wb(55,"span",101),u.Oc(56),u.mc(57,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Wb(58,"div",37),u.Oc(59),u.mc(60,"translate"),u.Wb(61,"a",102),u.Oc(62),u.mc(63,"translate"),u.Vb(),u.Rb(64,"br"),u.Rb(65,"br"),u.Vb(),u.Vb(),u.Wb(66,"mat-expansion-panel"),u.Wb(67,"mat-expansion-panel-header"),u.Oc(68),u.mc(69,"translate"),u.Wb(70,"div",99),u.Wb(71,"span",100),u.Oc(72),u.mc(73,"translate"),u.Vb(),u.Wb(74,"span",101),u.Oc(75),u.mc(76,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Wb(77,"div",37),u.Oc(78),u.mc(79,"translate"),u.Wb(80,"a",102),u.Oc(81),u.mc(82,"translate"),u.Vb(),u.Rb(83,"br"),u.Rb(84,"br"),u.Oc(85),u.mc(86,"translate"),u.Wb(87,"a",102),u.Oc(88),u.mc(89,"translate"),u.Vb(),u.Rb(90,"br"),u.Rb(91,"br"),u.Oc(92),u.mc(93,"translate"),u.Vb(),u.Vb(),u.Wb(94,"mat-expansion-panel"),u.Wb(95,"mat-expansion-panel-header"),u.Oc(96),u.mc(97,"translate"),u.Wb(98,"div",99),u.Wb(99,"span",100),u.Oc(100),u.mc(101,"translate"),u.Vb(),u.Wb(102,"span",101),u.Oc(103),u.mc(104,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Wb(105,"div",37),u.Oc(106),u.mc(107,"translate"),u.Rb(108,"br"),u.Rb(109,"br"),u.Oc(110),u.mc(111,"translate"),u.Rb(112,"br"),u.Rb(113,"br"),u.Oc(114),u.mc(115,"translate"),u.Rb(116,"br"),u.Rb(117,"br"),u.Oc(118),u.mc(119,"translate"),u.Vb(),u.Vb(),u.Wb(120,"mat-expansion-panel"),u.Wb(121,"mat-expansion-panel-header"),u.Oc(122),u.mc(123,"translate"),u.Wb(124,"div",99),u.Wb(125,"span",100),u.Oc(126),u.mc(127,"translate"),u.Vb(),u.Wb(128,"span",101),u.Oc(129),u.mc(130,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Wb(131,"div",37),u.Oc(132),u.mc(133,"translate"),u.Wb(134,"a",102),u.Oc(135),u.mc(136,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Wb(137,"mat-expansion-panel"),u.Wb(138,"mat-expansion-panel-header"),u.Oc(139),u.mc(140,"translate"),u.Wb(141,"div",99),u.Wb(142,"span",100),u.Oc(143),u.mc(144,"translate"),u.Vb(),u.Wb(145,"span",101),u.Oc(146),u.mc(147,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Wb(148,"div",37),u.Oc(149),u.mc(150,"translate"),u.Rb(151,"br"),u.Rb(152,"br"),u.Oc(153),u.mc(154,"translate"),u.Rb(155,"br"),u.Rb(156,"br"),u.Oc(157),u.mc(158,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Wb(159,"div",103),u.Wb(160,"div",43),u.Wb(161,"mat-checkbox",44),u.hc("ngModelChange",function(e){return u.Fc(a),u.lc().ptTermsandConditions=e}),u.Wb(162,"div",45),u.Oc(163),u.mc(164,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(165,"button",104),u.hc("click",function(){return u.Fc(a),u.lc().applyNow()}),u.Oc(166),u.mc(167,"translate"),u.Vb(),u.Vb()}if(2&e){var n=u.lc();u.Db(2),u.Pc(u.nc(3,54,"termsAndConditions.headerLabel.label1")),u.Db(5),u.Qc(" ",u.nc(8,56,"termsAndConditions.formLabel.label1")," "),u.Db(4),u.Qc("",u.nc(12,58,"termsAndConditions.formLabel.label8")," \u2193"),u.Db(3),u.Qc("",u.nc(15,60,"termsAndConditions.formLabel.label9")," \u2191"),u.Db(3),u.Qc(" ",u.nc(18,62,"termsAndConditions.pageDetails.para1"),""),u.Db(2),u.tc("href",n.appointmentCategory,u.Hc),u.Db(1),u.Pc(u.nc(21,64,"termsAndConditions.buttons.button_click_here")),u.Db(4),u.Qc(" ",u.nc(25,66,"termsAndConditions.formLabel.label2")," "),u.Db(4),u.Qc("",u.nc(29,68,"termsAndConditions.formLabel.label8")," \u2193"),u.Db(3),u.Qc("",u.nc(32,70,"termsAndConditions.formLabel.label9")," \u2191"),u.Db(3),u.Qc(" ",u.nc(35,72,"termsAndConditions.pageDetails.para2_1"),""),u.Db(4),u.Pc(u.nc(39,74,"termsAndConditions.pageDetails.para2_2")),u.Db(4),u.Qc("",u.nc(43,76,"termsAndConditions.pageDetails.para2_3")," "),u.Db(2),u.tc("href",n.appointmentCategory,u.Hc),u.Db(1),u.Pc(u.nc(46,78,"termsAndConditions.buttons.button_click_here")),u.Db(4),u.Qc(" ",u.nc(50,80,"termsAndConditions.formLabel.label3")," "),u.Db(4),u.Qc("",u.nc(54,82,"termsAndConditions.formLabel.label8")," \u2193"),u.Db(3),u.Qc("",u.nc(57,84,"termsAndConditions.formLabel.label9")," \u2191"),u.Db(3),u.Qc(" ",u.nc(60,86,"termsAndConditions.pageDetails.para3"),""),u.Db(2),u.tc("href",n.appointmentCategory,u.Hc),u.Db(1),u.Pc(u.nc(63,88,"termsAndConditions.buttons.button_click_here")),u.Db(6),u.Qc(" ",u.nc(69,90,"termsAndConditions.formLabel.label4")," "),u.Db(4),u.Qc("",u.nc(73,92,"termsAndConditions.formLabel.label8")," \u2193"),u.Db(3),u.Qc("",u.nc(76,94,"termsAndConditions.formLabel.label9")," \u2191"),u.Db(3),u.Qc(" ",u.nc(79,96,"termsAndConditions.pageDetails.para4_1")," "),u.Db(2),u.tc("href",n.appointmentCategory,u.Hc),u.Db(1),u.Pc(u.nc(82,98,"termsAndConditions.buttons.button_click_here")),u.Db(4),u.Qc(" ",u.nc(86,100,"termsAndConditions.pageDetails.para4_2")," "),u.Db(2),u.tc("href",n.appointmentCategory,u.Hc),u.Db(1),u.Pc(u.nc(89,102,"termsAndConditions.buttons.button_click_here")),u.Db(4),u.Qc(" ",u.nc(93,104,"termsAndConditions.pageDetails.para4_3")," "),u.Db(4),u.Qc(" ",u.nc(97,106,"termsAndConditions.formLabel.label5")," "),u.Db(4),u.Qc("",u.nc(101,108,"termsAndConditions.formLabel.label8")," \u2193"),u.Db(3),u.Qc("",u.nc(104,110,"termsAndConditions.formLabel.label9")," \u2191"),u.Db(3),u.Qc(" ",u.nc(107,112,"termsAndConditions.pageDetails.para5_1"),""),u.Db(4),u.Qc(" ",u.nc(111,114,"termsAndConditions.pageDetails.para5_2"),""),u.Db(4),u.Qc(" ",u.nc(115,116,"termsAndConditions.pageDetails.para5_3"),""),u.Db(4),u.Qc(" ",u.nc(119,118,"termsAndConditions.pageDetails.para5_4")," "),u.Db(4),u.Qc(" ",u.nc(123,120,"termsAndConditions.formLabel.label6")," "),u.Db(4),u.Qc("",u.nc(127,122,"termsAndConditions.formLabel.label8")," \u2193"),u.Db(3),u.Qc("",u.nc(130,124,"termsAndConditions.formLabel.label9")," \u2191"),u.Db(3),u.Qc(" ",u.nc(133,126,"termsAndConditions.pageDetails.para6"),""),u.Db(2),u.tc("href",n.attendCenter,u.Hc),u.Db(1),u.Pc(u.nc(136,128,"termsAndConditions.buttons.button_click_here")),u.Db(4),u.Qc(" ",u.nc(140,130,"termsAndConditions.formLabel.label7")," "),u.Db(4),u.Qc("",u.nc(144,132,"termsAndConditions.formLabel.label8")," \u2193"),u.Db(3),u.Qc("",u.nc(147,134,"termsAndConditions.formLabel.label9")," \u2191"),u.Db(3),u.Qc(" ",u.nc(150,136,"termsAndConditions.pageDetails.para8"),""),u.Db(4),u.Qc(" ",u.nc(154,138,"termsAndConditions.pageDetails.para9"),""),u.Db(4),u.Qc(" ",u.nc(158,140,"termsAndConditions.pageDetails.para10")," "),u.Db(4),u.tc("ngModel",n.ptTermsandConditions),u.Db(2),u.Pc(u.nc(164,142,"termsAndConditions.pageDetails.para7")),u.Db(2),u.tc("disabled",!n.ptTermsandConditions),u.Db(1),u.Qc(" ",u.nc(167,144,"termsAndConditions.buttons.button1")," ")}}var li,ci,ui=((ci=function(t){s(i,t);var n=c(i);function i(e,t,a,r){var o;return p(this,i),(o=n.call(this)).dialog=e,o.datePipe=t,o.contentfulService=a,o.translate=r,o.waitlistAllowed=h.A.allowed,o.waitlisted=h.A.waitlisted,o.statusOnTabChnaged="Active",o.CONSTANTS=h.c,o.viewRescheduledMsgFlag=!1,o.walkinCode=h.v,o.primeLongueCode=h.k,o.applicationDetail={},o.subVisaCategoryCode=[],o.applicationList=[],o.vacList=[],o.nationalityList=[],o.allConfiguration=[],o.inprogressApplications={},o.detailMode=!1,o.resendConfirmationLetterMsg=!1,o.cancelAppointmentMsg="",o.insuranceBox=!1,o.selectedIdx=1,o.rescheduledDetails={rescheduledTime:"-",rescheduledDate:""},o.checkAndLoadTravelInsurance(),o.ptWarningCheck=!1,o.ptImportantCheck=!1,o.ptTermsandConditions=!1,o.ptTermsAndConditionView=!1,o.ptWarningView=!1,o}return f(i,[{key:"checkAndLoadTravelInsurance",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contentfulService.getTravelInsurance();case 2:this.insuranceBox=e.sent;case 3:case"end":return e.stop()}},e,this)}))}},{key:"ngOnInit",value:function(){var e,t,a=this,n={dl_category:"pageview",dl_action:"pageview- dashboard",dl_label:this.utilityService.countrynameByIso(this.sessionService.countryCode),value:0};if(this.utilityService.fireCustomEvent(n),this.isPtFlow&&(this.ptWarningView=!0),this.viewRescheduledMsgFlag=!1,this.dataShareService.cartAmount.next("0"),this.sessionService.isRescheduleAptmntMode&&this.dataShareService.rescheduledData){this.selectedIdx=1;var i=(this.dataShareService.rescheduledData.appointmentTime?null===(t=null===(e=this.dataShareService.rescheduledData)||void 0===e?void 0:e.appointmentTime.split("-"))||void 0===t?void 0:t.shift():"-")||"",r=(this.dataShareService.rescheduledData.appointmentDate?this.datePipe.transform(this.dataShareService.rescheduledData.appointmentDate,"EEEE d, MMMM y"):"-")||"";this.rescheduledDetails.rescheduledTime=i,this.rescheduledDetails.rescheduledDate=r,this.viewRescheduledMsgFlag=!0,setTimeout(function(){a.viewRescheduledMsgFlag=!1,a.dataShareService.clearrescheduledData(),a.dataShareService.rescheduledData=null},5e3)}else this.selectedIdx=this.dataShareService.dashboardTab;this.sessionService.isRescheduleAptmntMode&&this.sessionService.clearApplicationDetails(),this.sessionService.setIsRescheduleAptmntMode(!1),this.sessionService.tempAppSchema&&this.sessionService.saveApplicationSchemaInBrowser(this.sessionService.tempAppSchema),this.getAllApplications(this.statusOnTabChnaged),1===this.selectedIdx&&(this.getAllApplications("Active"),setTimeout(function(){a.dataShareService.dashboardTab=0}))}},{key:"getApplicationData",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.commonService.getVacCenters(this.sessionService.appCultureCode);case 2:(t=e.sent)&&(this.vacList=t,this.sessionService.appCenterCode=t);case 4:case"end":return e.stop()}},e,this)}))}},{key:"openDialog",value:function(e){var t=this;try{var a=new za.e;a.data={dialogDisplay:"small",body:"dashboard.pageDetails.para6",translateBody:!0,rightButton:"dashboard.buttons.button1",translateRightButton:!0,leftButton:"commonSections.buttons.button3",translateLeftButton:!0};var n=this.dialog.open($a.a,a);this.subs.sink=n.afterClosed().subscribe(function(a){a&&t.deleteApplication({applicationAlphId:e.applicationAlphId,applicantGroupAlphId:e.applicantGroupAlphId})})}catch(i){console.log(i)}}},{key:"deleteApplication",value:function(e){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.httpService.doPost(h.c.api.deleteApplication,e).toPromise().then(function(e){return e}).catch(function(e){throw new Error(e)});case 3:this.getAllApplications(this.statusOnTabChnaged),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new Error(t.t0);case 9:case"end":return t.stop()}},t,this,[[0,6]])}))}},{key:"applyNow",value:function(){this.isPtFlow&&0==this.ptTermsAndConditionView?(this.ptTermsAndConditionView=!0,this.ptWarningView=!1):(this.utilityService.pushDataLayerGA({dl_event:"dashboard_page",dl_category:"Dashboard Page",dl_action:"Start New Booking",dl_label:"cta_click"}),this.utilityService.resetSchema(),this.contentfulService.loadDecimalAllowed(),this.utilityService.clearInProgressApplication(),this.sessionService.clearSessionOnDashboardRoute(),this.dataShareService.cartAmount.next("0"),this.commonService.routeToPostLoginModuleByIndex(0),this.ptTermsAndConditionView=!1)}},{key:"getInprogressApplication",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.sessionService.applicationDetailCopy&&(this.sessionService.applicationDetailValue=this.sessionService.applicationDetailCopy),!(t=this.sessionService.applicationDetailValue)){e.next=11;break}return t.vacCode=null==t?void 0:t.centerCode,e.next=7,this.getSubvisaCategoryCode([t]);case 7:return e.next=9,this.utilityService.getNameFromCode(this.subVisaCategoryCode,t.visaCategoryCode);case 9:a=e.sent,this.inprogressApplications=t,this.inprogressApplications.visaCategoryName=a;case 11:this.utilityService.stopNgxUiSpinner(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}},e,this,[[0,14]])}))}},{key:"modifyResponse",value:function(e){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a,n,i,r,o,s,l,c,u,d,m,p,b;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,a=Array.from(e),n=0,i=a;case 3:if(!(n<i.length)){t.next=20;break}return r=i[n],o=this.cancelAllowed(r.vacCode),s=this.isRescheduleAllowed(r.vacCode),l=this.utilityService.getnationalityName(this.nationalityList,r.countryCode),c=this.utilityService.getnationalityName(this.nationalityList,r.missionCode),u=this.utilityService.getNameFromCode(this.subVisaCategoryCode,r.visaCategoryCode),d=this.utilityService.filterVacFromCode(this.vacList,r.vacCode,"centerName"),m=this.utilityService.filterVacFromCode(this.vacList,r.vacCode,"address"),p=!(this.commonService.checkIfPostal(r.applicationType)||this.commonService.checkIfOWA(r.applicationType)||r.isWaitlist),t.next=15,Promise.all([o,s,l,c,u,d,m,p]);case 15:b=t.sent,r.rescheduleAllowed=b[1],r.cancellationAllowed=b[0],r.countryName=b[2],r.missionName=b[3],r.visaCategoryName=b[4],r.vacAddress=b[6],r.vacCodeName=b[5],r.isAppointment=b[7];case 17:n++,t.next=3;break;case 20:return t.abrupt("return",a);case 23:t.prev=23,t.t0=t.catch(0),console.log(t.t0);case 26:case"end":return t.stop()}},t,this,[[0,23]])}))}},{key:"scheduleWaitlist",value:function(t){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function a(){var n,i,r,o,s,l;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return this.utilityService.resetSchema(),n=e(this.allConfiguration).filter(function(e){return e.vacCode===(null==t?void 0:t.vacCode)}),this.sessionService.applicationConfiguration=n[0],this.sessionService.applicationDetailValue&&(this.sessionService.applicationDetailCopy=this.sessionService.applicationDetailValue),i=this.getApplicationDetails(t),this.sessionService.applicationDetailValue=i,r=this.commonService.getSchemaByModuleName(h.c.modules.ELIGIBILITY_CRITERIA),this.saveEligibilityToSession(i,r),o=this.sessionService.getApplicationSchema(),s=[h.c.modules.BOOK_APPOINTMENT,h.c.modules.SERVICES,h.c.modules.REVIEW_PAYMENT],l=o.modules.filter(function(e){return s.indexOf(e.logicalName)>-1}),o.modules=l,this.sessionService.tempAppSchema=this.sessionService.getApplicationSchema(),this.sessionService.clearAppointmentDetail(),this.sessionService.saveApplicationSchemaInBrowser(o),this.sessionService.setIsWaitlistScheduleMode(!0),this.sessionService.urn=t.urn,a.next=16,this.checkSlotAvailability(null==t?void 0:t.vacCode,null==t?void 0:t.visaCategoryCode);case 16:this.route(h.c.modules.BOOK_APPOINTMENT);case 17:case"end":return a.stop()}},a,this)}))}},{key:"cancelAllowed",value:function(t){var a=!0,n=e(this.allConfiguration).filter(function(e){return e.vacCode===t});return 0===n.length||n[0].hasOwnProperty("cancellationEnabled")&&!1===n[0].cancellationEnabled?a=!1:n[0].hasOwnProperty("cancellationEnabled")&&!0===n[0].cancellationEnabled&&(a=!0),a}},{key:"preloadData",value:function(t){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function a(){var n=this;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new Promise(function(a,i){return Object(g.b)(n,void 0,void 0,regeneratorRuntime.mark(function n(){var i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=e(new Set(t.map(function(e){return e.vacCode}))),n.next=3,this.getSubvisaCategoryCode(t);case 3:return n.next=5,this.loadConfiguration(i);case 5:return n.next=7,this.getApplicationData();case 7:return n.next=9,this.loadNationality();case 9:a(!0);case 10:case"end":return n.stop()}},n,this)}))}));case 1:case"end":return a.stop()}},a)}))}},{key:"filterVacFromCode",value:function(e,t){if(!(this.vacList.length<0)){var a=this.vacList.filter(function(t){return t.isoCode===e});return a.length>0?a[0][t]:""}}},{key:"continueApplications",value:function(){var e=this;try{var t,a=this.sessionService.getAllModulesSchema(),n=a.findIndex(function(t){return t.logicalName===e.sessionService.completedModuleName});n>-1&&(n<a.length-1?t=a[n+1]:n===a.length-1&&(t=a[n]),t&&this.commonService.routeToPostLoginModule(t.routeUrl))}catch(i){console.log(i)}}},{key:"existInprogress",get:function(){return Object.keys(this.inprogressApplications).length}},{key:"getSubvisaCategoryCode",value:function(t){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function a(){var n=this;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.abrupt("return",new Promise(function(a,i){return Object(g.b)(n,void 0,void 0,regeneratorRuntime.mark(function n(){var i,r=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:i=[],t.forEach(function(e){i.push(r.commonService.getSubVisaCategories(e.vacCode,e.parentVisaCategoryCode))}),this.subs.sink=Object(At.a)(i).subscribe(function(t){var n,i=(n=[]).concat.apply(n,e(t));r.subVisaCategoryCode=i,a(i)});case 2:case"end":return n.stop()}},n,this)}))}));case 4:a.prev=4,a.t0=a.catch(0),console.log("Error Status: ".concat(a.t0.status,"\nMessage: ").concat(a.t0.message," : ").concat(a.t0.error.data));case 7:case"end":return a.stop()}},a,null,[[0,4]])}))}},{key:"isRescheduleAllowed",value:function(t){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function a(){var n,i;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n=!0,i=e(this.allConfiguration).filter(function(e){return e.vacCode===t}),a.abrupt("return",((0===i.length||i[0].hasOwnProperty("rescheduleEnabled")&&!1===i[0].rescheduleEnabled||i[0].hasOwnProperty("noOfRescheduleEligible")&&"0"===String(i[0].noOfRescheduleEligible))&&(n=!1),n));case 6:a.prev=6,a.t0=a.catch(0),console.log(a.t0);case 9:case"end":return a.stop()}},a,this,[[0,6]])}))}},{key:"loadConfiguration",value:function(t){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function a(){var n=this;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.abrupt("return",new Promise(function(a,i){return Object(g.b)(n,void 0,void 0,regeneratorRuntime.mark(function n(){var i,r=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:i=[],t.forEach(function(e){i.push(r.commonService.loadVacConfiguration(e))}),this.subs.sink=Object(At.a)(i).pipe(Object(tn.a)(function(e){return e.map(function(e,a){e.vacCode=t[a]}),e})).subscribe(function(t){var n,i=(n=[]).concat.apply(n,e(t));r.allConfiguration=i,a(i)});case 2:case"end":return n.stop()}},n,this)}))}));case 4:a.prev=4,a.t0=a.catch(0),console.log("Error Status: ".concat(a.t0.status,"\nMessage: ").concat(a.t0.message," : ").concat(a.t0.error.data));case 7:case"end":return a.stop()}},a,null,[[0,4]])}))}},{key:"travelInsurance",get:function(){return this.utilityService.externalUrlAppend("travel-insurance")}},{key:"getnationalityName",value:function(e){return this.utilityService.getnationalityName(this.nationalityList,e)}},{key:"loadNationality",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.commonService.loadNationality();case 2:this.nationalityList=e.sent;case 3:case"end":return e.stop()}},e,this)}))}},{key:"checkSlotAvailability",value:function(e,t){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function a(){var n,i,r;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n={applicantsCount:1,slotType:2,days:y.a.slotDaysEnabled,centerCode:e,visaCategoryCode:t,fromDate:this.commonService.formatDateDMY(this.utilityService.momentInstance().add(1,"days").format("YYYY-MM-DD")),toDate:this.commonService.formatDateDMY(this.utilityService.momentInstance().add(y.a.slotDaysEnabled+1,"days").format("YYYY-MM-DD"))},a.next=4,this.commonService.loadAppointmentSlots(n);case 4:(i=a.sent)&&i.length>0&&(r=i[0].date?this.utilityService.momentInstance(i[0].date,"MM/DD/YYYY").format("DD/MM/YYYY"):null,this.sessionService.latestSlotAvailiable=r||""),a.next=11;break;case 8:throw a.prev=8,a.t0=a.catch(0),a.t0;case 11:case"end":return a.stop()}},a,this,[[0,8]])}))}},{key:"getAllApplications",value:function(e){try{"Active"===e?this.getActiveApplicationList():this.getInprogressApplication()}catch(t){console.log(t)}}},{key:"getActiveApplicationList",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a,n,i,r,o,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.utilityService.startNgxUiSpinner(),t.next=3,this.httpService.payloadPost(h.c.api.getActiveApplication,{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,loginUser:this.sessionService.getLoggedEmail(),languageCode:this.sessionService.appCultureCode}).toPromise().then(function(e){return e}).catch(function(e){return e});case 3:if(!(a=t.sent).data){t.next=16;break}return this.allConfiguration=[],n=e(new Set(a.data.map(function(e){return e.vacCode}))),i=this.getSubvisaCategoryCode(a.data),r=this.loadConfiguration(n),o=this.getApplicationData(),s=this.loadNationality(),t.next=9,Promise.all([i,r,o,s]);case 9:return t.next=11,this.modifyResponse(a.data);case 11:this.applicationList=t.sent,this.utilityService.fireCustomEvent({dl_category:"navigate",dl_action:"dashboard pageview",dl_label:"".concat(this.applicationList.length>0?this.applicationList.length:"no"," appointments"),value:0}),this.utilityService.stopNgxUiSpinner(),t.next=17;break;case 16:this.applicationList=[],this.utilityService.stopNgxUiSpinner();case 17:case"end":return t.stop()}},t,this)}))}},{key:"displayDetail",value:function(e){var t,a,n,i;this.utilityService.pushDataLayerGA({dl_event:"dashboard_page",dl_category:"Dashboard Page",dl_action:"Manage Appointment",dl_label:"cta_click"}),this.detailMode=!0,this.applicationDetail=e;var r=null===(n=null===(a=null===(t=this.applicationDetail)||void 0===t?void 0:t.applicants[0])||void 0===a?void 0:a.appointment)||void 0===n?void 0:n.appoinmentDate;this.appointmentDateFormat=this.utilityService.momentInstance(r,"DD/MM/YYYY").format(null===(i=this.dateFormat)||void 0===i?void 0:i.toUpperCase()),this.commonService.checkIfPostal(e.applicationType)&&this.fetchAddress()}},{key:"fetchAddress",value:function(){var e,t;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i,r,o,s,l;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.applicationDetail.isAppointment||!this.applicationDetail.applicants){n.next=25;break}i=a(this.applicationDetail.applicants),n.prev=2,i.s();case 4:if((r=i.n()).done){n.next=17;break}return(o=r.value).postalList=[],n.next=9,this.httpService.payloadPost(h.c.api.getAddress,{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,centerCode:this.applicationDetail.vacCode,loginUser:this.sessionService.getLoggedEmail(),aurn:null==o?void 0:o.arn}).toPromise().then(function(e){return e}).catch(function(e){return e});case 9:if(!(s=n.sent)||(o.postalList.push(s),this.commonService.checkIfPrepaidCourier(null===(e=null==o?void 0:o.postalList[0])||void 0===e?void 0:e.courierType))){n.next=15;break}return n.next=13,this.httpService.slashParamsDoGet(h.c.api.masterState,{countryCode:this.sessionService.countryCode}).toPromise();case 13:l=n.sent,o.postalList[0].state=this.utilityService.getStateNameFromISOcode(l,null===(t=null==o?void 0:o.postalList[0])||void 0===t?void 0:t.state);case 15:n.next=4;break;case 17:n.next=22;break;case 19:n.prev=19,n.t0=n.catch(2),i.e(n.t0);case 22:return n.prev=22,i.f(),n.finish(22);case 25:case"end":return n.stop()}},n,this,[[2,19,22,25]])}))}},{key:"printAppointmentLetter",value:function(e){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.httpService.payloadPost(h.c.api.downloadPdf,{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,loginUser:this.sessionService.getLoggedEmail(),urn:e,cultureCode:""}).toPromise().then(function(e){return e}).catch(function(e){return e});case 2:a=t.sent,this.utilityService.showFile(a);case 4:case"end":return t.stop()}},t,this)}))}},{key:"resendConfirmationLetter",value:function(e){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.httpService.payloadPost(h.c.api.emailPdf,{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,loginUser:this.sessionService.getLoggedEmail(),urn:e,cultureCode:this.sessionService.appCultureCode}).toPromise().then(function(e){return e}).catch(function(e){return e});case 2:if(t.t0=t.sent.IsAppointmentLetterEmailSend,!t.t0){t.next=5;break}document.body.scrollTop=document.documentElement.scrollTop=0,this.resendConfirmationLetterMsg=!0,setTimeout(function(){a.resendConfirmationLetterMsg=!1},5e3);case 5:case"end":return t.stop()}},t,this)}))}},{key:"cancelAppointment",value:function(t,a){var n;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function i(){var r,o,s=this;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:(r=new za.e).data={urnvalue:t,isReschedulingAllowed:null===(n=this.applicationDetail)||void 0===n?void 0:n.rescheduleAllowed},o=this.dialog.open(en,r),this.subs.sink=o.afterClosed().subscribe(function(n){return Object(g.b)(s,void 0,void 0,regeneratorRuntime.mark(function i(){var r,o,s,l,c=this;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!n){i.next=10;break}if("cancel"!==n.data){i.next=9;break}return o={countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,cultureCode:this.sessionService.appCultureCode,loginUser:this.sessionService.getLoggedEmail(),urn:t},i.next=5,this.httpService.payloadPost(h.c.api.cancelAppointment,o).toPromise().then(function(e){return e}).catch(function(e){return e});case 5:(s=i.sent)&&(l=e(this.allConfiguration).filter(function(e){return e.vacCode===(null==a?void 0:a.vacCode)}),s.IsAppointmentCancelled?this.utilityService.translationService("dashboard.messages.cancelAppointment.message1").then(function(e){c.cancelAppointmentMsg=e}):this.cancelAppointmentMsg=s.error.description.replace(" X "," ".concat(null===(r=l[0])||void 0===r?void 0:r.allowRescheduleXDaysPriorToAppointment," ")),this.back(),setTimeout(function(){c.getAllApplications("Active")},1e3),setTimeout(function(){c.cancelAppointmentMsg=""},1e4)),i.next=10;break;case 9:"reschedule"===n.data&&this.rescheduleAppointment(a);case 10:case"end":return i.stop()}},i,this)}))});case 4:case"end":return i.stop()}},i,this)}))}},{key:"cancelWaitlist",value:function(e){var t;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function a(){var n,i=this;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n=null===(t=this.dialog)||void 0===t?void 0:t.open(this.changeAppointmentModal,{disableClose:!0,restoreFocus:!0}),this.subs.sink=n.afterClosed().subscribe(function(t){return Object(g.b)(i,void 0,void 0,regeneratorRuntime.mark(function a(){var n,i,r=this;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if("true"!==t){a.next=6;break}return n={countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,centerCode:this.applicationDetail.vacCode,cultureCode:this.sessionService.appCultureCode,loginUser:this.sessionService.getLoggedEmail(),urn:e},a.next=4,this.httpService.payloadPost(h.c.api.cancelWaitlist,n).toPromise().then(function(e){return e}).catch(function(e){return e});case 4:(i=a.sent)&&(i.isCancelled?this.utilityService.translationService("dashboard.messages.cancelAppointment.message2").then(function(e){r.cancelAppointmentMsg=e}):this.cancelAppointmentMsg=i.error.description,this.back(),setTimeout(function(){r.getAllApplications("Active")},1e3),setTimeout(function(){r.cancelAppointmentMsg=""},1e4));case 6:case"end":return a.stop()}},a,this)}))});case 2:case"end":return a.stop()}},a,this)}))}},{key:"rescheduleAppointment",value:function(t){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function a(){var n,i,r,o,s,l;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n=e(this.allConfiguration).filter(function(e){return e.vacCode===(null==t?void 0:t.vacCode)}),this.sessionService.applicationConfiguration=n[0],a.next=5,this.checkSlotAvailability(null==t?void 0:t.vacCode,null==t?void 0:t.visaCategoryCode);case 5:this.sessionService.applicationDetailValue&&(this.sessionService.applicationDetailCopy=this.sessionService.applicationDetailValue),i=this.getApplicationDetails(t),this.sessionService.applicationDetailValue=i,r=this.commonService.getSchemaByModuleName(h.c.modules.ELIGIBILITY_CRITERIA),this.saveEligibilityToSession(i,r),o=this.sessionService.getApplicationSchema(),s=[h.c.modules.BOOK_APPOINTMENT,h.c.modules.REVIEW_PAYMENT],l=o.modules.filter(function(e){return s.indexOf(e.logicalName)>-1}),o.modules=l,this.sessionService.tempAppSchema=this.sessionService.getApplicationSchema(),this.sessionService.saveApplicationSchemaInBrowser(o),this.sessionService.setIsRescheduleAptmntMode(!0),this.sessionService.urn=t.urn,this.route(h.c.modules.BOOK_APPOINTMENT),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),console.log(a.t0);case 17:case"end":return a.stop()}},a,this,[[0,14]])}))}},{key:"saveAppointmentDetails",value:function(e){try{var t;t=e.categoryCode.indexOf(this.primeLongueCode)>-1?"Premium Longue":e.categoryCode.indexOf(this.walkinCode)>-1?"Walk-in Anytime":"Standard";var a={appointmentSlotType:parseFloat(e.slotType),slotTypeName:t,slotType:e.categoryCode,date:String(e.appoinmentDate).split("/").reverse().join("-"),time:String(e.appointmentTime),allocationId:e.allocationId};return this.sessionService.saveAppointmentDetails(a),!0}catch(n){throw n}}},{key:"getApplicationDetails",value:function(e){for(var t=this.initApplicationDetails(),a=0,n=Object.keys(e);a<n.length;a++){var i=n[a];t.hasOwnProperty(i)&&(t[i]=e[i])}return t.centerCode=e.vacCode,t.selectedSubvisaCategory=e.visaCategoryCode,e.applicants=e.applicants.map(function(t){return Object.assign(Object.assign({},t),{urn:e.urn})}),t.applicantList=e.applicants,t}},{key:"initApplicationDetails",value:function(){var e,t,a,n,i=(null===(t=null===(e=this.sessionService)||void 0===e?void 0:e.applicationConfiguration)||void 0===t?void 0:t.enableApplicationType)?"":void 0,r=(null===(n=null===(a=this.sessionService)||void 0===a?void 0:a.applicationConfiguration)||void 0===n?void 0:n.enableServiceType)?"":void 0;return{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,centerCode:"",loginUser:this.sessionService.getLoggedEmail()||"",visaCategoryCode:"",isEdit:!1,applicantList:[],languageCode:this.sessionService.appCultureCode,applicationType:i,serviceType:r}}},{key:"saveEligibilityToSession",value:function(e,t){try{var n,i={},r=a(t.controls);try{for(r.s();!(n=r.n()).done;){var o,s=a(n.value.fields);try{for(s.s();!(o=s.n()).done;){var l=o.value;-1===h.c.BUTTON_CONTROLS_LIST.indexOf(l.fieldType)&&-1===h.c.NON_INTERACTIVE_CONTROLS.indexOf(l.fieldType)&&(i[l.displayName]=e[l.logicalName])}}catch(c){s.e(c)}finally{s.f()}}}catch(c){r.e(c)}finally{r.f()}return this.sessionService.eligibilityDetails=i,this.sessionService.centerCode=e.centerCode,this.sessionService.visaSubCategory=e.visaCategoryCode,this.sessionService.visaCategory="-",!0}catch(u){throw u}}},{key:"route",value:function(e){try{var t=this.commonService.getSchemaByModuleName(e);this.commonService.routeToPostLoginModule(t.routeUrl)}catch(a){console.log(a)}}},{key:"tabChanged",value:function(e){this.statusOnTabChnaged=0===e.index?"InProgress":"Active",this.getAllApplications(this.statusOnTabChnaged)}},{key:"back",value:function(){this.detailMode=!1,this.applicationDetail={},this.statusOnTabChnaged="Active"}},{key:"updateCategory",value:function(e){var t=this.getApplicationDetails(e);this.sessionService.applicationDetailValue=t,this.sessionService.urn=e.urn,this.commonService.routeToPostLoginModule(h.c.modules.UPDATE_CATEGORY)}},{key:"checkIfDisabled",value:function(){return!(!this.isPtFlow||this.isPtFlow&&this.ptImportantCheck&&this.ptWarningCheck)}},{key:"getLinkUrl",value:function(){var e=this;return this.translate.get("termsAndConditions.urls.link1").subscribe(function(t){e.urlLink=t}),this.urlLink}}]),i}(S.a)).\u0275fac=function(e){return new(e||ci)(u.Qb(za.b),u.Qb(D.e),u.Qb(ve.a),u.Qb(I.e))},ci.\u0275cmp=u.Kb({type:ci,selectors:[["app-dashboard"]],viewQuery:function(e,t){var a;1&e&&u.Uc(fn,1),2&e&&u.Ac(a=u.ic())&&(t.changeAppointmentModal=a.first)},features:[u.Ab],decls:6,vars:3,consts:[["class","container py-15 py-md-30",3,"ngClass",4,"ngIf"],["class","container py-15 py-md-30",4,"ngIf"],["viewChangeAppointmentModal",""],[1,"container","py-15","py-md-30"],["class","container",4,"ngIf"],[1,"container","py-15","py-md-30",3,"ngClass"],[1,"card-accordion","mx-auto","d-flex","flex-column",2,"min-height","calc(100vh - 190px)"],[1,"row","mb-10","mb-md-25"],[1,"col-12"],["class","border-info mt-20","style","border-left: 5px solid",4,"ngIf"],[1,"col-12","col-sm-auto","d-lg-none"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],[1,"position-relative"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-brand-orange","d-none","d-lg-inline-block","position-absolute","top-n3","right-0","z-index-999",3,"disabled","click"],["animationDuration","0ms",1,"mat-tab-group-brand",3,"selectedIndex","selectedIndexChange","selectedTabChange"],[3,"label"],[4,"ngIf"],["class","row",4,"ngIf"],[1,"border-info","mt-20",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-info-circle","fs-24","position-absolute","left-15","top-18","mb-0"],["class","card mb-20",4,"ngFor","ngForOf","ngForTrackBy"],[1,"card","mb-20"],[1,"card-header","bg-brand-footer","px-15","px-lg-30"],[1,"mt-10","mb-25"],[1,"fs-18","fs-sm-24","mb-15"],[1,"row","fs-md-18"],["class","col-12 col-md mb-15 c-brand-grey-para",4,"ngIf"],[1,"col-12","col-md-auto","mb-15"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer",3,"click"],["class","row fs-md-18",4,"ngIf"],[1,"my-5","mx-n30"],[1,"pt-15","fs-md-18","ff-700","mb-5"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-md","mb-15","c-brand-grey-para"],["class","col-12 col-md-auto mb-15",4,"ngIf"],[1,"pt-15","fs-md-18","mb-10"],[1,"c-brand-grey-para"],[1,"row"],[1,"col-12","mt-30"],[1,"fs-18"],[1,"c-brand-grey-para","fs-sm-18"],[1,"form-group"],[1,"pl-35"],["type","checkbox",1,"mat-checkbox-brand","ml-n35",3,"ngModel","ngModelChange"],[1,"fs-sm-18","text-wrap","mr-5"],[1,"row","mt-auto",3,"type"],[1,"c-brand-orange","fs-18","mb-20"],[1,"cursor-pointer",3,"click"],[1,"fa","fa-arrow-left"],[1,"col-12","col-lg-8","col-xl-8"],[1,"fs-18","fs-sm-24","mb-25"],["class","c-brand-grey-para fs-18 fs-md-22 mb-15",4,"ngIf"],["class","row no-gutters fs-16",4,"ngIf"],[1,"dashboard-accordion","card"],[1,"card-header","bg-brand-footer"],[1,"fs-18","fs-md-22"],["class","c-brand-grey-para w-100 fs-16 fs-md-18 mt-15",4,"ngFor","ngForOf","ngForTrackBy"],[3,"translate"],[1,"c-brand-grey-para","fs-18","fs-md-22","mb-15"],[1,"row","no-gutters","fs-16"],[1,"col-12","col-md-6","my-20"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"],["class","row no-gutters mt-10 fs-16",4,"ngIf"],[1,"row","no-gutters","mt-10","fs-16"],["class","col-12 col-md-6 my-15 pl-35",4,"ngIf"],[1,"col-12","col-md-6","my-15","pl-35"],[1,"fa","fa-times-circle-o","fs-25","c-brand-blue-light","position-absolute","top-n3","left-0"],[1,"c-brand-grey-para","text-decoration-underline"],["class","ff-700 fs-18 mt-25",4,"ngIf"],[1,"my-20","c-brand-grey-para","fs-16","fs-md-18","lh-md-26"],["class","fs-16 fs-md-18",4,"ngIf"],[1,"my-20"],[1,"ff-700","fs-18","mt-25"],[1,"fs-16","fs-md-18"],[1,"fa","fa-clock-o","fs-25","c-brand-blue-light","position-absolute","top-n3","left-0"],[1,"c-brand-grey-para","text-decoration-underline","cursor-pointer"],[1,"fa","fa-arrow-circle-o-right","fs-25","c-brand-blue-light","position-absolute","top-n3","left-0"],[1,"fa","fa-print","fs-25","c-brand-blue-light","position-absolute","top-n3","left-0"],[1,"c-brand-grey-para","w-100","fs-16","fs-md-18","mt-15"],["colspan","2",1,"ff-500","py-8","c-brand-blue-light"],[1,"py-8"],[1,"py-8","w-wrap-break-all"],["colspan","2"],["colspan","2",1,"py-8"],[1,"col-12","col-lg-4","col-xl-4","mt-35","mt-lg-0",3,"type"],[1,"mat-modal-delete-document"],[1,"position-absolute","top-10","right-10"],["matDialogClose","false",1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999"],["alt","","aria-label","Close",1,"cursor-pointer",3,"src"],[1,"fs-18","fs-sm-21","mb-10"],[1,"fa","fa-exclamation-triangle","mr-5"],[1,"fs-sm-17","c-brand-grey-para","mb-30"],[1,"col-12","col-sm-6","col-sm"],["mat-stroked-button","","matDialogClose","false",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mb-10","mb-sm-0"],["mat-stroked-button","","matDialogClose","true",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","mb-10","mb-sm-0"],[1,"container"],[1,"mb-30"],[1,"vm-vl-accordion"],[1,"c-brand-orange","ml-auto","text-nowrap"],[1,"vm-link","text-decoration-underline"],[1,"vl-link","text-decoration-underline"],["target","_blank",1,"c-brand-orange","text-decoration-underline",3,"href"],[1,"form-group","my-40"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"]],template:function(e,t){1&e&&(u.Mc(0,xn,22,19,"section",0),u.Mc(1,ri,25,21,"section",1),u.Mc(2,oi,21,13,"ng-template",null,2,u.Nc),u.Wb(4,"section",3),u.Mc(5,si,168,146,"div",4),u.Vb()),2&e&&(u.tc("ngIf",t.isPtFlow&&0==t.ptTermsAndConditionView||!t.isPtFlow),u.Db(1),u.tc("ngIf",t.applicationDetail&&(null==t.applicationDetail.applicants?null:t.applicationDetail.applicants.length)>0&&t.detailMode),u.Db(4),u.tc("ngIf",t.ptTermsAndConditionView))},directives:[D.o,D.m,O.a,an.b,an.a,D.n,A.a,b.q,b.t,pn,bn.a,bn.c,bn.d,I.a,za.d],pipes:[I.d],encapsulation:2}),ci),di=((li=function(e){s(a,e);var t=c(a);function a(e,n,i){var r;return p(this,a),(r=t.call(this)).dialog=e,r.data=n,r.dialogRef=i,r}return f(a,[{key:"close",value:function(){this.dialogRef.close()}}]),a}(S.a)).\u0275fac=function(e){return new(e||li)(u.Qb(za.b),u.Qb(za.a),u.Qb(za.h))},li.\u0275cmp=u.Kb({type:li,selectors:[["app-same-passport-modal"]],features:[u.Ab],decls:16,vars:8,consts:[[1,"mat-modal-delete-document"],[1,"position-absolute","top-10","right-10"],[1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"fs-18","fs-sm-21"],[1,"fa","fa-exclamation-triangle","mr-5"],[1,"my-20"],[1,"fs-sm-17","c-brand-grey-para","mb-30"],[1,"row"],[1,"col-12","col-sm"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mb-10","mb-sm-0",3,"click"]],template:function(e,t){1&e&&(u.Wb(0,"div",0),u.Wb(1,"div",1),u.Wb(2,"button",2),u.hc("click",function(){return t.close()}),u.Rb(3,"img",3),u.Vb(),u.Vb(),u.Wb(4,"h4",4),u.Rb(5,"i",5),u.Oc(6),u.mc(7,"translate"),u.Vb(),u.Rb(8,"hr",6),u.Wb(9,"p",7),u.Oc(10),u.Vb(),u.Wb(11,"div",8),u.Wb(12,"div",9),u.Wb(13,"button",10),u.hc("click",function(){return t.close()}),u.Oc(14),u.mc(15,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.Db(3),u.vc("src","",t.getGlobalImagePath,"/close-btn.png",u.Hc),u.Db(3),u.Qc(" ",u.nc(7,4,"commonSections.headerLabel.label3")," "),u.Db(4),u.Pc(t.data),u.Db(4),u.Qc(" ",u.nc(15,6,"commonSections.buttons.button19")," "))},directives:[O.a],pipes:[I.d],encapsulation:2}),li),mi=i("z+xu"),pi=["captchaContainer"];function bi(e,t){if(1&e&&(u.Wb(0,"div",4),u.Oc(1),u.mc(2,"translate"),u.Rb(3,"countdown",5,6),u.Vb()),2&e){var a=u.lc();u.Db(1),u.Qc(" ",u.nc(2,2,"header.headerLabel.label17"),""),u.Db(2),u.tc("config",a.configg)}}function fi(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"div",12),u.Wb(2,"div",13),u.Wb(3,"div",14),u.Wb(4,"div",15),u.Rb(5,"i",16),u.Vb(),u.Rb(6,"div",17),u.Vb(),u.Vb(),u.Vb(),u.Tb()),2&e){var a=u.lc(2);u.Db(6),u.tc("translate",a.errorDescription)}}function vi(e,t){if(1&e){var a=u.Xb();u.Wb(0,"div",30),u.Wb(1,"div",31),u.Wb(2,"div",32),u.Oc(3,"\u2713"),u.Vb(),u.Oc(4),u.Vb(),u.Wb(5,"div",33),u.hc("click",function(){return u.Fc(a),(0,u.lc().openFileSelector)()}),u.Oc(6),u.mc(7,"translate"),u.Vb(),u.Vb()}if(2&e){var n=t.$implicit;u.Db(4),u.Qc(" ",n.relativePath," "),u.Db(2),u.Qc(" ",u.nc(7,2,"eligibilityCriteria.buttons.button3")," ")}}function gi(e,t){if(1&e&&(u.Wb(0,"div",23),u.Wb(1,"div",24),u.Wb(2,"h5",25),u.Wb(3,"span"),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Wb(6,"span",26),u.Oc(7," *"),u.Vb(),u.Vb(),u.Wb(8,"div",27),u.Wb(9,"button",28),u.hc("click",function(){return(0,t.openFileSelector)()}),u.Oc(10),u.mc(11,"translate"),u.Vb(),u.Vb(),u.Mc(12,vi,8,4,"div",29),u.Vb(),u.Vb()),2&e){var a=u.lc(3);u.Db(4),u.Pc(u.nc(5,3,"eligibilityCriteria.placeholder.label10")),u.Db(6),u.Qc(" ",u.nc(11,5,"eligibilityCriteria.buttons.button2")," "),u.Db(2),u.tc("ngForOf",a.files)}}function hi(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"div",34),u.Wb(2,"div",35),u.Oc(3),u.Vb(),u.Vb(),u.Tb()),2&e){var a=u.lc(3);u.Db(3),u.Qc(" ",a.dragFleError," ")}}function yi(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Wb(1,"div",18),u.Rb(2,"i",19),u.Wb(3,"span"),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Rb(6,"div"),u.Vb(),u.Wb(7,"div",20),u.Wb(8,"ngx-file-drop",21),u.hc("onFileDrop",function(e){return u.Fc(a),u.lc(2).dropped(e)}),u.Mc(9,gi,13,7,"ng-template",22),u.Vb(),u.Vb(),u.Mc(10,hi,4,1,"ng-container",3),u.Tb()}if(2&e){var n=u.lc(2);u.Db(4),u.Pc(u.nc(5,3,"applicantInformation.pageDetails.para7")),u.Db(4),u.tc("multiple",!1),u.Db(2),u.tc("ngIf",n.dragFleError)}}function Si(e,t){1&e&&(u.Wb(0,"div",36),u.Wb(1,"div",18),u.Rb(2,"i",19),u.Wb(3,"div"),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.Db(4),u.Pc(u.nc(5,1,"applicantInformation.messages.errorMessages.message36")))}function Ci(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"h5",37),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Tb()),2&e){var a=u.lc(2);u.Db(2),u.Rc(" ",u.nc(3,2,"applicantInformation.pageDetails.para1")," ",a.isEditModeFlag?a.editApplicantIndex+1:(null==a.applicationDetails||null==a.applicationDetails.applicantList?null:a.applicationDetails.applicantList.length)+1," ")}}function Di(e,t){if(1&e&&(u.Wb(0,"h5",38),u.Oc(1),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.Rc(" ",null==a.currentFormGroup||null==a.currentFormGroup.value?null:a.currentFormGroup.value.firstName," ",null==a.currentFormGroup||null==a.currentFormGroup.value?null:a.currentFormGroup.value.lastName," ")}}function Ii(e,t){if(1&e){var a=u.Xb();u.Wb(0,"i",50),u.hc("click",function(){u.Fc(a);var e=u.lc().index;return u.lc(3).editApplicantDetails(e)}),u.Vb()}}function Vi(e,t){if(1&e){var a=u.Xb();u.Wb(0,"div",42),u.Wb(1,"div",43),u.Wb(2,"div",44),u.Wb(3,"div",45),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Wb(6,"div",46),u.Oc(7),u.Vb(),u.Vb(),u.Wb(8,"div",47),u.Wb(9,"i",48),u.hc("click",function(){u.Fc(a);var e=t.index;return u.lc(3).openDialog(e)}),u.Vb(),u.Mc(10,Ii,1,0,"i",49),u.Vb(),u.Vb(),u.Vb()}if(2&e){var n=t.$implicit,i=t.index,r=u.lc(3);u.Db(4),u.Rc("",u.nc(5,5,"applicantInformation.pageDetails.para1")," ",i+1,""),u.Db(3),u.Rc("",null==n?null:n.firstName," ",null==n?null:n.lastName,""),u.Db(3),u.tc("ngIf",!r.isDocumentUploadEnabled&&!r.isNationalVisaEdit(n))}}function ki(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Mc(1,Vi,11,7,"div",39),u.Wb(2,"div",40),u.Wb(3,"button",41),u.hc("click",function(){return u.Fc(a),u.lc(2).addApplicant()}),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Vb(),u.Tb()}if(2&e){var n=u.lc(2);u.Db(1),u.tc("ngForOf",null==n.applicationDetails?null:n.applicationDetails.applicantList)("ngForTrackBy",n.trackByFn),u.Db(2),u.tc("disabled",n.disableAddApplicant),u.Db(1),u.Qc(" ",u.nc(5,4,"commonSections.buttons.button32")," ")}}function Ai(e,t){1&e&&(u.Wb(0,"div"),u.Wb(1,"p",57),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()),2&e&&(u.Db(2),u.Pc(u.nc(3,1,"applicantInformation.para.label2")))}function Oi(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Wb(1,"h2",52),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Wb(4,"div",53),u.Wb(5,"div",54),u.Wb(6,"mat-checkbox",55),u.hc("ngModelChange",function(e){return u.Fc(a),u.lc(3).isChild=e})("ngModelChange",function(e){return u.Fc(a),u.lc(3).onIsChildSelection(e)}),u.Wb(7,"span",56),u.Oc(8),u.mc(9,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Mc(10,Ai,4,3,"div",3),u.Vb(),u.Tb()}if(2&e){var n=u.lc(3);u.Db(2),u.Rc(" ",u.nc(3,5,"applicantInformation.pageDetails.para1")," ",n.isEditModeFlag?n.editApplicantIndex+1:(null==n.applicationDetails||null==n.applicationDetails.applicantList?null:n.applicationDetails.applicantList.length)+1," "),u.Db(4),u.tc("ngModel",n.isChild),u.Db(2),u.Pc(u.nc(9,7,"applicantInformation.pageDetails.para2")),u.Db(2),u.tc("ngIf",n.isChild)}}function Ti(e,t){if(1&e){var a=u.Xb();u.Wb(0,"form",58),u.Wb(1,"app-dynamic-form",59),u.hc("formGroupCopy",function(e){return u.Fc(a),u.lc(3).postPageLoadActivities(e,!0)}),u.Vb(),u.Vb()}if(2&e){var n=u.lc(3);u.tc("formGroup",n.currentFormGroup),u.Db(1),u.tc("scope",n.scope)("schema",n.currentModule)}}function Li(e,t){if(1&e&&(u.Ub(0),u.Mc(1,Oi,11,9,"ng-container",3),u.Mc(2,Ti,2,3,"form",51),u.Tb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",a.viewIsChildFlag),u.Db(1),u.tc("ngIf",a.isChild||!a.isDocumentUploadEnabled||a.isEditModeFlag&&(null==a.applicationDetails||null==a.applicationDetails.applicantList?null:a.applicationDetails.applicantList.length)>0||a.isDocumentUploadEnabled&&a.documentextracted)}}function wi(e,t){if(1&e&&(u.Wb(0,"mat-card",7),u.Wb(1,"p",8),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Wb(4,"h1",9),u.Oc(5),u.mc(6,"translate"),u.Vb(),u.Mc(7,fi,7,1,"ng-container",3),u.Mc(8,yi,11,5,"ng-container",3),u.Mc(9,Si,6,3,"div",10),u.Mc(10,Ci,4,4,"ng-container",3),u.Mc(11,Di,2,2,"h5",11),u.Mc(12,ki,6,6,"ng-container",3),u.Mc(13,Li,3,2,"ng-container",3),u.Vb()),2&e){var a=u.lc();u.Db(2),u.Qc(" ",u.nc(3,9,a.viewApplicantsListFlag?"applicantInformation.para.label3":"applicantInformation.para.label1")," "),u.Db(3),u.Pc(u.nc(6,11,a.currentModule.displayName)),u.Db(2),u.tc("ngIf",a.errorDescription),u.Db(1),u.tc("ngIf",a.isDocumentUploadEnabled&&!a.viewApplicantsListFlag&&!a.isEditModeFlag&&!a.isChild),u.Db(1),u.tc("ngIf",a.disableAddApplicant&&!a.isEditModeFlag&&!a.isPtFlow),u.Db(1),u.tc("ngIf",!a.viewApplicantsListFlag&&!a.viewIsChildFlag&&(!a.isDocumentUploadEnabled||a.isEditModeFlag&&(null==a.applicationDetails||null==a.applicationDetails.applicantList?null:a.applicationDetails.applicantList.length)>0||a.isDocumentUploadEnabled&&a.documentextracted)),u.Db(1),u.tc("ngIf",a.isEditModeFlag&&(null==a.applicationDetails||null==a.applicationDetails.applicantList?null:a.applicationDetails.applicantList.length)>0),u.Db(1),u.tc("ngIf",a.viewApplicantsListFlag&&(null==a.applicationDetails||null==a.applicationDetails.applicantList?null:a.applicationDetails.applicantList.length)>0),u.Db(1),u.tc("ngIf",!a.viewApplicantsListFlag)}}function Ni(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"mat-card",60),u.Rb(2,"app-dynamic-form",61),u.Vb(),u.Tb()),2&e){var a=u.lc();u.Db(2),u.tc("scope",a.scope)("schema",a.currentModuleButtons)}}var xi=function(e){return{amount:e}};function Mi(e,t){if(1&e&&(u.Wb(0,"div",71),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e){var a=u.lc(3);u.Db(1),u.Qc(" ",u.oc(2,1,"commonSections.messages.infoMessages.message2",u.xc(4,xi,a.serviceFees))," ")}}function Ei(e,t){if(1&e&&(u.Wb(0,"div",71),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e){var a=u.lc(3);u.Db(1),u.Qc(" ",u.oc(2,1,"commonSections.messages.infoMessages.message3",u.xc(4,xi,a.serviceFees))," ")}}function Wi(e,t){if(1&e){var a=u.Xb();u.Wb(0,"div",72),u.Wb(1,"div",71),u.Wb(2,"mat-checkbox",73),u.hc("ngModelChange",function(e){return u.Fc(a),u.lc(3).payServiceFeeOnline=e}),u.Oc(3),u.mc(4,"translate"),u.Vb(),u.Vb(),u.Vb()}if(2&e){var n=u.lc(3);u.Db(2),u.tc("ngModel",n.payServiceFeeOnline),u.Db(1),u.Qc(" ",u.nc(4,2,"applicantInformation.formLabel.label20")," ")}}function Pi(e,t){if(1&e&&(u.Wb(0,"div"),u.Wb(1,"div",66),u.Wb(2,"div",67),u.Wb(3,"div",14),u.Wb(4,"div",15),u.Rb(5,"i",68),u.Vb(),u.Mc(6,Mi,3,6,"div",69),u.Rb(7,"br"),u.Mc(8,Ei,3,6,"div",69),u.Rb(9,"br"),u.Vb(),u.Mc(10,Wi,5,4,"div",70),u.Vb(),u.Vb(),u.Vb()),2&e){var a=u.lc(2);u.Db(6),u.tc("ngIf",a.payOnlineMode),u.Db(2),u.tc("ngIf",!a.payOnlineMode),u.Db(2),u.tc("ngIf",a.isOnlineFeesPaymentOptional)}}function Fi(e,t){if(1&e){var a=u.Xb();u.Wb(0,"button",81),u.hc("click",function(){return u.Fc(a),u.lc(4).sendOTP("OTP Send",!0)}),u.Oc(1),u.mc(2,"translate"),u.Vb()}2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"applicantInformation.buttons.button1")," "))}function _i(e,t){1&e&&(u.Wb(0,"div",94),u.Wb(1,"div",95),u.Rb(2,"i",96),u.Wb(3,"div"),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.Db(4),u.Pc(u.nc(5,1,"applicantInformation.messages.errorMessages.message34")))}function Ri(e,t){1&e&&(u.Wb(0,"div",94),u.Wb(1,"div",95),u.Rb(2,"i",96),u.Wb(3,"div"),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.Db(4),u.Pc(u.nc(5,1,"applicantInformation.messages.errorMessages.message35")))}var Gi=function(e){return{createOTPLimit:e}};function Ui(e,t){if(1&e){var a=u.Xb();u.Wb(0,"div",82),u.Wb(1,"div",83),u.Mc(2,_i,6,3,"div",84),u.Mc(3,Ri,6,3,"div",84),u.Vb(),u.Wb(4,"div",85),u.Wb(5,"div",86),u.Wb(6,"div"),u.Oc(7),u.mc(8,"translate"),u.Vb(),u.Wb(9,"div",87),u.Oc(10),u.mc(11,"translate"),u.Rb(12,"br"),u.Oc(13),u.mc(14,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Wb(15,"div",88),u.Wb(16,"div",86),u.Wb(17,"mat-form-field",89),u.Wb(18,"input",90),u.hc("ngModelChange",function(e){return u.Fc(a),u.lc(4).enteredOTP=e}),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(19,"div",91),u.Wb(20,"button",81),u.hc("click",function(){return u.Fc(a),u.lc(4).verifyOTP()}),u.Oc(21),u.mc(22,"translate"),u.Vb(),u.Vb(),u.Wb(23,"div",92),u.Wb(24,"span",93),u.hc("click",function(){return u.Fc(a),u.lc(4).sendOTP("OTP Resend",!0)}),u.Oc(25),u.mc(26,"translate"),u.Vb(),u.Vb(),u.Vb()}if(2&e){var n=u.lc(4);u.Db(2),u.tc("ngIf",1==n.OTPUnsuccess&&0==n.OTPSuccess),u.Db(1),u.tc("ngIf",1==n.otpLimitExceed),u.Db(4),u.Pc(u.nc(8,8,"applicantInformation.pageDetails.para4")),u.Db(3),u.Qc(" ",u.nc(11,10,"applicantInformation.pageDetails.para5")," "),u.Db(3),u.Qc(" ",u.oc(14,12,"applicantInformation.pageDetails.para6",u.xc(19,Gi,n.createOTPLimit))," "),u.Db(5),u.tc("ngModel",n.enteredOTP),u.Db(3),u.Qc(" ",u.nc(22,15,"applicantInformation.buttons.button2")," "),u.Db(4),u.Pc(u.nc(26,17,"applicantInformation.formLabel.label22"))}}function Bi(e,t){1&e&&(u.Wb(0,"div",97),u.Wb(1,"div",98),u.Wb(2,"div",99),u.Oc(3),u.mc(4,"translate"),u.Vb(),u.Wb(5,"div",100),u.Oc(6),u.mc(7,"translate"),u.Vb(),u.Wb(8,"div",101),u.Wb(9,"div",102),u.Rb(10,"i",96),u.Wb(11,"div"),u.Oc(12),u.mc(13,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.Db(3),u.Pc(u.nc(4,3,"applicantInformation.pageDetails.para4")),u.Db(3),u.Qc(" ",u.nc(7,5,"applicantInformation.messages.successMessages.message1")," "),u.Db(6),u.Pc(u.nc(13,7,"applicantInformation.messages.successMessages.message2")))}function ji(e,t){if(1&e&&(u.Wb(0,"div",75),u.Wb(1,"h2",76),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Wb(4,"p",8),u.Oc(5),u.mc(6,"translate"),u.Vb(),u.Wb(7,"div",77),u.Mc(8,Fi,3,3,"button",78),u.Vb(),u.Mc(9,Ui,27,21,"div",79),u.Mc(10,Bi,14,9,"div",80),u.Vb()),2&e){var a=u.lc(3);u.Db(2),u.Pc(u.nc(3,5,"applicantInformation.subHeaderLabel.label1")),u.Db(3),u.Pc(u.nc(6,7,"applicantInformation.pageDetails.para3")),u.Db(3),u.tc("ngIf",!a.OTPHandler),u.Db(1),u.tc("ngIf",1==a.OTPHandler&&0==a.OTPSuccess),u.Db(1),u.tc("ngIf",1==a.OTPSuccess)}}function Yi(e,t){if(1&e&&(u.Wb(0,"mat-card",7),u.Mc(1,ji,11,9,"div",74),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",1==a.IsOTPEnable)}}function Qi(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Wb(1,"mat-card",60),u.Mc(2,Pi,11,3,"div",3),u.Mc(3,Yi,2,1,"mat-card",2),u.Wb(4,"div",62),u.Wb(5,"div",63),u.Wb(6,"button",64),u.hc("click",function(){return u.Fc(a),u.lc().goBack()}),u.Oc(7),u.mc(8,"translate"),u.Vb(),u.Vb(),u.Wb(9,"div",63),u.Wb(10,"button",65),u.hc("click",function(){return u.Fc(a),u.lc().continue()}),u.Oc(11),u.mc(12,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Tb()}if(2&e){var n=u.lc();u.Db(2),u.tc("ngIf",n.isBannerDisplayed),u.Db(1),u.tc("ngIf",1==n.OTPCard),u.Db(4),u.Qc(" ",u.nc(8,5,"commonSections.buttons.button8")," "),u.Db(3),u.tc("disabled",n.checkIfDisabled()),u.Db(1),u.Qc(" ",u.nc(12,7,"commonSections.buttons.button19")," ")}}var qi,Hi=["captcha_version","captcha_key_applicant"],Ki=((qi=function(e){s(n,e);var t=c(n);function n(e){var a;return p(this,n),(a=t.call(this)).dialog=e,a.submitAttempt=!1,a.maxCallTime=12,a.files=[],a.scope=d(a),a.viewApplicantsListFlag=!1,a.isEditModeFlag=!1,a.isChild=!1,a.constants=h.c,a.OTPHandler=!1,a.OTPSuccess=!1,a.OTPUnsuccess=!1,a.OTPCard=!1,a.otpInProgress=!1,a.otpLimitExceed=!1,a.initBaseForm(h.c.modules.APPLICANT_DETAILS),a.isEditingFromSamePage=!1,a.feesAmount=0,a.serviceFees="",a.applicationDetails={},a.editApplicantIndex=0,a.config={},a.currentPageEditFlag=!1,a.payServiceFeeOnline=!1,a.allowedCaptcha=!1,a.documentextracted=!1,a.dragFleError="",a.errorDescription="",a.currentCaptcha=a.captchaVersionConst.default,a.IsOTPEnable=!1,a}return f(n,[{key:"ngOnInit",value:function(){this.commonService.loadClientIp(),this.utilityService.fireCustomEvent({dl_category:"applicants details",dl_action:"applicant details pageview",dl_label:1,value:0});var e=this.sessionService.onlineFeePaymentModeOpted;this.payServiceFeeOnline=null===e||e,this.config=this.sessionService.applicationConfiguration,this.applicationDetails=this.sessionService.applicationDetailValue,this.IsOTPEnable=this.sessionService.IsOTPEnable,this.setEditModeFlag(this.checkIsEditMode()),this.timeLeft=String(360),this.isPtFlow?this.start():this.handleFeesCalls(),this.registerOnPageLoadCompleteListener()}},{key:"start",value:function(){this.configg={leftTime:this.timeLeft,format:"mm:ss",demand:!1},this.commonService.autoLogout(360)}},{key:"checkCaptchaAllowed",value:function(){var e=this;this.subs.sink=this.dataShareService.captchaAllowedRoutes.subscribe(function(t){return Object(g.b)(e,void 0,void 0,regeneratorRuntime.mark(function e(){var a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t?(this.allowedCaptcha=t.find(function(e){return h.c.api.applicant.includes(e.api_url)}),this.allowedCaptcha&&this.sessionService.captchaMode===this.captchaVersionConst.alternate&&(this.currentCaptcha=this.captchaVersionConst.alternate,Hi.forEach(function(e){a.currentFormGroup.addControl(e,new b.f("",b.x.required))}),setTimeout(function(){return Object(g.b)(a,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.captchaContainer.generateToken();case 2:t=e.sent,this.utilityService.patchCaptchaValueForApplicants(this.currentFormGroup,t,this.captchaVersionConst.default);case 4:case"end":return e.stop()}},e,this)}))},1e3))):this.allowedCaptcha=!1;case 1:case"end":return e.stop()}},e,this)}))})}},{key:"setRefNoValidation",value:function(){var e;try{var t=(null===(e=this.config)||void 0===e?void 0:e.GRNValidRegExpression)||null;return null!==t?t:"^([a-zA-Z0-9]{12,14})+$"}catch(a){this.logger.error(a)}}},{key:"setGovtRefNoValidation",value:function(e){try{if(this.utilityService.strictCompare(this.sessionService.countryCode.toLowerCase(),"usa")&&this.utilityService.strictCompare(this.sessionService.tenent.toLowerCase(),"ind")){var t=this.sessionService.eligibilityDetails,a=(null==t?void 0:t.hasOwnProperty(e.value))?t[e.value]:void 0;if(void 0===a)throw new Error(h.d.INVALID_GOVT_REF_NMBR);return String(a).toLowerCase(),String(a).toUpperCase(),"^([0-9A-Za-z]{6})(".concat(Tt()().year().toString().substr(-2),"|").concat(Tt()().subtract(1,"year").year().toString().substr(-2),"|").concat(Tt()().add(1,"year").year().toString().substr(-2),")$")}}catch(n){throw this.logger.error(n),n}}},{key:"handleFeesCalls",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=null,e.t0=this.applicationDetails.applicantList.length>0,!e.t0){e.next=11;break}if(e.t1=!0===this.isOnlineFeesPaymentOptional,!e.t1){e.next=9;break}return e.next=8,this.getVfsServiceFees();case 8:t=e.sent;case 9:this.loadServiceFees(t),this.dataShareService.editYourDetail||this.setViewApplicantsList(!0);case 11:e.next=16;break;case 13:e.prev=13,e.t2=e.catch(0),this.logger.error(e.t2);case 16:case"end":return e.stop()}},e,this,[[0,13]])}))}},{key:"submitV2Captcha",value:function(e){this.utilityService.patchCaptchaValue(this.currentFormGroup,e,this.captchaVersionConst.alternate,"captcha_key_applicant")}},{key:"registerOnPageLoadCompleteListener",value:function(){var e=this;try{this.subs.sink=this.dataShareService.pageLoadComplete$.subscribe(function(t){var a,n,i;null==e.sessionService.editApplicantDetailsIdx||e.isEditingFromSamePage||(e.editApplicantIndex=e.sessionService.editApplicantDetailsIdx);var r=e.sessionService.applicationDetailValue;if(t&&0===(null===(a=null==r?void 0:r.applicantList)||void 0===a?void 0:a.length)&&e.currentFormGroup.value&&!e.sessionService.editApplicantDetailsIdx&&!e.isEditModeFlag){var o=e.sessionService.documentExtractionData;(null==o?void 0:o.length)>0&&e.currentFormGroup.patchValue(o[0])}if(e.documentextracted)for(var s in e.currentFormGroup.patchValue(e.extractedFields),e.extractedFields)null===(n=e.currentFormGroup.get(s))||void 0===n||n.enable(),e.extractedFields.hasOwnProperty(s)&&null!==e.extractedFields[s]&&(null===(i=e.currentFormGroup.get(s))||void 0===i||i.disable());e.isEditModeFlag&&e.updateFormForEdit(),t&&e.onEditMode()})}catch(t){console.log(t)}}},{key:"dropped",value:function(e){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.urlGeneration(e);case 2:this.sessionService.clearDocumentExtration(),e.forEach(function(t,n){t.fileEntry.isFile&&t.fileEntry.file(function(t){return Object(g.b)(a,void 0,void 0,regeneratorRuntime.mark(function a(){var n,i,r,o=this;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return","pdf"!==(null===(r=null===(i=null===(n=null==t?void 0:t.name)||void 0===n?void 0:n.split("."))||void 0===i?void 0:i.pop())||void 0===r?void 0:r.toLowerCase())?(this.errorDescription="applicantInformation.messages.errorMessages.message39",void setTimeout(function(){return o.errorDescription=""},5e3)):t.size>2097152?(this.errorDescription="applicantInformation.messages.errorMessages.message38",void setTimeout(function(){return o.errorDescription=""},5e3)):new Promise(function(a,n){var i=new FileReader;i.readAsDataURL(t),i.onload=function(){return Object(g.b)(o,void 0,void 0,regeneratorRuntime.mark(function t(){var r,o,s,l,c,u,d,m,p=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return d={urn:(null===(o=null===(r=this.applicationDetails)||void 0===r?void 0:r.applicantList)||void 0===o?void 0:o.length)>0?null===(s=this.sessionService)||void 0===s?void 0:s.urn:"",missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.centerCode,loginUser:this.sessionService.getLoggedEmail(),fileBytes:null===(c=null===(l=i.result)||void 0===l?void 0:l.toString())||void 0===c?void 0:c.split("base64,")[1]},t.next=3,this.httpService.payloadPost(h.c.api.uploadDocument,d).toPromise();case 3:if(null!==(null==(m=t.sent)?void 0:m.error)){t.next=11;break}return this.files=e,t.next=8,this.checkForResult(m);case 8:a(m),t.next=12;break;case 11:this.errorDescription=null===(u=null==m?void 0:m.error)||void 0===u?void 0:u.description,setTimeout(function(){return p.errorDescription=""},5e3),n(m);case 12:case"end":return t.stop()}},t,this)}))}}));case 1:case"end":return a.stop()}},a,this)}))})});case 4:case"end":return t.stop()}},t,this)}))}},{key:"checkForResult",value:function(e){var t,a,n;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function i(){var r,o,s;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:try{if(e){for(s in this.documentextracted=!0,null!==(null==e?void 0:e.dateOfBirth)&&(r=e.dateOfBirth.split("/"),e.dateOfBirth={year:Number(r[2]),month:Number(r[1]),day:Number(r[0])}),null!==(null==e?void 0:e.passportExpiryDate)?(o=null===(t=e.passportExpiryDate)||void 0===t?void 0:t.split("/"),e.passportExpirtyDate={year:Number(o[2]),month:Number(o[1]),day:Number(o[0])}):e.passportExpirtyDate=null,0===(null==e?void 0:e.gender)&&(e.gender=null),this.extractedFields=e,this.currentFormGroup.patchValue(e),e)null===(a=this.currentFormGroup.get(s))||void 0===a||a.enable(),e.hasOwnProperty(s)&&null!==e[s]&&(null===(n=this.currentFormGroup.get(s))||void 0===n||n.disable());this.utilityService.stopNgxUiSpinner()}}catch(l){this.utilityService.stopNgxUiSpinner()}case 1:case"end":return i.stop()}},i,this)}))}},{key:"urlGeneration",value:function(e){this.dragFleError=e.length>1?"Only one file at time allow":""}},{key:"isEditingFromSamePage",get:function(){return this.currentPageEditFlag},set:function(e){this.currentPageEditFlag=e}},{key:"checkIsEditMode",value:function(){try{return null!=this.sessionService.editApplicantDetailsIdx}catch(e){return console.log(e),!1}}},{key:"onEditMode",value:function(){try{var e=this.sessionService.editApplicantDetailsIdx,t=this.sessionService.applicationDetailValue;null!=e&&t&&t.applicantList.length>e&&this.editApplicantDetails(e)}catch(a){console.log(a)}}},{key:"appendReferenceNumber",value:function(e){var t,a;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.abrupt("return",(this.commonService.checkIfPostal(this.applicationDetails.applicationType)&&e.contains("centreCodeForRefenceNumber")&&e.contains("referenceNumber")&&(null===(t=e.get("referenceNumber"))||void 0===t||t.setValue(this.sessionService.centerCode+(null===(a=e.get("referenceNumber"))||void 0===a?void 0:a.value))),e));case 4:n.prev=4,n.t0=n.catch(0),this.logger.log(n.t0);case 7:case"end":return n.stop()}},n,this,[[0,4]])}))}},{key:"saveAndContinue",value:function(e,t){var a,n,i,r,o,s,l,c;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var u,d,m,p,b,f=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.submitAttempt=!0,this.currentFormGroup&&this.currentFormGroup.valid){t.next=5;break}return this.commonService.touchAllFields(this.currentFormGroup),u=document.querySelector(".form-error"),t.abrupt("return",void(null==u||u.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})));case 5:if(this.isEditModeFlag||!this.isDocumentUploadEnabled||this.documentextracted||this.isChild){t.next=8;break}return d=document.getElementById("error"),t.abrupt("return",(null==d||d.scrollIntoView({behavior:"smooth",block:"center"}),this.errorDescription="applicantInformation.messages.errorMessages.message37",void setTimeout(function(){return f.errorDescription=""},4e3)));case 8:return t.next=10,this.appendReferenceNumber(this.currentFormGroup);case 10:this.sessionService.updateFees=!0,this.tempurl=e,m={dl_category:"Applicants Details",dl_action:"Form Submission - Applicant Details",dl_label:(null===(a=this.applicationDetails)||void 0===a?void 0:a.applicantList.length)+1,value:void 0},this.utilityService.fireCustomEvent(m),this.isPtFlow||this.config.isPassportExpiryDateDisabled||(p=(null===(i=null===(n=this.currentFormGroup.value)||void 0===n?void 0:n.passportExpirtyDate)||void 0===i?void 0:i.day)+"/"+(null===(o=null===(r=this.currentFormGroup.value)||void 0===r?void 0:r.passportExpirtyDate)||void 0===o?void 0:o.month)+"/"+(null===(l=null===(s=this.currentFormGroup.value)||void 0===s?void 0:s.passportExpirtyDate)||void 0===l?void 0:l.year)),b={dl_event:"your_details",dl_category:"Your Details",dl_action:"Save",dl_label:"Successful","Current Nationality":this.currentFormGroup.value.nationalityCode,"Passport Number":this.currentFormGroup.value.passportNumber,"Passport Expiry Date":this.isPtFlow||(null===(c=this.config)||void 0===c?void 0:c.isPassportExpiryDateDisabled)?null:p,"Contact Number":this.currentFormGroup.value.contactNumber,Email:this.currentFormGroup.value.emailId},this.utilityService.pushDataLayerGA(b),this.saveApplicant(),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),console.log(t.t0);case 21:case"end":return t.stop()}},t,this,[[0,18]])}))}},{key:"saveApplicant",value:function(){var e;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a,n,i,r,o,s,l,c,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=this.currentFormGroup.getRawValue(),!this.isPtFlow&&this.commonService.checkIfPostal(null===(e=this.applicationDetails)||void 0===e?void 0:e.applicationType)&&delete a.centreCodeForRefenceNumber,null===a.gender&&(a.gender=0),this.commonService.loadClientIp(),n=this.constructApplicantDetails(a),i=this.constructSingleApplicantApplicationDetails(this.applicationDetails,n),this.utilityService.startNgxUiSpinner(),r=JSON.parse(JSON.stringify(i)),!this.isPtFlow){t.next=8;break}return t.abrupt("return",(this.updateApplicationDetailsLocally(r),this.routeNext(),void this.utilityService.stopNgxUiSpinner()));case 8:return t.next=10,this.saveApplicantToDB(this.tempurl,r);case 10:if(o=t.sent,this.tempurl=null,o.hasOwnProperty("error")&&null===o.error){t.next=15;break}throw o.hasOwnProperty("error")&&o.error.code&&(s=o.error.description,1037===o.error.code&&(this.subs.sink=this.translateService.get("applicantInformation.messages.infoMessages.message2").subscribe(function(e){return s=e})),this.utilityService.stopNgxUiSpinner(),this.showErrorMsgPopup(s,o.error.code)),l=this.splitReferenceNumber(this.currentFormGroup.value),this.currentFormGroup.patchValue(l),new Error(o.error.description);case 15:return this.applicationDetails.applicantList.push(n),c=this.updateUrnAndArn(this.applicationDetails,o),this.updateApplicationDetailsLocally(c),u=null,t.next=21,this.viewApplicationSummary();case 21:if(t.t0=!0===this.isOnlineFeesPaymentOptional,!t.t0){t.next=26;break}return t.next=25,this.getVfsServiceFees();case 25:u=t.sent;case 26:return t.next=28,this.loadServiceFees(u);case 28:this.utilityService.stopNgxUiSpinner(),t.next=36;break;case 31:if(t.prev=31,t.t1=t.catch(0),this.utilityService.stopNgxUiSpinner(),this.allowedCaptcha){t.next=35;break}return t.abrupt("return");case 35:y.a.captchaFallbackEnabled&&(this.currentCaptcha=this.captchaVersionConst.alternate,this.utilityService.formcontrolReset(this.currentFormGroup,Hi),this.utilityService.resetCaptcha());case 36:case"end":return t.stop()}},t,this,[[0,31]])}))}},{key:"addApplicant",value:function(){var e;this.sessionService.clearEditApplicationIdx(),this.setEditModeFlag(!1),this.setViewApplicantsList(!1);var t={dl_category:"Applicants Details",dl_action:"Add Applicant from Your Details Page",dl_label:(null===(e=this.applicationDetails)||void 0===e?void 0:e.applicantList.length)+1,value:void 0};this.utilityService.fireCustomEvent(t)}},{key:"isAddApplicantAllowed",get:function(){var e,t;return(null===(t=null===(e=this.applicationDetails)||void 0===e?void 0:e.applicantList)||void 0===t?void 0:t.length)<this.config.allowMaxGroupSize}},{key:"updateApplicant",value:function(e,t){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.currentFormGroup&&this.currentFormGroup.valid){t.next=5;break}return this.commonService.touchAllFields(this.currentFormGroup),a=document.querySelector(".form-error"),t.abrupt("return",void(null==a||a.scrollIntoView({behavior:"smooth",block:"center"})));case 5:if(!(this.editApplicantIndex>=this.applicationDetails.applicantList.length)){t.next=7;break}throw new Error("error: invalid_data_index_passed");case 7:return t.next=9,this.appendReferenceNumber(this.currentFormGroup);case 9:this.tempurl=e,this.updateApplicants(),this.utilityService.pushDataLayerGA({dl_event:"your_details",dl_category:"Your Details",dl_action:"Update",dl_label:"page_url"}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0);case 17:case"end":return t.stop()}},t,this,[[0,14]])}))}},{key:"updateApplicants",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a,n,i,r,o,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.currentFormGroup.value,this.commonService.checkIfPostal(this.applicationDetails.applicationType)&&delete t.centreCodeForRefenceNumber,a=this.constructApplicantDetails(t,this.applicationDetails.applicantList[this.editApplicantIndex]),n=this.constructSingleApplicantApplicationDetails(this.applicationDetails,a,!0),this.utilityService.startNgxUiSpinner(),i=JSON.parse(JSON.stringify(n)),e.next=8,this.saveApplicantToDB(this.tempurl,i);case 8:if(r=e.sent,this.tempurl=null,r.hasOwnProperty("error")&&null===r.error){e.next=13;break}throw r.hasOwnProperty("error")&&r.error.code&&(o=r.error.description,1037===r.error.code&&(this.subs.sink=this.translateService.get("applicantInformation.messages.infoMessages.message2").subscribe(function(e){return o=e})),this.utilityService.stopNgxUiSpinner(),this.showErrorMsgPopup(o)),s=this.splitReferenceNumber(this.currentFormGroup.value),this.currentFormGroup.patchValue(s),new Error(r);case 13:return this.applicationDetails.applicantList[this.editApplicantIndex]=a,this.updateApplicationDetailsToSession(this.applicationDetails),e.next=17,this.viewApplicationSummary();case 17:if(this.sessionService.updateFees=!0,l=null,e.t0=!0===this.isOnlineFeesPaymentOptional,!e.t0){e.next=24;break}return e.next=23,this.getVfsServiceFees();case 23:l=e.sent;case 24:return e.next=26,this.loadServiceFees(l);case 26:this.utilityService.stopNgxUiSpinner(),e.next=32;break;case 29:e.prev=29,e.t1=e.catch(0),console.log(e.t1);case 32:case"end":return e.stop()}},e,this,[[0,29]])}))}},{key:"showErrorMsgPopup",value:function(e,t){var a=this;try{var n=this.dialog.open(di,{data:e});this.subs.sink=n.afterClosed().subscribe(function(e){return Object(g.b)(a,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))}),this.subs.sink=this.router.events.subscribe(function(){n.close()})}catch(i){console.log(i)}}},{key:"saveApplicantToDB",value:function(e,t){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,this.httpService.payloadPost(e,t).toPromise().then(function(e){return e}).catch(function(e){throw e});case 3:return a.abrupt("return",a.sent);case 6:throw a.prev=6,a.t0=a.catch(0),a.t0;case 9:case"end":return a.stop()}},a,this,[[0,6]])}))}},{key:"updateFeeAmount",value:function(e){this.utilityService.updateTotalFees(e),this.sessionService.feeAmount=e}},{key:"getVfsServiceFees",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.centerCode,loginUser:this.sessionService.getLoggedEmail(),urn:this.sessionService.urn},e.next=4,this.httpService.payloadPost(h.c.api.serviceFee,t).toPromise();case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(0),this.logger.error(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}))}},{key:"loadServiceFees",value:function(e){var t,a,n,i;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o,s,l,c;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,o=0,r.next=4,this.utilityService.loadFees();case 4:(s=r.sent)&&s.feeDetails&&(null===(t=s.feeDetails)||void 0===t?void 0:t.length)>0&&(this.sessionService.setCurrencyCode=(null==s?void 0:s.feeDetails[0].currency)||null,s.feeDetails&&0!==s.feeDetails.length&&(o=s.feeDetails.reduce(function(e,t){return e+t.feeAmount},0))),(null==(l=null===(a=null==s?void 0:s.feeDetails)||void 0===a?void 0:a.filter(function(e){return e.feeTypeCode===h.c.FEE_TYPE_CODES.VFSFEE}))?void 0:l.length)>0?(this.sessionService.setCurrencyCode=(null===(n=l[0])||void 0===n?void 0:n.currency)||null,c=l.reduce(function(e,t){return e+t.feeAmount},0),this.serviceFees=(null===(i=l[0])||void 0===i?void 0:i.currency)+" "+this.addZeroes(c),this.feesAmount=c):this.isOnlineFeesPaymentOptional&&e&&!(null==e?void 0:e.error)&&(this.sessionService.setCurrencyCode=(null==e?void 0:e.currency)||null,this.feesAmount=null==e?void 0:e.amount,this.serviceFees=(null==e?void 0:e.currency)+" "+this.addZeroes(null==e?void 0:e.amount),o=!0===this.payServiceFeeOnline?o+Number(null==e?void 0:e.amount):o),this.updateFeeAmount(o),r.next=14;break;case 11:throw r.prev=11,r.t0=r.catch(0),r.t0;case 14:case"end":return r.stop()}},r,this,[[0,11]])}))}},{key:"filterFees",value:function(e){var t=this;return e.filter(function(e){return t.utilityService.strictCompare(e.feeTypeCode,h.c.FEE_TYPE_CODES.VISAFEE)||t.utilityService.strictCompare(e.feeTypeCode,h.c.FEE_TYPE_CODES.VFSFEE)})}},{key:"addZeroes",value:function(e){var t=String(e).split(".").length>0?String(e).split(".")[1]:e,a=t&&t.length>2?t.length:2;return Number(e).toFixed(a)}},{key:"updatePayFeeOnlineFlag",value:function(e){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.centerCode,loginUser:this.sessionService.getLoggedEmail(),urn:this.sessionService.urn,feeTypeCode:e?[h.c.FEE_TYPE_CODES.VFSFEE]:[]},t.next=4,this.httpService.payloadPost(h.c.api.mapFee,a).toPromise();case 4:return t.abrupt("return",t.sent);case 7:t.prev=7,t.t0=t.catch(0),this.logger.error(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}))}},{key:"continue",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.sessionService.otpVerified,1!=this.IsOTPEnable||0!=this.OTPSuccess||0!=t){e.next=6;break}this.OTPCard=!0,this.otpInProgress=!0,this.utilityService.pushDataLayerGA({dl_event:"your_details",dl_category:"Your Details",dl_action:"Continue_Step-2",dl_label:"page_url"}),e.next=22;break;case 6:if(a=!0,!this.isOnlineFeesPaymentOptional||this.payServiceFeeOnline===this.sessionService.onlineFeePaymentModeOpted){e.next=21;break}return e.next=10,this.updatePayFeeOnlineFlag(this.payServiceFeeOnline);case 10:if(e.t0=e.sent.error,null===e.t0){e.next=15;break}a=!1,e.next=21;break;case 15:return this.sessionService.updateFees=!0,e.next=18,this.utilityService.loadFees();case 18:(n=e.sent)&&n.feeDetails?n.feeDetails&&n.feeDetails.length>0&&(i=n.feeDetails.reduce(function(e,t){return e+t.feeAmount},0),this.updateFeeAmount(i)):this.updateFeeAmount(0),this.sessionService.onlineFeePaymentModeOpted=this.payServiceFeeOnline;case 21:a&&this.routeNext();case 22:e.next=27;break;case 24:e.prev=24,e.t1=e.catch(0),this.logger.error(e.t1);case 27:case"end":return e.stop()}},e,this,[[0,24]])}))}},{key:"isOnlineFeesPaymentOptional",get:function(){return this.payOnlineMode=this.config.payOnlineEnabled,this.config.isMapFeeScreenRequired&&this.config.payOnlineEnabled}},{key:"goBack",value:function(){this.utilityService.pushDataLayerGA({dl_event:"your_details",dl_category:"Your Details",dl_action:"Go Back_Step-2",dl_label:"page_url"}),o(m(n.prototype),"routePrevious",this).call(this)}},{key:"editApplicantDetails",value:function(e){try{this.isEditingFromSamePage=!0,this.editApplicantIndex=e,this.setEditModeFlag(!0),this.setViewApplicantsList(!1),this.utilityService.fireCustomEvent({dl_category:"Applicants Details",dl_action:"edit Applicant from Your Details Page",dl_label:e,value:void 0})}catch(t){this.logger.error(t)}}},{key:"updateFormForEdit",value:function(){try{var e=this.applicationDetails.applicantList[this.editApplicantIndex],t=this.splitReferenceNumber(e);this.currentFormGroup.patchValue(t),this.isChild=e.isEndorsedChild}catch(a){console.log(a)}}},{key:"splitReferenceNumber",value:function(e){try{var t=JSON.parse(JSON.stringify(e));if(this.commonService.checkIfPostal(this.applicationDetails.applicationType)&&this.currentFormGroup.contains("centreCodeForRefenceNumber")&&this.currentFormGroup.contains("referenceNumber")){var a=e.referenceNumber;t.centreCodeForRefenceNumber=a.substr(0,4),t.referenceNumber=a.substr(4,a.length)}return t}catch(n){this.logger.log(n)}}},{key:"deleteApplicantDetails",value:function(e){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.commonService.deleteApplicantDetails(e);case 3:if(a=t.sent,this.applicationDetails=a,0===a.applicantList.length&&(this.utilityService.clearInProgressApplication(),this.commonService.routeToDashboard()),this.sessionService.updateFees=!0,n=null,t.t0=!0===this.isOnlineFeesPaymentOptional,!t.t0){t.next=11;break}return t.next=10,this.getVfsServiceFees();case 10:n=t.sent;case 11:this.loadServiceFees(n),t.next=17;break;case 14:t.prev=14,t.t1=t.catch(0),console.log(t.t1);case 17:case"end":return t.stop()}},t,this,[[0,14]])}))}},{key:"isEditMode",value:function(){return this.isEditModeFlag}},{key:"viewApplicationSummary",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.files=[],this.documentextracted=!1,this.setEditModeFlag(!1),this.setViewApplicantsList(!0),this.editApplicantIndex=0,this.isEditingFromSamePage=!1;case 1:case"end":return e.stop()}},e,this)}))}},{key:"updateApplicationDetailsLocally",value:function(e){this.applicationDetails=e,this.updateApplicationDetailsToSession(this.applicationDetails)}},{key:"onIsChildSelection",value:function(e){var t;try{if(this.isDocumentUploadEnabled){for(var a in this.currentFormGroup.reset(),this.extractedFields)null===(t=this.currentFormGroup.get(a))||void 0===t||t.enable();this.files=[],this.documentextracted=!1}this.isChildValidation(this.getFieldSchema("passportNumber")),this.isChildValidation(this.getFieldSchema("passportExpirtyDate"))}catch(n){console.log(n)}}},{key:"getFieldSchema",value:function(e){try{var t,n,i=a(this.currentModule.controls);try{for(i.s();!(n=i.n()).done;){var r,o=a(n.value.fields);try{for(o.s();!(r=o.n()).done;){var s=r.value;this.utilityService.strictCompare(s.logicalName,e)&&(t=s)}}catch(l){o.e(l)}finally{o.f()}}}catch(l){i.e(l)}finally{i.f()}return t}catch(c){throw c}}},{key:"isChildValidation",value:function(e){var t,a=this;try{if(this.isPtFlow)return;var n=this.currentFormGroup.get(e.logicalName);if(!n.value)return;var i="",r=this.applicationDetails.applicantList.find(function(t){return a.utilityService.strictCompare(e.fieldType,h.c.controls.Textbox)?(i="passportNoMissmatchTest",String(t.passportNumber).toLowerCase()===String(n.value).toLowerCase()):a.utilityService.strictCompare(e.fieldType,h.c.controls.Datepicker)?(i="passportExpiryMissmatchTest",0===a.utilityService.momentInstance(a.commonService.convertToMomentDate(t.passportExpirtyDate)).diff(a.commonService.convertToMomentDate(n.value),"day")):""}),o=null===(t=this.sessionService)||void 0===t?void 0:t.applicationConfiguration,s=!!(null==o?void 0:o.isPassportNoDisabled),l=!!(null==o?void 0:o.isPassportExpiryDateDisabled);if(!r&&this.isChild){var c={};c[i]=!0,n.setErrors(c)}else this.commonService.removeError(n,i);s&&this.commonService.removeError(n,"passportNoMissmatchTest"),l&&this.commonService.removeError(n,"passportExpiryMissmatchTest")}catch(u){console.log(u)}}},{key:"viewIsChildFlag",get:function(){var e,t;try{var a=null===(t=null===(e=this.applicationDetails)||void 0===e?void 0:e.applicantList)||void 0===t?void 0:t.length;return!0===this.config.enableEndorsedchild&&(!this.isEditModeFlag&&a>=1||this.isEditModeFlag&&this.editApplicantIndex>0)}catch(n){console.log(n)}}},{key:"openDialog",value:function(e){var t=this;try{var a=new za.e;a.data={header:"commonSections.headerLabel.label3",translateHeader:!0,dialogDisplay:"small",body:"applicantInformation.messages.infoMessages.message1",translateBody:!0,rightButton:"commonSections.buttons.button37",translateRightButton:!0,leftButton:"commonSections.buttons.button3",translateLeftButton:!0};var n=this.dialog.open($a.a,a);this.subs.sink=n.afterClosed().subscribe(function(a){a&&t.deleteApplicantDetails(Number(e))})}catch(i){console.log(i)}}},{key:"hideShowAsPerConfig",value:function(e,t,a,n){var i,r,o;try{this.config.isVLNEnabled=(null===(i=this.sessionService)||void 0===i?void 0:i.isVLNRequired)||!1,this.config.enableReferenceNumber=(null===(r=this.sessionService)||void 0===r?void 0:r.isGRNEnabled)&&(null===(o=this.config)||void 0===o?void 0:o.enableReferenceNumber);var s=this.config,l=!0,c=Object.values(n).pop(),u=h.a.indexOf(c)>-1;return c&&this.config.hasOwnProperty(c)&&!u&&(l=!s[c]),u&&(l=!(!(null==s?void 0:s.enableCourierAddress)||s[c])),l}catch(d){return console.log(d),!0}}},{key:"routePrevious",value:function(){try{this.utilityService.pushDataLayerGA({dl_event:"your_details",dl_category:"Your Details",dl_action:"Cancel",dl_label:"page_url"}),this.applicationDetails.applicantList.length>0?this.viewApplicationSummary():o(m(n.prototype),"routePrevious",this).call(this)}catch(e){console.log(e)}}},{key:"getDisplayInfo",value:function(){try{var e=this.sessionService.applicationConfiguration,t=null==e?void 0:e.xTravelDaysToBeAllowed;return"Your Date of Departure must be between ".concat(this.utilityService.momentInstance().format("DD/MM/YYYY")," and ").concat(this.utilityService.momentInstance().add(t-1,"days").format("DD/MM/YYYY"),".")}catch(a){return console.log(a),"-"}}},{key:"constructApplicantDetails",value:function(e,t){try{for(var a=t||this.getApplicantDetailsBase(),n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];a.hasOwnProperty(r)&&(a[r]=e[r])}return a.ipAddress=this.sessionService.clientIpAddress,a.isEndorsedChild=this.isChild||!1,this.isChild&&(a.parentPassportNumber=e.passportNumber,a.parentPassportExpiry=e.passportExpirtyDate),a}catch(o){throw o}}},{key:"getApplicantDetailsBase",value:function(){var e,t=null===(e=this.sessionService)||void 0===e?void 0:e.eligibilityDetails;return{urn:"",arn:"",loginUser:this.sessionService.getLoggedEmail(),firstName:"",middleName:"",lastName:"",salutation:"",gender:0,nationalId:"",VisaToken:"",contactNumber:"",dialCode:"",passportNumber:"",passportExpirtyDate:"",dateOfBirth:this.isPtFlow?"01/01/2000":"",emailId:"",nationalityCode:"",state:"",city:"",isEndorsedChild:!1,applicantType:0,addressline1:"",addressline2:"",pincode:"",referenceNumber:"",vlnNumber:"",applicantGroupId:0,parentPassportNumber:"",parentPassportExpiry:"",dateOfDeparture:"",gwfNumber:"",entryType:(null==t?void 0:t.entryType)?null==t?void 0:t.entryType:"",eoiVisaType:(null==t?void 0:t.visaType)?null==t?void 0:t.visaType:"",passportType:""}}},{key:"updateApplicationDetailsToSession",value:function(e){this.sessionService.applicationDetailValue=e}},{key:"setViewApplicantsList",value:function(e){this.viewApplicantsListFlag=e,e&&(this.sessionService.clearEditApplicationIdx(),this.dataShareService.editYourDetail=!1)}},{key:"setEditModeFlag",value:function(e){this.isEditModeFlag=e}},{key:"disableAddApplicant",get:function(){var e,t,a,n;return(null===(t=null===(e=this.applicationDetails)||void 0===e?void 0:e.applicantList)||void 0===t?void 0:t.length)===(null===(n=null===(a=this.sessionService)||void 0===a?void 0:a.applicationConfiguration)||void 0===n?void 0:n.noOfMaxAllowedApplicant)}},{key:"constructSingleApplicantApplicationDetails",value:function(e,t){var n,i,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var o=Object.assign({},e);o.applicantList=[],(null===(i=null===(n=this.applicationDetails)||void 0===n?void 0:n.applicantList)||void 0===i?void 0:i.length)>0&&(t.urn=this.applicationDetails.applicantList[0].urn),o.applicantList.push(t),o.isEdit=r,o.isWaitlist=this.sessionService.waitlistJourney,o.languageCode=this.sessionService.appCultureCode,this.allowedCaptcha&&(o.captcha_key_applicant=this.currentFormGroup.value.captcha_key_applicant,o.captcha_version=this.currentFormGroup.value.captcha_version);var s=this.sessionService.eligibilityDetails;o.feeEntryTypeCode=(null==s?void 0:s.entryTypes)||null,o.feeExemptionTypeCode=(null==s?void 0:s.feeExcemption)||null,o.feeExemptionDetailsCode=(null==s?void 0:s.feeExemptionDetails)||null;var l,c=a(o.applicantList);try{for(c.s();!(l=c.n()).done;){var u=l.value;u.nationalityCode&&""!==u.nationalityCode||(u.nationalityCode=null==s?void 0:s.nationalityCode)}}catch(d){c.e(d)}finally{c.f()}return o}catch(m){throw m}}},{key:"updateUrnAndArn",value:function(e,t){try{var n=Object.assign({},e);if(!t.hasOwnProperty("applicantList"))throw new Error("error: invalid_data_passed");var i,r=0,o=a(t.applicantList);try{for(o.s();!(i=o.n()).done;){var s=i.value,l=n.applicantList;l.length>1&&(l[r].arn=s.arn,l[r].urn=t.urn,this.sessionService.urn=t.urn,r++),1===l.length&&(l[0].arn=s.arn,l[0].urn=t.urn,this.sessionService.urn=t.urn)}}catch(c){o.e(c)}finally{o.f()}return n}catch(u){throw u}}},{key:"isBannerDisplayed",get:function(){var e,t;return this.viewApplicantsListFlag&&(null===(t=null===(e=this.applicationDetails)||void 0===e?void 0:e.applicantList)||void 0===t?void 0:t.length)>0&&this.feesAmount>0}},{key:"sendOTP",value:function(e,t){var a=this;try{0===this.createOTPLimit?(this.otpLimitExceed=!0,setTimeout(function(){a.otpLimitExceed=!1},5e3),setTimeout(function(){a.commonService.logoutAndRouteToLogin()},3e3)):(this.OTPHandler=!!t,this.otpPayLoad({OTP:"",scanCode:e}).then(function(e){a.createOTPLimit=null==e?void 0:e.OTPresendLimit}).catch(function(e){console.log(e)}))}catch(n){throw n}}},{key:"verifyOTP",value:function(){var e=this;try{this.otpPayLoad({OTP:this.enteredOTP}).then(function(t){"Success"==t.result?e.OTPSuccess=!0:t.error&&(e.OTPUnsuccess=!0,setTimeout(function(){e.OTPUnsuccess=!1},5e3))})}catch(t){throw t}}},{key:"otpPayLoad",value:function(e){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={urn:this.sessionService.applicationDetailValue.applicantList[0].urn,email:this.sessionService.getLoggedEmail(),missionCode:this.sessionService.tenent,countryCode:this.sessionService.applicationDetailValue.countryCode,centerCode:this.sessionService.applicationDetailValue.centerCode,visaCategoryCode:this.sessionService.applicationDetailValue.visaCategoryCode,languageCode:this.sessionService.applicationDetailValue.languageCode},t.next=4,this.httpService.doOTPPost(h.c.api.createverifyotp,Object.assign(Object.assign({},a),e)).toPromise();case 4:return t.abrupt("return",t.sent);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}},t,this,[[0,7]])}))}},{key:"checkIfDisabled",value:function(){return!(!this.otpInProgress||this.OTPSuccess)}},{key:"setVisaTokenRegExpression",value:function(){var e;try{var t=(null===(e=this.sessionService.applicationConfiguration)||void 0===e?void 0:e.VisaTokenRegExpression)||null;return null!==t?t:"^[a-zA-Z][a-zA-Z ]+$"}catch(a){this.logger.error(a)}}},{key:"isNationalVisaEdit",value:function(e){var t,a=null===(t=null==e?void 0:e.nationalityCode)||void 0===t?void 0:t.toLowerCase(),n=null==e?void 0:e.dateOfBirth,i=(new Date).getFullYear()-(null==n?void 0:n.year);return"blr"==a&&i>=18&&i<=60&&null!=(null==e?void 0:e.nationalId)&&null!=(null==e?void 0:e.VisaToken)}}]),n}(kt.a)).\u0275fac=function(e){return new(e||qi)(u.Qb(za.b))},qi.\u0275cmp=u.Kb({type:qi,selectors:[["app-applicant-details"]],viewQuery:function(e,t){var a;1&e&&u.Uc(pi,1),2&e&&u.Ac(a=u.ic())&&(t.captchaContainer=a.first)},features:[u.Ab],decls:5,vars:4,consts:[[1,"container","py-15","py-md-30"],["class","form-card timer-css text-right border-0 mb-5",4,"ngIf"],["class","form-card",4,"ngIf"],[4,"ngIf"],[1,"form-card","timer-css","text-right","border-0","mb-5"],[3,"config"],["cd",""],[1,"form-card"],[1,"c-brand-grey-para","mb-10"],["id","error",1,"fs-24","fs-sm-42","mb-30"],["class","border-info","style","border-left: 5px solid",4,"ngIf"],["class","c-brand-grey-para mb-20",4,"ngIf"],[1,"alert-danger",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-20"],[1,"row","no-gutters","align-items-center"],[1,"col-auto","ml-n5","pr-15"],[1,"fa","fa-times-circle","fs-24","mb-0"],[1,"col",3,"translate"],[1,"alert","alert-info","border-0","rounded-0","py-15","pl-50"],[1,"fa","fa-info-circle","fs-24","position-absolute","left-15","top-18"],[1,"card-upload-document"],["accept",".pdf",3,"multiple","onFileDrop"],["ngx-file-drop-content-tmp",""],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"asterisk"],[1,"file-upload-wrapper"],["type","button",1,"file-browse",3,"click"],["class","row no-gutters file-path-box",4,"ngFor","ngForOf"],[1,"row","no-gutters","file-path-box"],[1,"col","file-name","text-overflow"],[1,"check-mark","text-center","bg-brand-green"],[1,"c-brand-error","text-decoration-underline","cursor-pointer",3,"click"],[1,"errorMessage"],[1,"errorMessage","c-brand-error"],[1,"border-info",2,"border-left","5px solid"],[1,"mb-20"],[1,"c-brand-grey-para","mb-20"],["class","bg-brand-footer border-top-1 border-bottom-1 mx-n15 mx-md-n30 px-15 px-md-30 py-20 mt-n1",4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-right","mt-20"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-brand-orange",3,"disabled","click"],[1,"bg-brand-footer","border-top-1","border-bottom-1","mx-n15","mx-md-n30","px-15","px-md-30","py-20","mt-n1"],[1,"row","align-items-center"],[1,"col","fs-18"],[1,"c-brand-grey-para","mb-5"],[1,"w-wrap-break"],[1,"col-auto"],[1,"fa","fa-trash-o","c-brand-blue-light","fs-25","cursor-pointer","mr-25",3,"click"],["class","fa fa-edit c-brand-blue-light fs-24 cursor-pointer",3,"click",4,"ngIf"],[1,"fa","fa-edit","c-brand-blue-light","fs-24","cursor-pointer",3,"click"],[3,"formGroup",4,"ngIf"],[1,"fs-18","fs-sm-22","mb-20"],[1,"mb-30"],[1,"form-group","mb-20"],[1,"mat-checkbox-brand","w-wrap-break-all",3,"ngModel","ngModelChange"],[1,"fs-18","text-wrap"],[1,"c-brand-grey-para"],[3,"formGroup"],[3,"scope","schema","formGroupCopy"],[1,"form-card","p-0","border-0","shadow-none"],[3,"scope","schema"],[1,"row"],[1,"col-sm","mt-20"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange",3,"click"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],[1,"border-info","mt-40",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0","py-20"],[1,"fa","fa-check-circle-o","fs-24","mb-0"],["class","col",4,"ngIf"],["class","row no-gutters align-items-center","style","margin-top: 20px",4,"ngIf"],[1,"col"],[1,"row","no-gutters","align-items-center",2,"margin-top","20px"],[1,"mat-checkbox-brand",3,"ngModel","ngModelChange"],["class","p-15 mt-20 border rounded-5",4,"ngIf"],[1,"p-15","mt-20","border","rounded-5"],[1,"fs-18","fs-sm-21","mb-15"],[1,"max-sm-w-500","mt-20"],["mat-raised-button","","class","btn btn-block mat-btn-lg btn-brand-orange",3,"click",4,"ngIf"],["class","row align-items-end mt-20",4,"ngIf"],["class","border-success mt-20","style","border-left: 5px solid",4,"ngIf"],["mat-raised-button","",1,"btn","btn-block","mat-btn-lg","btn-brand-orange",3,"click"],[1,"row","align-items-end","mt-20"],[1,"col-12"],["class","border-danger","style","border-left: 5px solid",4,"ngIf"],[1,"col-12","col-sm-9","col-lg-12"],[1,"form-group","mb-0"],[1,"c-brand-grey-para","fs-14","mt-3","mb-5"],[1,"col-12","col-sm-9","col-lg-6"],["appearance","outline",1,"mat-form-field-outline-brand"],["placeholder","OTP","matInput","","type","text","maxlength","6","required","",3,"ngModel","ngModelChange"],[1,"col-12","col-sm-3","col-lg-2","my-15","my-sm-0"],[1,"col-12","mt-sm-10"],[1,"c-brand-grey-para","text-decoration-underline",2,"cursor","pointer",3,"click"],[1,"border-danger",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-15","pl-50"],[1,"fa","fa-check-circle","fs-24","position-absolute","left-15","top-13"],[1,"border-success","mt-20",2,"border-left","5px solid"],[1,"alert","alert-success","border-0","rounded-0","py-20","pl-sm-50","mb-0"],[1,"c-black","fs-18"],[1,"c-brand-grey-para","fs-14","mt-3","mb-8"],[1,"border-success"],[1,"alert","alert-success","border-0","rounded-0","py-15","pl-50"]],template:function(e,t){1&e&&(u.Wb(0,"section",0),u.Mc(1,bi,5,4,"div",1),u.Mc(2,wi,14,13,"mat-card",2),u.Mc(3,Ni,3,2,"ng-container",3),u.Mc(4,Qi,13,9,"ng-container",3),u.Vb()),2&e&&(u.Db(1),u.tc("ngIf",t.isPtFlow),u.Db(1),u.tc("ngIf",0==t.otpInProgress),u.Db(1),u.tc("ngIf",!t.viewApplicantsListFlag),u.Db(1),u.tc("ngIf",t.viewApplicantsListFlag))},directives:[D.o,mi.a,C.a,I.a,xt.a,xt.c,D.n,O.a,A.a,b.q,b.t,b.y,b.r,b.j,Wt.e,V.b,k.b,b.d,b.l,b.w],pipes:[I.d],encapsulation:2}),qi);function zi(e,t){if(1&e){var a=u.Xb();u.Wb(0,"mat-card",4),u.Wb(1,"p",5),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Wb(4,"button",6),u.hc("click",function(){return u.Fc(a),u.lc(3).navigate()}),u.Oc(5),u.mc(6,"translate"),u.Vb(),u.Vb()}2&e&&(u.Db(2),u.Pc(u.nc(3,2,"paymentConfirmation.messages.infoMessages.message1")),u.Db(3),u.Qc(" ",u.nc(6,4,"paymentConfirmation.buttons.button1")," "))}function $i(e,t){if(1&e){var a=u.Xb();u.Wb(0,"mat-card",4),u.Wb(1,"p",5),u.Oc(2),u.Vb(),u.Wb(3,"button",6),u.hc("click",function(){return u.Fc(a),u.lc(3).clearInProgressApplication()}),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Vb()}if(2&e){var n=u.lc(3);u.Db(2),u.Pc(n.alreadyConfirm),u.Db(2),u.Qc(" ",u.nc(5,2,"paymentConfirmation.formLabel.label5")," ")}}function Zi(e,t){if(1&e&&(u.Ub(0),u.Mc(1,zi,7,6,"mat-card",3),u.Mc(2,$i,6,4,"mat-card",3),u.Tb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",!a.alreadyConfirm),u.Db(1),u.tc("ngIf",a.alreadyConfirm)}}function Ji(e,t){if(1&e){var a=u.Xb();u.Wb(0,"span",37),u.hc("click",function(){u.Fc(a);var e=u.lc(5);return e.printAppointmentLetter(e.applicationDetailAfterConfirmation.urn)}),u.Oc(1),u.mc(2,"translate"),u.Vb()}2&e&&(u.Db(1),u.Qc("",u.nc(2,1,"paymentConfirmation.pageDetails.para4")," "))}function Xi(e,t){1&e&&(u.Wb(0,"span"),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"paymentConfirmation.pageDetails.para4")," "))}function er(e,t){if(1&e&&(u.Wb(0,"div"),u.Wb(1,"div",32),u.Rb(2,"i",33),u.Vb(),u.Wb(3,"h2",34),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Wb(6,"p",5),u.Oc(7),u.mc(8,"translate"),u.Mc(9,Ji,3,3,"span",35),u.Mc(10,Xi,3,3,"span",2),u.Oc(11),u.mc(12,"translate"),u.Vb(),u.Wb(13,"p",36),u.Oc(14),u.mc(15,"translate"),u.Vb(),u.Vb()),2&e){var a=u.lc(4);u.Db(4),u.Pc(u.nc(5,6,"paymentConfirmation.pageDetails.para2")),u.Db(3),u.Qc(" ",u.nc(8,8,"paymentConfirmation.pageDetails.para3")," "),u.Db(2),u.tc("ngIf",!a.commonService.checkIfPostal(a.applicationType)&&!a.commonService.checkIfOWA(a.applicationType)&&a.applicationDetailAfterConfirmation),u.Db(1),u.tc("ngIf",a.commonService.checkIfPostal(a.applicationType)&&a.applicationDetailAfterConfirmation),u.Db(1),u.Qc(" ",u.nc(12,10,"paymentConfirmation.pageDetails.para5")," "),u.Db(3),u.Pc(u.nc(15,12,"paymentConfirmation.pageDetails.para6"))}}function tr(e,t){1&e&&(u.Wb(0,"h2",34),u.Oc(1),u.mc(2,"translate"),u.Vb(),u.Wb(3,"p",5),u.Oc(4),u.mc(5,"translate"),u.Vb()),2&e&&(u.Db(1),u.Pc(u.nc(2,2,"paymentConfirmation.pageDetails.para8")),u.Db(3),u.Qc(" ",u.nc(5,4,"paymentConfirmation.pageDetails.para9")," "))}function ar(e,t){if(1&e&&(u.Wb(0,"div",38),u.Wb(1,"div",39),u.Wb(2,"div",40),u.Wb(3,"div"),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Wb(6,"div",41),u.Oc(7),u.Vb(),u.Vb(),u.Wb(8,"div",42),u.Wb(9,"div"),u.Oc(10),u.mc(11,"translate"),u.Vb(),u.Wb(12,"div",41),u.Oc(13),u.mc(14,"date"),u.Vb(),u.Vb(),u.Wb(15,"div",40),u.Wb(16,"div"),u.Oc(17),u.mc(18,"translate"),u.Vb(),u.Wb(19,"div",41),u.Oc(20),u.mc(21,"number"),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&e){var a=u.lc(4);u.Db(4),u.Pc(u.nc(5,7,"paymentConfirmation.formLabel.label1")),u.Db(3),u.Pc(a.successPaymentData.TransactionId),u.Db(3),u.Pc(u.nc(11,9,"paymentConfirmation.formLabel.label2")),u.Db(3),u.Pc(u.oc(14,11,a.currentDate,"dd/MM/yyyy")),u.Db(4),u.Pc(u.nc(18,14,"paymentConfirmation.formLabel.label4")),u.Db(3),u.Rc("",a.currencyCode," ",u.oc(21,16,null==a.paymentConfirmationData?null:a.paymentConfirmationData.overallTotal,"1.2-2"),"")}}function nr(e,t){if(1&e&&(u.Wb(0,"mat-card",4),u.Mc(1,er,16,14,"div",29),u.Mc(2,tr,6,6,"ng-template",null,30,u.Nc),u.Mc(4,ar,22,19,"div",31),u.Vb()),2&e){var a=u.Bc(3),n=u.lc(3);u.Db(1),u.tc("ngIf",!(null!=n.applicationDetailAfterConfirmation&&n.applicationDetailAfterConfirmation.isWaitlist&&(null==n.applicationDetailAfterConfirmation?null:n.applicationDetailAfterConfirmation.waitlistStatus)===n.waitListStatus))("ngIfElse",a),u.Db(3),u.tc("ngIf",n.successPaymentData.TransactionId)}}function ir(e,t){if(1&e&&(u.Wb(0,"mat-card",4),u.Wb(1,"div",32),u.Rb(2,"i",33),u.Vb(),u.Wb(3,"div"),u.Wb(4,"h2",34),u.Oc(5),u.mc(6,"translate"),u.Vb(),u.Wb(7,"p",43),u.Oc(8),u.mc(9,"translate"),u.Vb(),u.Wb(10,"div",44),u.Wb(11,"a",45),u.Wb(12,"span",46),u.Oc(13),u.mc(14,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Wb(15,"div",44),u.Wb(16,"a",45),u.Wb(17,"span",46),u.Oc(18),u.mc(19,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Wb(20,"div",44),u.Wb(21,"a",45),u.Wb(22,"span",46),u.Oc(23),u.mc(24,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Wb(25,"div",44),u.Wb(26,"a",45),u.Wb(27,"span",46),u.Oc(28),u.mc(29,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Wb(30,"div",44),u.Wb(31,"a",45),u.Wb(32,"span",46),u.Oc(33),u.mc(34,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&e){var a=u.lc(3);u.Db(5),u.Pc(u.nc(6,12,"polandTurkey.pageDetails.para19")),u.Db(3),u.Qc(" ",u.nc(9,14,"polandTurkey.pageDetails.para20"),""),u.Db(3),u.tc("href",a.websiteCounsularFee,u.Hc),u.Db(2),u.Pc(u.nc(14,16,"polandTurkey.pageDetails.para21")),u.Db(3),u.tc("href",a.websiteAddressVAC,u.Hc),u.Db(2),u.Pc(u.nc(19,18,"polandTurkey.pageDetails.para22")),u.Db(3),u.tc("href",a.websiteCounsularFee,u.Hc),u.Db(2),u.Pc(u.nc(24,20,"polandTurkey.pageDetails.para23")),u.Db(3),u.tc("href",a.websiteMissionPoland,u.Hc),u.Db(2),u.Pc(u.nc(29,22,"polandTurkey.pageDetails.para24")),u.Db(3),u.tc("href",a.websiteVFSGlobal,u.Hc),u.Db(2),u.Pc(u.nc(34,24,"polandTurkey.pageDetails.para25"))}}var rr=function(e,t,a){return{date:e,endDate:t,bankName:a}};function or(e,t){if(1&e&&(u.Wb(0,"mat-card",4),u.Wb(1,"div",32),u.Rb(2,"i",33),u.Vb(),u.Wb(3,"div"),u.Wb(4,"h2",34),u.Oc(5),u.mc(6,"translate"),u.Vb(),u.Wb(7,"p",43),u.Oc(8),u.mc(9,"translate"),u.Vb(),u.Wb(10,"p",43),u.Oc(11),u.mc(12,"translate"),u.Vb(),u.Wb(13,"div",44),u.Wb(14,"a",45),u.Wb(15,"span",46),u.Oc(16),u.mc(17,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Wb(18,"div",44),u.Wb(19,"a",45),u.Wb(20,"span",46),u.Oc(21),u.mc(22,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Wb(23,"div",44),u.Wb(24,"a",45),u.Wb(25,"span",46),u.Oc(26),u.mc(27,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Wb(28,"div",44),u.Wb(29,"a",45),u.Wb(30,"span",46),u.Oc(31),u.mc(32,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Wb(33,"div",44),u.Wb(34,"a",45),u.Wb(35,"span",46),u.Oc(36),u.mc(37,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&e){var a=u.lc(3);u.Db(5),u.Pc(u.nc(6,13,"polandTurkey.pageDetails.para27")),u.Db(3),u.Qc(" ",u.oc(9,15,"polandTurkey.pageDetails.para28",u.zc(30,rr,a.payAtBankDetails.appointmentDate,a.payAtBankDetails.endDate,a.payAtBankDetails.bankName))," "),u.Db(3),u.Qc(" ",u.nc(12,18,"polandTurkey.pageDetails.para29"),""),u.Db(3),u.tc("href",a.websiteCounsularFee,u.Hc),u.Db(2),u.Pc(u.nc(17,20,"polandTurkey.pageDetails.para21")),u.Db(3),u.tc("href",a.websiteAddressVAC,u.Hc),u.Db(2),u.Pc(u.nc(22,22,"polandTurkey.pageDetails.para22")),u.Db(3),u.tc("href",a.websiteCounsularFee,u.Hc),u.Db(2),u.Pc(u.nc(27,24,"polandTurkey.pageDetails.para23")),u.Db(3),u.tc("href",a.websiteMissionPoland,u.Hc),u.Db(2),u.Pc(u.nc(32,26,"polandTurkey.pageDetails.para24")),u.Db(3),u.tc("href",a.websiteVFSGlobal,u.Hc),u.Db(2),u.Pc(u.nc(37,28,"polandTurkey.pageDetails.para25"))}}function sr(e,t){1&e&&(u.Ub(0),u.Wb(1,"mat-card",47),u.Rb(2,"app-medical-insurance",48),u.Vb(),u.Tb()),2&e&&(u.Db(2),u.tc("type","1"))}function lr(e,t){if(1&e&&(u.Wb(0,"li",12),u.Wb(1,"div",13),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Wb(4,"div",14),u.Oc(5),u.Vb(),u.Vb()),2&e){var a=u.lc(4);u.Db(2),u.Pc(u.nc(3,2,"eligibilityCriteria.formLabel.label15")),u.Db(3),u.Pc(null==a.paymentConfirmationData?null:a.paymentConfirmationData.nationalityName)}}function cr(e,t){if(1&e&&(u.Wb(0,"li",12),u.Wb(1,"div",13),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Wb(4,"div",14),u.Oc(5),u.Vb(),u.Vb()),2&e){var a=u.lc(4);u.Db(2),u.Pc(u.nc(3,2,"reviewAndPayment.formLabel.label24")),u.Db(3),u.Pc(null==a.paymentConfirmationData?null:a.paymentConfirmationData.serviceType)}}function ur(e,t){if(1&e&&(u.Wb(0,"li",12),u.Wb(1,"div",13),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Wb(4,"div",14),u.Oc(5),u.Vb(),u.Vb()),2&e){var a=u.lc(4);u.Db(2),u.Pc(u.nc(3,2,"eligibilityCriteria.formLabel.label14")),u.Db(3),u.Pc(null==a.paymentConfirmationData?null:a.paymentConfirmationData.entryType)}}function dr(e,t){if(1&e&&(u.Wb(0,"li",12),u.Wb(1,"div",13),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Wb(4,"div",14),u.Oc(5),u.Vb(),u.Vb()),2&e){var a=u.lc(4);u.Db(2),u.Pc(u.nc(3,2,"eligibilityCriteria.formLabel.label13")),u.Db(3),u.Pc(null==a.paymentConfirmationData?null:a.paymentConfirmationData.visaType)}}function mr(e,t){if(1&e&&(u.Wb(0,"li",12),u.Wb(1,"div",13),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Wb(4,"div",14),u.Oc(5),u.Vb(),u.Vb()),2&e){var a=u.lc(4);u.Db(2),u.Pc(u.nc(3,2,"eligibilityCriteria.formLabel.label12")),u.Db(3),u.Pc(null==a.paymentConfirmationData?null:a.paymentConfirmationData.applicationType)}}function pr(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"li",12),u.Wb(2,"div",13),u.Oc(3),u.mc(4,"translate"),u.Vb(),u.Wb(5,"div",14),u.Oc(6),u.Vb(),u.Vb(),u.Wb(7,"li",12),u.Wb(8,"div",13),u.Oc(9),u.mc(10,"translate"),u.Vb(),u.Wb(11,"div",14),u.Oc(12),u.Vb(),u.Vb(),u.Wb(13,"li",12),u.Wb(14,"div",13),u.Oc(15),u.mc(16,"translate"),u.Vb(),u.Wb(17,"div",14),u.Oc(18),u.Vb(),u.Vb(),u.Mc(19,lr,6,4,"li",49),u.Mc(20,cr,6,4,"li",49),u.Mc(21,ur,6,4,"li",49),u.Mc(22,dr,6,4,"li",49),u.Mc(23,mr,6,4,"li",49),u.Tb()),2&e){var a=u.lc(3);u.Db(3),u.Pc(u.nc(4,11,"reviewAndPayment.formLabel.label3")),u.Db(3),u.Pc(null==a.paymentConfirmationData?null:a.paymentConfirmationData.vacCodeName),u.Db(3),u.Pc(u.nc(10,13,"reviewAndPayment.formLabel.label4")),u.Db(3),u.Pc(null==a.paymentConfirmationData?null:a.paymentConfirmationData.visaCategoryName),u.Db(3),u.Pc(u.nc(16,15,"reviewAndPayment.formLabel.label5")),u.Db(3),u.Pc(null==a.paymentConfirmationData?null:a.paymentConfirmationData.visaSubCategoryName),u.Db(1),u.tc("ngIf",null==a.paymentConfirmationData?null:a.paymentConfirmationData.nationalityName),u.Db(1),u.tc("ngIf",null==a.paymentConfirmationData?null:a.paymentConfirmationData.serviceType),u.Db(1),u.tc("ngIf",null==a.paymentConfirmationData?null:a.paymentConfirmationData.entryType),u.Db(1),u.tc("ngIf",null==a.paymentConfirmationData?null:a.paymentConfirmationData.visaType),u.Db(1),u.tc("ngIf",null==a.paymentConfirmationData?null:a.paymentConfirmationData.applicationType)}}function br(e,t){if(1&e&&(u.Wb(0,"li",12),u.Wb(1,"div",13),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Wb(4,"div",14),u.Oc(5),u.Vb(),u.Vb()),2&e){var a=u.lc(4);u.Db(2),u.Qc("",u.nc(3,2,"paymentConfirmation.formLabel.label7")," #"),u.Db(3),u.Qc(" ",a.applicationDetailAfterConfirmation.urn," ")}}function fr(e,t){if(1&e){var a=u.Xb();u.Wb(0,"div",53),u.Wb(1,"span",54),u.hc("click",function(){u.Fc(a);var e=u.lc().$implicit,t=u.lc(4);return t.downloadCourierDetails(e.arn,t.applicationDetailAfterConfirmation.vacCode,t.courierLabels.inLabel)}),u.Rb(2,"i",55),u.Wb(3,"span",56),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Vb(),u.Vb()}2&e&&(u.Db(4),u.Pc(u.nc(5,1,"postalInformation.headerLabel.label2")))}function vr(e,t){if(1&e&&(u.Wb(0,"li",12),u.Wb(1,"div",13),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Wb(4,"div",14),u.Oc(5),u.Vb(),u.Wb(6,"div",51),u.Mc(7,fr,6,3,"div",52),u.Vb(),u.Vb()),2&e){var a=t.$implicit,n=t.index,i=u.lc(4);u.Db(2),u.Rc("",u.nc(3,5,"reviewAndPayment.formLabel.label6")," ",n+1,""),u.Db(3),u.Rc("",null==a?null:a.firstName," ",null==a?null:a.lastName,""),u.Db(2),u.tc("ngIf",i.commonService.checkIfPostal(i.applicationType)&&!i.commonService.checkIfPrepaidCourier(null==a||null==a.postalList[0]?null:a.postalList[0].courierType)&&i.applicationDetailAfterConfirmation)}}function gr(e,t){if(1&e&&(u.Ub(0),u.Mc(1,br,6,4,"li",49),u.Mc(2,vr,8,7,"li",50),u.Tb()),2&e){var a=u.lc(3);u.Db(1),u.tc("ngIf",(a.commonService.checkIfOWA(a.applicationType)||a.commonService.checkIfPostal(a.applicationType)||(null==a.applicationDetailAfterConfirmation?null:a.applicationDetailAfterConfirmation.isWaitlist))&&a.applicationDetailAfterConfirmation.urn),u.Db(1),u.tc("ngForOf",null==a.paymentConfirmationData?null:a.paymentConfirmationData.applicants)("ngForTrackBy",a.trackByFn)}}function hr(e,t){if(1&e&&(u.Wb(0,"li",12),u.Wb(1,"div",13),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Wb(4,"div",14),u.Oc(5),u.Vb(),u.Vb()),2&e){var a=u.lc(4);u.Db(2),u.Qc("",u.nc(3,2,"paymentConfirmation.formLabel.label7")," #"),u.Db(3),u.Qc(" ",a.applicationDetailAfterConfirmation.urn," ")}}function yr(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"h2",9),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Wb(4,"div",10),u.Wb(5,"ul",11),u.Mc(6,hr,6,4,"li",49),u.Wb(7,"li",12),u.Wb(8,"div",13),u.Oc(9),u.mc(10,"translate"),u.Vb(),u.Wb(11,"div",14),u.Oc(12),u.mc(13,"translate"),u.Vb(),u.Vb(),u.Wb(14,"li",12),u.Wb(15,"div",13),u.Oc(16),u.mc(17,"translate"),u.Vb(),u.Wb(18,"div",14),u.Oc(19),u.Vb(),u.Vb(),u.Wb(20,"li",12),u.Wb(21,"div",13),u.Oc(22),u.mc(23,"translate"),u.Vb(),u.Wb(24,"div",14),u.Oc(25),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Tb()),2&e){var a=u.lc(3);u.Db(2),u.Qc(" ",u.nc(3,8,"reviewAndPayment.headerLabel.label4")," "),u.Db(4),u.tc("ngIf",a.applicationDetailAfterConfirmation.urn),u.Db(3),u.Pc(u.nc(10,10,"reviewAndPayment.formLabel.label14")),u.Db(3),u.Pc(u.nc(13,12,null==a.paymentConfirmationData?null:a.paymentConfirmationData.appointment_type)),u.Db(4),u.Pc(u.nc(17,14,"reviewAndPayment.formLabel.label15")),u.Db(3),u.Pc(a.appointmentDateFormat),u.Db(3),u.Pc(u.nc(23,16,"reviewAndPayment.formLabel.label16")),u.Db(3),u.Pc(null==a.paymentConfirmationData?null:a.paymentConfirmationData.appointmentTime)}}function Sr(e,t){if(1&e&&(u.Wb(0,"div",60),u.Wb(1,"div",19),u.Wb(2,"div",61),u.Oc(3),u.Vb(),u.Wb(4,"div",62),u.Oc(5),u.mc(6,"translate"),u.Vb(),u.Wb(7,"div",63),u.Oc(8),u.mc(9,"number"),u.Vb(),u.Vb(),u.Vb()),2&e){var a=t.$implicit,n=u.lc(4);u.Db(3),u.Pc(null==a?null:a.name),u.Db(2),u.Rc("",null==a?null:a.quantity," ",u.nc(6,5,"reviewAndPayment.formLabel.label19"),""),u.Db(3),u.Rc("",n.currencyCode," ",u.oc(9,7,null==a?null:a.price,"1.2-2"),"")}}function Cr(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"h2",23),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Wb(4,"div",57),u.Mc(5,Sr,10,10,"div",58),u.Wb(6,"div",59),u.Wb(7,"div",19),u.Wb(8,"div",20),u.Oc(9),u.mc(10,"translate"),u.Vb(),u.Wb(11,"div",21),u.Oc(12),u.mc(13,"number"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Tb()),2&e){var a=u.lc(3);u.Db(2),u.Pc(u.nc(3,6,"reviewAndPayment.headerLabel.label6")),u.Db(3),u.tc("ngForOf",null==a.paymentConfirmationData?null:a.paymentConfirmationData.services)("ngForTrackBy",a.trackByFn),u.Db(4),u.Pc(u.nc(10,8,"reviewAndPayment.formLabel.label17")),u.Db(3),u.Rc(" ",a.currencyCode," ",u.oc(13,10,null==a.paymentConfirmationData?null:a.paymentConfirmationData.servicesTotal,"1.2-2")," ")}}function Dr(e,t){if(1&e&&(u.Wb(0,"div",60),u.Wb(1,"div",19),u.Wb(2,"div",61),u.Oc(3),u.Vb(),u.Rb(4,"div",62),u.Wb(5,"div",63),u.Oc(6),u.mc(7,"number"),u.Vb(),u.Vb(),u.Vb()),2&e){var a=u.lc().$implicit,n=u.lc(3);u.Db(3),u.Pc(null==a?null:a.feeName),u.Db(3),u.Rc("",n.currencyCode," ",u.oc(7,3,null==a?null:a.feeAmount,"1.2-2"),"")}}function Ir(e,t){if(1&e&&(u.Ub(0),u.Mc(1,Dr,8,6,"div",64),u.Tb()),2&e){var a=t.$implicit,n=u.lc(3);u.Db(1),u.tc("ngIf",(null==a?null:a.feeTypeCode)!==n.constants.FEE_TYPE_CODES.CVFEE&&(null==a?null:a.feeAmount)>0)}}function Vr(e,t){if(1&e&&(u.Wb(0,"div",60),u.Wb(1,"div",19),u.Wb(2,"div",61),u.Oc(3),u.Vb(),u.Rb(4,"div",62),u.Wb(5,"div",63),u.Oc(6),u.mc(7,"number"),u.Vb(),u.Vb(),u.Vb()),2&e){var a=u.lc().$implicit,n=u.lc(3);u.Db(3),u.Pc(null==a?null:a.feeName),u.Db(3),u.Rc("",n.currencyCode," ",u.oc(7,3,null==a?null:a.feeAmount,"1.2-2"),"")}}function kr(e,t){if(1&e&&(u.Ub(0),u.Mc(1,Vr,8,6,"div",64),u.Tb()),2&e){var a=t.$implicit,n=u.lc(3);u.Db(1),u.tc("ngIf",(null==a?null:a.feeTypeCode)===n.constants.FEE_TYPE_CODES.CVFEE&&(null==a?null:a.feeAmount)>0)}}function Ar(e,t){if(1&e&&(u.Wb(0,"div",66),u.Wb(1,"div",19),u.Wb(2,"div",61),u.Oc(3),u.Vb(),u.Rb(4,"div",62),u.Wb(5,"div",63),u.Oc(6),u.mc(7,"number"),u.Vb(),u.Vb(),u.Vb()),2&e){var a=u.lc().$implicit,n=u.lc(3);u.Db(3),u.Qc(" ",null==a?null:a.title," "),u.Db(3),u.Rc("",n.currencyCode," ",u.oc(7,3,null==a?null:a.value,"1.2-2"),"")}}function Or(e,t){if(1&e&&(u.Ub(0),u.Mc(1,Ar,8,6,"div",65),u.Tb()),2&e){var a=t.$implicit;u.Db(1),u.tc("ngIf",(null==a?null:a.value)>0)}}function Tr(e,t){if(1&e&&(u.Wb(0,"div",19),u.Wb(1,"div",67),u.Oc(2),u.mc(3,"translate"),u.mc(4,"number"),u.Vb(),u.Vb()),2&e){var a=u.lc(3);u.Db(2),u.Sc(" ",u.nc(3,3,"reviewAndPayment.pageDetails.para3")," ",a.currencyCode," ",u.oc(4,5,null==a.paymentConfirmationData?null:a.paymentConfirmationData.serviceFeeTax,a.decimalConfiguration)," ")}}var Lr=function(){return[]};function wr(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Mc(1,nr,5,3,"mat-card",3),u.Mc(2,ir,35,26,"mat-card",3),u.Mc(3,or,38,34,"mat-card",3),u.Mc(4,sr,3,1,"ng-container",2),u.Wb(5,"mat-card",7),u.Wb(6,"h1",8),u.Oc(7),u.mc(8,"translate"),u.Vb(),u.Wb(9,"h2",9),u.Oc(10),u.mc(11,"translate"),u.Vb(),u.Wb(12,"div",10),u.Wb(13,"ul",11),u.Wb(14,"li",12),u.Wb(15,"div",13),u.Oc(16),u.mc(17,"translate"),u.Vb(),u.Wb(18,"div",14),u.Oc(19),u.Vb(),u.Vb(),u.Wb(20,"li",12),u.Wb(21,"div",13),u.Oc(22),u.mc(23,"translate"),u.Vb(),u.Wb(24,"div",14),u.Oc(25),u.Vb(),u.Vb(),u.Mc(26,pr,24,17,"ng-container",2),u.Vb(),u.Vb(),u.Wb(27,"h2",9),u.Oc(28),u.mc(29,"translate"),u.Vb(),u.Wb(30,"div",10),u.Wb(31,"ul",11),u.Mc(32,gr,3,3,"ng-container",2),u.Vb(),u.Vb(),u.Mc(33,yr,26,18,"ng-container",2),u.Mc(34,Cr,14,13,"ng-container",2),u.Wb(35,"h2",15),u.Oc(36),u.mc(37,"translate"),u.Vb(),u.Wb(38,"div",16),u.Mc(39,Ir,2,1,"ng-container",17),u.Wb(40,"div",18),u.Wb(41,"div",19),u.Wb(42,"div",20),u.Oc(43),u.mc(44,"translate"),u.Vb(),u.Wb(45,"div",21),u.Oc(46),u.mc(47,"number"),u.Vb(),u.Vb(),u.Vb(),u.Mc(48,kr,2,1,"ng-container",17),u.Wb(49,"div",22),u.Wb(50,"div",20),u.Wb(51,"h2",23),u.Oc(52),u.mc(53,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Wb(54,"div",24),u.Wb(55,"div",25),u.Mc(56,Or,2,1,"ng-container",17),u.Wb(57,"div",26),u.Wb(58,"div",19),u.Wb(59,"div",20),u.Oc(60),u.mc(61,"translate"),u.Vb(),u.Wb(62,"div",21),u.Oc(63),u.mc(64,"number"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(65,"div",27),u.Wb(66,"div",19),u.Wb(67,"div",20),u.Oc(68),u.mc(69,"translate"),u.Vb(),u.Wb(70,"div",21),u.Oc(71),u.mc(72,"number"),u.Vb(),u.Vb(),u.Mc(73,Tr,5,8,"div",28),u.Vb(),u.Vb(),u.Wb(74,"button",6),u.hc("click",function(){return u.Fc(a),u.lc(2).clearInProgressApplication()}),u.Oc(75),u.mc(76,"translate"),u.Vb(),u.Vb(),u.Tb()}if(2&e){var n=u.lc(2);u.Db(1),u.tc("ngIf",!n.isPtFlow&&!n.isPayAtBankSelected),u.Db(1),u.tc("ngIf",n.isPtFlow&&!n.isPayAtBankSelected),u.Db(1),u.tc("ngIf",n.isPtFlow&&n.isPayAtBankSelected),u.Db(1),u.tc("ngIf",n.insuranceBox),u.Db(3),u.Pc(u.nc(8,34,"paymentConfirmation.formLabel.label3")),u.Db(3),u.Pc(u.nc(11,36,"reviewAndPayment.headerLabel.label2")),u.Db(6),u.Pc(u.nc(17,38,"eligibilityCriteria.formLabel.label4")),u.Db(3),u.Pc(null==n.paymentConfirmationData?null:n.paymentConfirmationData.countryName),u.Db(3),u.Pc(u.nc(23,40,"eligibilityCriteria.formLabel.label5")),u.Db(3),u.Pc(null==n.paymentConfirmationData?null:n.paymentConfirmationData.missionName),u.Db(1),u.tc("ngIf",n.applicationDetailAfterConfirmation),u.Db(2),u.Pc(u.nc(29,42,"reviewAndPayment.headerLabel.label3")),u.Db(4),u.tc("ngIf",null==n.paymentConfirmationData?null:n.paymentConfirmationData.applicants),u.Db(1),u.tc("ngIf",!n.commonService.checkIfPostal(n.applicationType)&&!n.commonService.checkIfOWA(n.applicationType)&&n.applicationDetailAfterConfirmation&&n.appointmentDetail),u.Db(1),u.tc("ngIf",!(null!=n.applicationDetailAfterConfirmation&&n.applicationDetailAfterConfirmation.isWaitlist&&(null==n.applicationDetailAfterConfirmation?null:n.applicationDetailAfterConfirmation.waitlistStatus)===n.waitListStatus)),u.Db(2),u.Pc(u.nc(37,44,"reviewAndPayment.headerLabel.label5")),u.Db(3),u.tc("ngForOf",(null==n.paymentConfirmationData?null:n.paymentConfirmationData.fees_list)||u.wc(65,Lr))("ngForTrackBy",n.trackByFn),u.Db(4),u.Pc(u.nc(44,46,"reviewAndPayment.formLabel.label17")),u.Db(3),u.Rc(" ",n.currencyCode," ",u.oc(47,48,n.calFeesTotal,"1.2-2")," "),u.Db(2),u.tc("ngForOf",(null==n.paymentConfirmationData?null:n.paymentConfirmationData.fees_list)||u.wc(66,Lr))("ngForTrackBy",n.trackByFn),u.Db(4),u.Pc(u.nc(53,51,"reviewAndPayment.headerLabel.label8")),u.Db(4),u.tc("ngForOf",(null==n.paymentConfirmationData?null:n.paymentConfirmationData.additionalFee)||u.wc(67,Lr))("ngForTrackBy",n.trackByFn),u.Db(4),u.Pc(u.nc(61,53,"reviewAndPayment.formLabel.label17")),u.Db(3),u.Rc(" ",n.currencyCode," ",u.oc(64,55,null==n.paymentConfirmationData?null:n.paymentConfirmationData.additionalFeeTotal,"1.2-2")," "),u.Db(5),u.Pc(u.nc(69,58,"reviewAndPayment.formLabel.label20")),u.Db(3),u.Rc(" ",n.currencyCode," ",u.oc(72,60,null==n.paymentConfirmationData?null:n.paymentConfirmationData.overallTotal,"1.2-2")," "),u.Db(2),u.tc("ngIf",(null==n.paymentConfirmationData?null:n.paymentConfirmationData.serviceFeeTax)>0),u.Db(2),u.Qc(" ",u.nc(76,63,"paymentConfirmation.formLabel.label5")," ")}}function Nr(e,t){if(1&e&&(u.Wb(0,"section",1),u.Mc(1,Zi,3,2,"ng-container",2),u.Mc(2,wr,77,68,"ng-container",2),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",a.successPaymentData&&"False"===a.successPaymentData.PaymentStatus),u.Db(1),u.tc("ngIf",a.successPaymentData&&"False"!==a.successPaymentData.PaymentStatus)}}var xr,Mr=((xr=function(t){s(i,t);var n=c(i);function i(t,a){var r,o;return p(this,i),(r=n.call(this)).activatedRoute=t,r.contentfulService=a,r.walkinCode=h.v,r.primeTimeCode=h.m,r.primeLongueCode=h.k,r.constants=h.c,r.websiteVFSGlobal=y.a.websiteVFSGlobal,r.websiteMissionPoland=y.a.websiteMissionPoland,r.isPayAtBankSelected=!1,r.payAtBankDetails=[],r.sessionService.resourceGroupData=null===(o=r.sessionService)||void 0===o?void 0:o.resourceGroupDataTemp,r.notStandardCode=[].concat(e(r.primeLongueCode),e(r.walkinCode)),r.insuranceBox=!1,r.successPaymentData={},r.applicationDetailAfterConfirmation={},r.subVisaCategoryCode=[],r.visaCategoryCode=[],r.appointmentDetail={},r.nationalityList=[],r.currencyCode=r.sessionService.currencyCode||"",r.alreadyConfirm="",r.requestComplete=!1,r.vacList=[],r.currentDate=new Date,r.waitListStatus=h.A.waitlisted,r.configuration=r.sessionService.applicationConfiguration,r.decimalConfiguration=r.sessionService.decimalConfiguration,r}return f(i,[{key:"ngOnInit",value:function(){this.initialLoad(),this.isPayAtBankSelected=this.sessionService.isPayAtBankSelected,this.isPtFlow&&this.isPayAtBankSelected&&this.getDateinPayAtBankSelected();var e=this.sessionService.eligibilityDetails;this.applicationType=e.applicationType?e.applicationType:null,this.utilityService.pushDataLayerGA({dl_event:"appointment_confirmation",dl_category:"Appointment Confirmation Page",dl_action:"Appointment Confirmation Success",dl_label:"page_url"})}},{key:"initialLoad",value:function(){var e,t,a,n,i,r;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function o(){var s,l,c,u,d,m,p,b,f,v;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(s=this.sessionService.paymentDetails,this.sessionService.resourceGroupData=null===(e=this.sessionService)||void 0===e?void 0:e.resourceGroupDataTemp,!s||!s.ispaymentrequired){o.next=22;break}if(l=null===(t=this.activatedRoute.snapshot.queryParams)||void 0===t?void 0:t.PaymentStatus,c=(null===(a=this.activatedRoute.snapshot.queryParams)||void 0===a?void 0:a.RequestRefNo)||s.requestrefno,u=(null===(n=this.activatedRoute.snapshot.queryParams)||void 0===n?void 0:n.TransactionId)||this.sessionService.transactionId,d=null===(i=this.sessionService)||void 0===i?void 0:i.paymentData,this.successPaymentData={RequestRefNo:c,TransactionId:u,PaymentStatus:l},"False"!==l){o.next=5;break}return o.abrupt("return",(this.requestComplete=!0,!1));case 5:return m="/payments/trackpaymentstatus?RequestRefNo=".concat(c),o.next=8,this.httpService.doGet(m).toPromise().then(function(e){return e}).catch(function(e){return e});case 8:if("SUCCESS"!==(p=o.sent).Status){o.next=19;break}return b={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,loginUser:this.sessionService.getLoggedEmail(),urn:this.sessionService.urn,bankReferenceNo:u||(null==p?void 0:p.TransactionId),requestReferenceNo:String(c),amount:null==d?void 0:d.amount,currency:this.sessionService.currencyCode,cultureCode:this.sessionService.appCultureCode,centerCode:null===(r=this.sessionService.eligibilityDetails)||void 0===r?void 0:r.centerCode},null===this.successPaymentData.TransactionId&&(this.successPaymentData.TransactionId=null==p?void 0:p.TransactionId),f=this.commonService.checkIfPostal(this.applicationType)||this.commonService.checkIfOWA(this.applicationType)?h.c.api.paymentConfirm:h.c.api.confirmAppointment,o.next=15,this.httpService.payloadPost(f,b).toPromise().then(function(e){return e}).catch(function(e){return e});case 15:(v=o.sent).urn?(this.requestComplete=!0,this.callApplication()):(this.requestComplete=!0,this.successPaymentData={PaymentStatus:"False"},this.alreadyConfirm=v.error.description),o.next=20;break;case 19:this.requestComplete=!0,this.successPaymentData={PaymentStatus:"False"};case 20:o.next=23;break;case 22:this.requestComplete=!0,this.successPaymentData={PaymentStatus:"True"},this.callApplication();case 23:case"end":return o.stop()}},o,this)}))}},{key:"checkAndLoadTravelInsurance",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contentfulService.getTravelInsurance();case 2:this.insuranceBox=e.sent;case 3:case"end":return e.stop()}},e,this)}))}},{key:"travelInsurance",get:function(){return this.utilityService.externalUrlAppend("travel-insurance")}},{key:"getSubvisaCategoryCode",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.sessionService.centerCode,a=this.sessionService.eligibilityDetails,n=null==a?void 0:a.selectedSubvisaCategory,e.next=6,this.commonService.getSubVisaCategories(t,n);case 6:i=e.sent,this.subVisaCategoryCode=i,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Error Status: ".concat(e.t0.status,"\nMessage: ").concat(e.t0.message," : ").concat(e.t0.error.data));case 13:case"end":return e.stop()}},e,this,[[0,10]])}))}},{key:"getVisaCategoryCode",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.sessionService.centerCode,e.next=4,this.commonService.getVisaCategories(t);case 4:a=e.sent,this.visaCategoryCode=a,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error Status: ".concat(e.t0.status,"\nMessage: ").concat(e.t0.message," : ").concat(e.t0.error.data));case 11:case"end":return e.stop()}},e,this,[[0,8]])}))}},{key:"callApplication",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.checkAndLoadTravelInsurance(),this.getActiveApplicationList();case 1:case"end":return e.stop()}},e,this)}))}},{key:"getActiveApplicationList",value:function(){var e;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a,n,i=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.httpService.payloadPost(h.c.api.getActiveApplication,{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,loginUser:this.sessionService.getLoggedEmail(),aurn:"",emailId:"",countactNumber:"",passportNumber:""}).toPromise().then(function(e){return e}).catch(function(e){return e});case 2:(a=t.sent)&&(null==(n=null===(e=null==a?void 0:a.data)||void 0===e?void 0:e.filter(function(e){return e.urn===i.sessionService.urn}))?void 0:n.length)>0&&this.loadPaymentConfirmationData(n[0]);case 4:case"end":return t.stop()}},t,this)}))}},{key:"loadPaymentConfirmationData",value:function(e){var t,a,n,i,r,o,s,l,c,u,d,m,p,b,f,v,h,S,C,D;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function g(){var I,V,k,A,O,T,L,w,N,x,M,E,W,P,F,_,R,G,U=this;return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return this.utilityService.startNgxUiSpinner(),this.applicationDetailAfterConfirmation=e,this.appointmentDetail=e.applicants[0].appointment,I=this.sessionService.applicationDetailValue,I=Object.assign(Object.assign({},I),this.sessionService.calculatedCodeData),V=[this.loadNationality(),this.getApplicationData(),this.getVisaCategoryCode(),this.getSubvisaCategoryCode()],(null===(t=this.configuration)||void 0===t?void 0:t.enableEntryType)?(k=this.commonService.loadEntryType(),V.push(k)):V.push(void 0),(null===(a=this.configuration)||void 0===a?void 0:a.enableServiceType)?(A=this.commonService.loadServiceType(),V.push(A)):V.push(void 0),(null===(n=this.configuration)||void 0===n?void 0:n.enableVisaType)&&(null===(i=this.configuration)||void 0===i?void 0:i.enableServiceType)?(O=this.commonService.loadEOIVisaType(),V.push(O)):V.push(void 0),(null===(r=this.configuration)||void 0===r?void 0:r.enableApplicationType)?(T=this.commonService.loadSubmissionType(),V.push(T)):V.push(void 0),g.next=7,Promise.all(V);case 7:return L=g.sent,w=[this.utilityService.getnationalityName(this.nationalityList,this.sessionService.countryCode),this.utilityService.getnationalityName(this.nationalityList,this.sessionService.tenent),this.utilityService.filterVacFromCode(this.vacList,e.vacCode,"centerName"),this.utilityService.getNameFromCode(this.visaCategoryCode,e.parentVisaCategoryCode),this.utilityService.getNameFromCode(this.subVisaCategoryCode,e.visaCategoryCode),this.sessionService.vacFees,this.getFromConstant(null===(s=null===(o=null==e?void 0:e.applicants[0])||void 0===o?void 0:o.appointment)||void 0===s?void 0:s.categoryCode)],(null===(l=this.configuration)||void 0===l?void 0:l.enableEntryType)&&I.entryType?(N=this.utilityService.getCodeName(L[4].entryTypes,I.entryType),w.push(N)):w.push(void 0),(null===(c=this.configuration)||void 0===c?void 0:c.enableServiceType)&&I.serviceType?(x=this.utilityService.getCodeName(L[5],I.serviceType),w.push(x)):w.push(void 0),(null===(u=this.configuration)||void 0===u?void 0:u.enableVisaType)&&(null===(d=this.configuration)||void 0===d?void 0:d.enableServiceType)&&I.visaType?(M=this.utilityService.getCodeName(L[6].eoiVisaTypes,I.visaType),w.push(M)):w.push(void 0),(null===(m=this.configuration)||void 0===m?void 0:m.enableApplicationType)&&I.applicationType?(E=this.utilityService.getCodeName(L[7],I.applicationType),w.push(E)):w.push(void 0),(null===(p=this.configuration)||void 0===p?void 0:p.enableNationalityFilterForVisaCategory)&&I.countryCode?(W=this.utilityService.getnationalityName(this.nationalityList,I.countryCode),w.push(W)):w.push(void 0),g.next=12,Promise.all(w);case 12:P=g.sent,F=null===(f=null===(b=null==e?void 0:e.applicants[0])||void 0===b?void 0:b.appointment)||void 0===f?void 0:f.appoinmentDate,_=null===(h=null===(v=null==e?void 0:e.applicants[0])||void 0===v?void 0:v.appointment)||void 0===h?void 0:h.appointmentTime,this.paymentConfirmationData={},this.paymentConfirmationData.vacCode=e.vacCode,this.paymentConfirmationData.entryType=P[7],this.paymentConfirmationData.serviceType=P[8],this.paymentConfirmationData.visaType=P[9],this.paymentConfirmationData.applicationType=P[10],this.paymentConfirmationData.nationalityName=P[11],this.paymentConfirmationData.applicants=e.applicants,this.paymentConfirmationData.countryName=P[0],this.paymentConfirmationData.missionName=P[1],this.paymentConfirmationData.vacCodeName=P[2],this.paymentConfirmationData.visaCategoryName=P[3],this.paymentConfirmationData.visaSubCategoryName=P[4],this.paymentConfirmationData.appointment_type=P[6],this.paymentConfirmationData.appointment_date=F,this.appointmentDateFormat=this.utilityService.momentInstance(F,"DD/MM/YYYY").format(this.dateFormat.toUpperCase()),this.paymentConfirmationData.appointmentTime=_,this.paymentConfirmationData.fees_list=P[5],this.paymentConfirmationData.feesTotal=P[5].length>0?P[5].reduce(function(e,t){return e+t.feeAmount},0):0,this.paymentConfirmationData.additionalFee=this.sessionService.additionalFees||[],this.paymentConfirmationData.additionalFeeTotal=(null===(S=this.sessionService.additionalFees)||void 0===S?void 0:S.length)>0?this.sessionService.additionalFees.reduce(function(e,t){return e+((null==t?void 0:t.value)||0)},0):0,R=[],e.applicants.forEach(function(e){var t;null===(t=e.vas)||void 0===t||t.forEach(function(e){var t,a,n;if("TMIPS"!==e.vasCode){var i=U.sessionService.applicantService.map(function(e){return e.code}).indexOf(e.vasCode),r=R.map(function(e){return e.vasCode}).indexOf(e.vasCode);r>-1?(R[r].price=R[r].price+(null===(t=U.sessionService.applicantService[i])||void 0===t?void 0:t.amount),R[r].quantity=R[r].quantity+1):(e.unitPrice=null===(a=U.sessionService.applicantService[i])||void 0===a?void 0:a.amount,e.price=null===(n=U.sessionService.applicantService[i])||void 0===n?void 0:n.amount,e.quantity=1,R.push(e))}})}),this.paymentConfirmationData.services=R,this.paymentConfirmationData.serviceFeeTax=this.sessionService.serviceTax,this.paymentConfirmationData.servicesTotal=(null===(C=this.paymentConfirmationData.services)||void 0===C?void 0:C.length)>0?this.paymentConfirmationData.services.reduce(function(e,t){return e+(t.price||0)},0):0,this.paymentConfirmationData.overallTotal=this.paymentConfirmationData.servicesTotal+this.paymentConfirmationData.feesTotal+this.paymentConfirmationData.additionalFeeTotal,(G=this.sessionService.applicantService.find(function(e){return"TMIPS"===e.code}))&&R.push(G),this.paymentConfirmationData.services=R,(null===(D=this.sessionService.tmiVas)||void 0===D?void 0:D.length)>0&&(this.paymentConfirmationData.servicesTotal+=null==G?void 0:G.amount,this.paymentConfirmationData.overallTotal+=null==G?void 0:G.amount),this.fetchAddress(),y.a.production&&this.summaryGA(e),this.utilityService.stopNgxUiSpinner();case 20:case"end":return g.stop()}},g,this)}))}},{key:"calFeesTotal",get:function(){var e,t,a,n,i,r=null===(t=null===(e=this.paymentConfirmationData)||void 0===e?void 0:e.fees_list)||void 0===t?void 0:t.filter(function(e){return e.feeTypeCode===h.c.FEE_TYPE_CODES.CVFEE});return r&&r.length>0?(null===(a=this.paymentConfirmationData)||void 0===a?void 0:a.feesTotal)-(null===(n=r[0])||void 0===n?void 0:n.feeAmount):null===(i=this.paymentConfirmationData)||void 0===i?void 0:i.feesTotal}},{key:"summaryGA",value:function(e){var t,a,n,i,r;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function o(){var s,l,c,u,d,m,p=this;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:s=this.sessionService.applicationConfiguration,l=e.applicants.filter(function(e){return null!==e.vas}).length,c=null===(t=e.applicants)||void 0===t?void 0:t.length,u=e.applicants.reduce(function(e,t){var a;return e+(null===(a=t.vas)||void 0===a?void 0:a.length)||0},0),d=Number(this.paymentConfirmationData.serviceFeeTax),m={ecommerce:{Applicants:c,"Vas Applicants":l,"Vas Quantity":u,currencyCode:this.currencyCode,purchase:{actionField:{id:this.activatedRoute.snapshot.queryParams.TransactionId||this.sessionService.urn,Applicants:c,"Vas Applicants":l,"Vas Quantity":u,affiliation:s.payAtVACEnabled?"Pay at vac":"Online Store",revenue:null===(a=this.paymentConfirmationData)||void 0===a?void 0:a.overallTotal.toFixed(Math.max(((Number(null===(n=this.paymentConfirmationData)||void 0===n?void 0:n.overallTotal)+"").split(".")[1]||"").length,2)),tax:d.toFixed(Math.max(((d+"").split(".")[1]||"").length,2)),shipping:"0.00",coupon:"",action:"purchase"},products:[]}}},u>0?null===(i=this.paymentConfirmationData.services)||void 0===i||i.forEach(function(e){m.ecommerce.purchase.products.push({name:e.name,id:e.vasId,price:e.price,brand:"".concat(p.utilityService.countrynameByIso(window.location.pathname.split("/")[1]),"/").concat(p.utilityService.countrynameByIso(window.location.pathname.split("/")[3])),category:"VAS",variant:p.paymentConfirmationData.vacCodeName,quantity:e.quantity})}):m.ecommerce.purchase.products=[{name:"Applicant Count",id:"Applicant Count",price:this.paymentConfirmationData.overallTotal,brand:"".concat(this.utilityService.countrynameByIso(window.location.pathname.split("/")[1]),"/").concat(this.utilityService.countrynameByIso(window.location.pathname.split("/")[3])),category:"VAC",variant:this.paymentConfirmationData.vacCodeName,quantity:null===(r=e.applicants)||void 0===r?void 0:r.length}],this.utilityService.sendConfirmationPageAnalytics(m);case 2:case"end":return o.stop()}},o,this)}))}},{key:"getApplicationData",value:function(){var e;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.commonService.getVacCenters(null===(e=this.sessionService)||void 0===e?void 0:e.appCultureCode);case 2:(a=t.sent)&&(this.vacList=a);case 4:case"end":return t.stop()}},t,this)}))}},{key:"loadNationality",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.commonService.loadNationality();case 2:this.nationalityList=e.sent;case 3:case"end":return e.stop()}},e,this)}))}},{key:"printAppointmentLetter",value:function(e){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.httpService.payloadPost(h.c.api.downloadPdf,{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,loginUser:this.sessionService.getLoggedEmail(),urn:e,emailId:"",countactNumber:"",passportNumber:""}).toPromise().then(function(e){return e}).catch(function(e){return e});case 2:a=t.sent,this.utilityService.showFile(a);case 4:case"end":return t.stop()}},t,this)}))}},{key:"navigate",value:function(){this.sessionService.updateFees=!0,this.commonService.routeToPostLoginModule(h.q.REVIEW_AND_PAY)}},{key:"clearInProgressApplication",value:function(){this.utilityService.pushDataLayerGA({dl_event:"appointment_confirmation",dl_category:"Appointment Confirmation Page",dl_action:"Home",dl_label:"page_url"}),this.utilityService.clearInProgressApplication(),this.navigateToDashboard()}},{key:"navigateToDashboard",value:function(){this.commonService.routeToDashboard()}},{key:"getFromConstant",value:function(e){return-1===this.notStandardCode.indexOf(e)?"reviewAndPayment.pageDetails.para16":this.primeLongueCode.indexOf(e)>-1?"reviewAndPayment.pageDetails.para17":this.walkinCode.indexOf(e)>-1?"reviewAndPayment.pageDetails.para18":e}},{key:"fetchAddress",value:function(){var e;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.commonService.checkIfPostal(this.applicationType)){t.next=21;break}n=a(null===(e=this.paymentConfirmationData)||void 0===e?void 0:e.applicants),t.prev=2,n.s();case 4:if((i=n.n()).done){t.next=13;break}return(r=i.value).postalList=[],t.next=9,this.httpService.payloadPost(h.c.api.getAddress,{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,centerCode:this.paymentConfirmationData.vacCode,loginUser:this.sessionService.getLoggedEmail(),aurn:null==r?void 0:r.arn}).toPromise().then(function(e){return e}).catch(function(e){return e});case 9:(o=t.sent)&&r.postalList.push(o);case 11:t.next=4;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),n.e(t.t0);case 18:return t.prev=18,n.f(),t.finish(18);case 21:case"end":return t.stop()}},t,this,[[2,15,18,21]])}))}},{key:"websiteAddressVAC",get:function(){return this.utilityService.externalUrlAppend("attend-centre")}},{key:"websiteCounsularFee",get:function(){var e;return null===(e=this.sessionService.resourceGroupData)||void 0===e?void 0:e.onepager}},{key:"getDateinPayAtBankSelected",value:function(){var e;this.payAtBankDetails.appointmentDate=this.utilityService.momentInstance(null===(e=this.sessionService.getAppointmentDetails())||void 0===e?void 0:e.date).format("DD/MM/YYYY"),this.payAtBankDetails.endDate=this.utilityService.momentInstance(this.utilityService.momentInstance(this.payAtBankDetails.appointmentDate,"DD/MM/YYYY").add(5,"days")).format("DD/MM/YYYY")}}]),i}(S.a)).\u0275fac=function(e){return new(e||xr)(u.Qb(v.a),u.Qb(ve.a))},xr.\u0275cmp=u.Kb({type:xr,selectors:[["app-payment-confirmation"]],features:[u.Ab],decls:1,vars:1,consts:[["class","container py-15 py-md-30",4,"ngIf"],[1,"container","py-15","py-md-30"],[4,"ngIf"],["class","form-card mb-20 mb-sm-50",4,"ngIf"],[1,"form-card","mb-20","mb-sm-50"],[1,"c-brand-grey-para","fs-sm-18","mb-8"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"],[1,"form-card","p-0","border-0","shadow-none","mat-card"],[1,"fs-24","fs-sm-42","mb-30"],[1,"fs-18","fs-sm-24","mb-15"],[1,"card","border-bottom-2","mb-40"],[1,"list-group","list-group-flush"],[1,"list-group-item","bg-brand-footer","px-md-25"],[1,"c-brand-grey-para"],[1,"fs-18","mt-8"],[1,"fs-18","fs-sm-24","mb-20"],[1,"card","fs-sm-18","border-0","border-bottom-1"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"card-body","px-md-25","bg-brand-footer","rounded-4","mb-40"],[1,"row"],[1,"col"],[1,"col-auto","c-brand-green","text-right"],[1,"row","mb-20","mt-40"],[1,"fs-18","fs-sm-24","mb-0"],[1,"card","fs-sm-18","border-0","border-bottom-1","mb-0"],[1,"card"],[1,"card-body","p-15","px-md-25","bg-brand-footer","rounded-4"],[1,"card-body","px-md-25"],["class","row",4,"ngIf"],[4,"ngIf","ngIfElse"],["waitlistJourney",""],["class","payment-info mt-30 mb-n15 mx-md-n15 mb-n30 mb-sm-n15 mb-md-n30",4,"ngIf"],[1,"text-center","mb-20"],[1,"fa","fa-check-circle-o","fs-30","c-brand-green"],[1,"text-center","fs-21","fs-sm-24","mb-10"],["class","c-brand-orange text-decoration-underline cursor-pointer",3,"click",4,"ngIf"],[1,"c-brand-grey-para","fs-sm-18"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer",3,"click"],[1,"payment-info","mt-30","mb-n15","mx-md-n15","mb-n30","mb-sm-n15","mb-md-n30"],[1,"row","border-top","py-md-15","text-center"],[1,"col-12","col-md","py-15"],[1,"ff-500"],[1,"col-12","col-md","py-15","brd-middle"],[1,"c-brand-grey-para","fs-sm-18","mb-10"],[1,"mb-10"],["target","_blank",3,"href"],[1,"c-brand-orange","fs-sm-18","text-decoration-underline","cursor-pointer"],[1,"border-0","form-card","mat-card","mat-focus-indicator","mb-sm-50","p-0","shadow-none"],[1,"row","mt-auto",3,"type"],["class","list-group-item bg-brand-footer px-md-25",4,"ngIf"],["class","list-group-item bg-brand-footer px-md-25",4,"ngFor","ngForOf","ngForTrackBy"],[1,"row","no-gutters"],["class","col-12 col-md-6 my-15 pl-35",4,"ngIf"],[1,"col-12","col-md-6","my-15","pl-35"],[1,"cursor-pointer",3,"click"],[1,"fa","fa-print","fs-25","c-brand-blue-light","position-absolute","top-n3","left-0"],[1,"c-brand-grey-para","text-decoration-underline","cursor-pointer"],[1,"card","fs-sm-18","border-0","border-bottom-1","mb-40"],["class","card-body border-bottom-1 px-md-25",4,"ngFor","ngForOf","ngForTrackBy"],[1,"card-body","border-bottom-1","px-md-25","bg-brand-footer","rounded-4"],[1,"card-body","border-bottom-1","px-md-25"],[1,"col-12","col-sm-7"],[1,"col","c-brand-grey-para"],[1,"col-auto","text-right"],["class","card-body border-bottom-1 px-md-25",4,"ngIf"],["class","card-body border-bottom-1 p-15 px-md-25",4,"ngIf"],[1,"card-body","border-bottom-1","p-15","px-md-25"],[1,"col","fs-13","text-right"]],template:function(e,t){1&e&&u.Mc(0,Nr,3,2,"section",0),2&e&&u.tc("ngIf",t.requestComplete)},directives:[D.o,C.a,O.a,D.n,pn],pipes:[I.d,D.f,D.e],encapsulation:2}),xr),Er=i("IvIE"),Wr=["fullcalendar"];function Pr(e,t){if(1&e&&(u.Wb(0,"div",24),u.Oc(1),u.mc(2,"translate"),u.Rb(3,"countdown",25,26),u.Vb()),2&e){var a=u.lc();u.Db(1),u.Qc(" ",u.nc(2,2,"header.headerLabel.label17"),""),u.Db(2),u.tc("config",a.config)}}function Fr(e,t){1&e&&(u.Wb(0,"div",28),u.Wb(1,"mat-radio-button",29),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()),2&e&&(u.Db(1),u.tc("value",1),u.Db(1),u.Qc("",u.nc(3,2,"bookAppointment.radioBtn.label2")," "))}function _r(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Wb(1,"mat-radio-group",27),u.hc("ngModelChange",function(e){return u.Fc(a),u.lc().slotType=e})("change",function(e){return u.Fc(a),u.lc().radioChange(e)}),u.Wb(2,"div",28),u.Wb(3,"mat-radio-button",29),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Vb(),u.Mc(6,Fr,4,4,"div",30),u.Vb(),u.Tb()}if(2&e){var n=u.lc();u.Db(1),u.tc("ngModel",n.slotType),u.Db(2),u.tc("value",0),u.Db(1),u.Qc("",u.nc(5,4,"bookAppointment.radioBtn.label1")," "),u.Db(2),u.tc("ngIf",n.appConfiguration&&!n.isPtFlow&&n.appConfiguration.walkInOperationHours)}}function Rr(e,t){1&e&&(u.Wb(0,"div",28),u.Wb(1,"mat-radio-button",29),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()),2&e&&(u.Db(1),u.tc("value",0),u.Db(1),u.Qc("",u.nc(3,2,"bookAppointment.radioBtn.label1")," "))}function Gr(e,t){1&e&&(u.Wb(0,"div",28),u.Wb(1,"mat-radio-button",29),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()),2&e&&(u.Db(1),u.tc("value",1),u.Db(1),u.Qc("",u.nc(3,2,"bookAppointment.radioBtn.label2")," "))}function Ur(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Wb(1,"mat-radio-group",27),u.hc("ngModelChange",function(e){return u.Fc(a),u.lc().slotType=e})("change",function(e){return u.Fc(a),u.lc().radioChange(e)}),u.Mc(2,Rr,4,4,"div",30),u.Mc(3,Gr,4,4,"div",30),u.Vb(),u.Tb()}if(2&e){var n=u.lc();u.Db(1),u.tc("ngModel",n.slotType),u.Db(1),u.tc("ngIf",n.isRescheduleAptmntMode&&0===n.slotType),u.Db(1),u.tc("ngIf",n.appConfiguration&&!n.isPtFlow&&n.appConfiguration.walkInOperationHours&&n.isRescheduleAptmntMode&&1===n.slotType)}}function Br(e,t){1&e&&(u.Ub(0),u.Wb(1,"div",31),u.Wb(2,"div",32),u.Wb(3,"div",33),u.Oc(4,"\xa0"),u.Vb(),u.Vb(),u.Oc(5),u.mc(6,"translate"),u.Vb(),u.Tb()),2&e&&(u.Db(5),u.Qc(" ",u.nc(6,1,"bookAppointment.pageDetails.para3")," "))}function jr(e,t){1&e&&(u.Ub(0),u.Wb(1,"td"),u.Wb(2,"div"),u.Oc(3),u.mc(4,"translate"),u.Vb(),u.Rb(5,"br"),u.Wb(6,"div",49),u.Oc(7),u.mc(8,"translate"),u.Vb(),u.Vb(),u.Tb()),2&e&&(u.Db(3),u.Pc(u.nc(4,2,"bookAppointment.pageDetails.para6")),u.Db(4),u.Qc(" ",u.nc(8,4,"bookAppointment.pageDetails.para7")," "))}function Yr(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"td"),u.Wb(2,"div"),u.Oc(3),u.mc(4,"translate"),u.Vb(),u.Rb(5,"br"),u.Wb(6,"div",49),u.Oc(7),u.Vb(),u.Vb(),u.Tb()),2&e){var a=u.lc(4);u.Db(3),u.Pc(u.nc(4,3,"bookAppointment.pageDetails.para9")),u.Db(4),u.Rc("",a.currencyCode," ",null==a.priceWithCurrency?null:a.priceWithCurrency.primetime,"")}}function Qr(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"td"),u.Wb(2,"div"),u.Oc(3),u.mc(4,"translate"),u.Vb(),u.Wb(5,"div",49),u.Oc(6),u.Vb(),u.Vb(),u.Tb()),2&e){var a=u.lc(4);u.Db(3),u.Pc(u.nc(4,3,"bookAppointment.pageDetails.para11")),u.Db(3),u.Rc("",a.currencyCode," ",null==a.priceWithCurrency?null:a.priceWithCurrency.premiumlongue,"")}}function qr(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"td"),u.Wb(2,"div"),u.Oc(3),u.mc(4,"translate"),u.Vb(),u.Wb(5,"div",49),u.Oc(6),u.Vb(),u.Vb(),u.Tb()),2&e){var a=u.lc(4);u.Db(3),u.Pc(u.nc(4,3,"bookAppointment.pageDetails.para10")),u.Db(3),u.Rc("",a.currencyCode," ",a.priceWithCurrency.premiumprime,"")}}function Hr(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"td"),u.Wb(2,"div"),u.Oc(3),u.mc(4,"translate"),u.Vb(),u.Wb(5,"div",49),u.Oc(6),u.Vb(),u.Vb(),u.Tb()),2&e){var a=u.lc(4);u.Db(3),u.Pc(u.nc(4,2,"bookAppointment.pageDetails.para21")),u.Db(3),u.Pc(a.currencyCode)}}function Kr(e,t){1&e&&(u.Ub(0),u.Wb(1,"td",50),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Tb()),2&e&&(u.Db(2),u.Pc(u.nc(3,1,"bookAppointment.pageDetails.para8")))}function zr(e,t){1&e&&(u.Ub(0),u.Wb(1,"td",50),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Tb()),2&e&&(u.Db(2),u.Pc(u.nc(3,1,"bookAppointment.pageDetails.para12")))}function $r(e,t){1&e&&(u.Ub(0),u.Wb(1,"td",50),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Tb()),2&e&&(u.Db(2),u.Pc(u.nc(3,1,"bookAppointment.pageDetails.para13")))}function Zr(e,t){1&e&&(u.Ub(0),u.Wb(1,"td",50),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Tb()),2&e&&(u.Db(2),u.Pc(u.nc(3,1,"bookAppointment.pageDetails.para13")))}function Jr(e,t){1&e&&(u.Ub(0),u.Wb(1,"td",50),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Tb()),2&e&&(u.Db(2),u.Pc(u.nc(3,1,"bookAppointment.pageDetails.para22")))}var Xr=function(e){return{active:e}};function eo(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Wb(1,"div",53),u.Oc(2),u.Vb(),u.Wb(3,"div",54),u.Wb(4,"input",55),u.hc("click",function(){u.Fc(a);var e=u.lc(2).$implicit,t=u.lc(4);return t.selectedTime=null==e?null:e.time,t.slotTypeName="reviewAndPayment.pageDetails.para16",t.selectedSlotCategory="Standard",t.selectedAllocationId=null==e||null==e.st?null:e.st.allocationId,t.selectedSlotRange=null==e||null==e.st?null:e.st.timeSlot,t.slotService=null,t.savePageDataToSession()}),u.Vb(),u.Wb(5,"label",56),u.Wb(6,"div",57),u.Wb(7,"div",58),u.Oc(8),u.mc(9,"translate"),u.Vb(),u.Wb(10,"div",59),u.Rb(11,"i",60),u.Oc(12),u.mc(13,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Tb()}if(2&e){var n=u.lc(2),i=n.$implicit,r=n.index,o=u.lc(4);u.Db(2),u.Pc(null!=i&&null!=i.st&&i.st.allocationId?null==i||null==i.st?null:i.st.allocationId:""),u.Db(2),u.vc("id","STRadio",r+1,""),u.tc("ngClass",u.xc(10,Xr,o.selectedAllocationId==(null==i||null==i.st?null:i.st.allocationId))),u.Db(1),u.vc("for","STRadio",r+1,""),u.Db(3),u.Pc(u.nc(9,6,"commonSections.formLabel.label1")),u.Db(4),u.Qc("",u.nc(13,8,"bookAppointment.pageDetails.para20")," ")}}function to(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"td"),u.Mc(2,eo,14,12,"ng-container",7),u.Vb(),u.Tb()),2&e){var a=u.lc().$implicit;u.Db(2),u.tc("ngIf",0!==(null==a||null==a.st?null:a.st.remainingSeats))}}function ao(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Wb(1,"div",53),u.Oc(2),u.Vb(),u.Wb(3,"div",54),u.Wb(4,"input",55),u.hc("click",function(){u.Fc(a);var e=u.lc(2).$implicit,t=u.lc(4);return t.selectedTime=null==e?null:e.time,t.slotTypeName="reviewAndPayment.pageDetails.para16",t.selectedSlotCategory="Standard",t.selectedAllocationId=null==e||null==e.pt?null:e.pt.allocationId,t.selectedSlotRange=null==e||null==e.pt?null:e.pt.timeSlot,t.slotService=t.getFees(t.PRIMETIME_VASCODE),t.savePageDataToSession()}),u.Vb(),u.Wb(5,"label",61),u.Wb(6,"div",57),u.Wb(7,"div",58),u.Oc(8),u.mc(9,"translate"),u.Vb(),u.Wb(10,"div",59),u.Rb(11,"i",60),u.Oc(12),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Tb()}if(2&e){var n=u.lc(2),i=n.$implicit,r=n.index,o=u.lc(4);u.Db(2),u.Pc(null!=i&&null!=i.pt&&i.pt.allocationId?null==i||null==i.pt?null:i.pt.allocationId:""),u.Db(2),u.vc("id","PTRadio",r+1,""),u.tc("ngClass",u.xc(9,Xr,o.selectedAllocationId==(null==i||null==i.pt?null:i.pt.allocationId))),u.Db(1),u.vc("for","PTRadio",r+1,""),u.Db(3),u.Pc(u.nc(9,7,"commonSections.formLabel.label1")),u.Db(4),u.Rc(" ",o.currencyCode," ",null==o.priceWithCurrency?null:o.priceWithCurrency.primetime," ")}}function no(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"td"),u.Mc(2,ao,13,11,"ng-container",7),u.Vb(),u.Tb()),2&e){var a=u.lc().$implicit;u.Db(2),u.tc("ngIf",0!==(null==a||null==a.pt?null:a.pt.remainingSeats))}}function io(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Wb(1,"div",53),u.Oc(2),u.Vb(),u.Wb(3,"div",54),u.Wb(4,"input",55),u.hc("click",function(){u.Fc(a);var e=u.lc(2).$implicit,t=u.lc(4);return t.selectedTime=null==e?null:e.time,t.slotTypeName="reviewAndPayment.pageDetails.para17",t.selectedSlotCategory="PL",t.selectedAllocationId=null==e||null==e.pl?null:e.pl.allocationId,t.selectedSlotRange=null==e||null==e.pl?null:e.pl.timeSlot,t.slotService=t.getFees(t.PRIMELONGUE_VASCODE),t.savePageDataToSession()}),u.Vb(),u.Wb(5,"label",61),u.Wb(6,"div",57),u.Wb(7,"div",58),u.Oc(8),u.mc(9,"translate"),u.Vb(),u.Wb(10,"div",59),u.Rb(11,"i",60),u.Oc(12),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Tb()}if(2&e){var n=u.lc(2),i=n.$implicit,r=n.index,o=u.lc(4);u.Db(2),u.Pc(null!=i&&null!=i.pl&&i.pl.allocationId?null==i||null==i.pl?null:i.pl.allocationId:""),u.Db(2),u.vc("id","PLRadio",r+1,""),u.tc("ngClass",u.xc(9,Xr,o.selectedAllocationId==(null==i||null==i.pl?null:i.pl.allocationId))),u.Db(1),u.vc("for","PLRadio",r+1,""),u.Db(3),u.Pc(u.nc(9,7,"commonSections.formLabel.label1")),u.Db(4),u.Rc(" ",o.currencyCode," ",null==o.priceWithCurrency?null:o.priceWithCurrency.premiumlongue," ")}}function ro(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"td"),u.Mc(2,io,13,11,"ng-container",7),u.Vb(),u.Tb()),2&e){var a=u.lc().$implicit;u.Db(2),u.tc("ngIf",0!==(null==a||null==a.pl?null:a.pl.remainingSeats))}}function oo(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Wb(1,"div",53),u.Oc(2),u.Vb(),u.Wb(3,"div",54),u.Wb(4,"input",55),u.hc("click",function(){u.Fc(a);var e=u.lc(2).$implicit,t=u.lc(4);return t.selectedTime=null==e?null:e.time,t.selectedSlotCategory="Prime Lounge",t.selectedAllocationId=null==e||null==e.ptpl?null:e.ptpl.allocationId,t.selectedSlotRange=null==e||null==e.ptpl?null:e.ptpl.timeSlot,t.slotService=t.primePremiumService,t.savePageDataToSession()}),u.Vb(),u.Wb(5,"label",61),u.Wb(6,"div",57),u.Wb(7,"div",58),u.Oc(8),u.mc(9,"translate"),u.Vb(),u.Wb(10,"div",59),u.Rb(11,"i",60),u.Oc(12),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Tb()}if(2&e){var n=u.lc(2),i=n.$implicit,r=n.index,o=u.lc(4);u.Db(2),u.Pc(null!=i&&null!=i.ptpl&&i.ptpl.allocationId?null==i||null==i.ptpl?null:i.ptpl.allocationId:""),u.Db(2),u.vc("id","PLRadio",r+1,""),u.tc("ngClass",u.xc(9,Xr,o.selectedAllocationId==(null==i||null==i.ptpl?null:i.ptpl.allocationId))),u.Db(1),u.vc("for","PLRadio",r+1,""),u.Db(3),u.Pc(u.nc(9,7,"commonSections.formLabel.label1")),u.Db(4),u.Rc(" ",o.currencyCode," ",o.priceWithCurrency.premiumprime," ")}}function so(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"td"),u.Mc(2,oo,13,11,"ng-container",7),u.Vb(),u.Tb()),2&e){var a=u.lc().$implicit;u.Db(2),u.tc("ngIf",0!==(null==a||null==a.ptpl?null:a.ptpl.remainingSeats))}}function lo(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Wb(1,"div",53),u.Oc(2),u.Vb(),u.Wb(3,"div",54),u.Wb(4,"input",55),u.hc("click",function(){u.Fc(a);var e=u.lc(2).$implicit,t=u.lc(4);return t.selectedTime=null==e?null:e.time,t.slotTypeName="VAYD",t.selectedSlotCategory="VAYD",t.selectedAllocationId=null==e||null==e.vayd?null:e.vayd.allocationId,t.selectedSlotRange=null==e||null==e.vayd?null:e.vayd.timeSlot,t.slotService=t.getFees(t.VAYD_VASCODE),t.savePageDataToSession()}),u.Vb(),u.Wb(5,"label",61),u.Wb(6,"div",57),u.Wb(7,"div",58),u.Oc(8),u.mc(9,"translate"),u.Vb(),u.Wb(10,"div",59),u.Rb(11,"i",60),u.Oc(12),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Tb()}if(2&e){var n=u.lc(2),i=n.$implicit,r=n.index,o=u.lc(4);u.Db(2),u.Pc(null!=i&&null!=i.vayd&&i.vayd.allocationId?null==i||null==i.vayd?null:i.vayd.allocationId:""),u.Db(2),u.vc("id","VAYDRadio",r+1,""),u.tc("ngClass",u.xc(9,Xr,o.selectedAllocationId==(null==i||null==i.vayd?null:i.vayd.allocationId))),u.Db(1),u.vc("for","VAYDRadio",r+1,""),u.Db(3),u.Pc(u.nc(9,7,"commonSections.formLabel.label1")),u.Db(4),u.Rc(" ",o.currencyCode,"",null==o.priceWithCurrency?null:o.priceWithCurrency.vayd," ")}}function co(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"td"),u.Mc(2,lo,13,11,"ng-container",7),u.Vb(),u.Tb()),2&e){var a=u.lc().$implicit;u.Db(2),u.tc("ngIf",0!==(null==a||null==a.vayd?null:a.vayd.remainingSeats))}}var uo=function(e){return{"d-none":e}};function mo(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"tr",51),u.Wb(2,"td",52),u.Oc(3),u.Vb(),u.Mc(4,to,3,1,"ng-container",7),u.Mc(5,no,3,1,"ng-container",7),u.Mc(6,ro,3,1,"ng-container",7),u.Mc(7,so,3,1,"ng-container",7),u.Mc(8,co,3,1,"ng-container",7),u.Vb(),u.Tb()),2&e){var a=t.$implicit,n=t.index,i=u.lc(4);u.Db(1),u.tc("ngClass",u.xc(7,uo,n>=i.slotBracketSize)),u.Db(2),u.Pc(null==a?null:a.time),u.Db(1),u.tc("ngIf",i.checkIfExist("st")&&(!i.isRescheduleAptmntMode||i.isRescheduleAptmntMode&&-1===i.notStandardCode.indexOf(i.selectedSlotCategory))),u.Db(1),u.tc("ngIf",i.checkIfExist("pt")&&(!i.isRescheduleAptmntMode||i.isRescheduleAptmntMode)),u.Db(1),u.tc("ngIf",i.checkIfExist("pl")&&(!i.isRescheduleAptmntMode||i.isRescheduleAptmntMode&&"pl"===(null==i.selectedSlotCategory?null:i.selectedSlotCategory.toLowerCase()))),u.Db(1),u.tc("ngIf",i.checkIfExist("ptpl")&&(!i.isRescheduleAptmntMode||i.isRescheduleAptmntMode&&i.primeLongueCode.indexOf(i.selectedSlotCategory)>-1)),u.Db(1),u.tc("ngIf",i.checkIfExist("vayd")&&(!i.isRescheduleAptmntMode||i.isRescheduleAptmntMode))}}function po(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Wb(1,"div",42),u.Wb(2,"table",43),u.Wb(3,"tbody"),u.Wb(4,"tr",44),u.Wb(5,"td",45),u.Oc(6),u.mc(7,"translate"),u.Vb(),u.Mc(8,jr,9,6,"ng-container",7),u.Mc(9,Yr,8,5,"ng-container",7),u.Mc(10,Qr,7,5,"ng-container",7),u.Mc(11,qr,7,5,"ng-container",7),u.Mc(12,Hr,7,4,"ng-container",7),u.Vb(),u.Wb(13,"tr",46),u.Rb(14,"td"),u.Mc(15,Kr,4,3,"ng-container",7),u.Mc(16,zr,4,3,"ng-container",7),u.Mc(17,$r,4,3,"ng-container",7),u.Mc(18,Zr,4,3,"ng-container",7),u.Mc(19,Jr,4,3,"ng-container",7),u.Vb(),u.Mc(20,mo,9,9,"ng-container",47),u.Vb(),u.Vb(),u.Vb(),u.Wb(21,"button",48),u.hc("click",function(){return u.Fc(a),u.lc(3).showTopOnes("add")}),u.Oc(22),u.mc(23,"translate"),u.Vb(),u.Tb()}if(2&e){var n=u.lc(3);u.Db(6),u.Pc(u.nc(7,15,"bookAppointment.pageDetails.para5")),u.Db(2),u.tc("ngIf",n.checkIfExist("st")&&(!n.isRescheduleAptmntMode||n.isRescheduleAptmntMode&&-1===n.notStandardCode.indexOf(n.selectedSlotCategory))),u.Db(1),u.tc("ngIf",n.checkIfExist("pt")&&(!n.isRescheduleAptmntMode||n.isRescheduleAptmntMode)),u.Db(1),u.tc("ngIf",n.checkIfExist("pl")&&(!n.isRescheduleAptmntMode||n.isRescheduleAptmntMode&&"pl"===(null==n.selectedSlotCategory?null:n.selectedSlotCategory.toLowerCase()))),u.Db(1),u.tc("ngIf",n.checkIfExist("ptpl")&&(!n.isRescheduleAptmntMode||n.isRescheduleAptmntMode&&n.primeLongueCode.indexOf(n.selectedSlotCategory)>-1)),u.Db(1),u.tc("ngIf",n.checkIfExist("vayd")&&(!n.isRescheduleAptmntMode||n.isRescheduleAptmntMode)),u.Db(3),u.tc("ngIf",n.checkIfExist("st")&&(!n.isRescheduleAptmntMode||n.isRescheduleAptmntMode&&-1===n.notStandardCode.indexOf(n.selectedSlotCategory))),u.Db(1),u.tc("ngIf",n.checkIfExist("pt")&&(!n.isRescheduleAptmntMode||n.isRescheduleAptmntMode)),u.Db(1),u.tc("ngIf",n.checkIfExist("pl")&&(!n.isRescheduleAptmntMode||n.isRescheduleAptmntMode&&"pl"===(null==n.selectedSlotCategory?null:n.selectedSlotCategory.toLowerCase()))),u.Db(1),u.tc("ngIf",n.checkIfExist("ptpl")&&(!n.isRescheduleAptmntMode||n.isRescheduleAptmntMode&&n.primeLongueCode.indexOf(n.selectedSlotCategory)>-1)),u.Db(1),u.tc("ngIf",n.checkIfExist("vayd")&&(!n.isRescheduleAptmntMode||n.isRescheduleAptmntMode)),u.Db(1),u.tc("ngForOf",n.availableSlots)("ngForTrackBy",n.trackByFn),u.Db(1),u.tc("disabled",(null==n.availableSlots?null:n.availableSlots.length)<=n.slotBracketSize),u.Db(1),u.Qc(" ",u.nc(23,17,"commonSections.buttons.button33")," ")}}function bo(e,t){1&e&&(u.Ub(0),u.Wb(1,"div",62),u.Wb(2,"div",15),u.Oc(3),u.mc(4,"translate"),u.Vb(),u.Vb(),u.Tb()),2&e&&(u.Db(3),u.Qc(" ",u.nc(4,1,"bookAppointment.pageDetails.para18")," "))}function fo(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Wb(1,"h2",34),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Wb(4,"div",35),u.Wb(5,"mat-form-field",36),u.Wb(6,"mat-select",37),u.hc("selectionChange",function(e){return u.Fc(a),u.lc(2).filterSlots(e)})("ngModelChange",function(e){return u.Fc(a),u.lc(2).filterSlot=e}),u.mc(7,"translate"),u.Wb(8,"mat-option",38),u.Oc(9),u.mc(10,"translate"),u.Vb(),u.Wb(11,"mat-option",39),u.Oc(12),u.mc(13,"translate"),u.Vb(),u.Wb(14,"mat-option",40),u.Oc(15),u.mc(16,"translate"),u.Vb(),u.Wb(17,"mat-option",41),u.Oc(18),u.mc(19,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Mc(20,po,24,19,"ng-container",7),u.Mc(21,bo,5,3,"ng-container",7),u.Tb()}if(2&e){var n=u.lc(2);u.Db(2),u.Pc(u.nc(3,9,"bookAppointment.headerLabel.label4")),u.Db(4),u.uc("placeholder",u.nc(7,11,"commonSections.formLabel.label1")),u.tc("ngModel",n.filterSlot),u.Db(3),u.Pc(u.nc(10,13,"bookAppointment.pageDetails.para14")),u.Db(3),u.Pc(u.nc(13,15,"bookAppointment.pageDetails.para15")),u.Db(3),u.Pc(u.nc(16,17,"bookAppointment.pageDetails.para16")),u.Db(3),u.Pc(u.nc(19,19,"bookAppointment.pageDetails.para17")),u.Db(2),u.tc("ngIf",n.checkIfExist("pt")||n.checkIfExist("st")||n.checkIfExist("pl")||n.checkIfExist("vayd")),u.Db(1),u.tc("ngIf",!(n.checkIfExist("pt")||n.checkIfExist("st")||n.checkIfExist("pl")||n.checkIfExist("vayd")))}}function vo(e,t){if(1&e&&(u.Ub(0),u.Mc(1,fo,22,21,"ng-container",7),u.Tb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",(null==a.cloneSlots?null:a.cloneSlots.length)>0)}}function go(e,t){if(1&e&&(u.Ub(0),u.Oc(1),u.mc(2,"translate"),u.Tb()),2&e){var a=u.lc(2);u.Db(1),u.Rc(" ",u.nc(2,2,"bookAppointment.radioBtn.label2")," ",a.walkingMessage," ")}}function ho(e,t){1&e&&(u.Oc(0),u.mc(1,"translate")),2&e&&u.Qc(" ",u.nc(1,1,"bookAppointment.pageDetails.para19")," ")}function yo(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"div",62),u.Wb(2,"div",15),u.Mc(3,go,3,4,"ng-container",63),u.Mc(4,ho,2,3,"ng-template",null,64,u.Nc),u.Vb(),u.Vb(),u.Tb()),2&e){var a=u.Bc(5),n=u.lc();u.Db(3),u.tc("ngIf",n.selectedTime)("ngIfElse",a)}}function So(e,t){if(1&e){var a=u.Xb();u.Wb(0,"div",65),u.hc("click",function(){return u.Fc(a),u.lc().routeToDashboard()}),u.Wb(1,"button",66),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()}2&e&&(u.Db(2),u.Qc(" ",u.nc(3,1,"bookAppointment.buttons.button1")," "))}function Co(e,t){if(1&e){var a=u.Xb();u.Wb(0,"div",65),u.hc("click",function(){return u.Fc(a),u.lc().routePrevious()}),u.Wb(1,"button",66),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()}2&e&&(u.Db(2),u.Qc(" ",u.nc(3,1,"commonSections.buttons.button8")," "))}var Do,Io,Vo=((Do=function(t){s(i,t);var n=c(i);function i(t,a,r){var o;return p(this,i),(o=n.call(this)).httpService=t,o.sessionService=a,o.cd=r,o.PRIMETIME_VASCODE=h.o,o.PRIMELONGUE_VASCODE=h.l,o.VAYD_VASCODE=h.u,o.environment=y.a,o.calendarOptions={showNonCurrentDates:!1,fixedWeekCount:!1,initialView:"dayGridMonth",firstDay:1,validRange:{start:Tt()().startOf("month").format("YYYY-MM-DD"),end:Tt()().add(y.a.slotDaysEnabled,"days").endOf("month").format("YYYY-MM-DD")},editable:!1,dateClick:o.handleDateClick.bind(d(o))},o.availableSlots=[],o.walkinCode=h.v,o.primeTimeCode=h.m,o.primeLongueCode=h.k,o.vaydcode=h.t,o.primeTimePremiumLoungeCode=h.n,o.availableDates=[],o.notStandardCode=[].concat(e(o.primeLongueCode),e(o.walkinCode),e(o.vaydcode)),o.initBaseForm(h.c.modules.BOOK_APPOINTMENT),o.allowedDates=[],o.timeSlots=[],o.slotType=0,o.tempTrStartValue=1,o.tempTrEndValue=5,o.tableRowCount=0,o.cloneSlots=[],o.appConfiguration=o.sessionService.applicationConfiguration,o.filterSlot="All",o.serviceList=[],o.loadVasByVac(),o.currencyCode="",o.walkingMessage="",o.selectedSlotRange="",o.selectedAllocationId="",o.priceWithCurrency={},o.slotTypeName="",o.increaseSlotBy=5,o}return f(i,[{key:"setupRangeAndDate",value:function(){try{var e=Number(this.utilityService.momentInstance(this.sessionService.latestSlotAvailiable,"DD/MM/YYYY").format("MM"))-Number(this.utilityService.momentInstance().format("MM"));this.startDate=e>0?this.utilityService.momentInstance().add(e,"months").startOf("month").format("YYYY-MM-DD hh:mm:ss"):this.utilityService.momentInstance().add(e,"months").add(1,"days").format("YYYY-MM-DD hh:mm:ss"),this.endDate=this.utilityService.momentInstance().add(e,"months").endOf("month").format("YYYY-MM-DD hh:mm:ss");for(var t=0;t<e;t++)$(".fc-next-button").click()}catch(a){console.log(a)}}},{key:"ngOnInit",value:function(){var e={dl_category:"book appointment",dl_action:"book appointment pageview",dl_label:this.utilityService.countrynameByIso(this.sessionService.countryCode),value:void 0};this.utilityService.fireCustomEvent(e),this.commonService.loadClientIp(),this.timeLeft=String(300),this.isPtFlow&&!this.isRescheduleAptmntMode&&this.start(),this.calendarOptions.locale=this.sessionService.appCultureCode;var t=this.sessionService.applicantService,a=null==t?void 0:t.filter(function(e){return"timeslot"===e.timeslot});this.slotService=(null==a?void 0:a.length)>0?a:[],this.slotBracketSize=this.increaseSlotBy}},{key:"ngAfterViewChecked",value:function(){this.calendarApi=this.calendarComponent.getApi()}},{key:"start",value:function(){this.config={leftTime:this.timeLeft,format:"mm:ss",demand:!1},this.commonService.autoLogout(300)}},{key:"ngAfterViewInit",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.sessionService.getAppointmentDetails()){e.next=6;break}return e.next=4,this.initFocus();case 4:e.next=7;break;case 6:this.setupRangeAndDate();case 7:(t=this.sessionService.getAppointmentDetails())&&(this.startDate=this.utilityService.momentInstance(null==t?void 0:t.date).isAfter(this.utilityService.momentInstance().endOf("month"))?this.utilityService.momentInstance(null==t?void 0:t.date).startOf("month").format("YYYY-MM-DD"):this.utilityService.momentInstance().add(1,"days").format("YYYY-MM-DD"),this.endDate=this.utilityService.momentInstance(null==t?void 0:t.date).endOf("month").format("YYYY-MM-DD")),this.loadAppointmentSlots(),$(".fc-prev-button").click(function(){setTimeout(function(){$("td.date-availiable > .active").removeClass("active")}),a.selectedDate=null,a.startDate=a.utilityService.momentInstance(a.calendarApi.view.activeStart).isBefore(a.utilityService.momentInstance())&&a.utilityService.momentInstance(a.calendarApi.view.activeStart).isSame(new Date,"month")?a.utilityService.momentInstance().add(1,"days").format("YYYY-MM-DD hh:mm:ss"):a.utilityService.momentInstance(a.calendarApi.view.activeStart).format("YYYY-MM-DD hh:mm:ss"),a.endDate=a.utilityService.momentInstance(a.utilityService.momentInstance(a.calendarApi.view.activeStart).endOf("month").format()).format("YYYY-MM-DD hh:mm:ss"),a.loadAppointmentSlots()}),$(".fc-next-button").click(function(){setTimeout(function(){$("td.date-availiable > .active").removeClass("active")}),a.selectedDate=null,a.startDate=a.utilityService.momentInstance(a.calendarApi.view.activeStart).format("YYYY-MM-DD hh:mm:ss"),a.endDate=a.utilityService.momentInstance(a.utilityService.momentInstance(a.calendarApi.view.activeStart).endOf("month").format()).format("YYYY-MM-DD hh:mm:ss"),a.loadAppointmentSlots()}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}},e,this,[[0,11]])}))}},{key:"initFocus",value:function(){var e=this;try{return new Promise(function(t){var a=e.sessionService.getAppointmentDetails();if(a){e.selectedDate=a.date;for(var n=e.utilityService.momentInstance(a.date).month()-e.utilityService.momentInstance().month(),i=0;i<n;i++)$(".fc-next-button").click();t(!0)}else t(!0)})}catch(t){console.log(t)}}},{key:"handleDateClick",value:function(e){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(a=this.allowedDates.filter(function(t){return t.start===e.dateStr})).length>0&&(0===this.slotType?(this.selectedDate=null,this.walkingMessage="",this.selectedTime=null,this.selectedSlotCategory=null,this.selectedAllocationId="",this.selectedSlotRange="",this.slotService=[],this.detectChanges(),this.showTimeSlots(a[0])):(this.selectedDate=e.dateStr,$("td.date-availiable > .active").removeClass("active"),$('td[data-date="'.concat(a[0].start,'"]')).children().addClass("active"),this.handleWalkin()));case 2:case"end":return t.stop()}},t,this)}))}},{key:"detectChanges",value:function(){this.cd.detectChanges()}},{key:"filterWalkindata",value:function(e){var t=this;return new Promise(function(a){var n,i;a(null===(i=null===(n=e.otherRespose.counters.filter(function(e){return t.walkinCode.includes(e.categoryCode)})[0])||void 0===n?void 0:n.groups[0])||void 0===i?void 0:i.timeSlots[0])})}},{key:"radioChange",value:function(e){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.selectedDate&&this.handleDateClick({dateStr:this.selectedDate}),1===e.value&&this.selectedDate&&this.handleWalkin();case 1:case"end":return t.stop()}},t,this)}))}},{key:"handleWalkin",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.allowedDates.filter(function(e){return e.start===n.selectedDate}),e.next=3,this.filterWalkindata(t[0]);case 3:a=e.sent,this.selectedTime=null==a?void 0:a.timeSlot,this.selectedSlotCategory="WWA",this.slotTypeName="Walk-in Anytime",this.selectedAllocationId=null==a?void 0:a.allocationId,this.selectedSlotRange=null==a?void 0:a.timeSlot,this.slotService=[],this.walkingMessage="Walk-in hours are from "+(null==a?void 0:a.timeSlot);case 5:case"end":return e.stop()}},e,this)}))}},{key:"showTimeSlots",value:function(e){var t;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function a(){var n,i,r=this;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.start,$("td.date-availiable > .active").removeClass("active"),$('td[data-date="'.concat(n,'"]')).children().addClass("active"),this.filterSlot="All",this.tempTrStartValue=1,this.tempTrEndValue=5,this.selectedDate=n,a.next=4,this.generateTimeSlots(e.otherRespose.counters);case 4:return i=a.sent,this.timeSlots=i,a.next=8,this.constructSlotWiseData(e.otherRespose.counters);case 8:this.cloneSlots=a.sent,this.availableSlots=this.cloneSlots,this.tableRowCount=null===(t=this.availableSlots)||void 0===t?void 0:t.length,setTimeout(function(){r.availableSlots.length<r.slotBracketSize&&(r.slotBracketSize=r.availableSlots.length),r.detectChanges(),r.showTopOnes()},1e3);case 12:case"end":return a.stop()}},a,this)}))}},{key:"generateTimeSlots",value:function(e){var t=this;return new Promise(function(a,n){var i=[];e.map(function(n,r){n.groups.map(function(n){n.timeSlots.map(function(n){return Object(g.b)(t,void 0,void 0,regeneratorRuntime.mark(function t(){var o,s,l,c,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.timeSlot.split("-"),s=Number(o[0].split(":")[0]),c=o[0],u=o[1],s<12?(l="Morning",c=o[0].split(":")[0].length>1?o[0]:"0"+o[0],u=o[1].split(":")[0].length>1?o[1]:"0"+o[1]):l=s<18?"Afternoon":"Evening",i.push({time:c,slotType:l,range:"".concat(c,"-").concat(u)}),t.t0=r===e.length-1,!t.t0){t.next=10;break}return i.reduceRight(function(e,t,a){return e[t.time]?i.splice(a,1):e[t.time]=!0,e},Object.create(null)),t.next=9,i.sort(function(e,t){return Number(e.time.replace(/:/g,""))-Number(t.time.replace(/:/g,""))});case 9:a(i);case 10:case"end":return t.stop()}},t)}))})})})})}},{key:"checkIfExist",value:function(e){return this.availableSlots.reduce(function(t,a){return"st"===e?(t[a.st]=(t[a.st]||0)+1,t):"pt"===e?(t[a.pt]=(t[a.pt]||0)+1,t):"pl"===e?(t[a.pl]=(t[a.pl]||0)+1,t):"vayd"===e?(t[a.vayd]=(t[a.vayd]||0)+1,t):"ptpl"===e?(t[a.ptpl]=(t[a.ptpl]||0)+1,t):void 0},{}).hasOwnProperty("[object Object]")}},{key:"filterSlots",value:function(e){var t=this;this.filterSlot=e.value,this.tempTrStartValue=1,this.tempTrEndValue=5;var a=this.cloneSlots;"All"===e.value?(this.availableSlots=a,this.tableRowCount=this.availableSlots.length,setTimeout(function(){t.showTopOnes()},1e3)):(this.availableSlots=a.filter(function(t){return t.slotType===e.value}),this.tableRowCount=this.availableSlots.length,setTimeout(function(){t.showTopOnes()},1e3))}},{key:"showTopOnes",value:function(e){var t;(null===(t=this.availableSlots)||void 0===t?void 0:t.length)<=this.slotBracketSize||(this.utilityService.strictCompare(e,"add")&&(this.slotBracketSize=this.slotBracketSize+this.increaseSlotBy,this.slotBracketSize>this.availableSlots.length&&(this.slotBracketSize=this.availableSlots.length)),this.detectChanges())}},{key:"savePageDataToSession",value:function(){try{this.sessionService.saveAppointmentDetails({slotTypeName:this.slotTypeName,slotType:this.selectedSlotCategory,date:this.selectedDate,time:this.selectedTime,allocationId:this.selectedAllocationId,allocationSlot:this.selectedSlotRange?this.selectedSlotRange:this.selectedTime,appointmentSlotType:this.slotType}),this.utilityService.fireCustomEvent({dl_category:"book appointment",dl_action:"appointment type selection",dl_label:"Choose a slot",value:this.selectedSlotRange})}catch(e){console.log(e)}}},{key:"saveAndContinue",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.utilityService.fireCustomEvent({dl_category:"BookanAppointment",dl_action:"chooseaslot",dl_label:"BookanAppointmentCotinueClick",value:void 0}),e.next=4,this.addServiceToUser();case 4:this.savePageDataToSession(),this.routeNext(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}))}},{key:"addServiceToUser",value:function(){var e;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a,n,i=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=[],(n=this.sessionService.applicantService)&&n.length>0&&(a=n.filter(function(e){return"timeslot"!==e.timeslot}),this.sessionService.applicantService=a),(null===(e=this.slotService)||void 0===e?void 0:e.length)>0&&this.slotService.forEach(function(e,t){return Object(g.b)(i,void 0,void 0,regeneratorRuntime.mark(function n(){var i,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.commonService.modifyServiceList(e);case 2:i=n.sent,this.slotService[t].unit=i.applicants.length,this.slotService[t].total=i.applicants.length*e.amount,this.slotService[t].modifiedList=i.applicants,this.slotService[t].timeslot="timeslot",(r=a.findIndex(function(t){return t.code===e.code}))>-1&&a.splice(r,1),a.push(e),this.sessionService.applicantService=a,this.sessionService.updateFees=!0;case 6:case"end":return n.stop()}},n,this)}))});case 3:case"end":return t.stop()}},t,this)}))}},{key:"primePremiumService",get:function(){return this.serviceList.filter(function(e){return"Prime Time"===e.name||"Premium Lounge Service"===e.name})}},{key:"checkIfDisabled",value:function(){return!(this.selectedSlotCategory&&this.selectedDate&&this.selectedTime)}},{key:"constructSlotWiseData",value:function(e){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i,r,o,s,l,c,u,d,m,p,b,f,v;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=[],t.next=4,this.extractStandardSlots(e);case 4:return i=t.sent,t.next=7,this.extractTimeSlots(e,this.vaydcode);case 7:return r=t.sent,t.next=10,this.extractTimeSlots(e,this.primeLongueCode);case 10:return o=t.sent,t.next=13,this.extractSlotByTypeAndCondition(i,"prime");case 13:return s=t.sent,t.next=16,this.extractSlotByTypeAndCondition(i,"normal");case 16:return l=t.sent,t.next=19,this.extractSlotByTypeAndCondition(o,"prime");case 19:return c=t.sent,t.next=22,this.extractSlotByTypeAndCondition(o,"normal");case 22:return u=t.sent,t.next=25,this.extractSlotByTypeAndCondition(r,"normal");case 25:d=t.sent,m=a(this.timeSlots);try{for(m.s();!(p=m.n()).done;)b=p.value,(f={time:null,st:null,pt:null,pl:null,slotType:null,ptpl:null,vayd:null}).slotType=b.slotType,f.time=b.time,f.st=this.checkIfSlotExistsForCategory(b.range,l),f.pt=this.checkIfSlotExistsForCategory(b.range,s),f.pl=this.checkIfSlotExistsForCategory(b.range,u),f.ptpl=this.checkIfSlotExistsForCategory(b.range,c),f.vayd=this.checkIfSlotExistsForCategory(b.range,d),n.push(f)}catch(g){m.e(g)}finally{m.f()}for(v in n)void 0===n[v].st&&void 0===n[v].pt&&void 0===n[v].pl&&void 0===n[v].vayd&&delete n[v];return t.abrupt("return",n.filter(function(e){return null!=e}));case 32:t.prev=32,t.t0=t.catch(0),console.log(t.t0);case 35:case"end":return t.stop()}},t,this,[[0,32]])}))}},{key:"checkIfSlotExistsForCategory",value:function(e,t){try{return t.find(function(t){return String(t.timeSlot).split(" ").join("")===e.split(" ").join("")})}catch(a){throw a}}},{key:"extractTimeSlots",value:function(e,t){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function a(){var n,i;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,n=e.find(function(e){return t.indexOf(e.categoryCode)>-1}),a.t0=n,!a.t0){a.next=7;break}return a.next=6,this.alterMappedData(n.groups[0].timeSlots);case 6:i=a.sent;case 7:return a.abrupt("return",n?i:[]);case 10:throw a.prev=10,a.t1=a.catch(0),a.t1;case 13:case"end":return a.stop()}},a,this,[[0,10]])}))}},{key:"extractStandardSlots",value:function(e){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a,n,i=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=e.find(function(e){return-1===i.notStandardCode.indexOf(e.categoryCode)}),t.t0=a,!t.t0){t.next=7;break}return t.next=6,this.alterMappedData(a.groups[0].timeSlots);case 6:n=t.sent;case 7:return t.abrupt("return",a?n:[]);case 10:throw t.prev=10,t.t1=t.catch(0),t.t1;case 13:case"end":return t.stop()}},t,this,[[0,10]])}))}},{key:"extractSlotByTypeAndCondition",value:function(e,t){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.abrupt("return",e.filter(function(e){return"prime"===t?"Primetime"===e.slotType:"Primetime"!==e.slotType}));case 4:throw a.prev=4,a.t0=a.catch(0),a.t0;case 7:case"end":return a.stop()}},a,null,[[0,4]])}))}},{key:"alterMappedData",value:function(e){return new Promise(function(t){t(e.map(function(e){var t=e.timeSlot.split("-"),a=("0"+t[0].split(":")[0]).slice(-2)+":"+t[0].split(":")[1],n=("0"+t[1].split(":")[0]).slice(-2)+":"+t[1].split(":")[1];return e.timeSlot=a+"-"+n,e}))})}},{key:"loadAppointmentSlots",value:function(){var e;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a,n,i,r,o,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=this.sessionService.applicationDetailValue){t.next=4;break}return t.abrupt("return");case 4:return n=this.sessionService.applicationDetailValue,i=this.commonService.formatDateDMY(this.endDate),r=this.commonService.formatDateDMY(this.startDate),o={applicantsCount:a.applicantList.length,slotType:this.isRescheduleAptmntMode?Number(null===(e=n.applicantList[0])||void 0===e?void 0:e.appointment.slotType):2,days:y.a.slotDaysEnabled,centerCode:a.centerCode,visaCategoryCode:a.visaCategoryCode,fromDate:r,toDate:i},t.next=10,this.commonService.loadAppointmentSlots(o);case 10:(s=t.sent)&&s.length>0&&null===s[0].error&&(this.disableCalendarDates(s),this.checkAndLoadDetailsForEdit(),1==this.sessionService.applicationConfiguration.isUserActionAuditRequired&&(this.availableDates=s,this.vss4PayLoad())),t.next=17;break;case 14:throw t.prev=14,t.t0=t.catch(0),new Error("".concat(h.d.INVALID_REGISTRATION_RESPONSE,": ").concat(t.t0));case 17:case"end":return t.stop()}},t,this,[[0,14]])}))}},{key:"checkAndLoadDetailsForEdit",value:function(){var e=this;try{var t=this.sessionService.getAppointmentDetails();if(!t)return!1;this.slotType=h.v.indexOf(null==t?void 0:t.slotType)>-1?1:0,this.slotTypeName=t.slotTypeName,this.selectedSlotCategory=t.slotType,this.selectedDate=t.date,this.selectedTime=t.time,this.selectedAllocationId=t.allocationId;var a=this.allowedDates.filter(function(t){return t.start===e.selectedDate});1===this.slotType&&this.handleWalkin(),a.length>0&&this.showTimeSlots(a[0])}catch(n){console.log(n)}}},{key:"loadVasByVac",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.commonService.loadServices();case 3:(t=e.sent)&&(null==t?void 0:t.length)>0&&(a=t.find(function(e){return e.code===h.o}),n=t.find(function(e){return e.code===h.l}),i=t.find(function(e){return e.code===h.u}),this.priceWithCurrency={standard:"Free",primetime:null==a?void 0:a.amount,premiumlongue:null==n?void 0:n.amount,vayd:(null==i?void 0:i.amount)||0,premiumprime:(null==a?void 0:a.amount)+(null==n?void 0:n.amount)},this.serviceList=t,this.sessionService.setCurrencyCode=t[0].currency,this.currencyCode=t[0].currency),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error:",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}))}},{key:"getFees",value:function(e){var t=this.serviceList.filter(function(t){return t.code===e});return t.length>0?t:{}}},{key:"formatDate",value:function(e,t){var a=t.split("/");return a[2]+e+a[0]+e+a[1]}},{key:"disableCalendarDates",value:function(e){var t=this;this.calendarOptions.events=[],this.allowedDates=[];var a=[];e.forEach(function(e){if(!e.date)return!1;var n={start:t.formatDate("-",e.date),end:t.formatDate("-",e.date),allDay:!0,editable:!1,className:["availiable"],otherRespose:e,title:"availiable"};a.push(n)}),this.allowedDates=a,this.calendarOptions.events=a,setTimeout(function(){$(".availiable").parents(".fc-day").addClass("date-availiable")},1e3),this.detectChanges()}},{key:"routeToDashboard",value:function(){this.sessionService.setIsWaitlistScheduleMode(!1),this.sessionService.saveApplicationSchemaInBrowser(this.sessionService.tempAppSchema),this.commonService.routeToDashboard()}},{key:"isRescheduleAptmntMode",get:function(){return this.sessionService.isRescheduleAptmntMode}},{key:"iswaitlistScheduleMode",get:function(){return this.sessionService.iswaitlistScheduleMode}},{key:"vss4PayLoad",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.sessionService.clientIpAddress,a={missionCode:this.sessionService.applicationDetailValue.missionCode,countryCode:this.sessionService.applicationDetailValue.countryCode,centerCode:this.sessionService.applicationDetailValue.centerCode,loginUser:this.sessionService.getLoggedEmail(),urn:this.sessionService.urn,firstEarliestSlotDate:this.utilityService.momentInstance(this.availableDates[0].date).format("DD/MM/YYYY"),firstEarliestSlotTime:this.availableDates[0].counters[0].groups[0].timeSlots[0].timeSlot,action:this.isRescheduleAptmntMode?"reschedule":"schedule",ipAddress:t},e.next=4,this.httpService.payloadPost(h.c.api.vss4ReportData,a).toPromise();case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,this,[[0,7]])}))}}]),i}(kt.a)).\u0275fac=function(e){return new(e||Do)(u.Qb(be.a),u.Qb(fe.a),u.Qb(u.h))},Do.\u0275cmp=u.Kb({type:Do,selectors:[["app-book-appointment"]],viewQuery:function(e,t){var a;1&e&&u.Uc(Wr,1),2&e&&u.Ac(a=u.ic())&&(t.calendarComponent=a.first)},features:[u.Ab],decls:44,vars:32,consts:[[1,"container","py-15","py-md-30"],["class","form-card timer-css text-right border-0 mb-5",4,"ngIf"],[1,"form-card"],[1,"c-brand-grey-para","mb-5"],[1,"fs-24","fs-sm-32","fs-md-42","mb-20"],[1,"c-brand-grey-para","mb-40"],[1,"fs-18","fs-sm-24","mb-20"],[4,"ngIf"],[1,"fs-24","fs-sm-28","fs-md-32","mb-20"],[1,"bg-light","text-dark","border-left-4","p-15","p-sm-25","mb-20"],[1,"row","justify-content-center","fs-sm-18"],[1,"col-12","col-sm",3,"ngClass"],[1,"d-inline-block","px-2","lh-20","border","border-dark","rounded-5","mr-5"],[1,"d-inline-block","min-w-15","lh-16","bg-black","rounded-3"],[1,"ba-calender-card","card","shadow-sm"],[1,"card-body"],[1,"ba-calender-container","mx-auto"],[3,"options"],["fullcalendar",""],[1,"form-card","p-0","border-0","shadow-none","mat-card"],[1,"row"],["class","col-12 col-sm-6 mt-20",3,"click",4,"ngIf"],[1,"col-12","col-sm-6","mt-20"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],[1,"form-card","timer-css","text-right","border-0","mb-5"],[3,"config"],["cd",""],[1,"row","mat-radio-group-brand","mb-10",3,"ngModel","ngModelChange","change"],[1,"col-12","col-sm-6","mb-15"],[1,"mat-block",3,"value"],["class","col-12 col-sm-6 mb-15",4,"ngIf"],[1,"col-12","col-sm","col-lg-auto","min-lg-w-210","mb-10","mb-sm-0"],[1,"d-inline-block","px-2","lh-20","border","border-brand-dark-green","rounded-5","mr-5"],[1,"d-inline-block","min-w-15","lh-16","bg-brand-dark-green","rounded-3"],[1,"fs-18","fs-sm-24","mt-40","mb-20"],[1,"form-group","mb-40"],["appearance","outline",1,"mat-form-field-outline-brand"],[3,"placeholder","ngModel","selectionChange","ngModelChange"],["value","All"],["value","Morning"],["value","Afternoon"],["value","Evening"],[1,"table-responsive-lg"],[1,"table","ba-slot-table","w-auto"],[1,"text-center"],[1,"text-left"],[1,"c-brand-grey-para","fs-14"],[4,"ngFor","ngForOf","ngForTrackBy"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","load-more",3,"disabled","click"],[1,"mt-5","c-brand-grey-para"],[2,"width","200px"],[1,"hidden-item",3,"ngClass"],[1,"align-middle"],[1,"ba-slot-allocation"],[1,"ba-slot-box"],["type","radio","name","SlotRadio",1,"ba-slot-radio",3,"ngClass","id","click"],[1,"ba-slot-radio-label","standard",3,"for"],[1,"ba-slot-radio-label-inner"],[1,"ba-slot-radio-label-text1"],[1,"ba-slot-radio-label-text2"],[1,"fa","fa-check","mr-5"],[1,"ba-slot-radio-label","prime-time",3,"for"],[1,"card","bg-brand-dark-green","text-white","rounded-0","mt-20"],[4,"ngIf","ngIfElse"],["noslot",""],[1,"col-12","col-sm-6","mt-20",3,"click"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange"]],template:function(e,t){1&e&&(u.Wb(0,"section",0),u.Mc(1,Pr,5,4,"div",1),u.Wb(2,"mat-card",2),u.Wb(3,"p",3),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Wb(6,"h1",4),u.Oc(7),u.mc(8,"translate"),u.Vb(),u.Wb(9,"p",5),u.Oc(10),u.mc(11,"translate"),u.Vb(),u.Wb(12,"h2",6),u.Oc(13),u.mc(14,"translate"),u.Vb(),u.Mc(15,_r,7,6,"ng-container",7),u.Mc(16,Ur,4,3,"ng-container",7),u.Wb(17,"h2",8),u.Oc(18),u.mc(19,"translate"),u.Vb(),u.Wb(20,"div",9),u.Wb(21,"div",10),u.Mc(22,Br,7,3,"ng-container",7),u.Wb(23,"div",11),u.Wb(24,"div",12),u.Wb(25,"div",13),u.Oc(26,"\xa0"),u.Vb(),u.Vb(),u.Oc(27),u.mc(28,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Wb(29,"div",14),u.Wb(30,"div",15),u.Wb(31,"div",16),u.Rb(32,"full-calendar",17,18),u.Vb(),u.Vb(),u.Vb(),u.Mc(34,vo,2,1,"ng-container",7),u.Mc(35,yo,6,2,"ng-container",7),u.Vb(),u.Wb(36,"mat-card",19),u.Wb(37,"div",20),u.Mc(38,So,4,3,"div",21),u.Mc(39,Co,4,3,"div",21),u.Wb(40,"div",22),u.Wb(41,"button",23),u.hc("click",function(){return t.saveAndContinue()}),u.Oc(42),u.mc(43,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.Db(1),u.tc("ngIf",!t.isRescheduleAptmntMode&&t.isPtFlow),u.Db(3),u.Pc(u.nc(5,18,"bookAppointment.pageDetails.para1")),u.Db(3),u.Pc(u.nc(8,20,"bookAppointment.headerLabel.label1")),u.Db(3),u.Pc(u.nc(11,22,"bookAppointment.pageDetails.para2")),u.Db(3),u.Pc(u.nc(14,24,"bookAppointment.headerLabel.label2")),u.Db(2),u.tc("ngIf",!t.isRescheduleAptmntMode),u.Db(1),u.tc("ngIf",t.isRescheduleAptmntMode),u.Db(2),u.Pc(u.nc(19,26,"bookAppointment.headerLabel.label3")),u.Db(4),u.tc("ngIf",t.allowedDates.length>0),u.Db(1),u.tc("ngClass",t.allowedDates.length>0?"col-lg-7":"col-lg-12"),u.Db(4),u.Qc(" ",u.nc(28,28,"bookAppointment.pageDetails.para4")," "),u.Db(5),u.tc("options",t.calendarOptions),u.Db(2),u.tc("ngIf",0===t.slotType&&t.selectedDate),u.Db(1),u.tc("ngIf",1===t.slotType&&t.walkingMessage&&t.selectedDate),u.Db(3),u.tc("ngIf",t.isRescheduleAptmntMode||t.iswaitlistScheduleMode),u.Db(1),u.tc("ngIf",!(t.isRescheduleAptmntMode||t.iswaitlistScheduleMode)),u.Db(2),u.tc("disabled",t.checkIfDisabled()),u.Db(1),u.Qc(" ",u.nc(43,30,"commonSections.buttons.button19")," "))},directives:[D.o,C.a,D.m,Er.a,O.a,mi.a,he.b,b.q,b.t,he.a,V.b,wt.a,Et.j,D.n],pipes:[I.d],encapsulation:2,changeDetection:0}),Do),ko=i("/Yn+"),Ao=i("vbKG"),Oo=((Io=function(){function e(){p(this,e)}return f(e,[{key:"_returnHtmlFromRichText",value:function(e){var t={renderNode:r({},Ao.INLINES.HYPERLINK,function(e,t){return'<a  href="'.concat(e.data.uri,'"\' target="_blank" \'}><span class="c-brand-orange fs-sm-18 text-decoration-underline cursor-pointer">').concat(t(e.content),"</span></a>")})};return null==e||"document"!==e.nodeType?"<p>Error</p>":Object(ko.documentToHtmlString)(e,t)}}]),e}()).\u0275fac=function(e){return new(e||Io)},Io.\u0275cmp=u.Kb({type:Io,selectors:[["app-contentful-richtext"]],inputs:{richData:"richData"},decls:1,vars:1,consts:[[3,"innerHtml"]],template:function(e,t){1&e&&u.Rb(0,"div",0),2&e&&u.tc("innerHtml",t._returnHtmlFromRichText(t.richData),u.Gc)},encapsulation:2}),Io);function To(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"div",9),u.Rb(2,"img",19),u.Vb(),u.Tb()),2&e){var a=u.lc();u.Db(2),u.tc("src",a.service.contentful.icon.fields.file.url,u.Hc)}}function Lo(e,t){if(1&e&&(u.Wb(0,"div",20),u.Wb(1,"div",11),u.Wb(2,"mat-checkbox",21),u.hc("ngModelChange",function(e){return t.$implicit.checked_state=e}),u.Wb(3,"span",13),u.Oc(4),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&e){var a=t.$implicit;u.Db(2),u.tc("ngModel",a.checked_state),u.Db(2),u.Rc("",a.firstName," ",a.lastName,"")}}function wo(e,t){1&e&&(u.Ub(0),u.Wb(1,"button",22),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Tb()),2&e&&(u.Db(2),u.Qc(" ",u.nc(3,1,"commonSections.buttons.button36")," "))}function No(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Wb(1,"button",23),u.hc("click",function(){return u.Fc(a),u.lc().confirm()}),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Tb()}if(2&e){var n=u.lc();u.Db(1),u.tc("disabled",n.checkedApplicant()),u.Db(1),u.Qc(" ",u.nc(3,2,"add"===n.actionType?"commonSections.buttons.button4":"commonSections.buttons.button36")," ")}}function xo(e,t){if(1&e&&(u.Ub(0),u.Rb(1,"app-contentful-richtext",24),u.Tb()),2&e){var a=u.lc();u.Db(1),u.tc("richData",a.service.contentful.description)}}function Mo(e,t){if(1&e&&(u.Wb(0,"p"),u.Oc(1),u.Vb()),2&e){var a=u.lc();u.Db(1),u.Pc(a.service.description)}}var Eo,Wo,Po=function(e){return{applicantLength:e}},Fo=((Wo=function(e){s(a,e);var t=c(a);function a(e,n){var i;return p(this,a),(i=t.call(this)).data=e,i.dialogRef=n,i.applicantList={},i.currencyCode=i.sessionService.currencyCode||"",i.actionType=e.action,i.service=e.services,i}return f(a,[{key:"ngOnInit",value:function(){var e=this;if(this.applicantList=this.sessionService.applicationDetailValue.applicantList,"add"===this.actionType)this.checkAll({checked:!0});else{var t=this.sessionService.applicantService.filter(function(t){return t.id===e.service.id})[0].modifiedList;this.applicantList.forEach(function(e){return e.checked_state=t.some(function(t){return t.arn===e.arn})})}}},{key:"editableBtn",get:function(){return["timeslot","isMandatory"].indexOf(this.service.timeslot)>-1}},{key:"addZeroes",value:function(e){var t=String(e).split(".")[1],a=t&&t.length>2?t.length:2;return Number(e).toFixed(a)}},{key:"checkAll",value:function(e){this.applicantList.forEach(function(t){return t.checked_state=e.checked})}},{key:"isAllChecked",value:function(){return this.applicantList.every(function(e){return e.checked_state})}},{key:"confirm",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a,n,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modifyList();case 2:t=e.sent,(a=this.sessionService.applicantService)&&a.length>0?"remove"===this.actionType?(n=a.findIndex(function(e){return e.id===i.service.id}),a[n].unit=t.applicants.length,a[n].total=t.applicants.length*this.service.amount,a[n].modifiedList=t.applicants,this.sessionService.applicantService=a):(this.service.unit=t.applicants.length,this.service.total=t.applicants.length*this.service.amount,this.service.modifiedList=t.applicants,a.push(this.service),this.sessionService.applicantService=a):(this.service.modifiedList=t.applicants,this.service.unit=t.applicants.length,this.service.total=t.applicants.length*this.service.amount,this.sessionService.applicantService=[this.service]),this.close(!0);case 6:case"end":return e.stop()}},e,this)}))}},{key:"modifyList",value:function(){var e=this;return new Promise(function(t){var a=e.applicantList.filter(function(e){return!0===e.checked_state}).map(function(t){return{arn:t.arn,vasId:e.service.id.toString(),vasCode:e.service.code}}),n={};n.loginuser=e.sessionService.getLoggedEmail(),n.missioncode=e.sessionService.tenent,n.countrycode=e.sessionService.countryCode,n.urn=e.applicantList[0].urn,n.applicants=a,t(n)})}},{key:"checkedApplicant",value:function(){return!(this.applicantList.filter(function(e){return!0===e.checked_state}).length>0)}},{key:"close",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.dialogRef.close(e)}}]),a}(S.a)).\u0275fac=function(e){return new(e||Wo)(u.Qb(za.a),u.Qb(za.h))},Wo.\u0275cmp=u.Kb({type:Wo,selectors:[["app-sms-service-modal"]],features:[u.Ab],decls:27,vars:18,consts:[[1,"mat-modal-container",2,"max-width","750px"],[1,"position-absolute","top-10","right-10"],[1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"fs-24","fs-md-36","pr-18"],[1,"my-20"],[1,"row"],[1,"col-12","col-sm","order-sm-2"],[4,"ngIf"],[1,"fs-24","mb-20"],[1,"form-group"],[1,"pl-35"],[1,"mat-checkbox-brand","ml-n35",3,"checked","change"],[1,"text-wrap","mr-5"],[1,"mt-0","mb-20"],["class","form-group mb-20",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-sm","order-sm-1","text-justify"],[4,"ngIf","ngIfElse"],["notnocontentfulDesc",""],["alt","vas image",3,"src"],[1,"form-group","mb-20"],["name","sizecb[]",1,"mat-checkbox-brand","ml-n35",3,"ngModel","ngModelChange"],["mat-raised-button","","disabled","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","my-20"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","my-20",3,"disabled","click"],[3,"richData"]],template:function(e,t){if(1&e&&(u.Wb(0,"div",0),u.Wb(1,"div",1),u.Wb(2,"button",2),u.hc("click",function(){return t.close()}),u.Rb(3,"img",3),u.Vb(),u.Vb(),u.Wb(4,"h1",4),u.Oc(5),u.Vb(),u.Rb(6,"hr",5),u.Wb(7,"mat-dialog-content"),u.Wb(8,"div",6),u.Wb(9,"div",7),u.Mc(10,To,3,1,"ng-container",8),u.Wb(11,"div",9),u.Oc(12),u.Vb(),u.Wb(13,"div",10),u.Wb(14,"div",11),u.Wb(15,"mat-checkbox",12),u.hc("change",function(e){return t.checkAll(e)}),u.Wb(16,"span",13),u.Oc(17),u.mc(18,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Rb(19,"hr",14),u.Mc(20,Lo,5,3,"div",15),u.Mc(21,wo,4,3,"ng-container",8),u.Mc(22,No,4,4,"ng-container",8),u.Vb(),u.Wb(23,"div",16),u.Mc(24,xo,2,1,"ng-container",17),u.Mc(25,Mo,2,1,"ng-template",null,18,u.Nc),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&e){var a=u.Bc(26);u.Db(3),u.vc("src","",t.getGlobalImagePath,"/close-btn.png",u.Hc),u.Db(2),u.Pc((null==t.service||null==t.service.contentful?null:t.service.contentful.heading)||(null==t.service?null:t.service.name)),u.Db(5),u.tc("ngIf",0!==(null==t.service.contentful?null:t.service.contentful.length)&&t.service.contentful.icon),u.Db(2),u.Rc(" ",t.currencyCode," ",t.addZeroes(t.service.amount)," "),u.Db(3),u.tc("checked",t.isAllChecked()),u.Db(2),u.Qc(" ",u.oc(18,13,"services.modalPopup.pageDetails.para11",u.xc(16,Po,t.applicantList.length))," "),u.Db(3),u.tc("ngForOf",t.applicantList)("ngForTrackBy",t.trackByFn),u.Db(1),u.tc("ngIf",t.editableBtn),u.Db(1),u.tc("ngIf",!t.editableBtn),u.Db(2),u.tc("ngIf",0!==(null==t.service.contentful?null:t.service.contentful.length))("ngIfElse",a)}},directives:[za.f,D.o,A.a,D.n,b.q,b.t,O.a,Oo],pipes:[I.d],encapsulation:2}),Wo),_o=((Eo=function(e){s(a,e);var t=c(a);function a(e,n){var i;return p(this,a),(i=t.call(this)).data=e,i.dialogRef=n,i.applicantList={},i}return f(a,[{key:"ngOnInit",value:function(){var e,t,a;this.applicantList=this.sessionService.applicationDetailValue.applicantList,this.serviceName=(null===(a=null===(t=null===(e=this.data)||void 0===e?void 0:e.service)||void 0===t?void 0:t.contentful)||void 0===a?void 0:a.heading)||this.data.service.name}},{key:"editableBtn",get:function(){return["isMandatory"].indexOf(this.data.service.timeSlot)>-1}},{key:"deleteService",value:function(){var e;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(a=this.sessionService.applicantService)&&a.length>0&&(n=this.utilityService.removeByAttr(a,"id",this.data.service.id),this.sessionService.applicantService=n,(null===(e=this.data.service)||void 0===e?void 0:e.isODMV)&&(this.sessionService.clearAppointmentDetail(),this.commonService.routeToBookAppointment())),this.close(!0,"yes Delete service");case 3:case"end":return t.stop()}},t,this)}))}},{key:"close",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.dialogRef.close(e)}}]),a}(S.a)).\u0275fac=function(e){return new(e||Eo)(u.Qb(za.a),u.Qb(za.h))},Eo.\u0275cmp=u.Kb({type:Eo,selectors:[["app-sms-service-remove-modal"]],features:[u.Ab],decls:20,vars:14,consts:[[1,"mat-modal-delete-document"],[1,"position-absolute","top-10","right-10"],[1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"fs-24","fs-md-36","pr-18"],[1,"my-20"],[1,"fs-sm-17","c-brand-grey-para","mb-30"],[1,"row"],[1,"col-12","col-sm"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mb-10","mb-sm-0",3,"click"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"]],template:function(e,t){1&e&&(u.Wb(0,"div",0),u.Wb(1,"div",1),u.Wb(2,"button",2),u.hc("click",function(){return t.close()}),u.Rb(3,"img",3),u.Vb(),u.Vb(),u.Wb(4,"h1",4),u.Oc(5),u.mc(6,"translate"),u.Vb(),u.Rb(7,"hr",5),u.Wb(8,"p",6),u.Oc(9),u.mc(10,"translate"),u.Vb(),u.Wb(11,"div",7),u.Wb(12,"div",8),u.Wb(13,"button",9),u.hc("click",function(){return t.close()}),u.Oc(14),u.mc(15,"translate"),u.Vb(),u.Vb(),u.Wb(16,"div",8),u.Wb(17,"button",10),u.hc("click",function(){return t.deleteService()}),u.Oc(18),u.mc(19,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.Db(3),u.vc("src","",t.getGlobalImagePath,"/close-btn.png",u.Hc),u.Db(2),u.Rc(" ",u.nc(6,6,"services.modalPopup.headerLabel.label2")," ",(null==t.data.service||null==t.data.service.contentful?null:t.data.service.contentful.heading)||(null==t.data.service?null:t.data.service.name)," ? "),u.Db(4),u.Qc(" ",u.nc(10,8,t.data.service.timeslot?"services.modalPopup.pageDetails.para9":"services.modalPopup.pageDetails.para7")," "),u.Db(5),u.Qc(" ",u.nc(15,10,"commonSections.buttons.button15")," "),u.Db(4),u.Qc(" ",u.nc(19,12,"timeslot"!==t.data.service.timeslot?"services.modalPopup.pageDetails.para8":"commonSections.buttons.button19")," "))},directives:[O.a],pipes:[I.d],encapsulation:2}),Eo),Ro=i("QrD/"),Go=["captchaContainer"],Uo=["viewChangeAppointmentModal"],Bo=["radiobutton"];function jo(e,t){if(1&e&&(u.Wb(0,"div",12),u.Oc(1),u.mc(2,"translate"),u.Rb(3,"countdown",13,14),u.Vb()),2&e){var a=u.lc();u.Db(1),u.Qc(" ",u.nc(2,2,"header.headerLabel.label17"),""),u.Db(2),u.tc("config",a.config)}}function Yo(e,t){if(1&e&&(u.Ub(0),u.Rb(1,"app-contentful-richtext",41),u.Tb()),2&e){var a=u.lc().$implicit;u.Db(1),u.tc("richData",a.contentful.description)}}function Qo(e,t){if(1&e&&(u.Wb(0,"p"),u.Oc(1),u.Vb()),2&e){var a=u.lc().$implicit;u.Db(1),u.Pc(a.description)}}function qo(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Wb(1,"td",42),u.Wb(2,"i",43),u.hc("click",function(){u.Fc(a);var e=u.lc().$implicit;return u.lc(2).removeSMS(e)}),u.Vb(),u.Vb(),u.Tb()}}function Ho(e,t){if(1&e&&(u.Ub(0),u.Rb(1,"app-contentful-richtext",41),u.Tb()),2&e){var a=u.lc().$implicit;u.Db(1),u.tc("richData",null==a||null==a.contentful?null:a.contentful.description)}}function Ko(e,t){if(1&e&&(u.Wb(0,"p"),u.Oc(1),u.Vb()),2&e){var a=u.lc().$implicit;u.Db(1),u.Pc(null==a?null:a.description)}}function zo(e,t){if(1&e&&(u.Wb(0,"tr",45),u.Wb(1,"td",30),u.Wb(2,"div",31),u.Oc(3),u.Vb(),u.Wb(4,"div",32),u.Mc(5,Ho,2,1,"ng-container",33),u.Mc(6,Ko,2,1,"ng-template",null,34,u.Nc),u.Vb(),u.Wb(8,"span",46),u.Oc(9,"Read more \u2192"),u.Vb(),u.Vb(),u.Wb(10,"td",36),u.Wb(11,"div",37),u.Oc(12),u.Vb(),u.Vb(),u.Wb(13,"td",38),u.Wb(14,"div",39),u.Oc(15),u.mc(16,"number"),u.Vb(),u.Vb(),u.Wb(17,"td",38),u.Wb(18,"div",40),u.Oc(19),u.mc(20,"number"),u.Vb(),u.Vb(),u.Wb(21,"td",42),u.Wb(22,"button",47),u.Rb(23,"i",48),u.Vb(),u.Vb(),u.Vb()),2&e){var a=t.$implicit,n=u.Bc(7),i=u.lc(2).index,r=u.lc(2);u.Db(3),u.Pc((null==a||null==a.contentful?null:a.contentful.heading)||(null==a?null:a.name)),u.Db(2),u.tc("ngIf",0!==(null==a||null==a.contentful?null:a.contentful.length))("ngIfElse",n),u.Db(7),u.Pc(r.servicesInSession[i].unit),u.Db(3),u.Rc("",r.currencyCode," ",u.oc(16,8,null==a?null:a.amount,"1.2-2"),""),u.Db(4),u.Rc(" ",r.currencyCode," ",u.oc(20,11,(null==a?null:a.amount)*r.servicesInSession[i].unit,"1.2-2")," ")}}function $o(e,t){if(1&e&&(u.Ub(0),u.Mc(1,zo,24,14,"tr",44),u.Tb()),2&e){var a=u.lc().$implicit;u.Db(1),u.tc("ngForOf",null==a?null:a.complimentaryVAS)}}function Zo(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Wb(1,"tr",29),u.Wb(2,"td",30),u.Wb(3,"div",31),u.Oc(4),u.Vb(),u.Wb(5,"div",32),u.Mc(6,Yo,2,1,"ng-container",33),u.Mc(7,Qo,2,1,"ng-template",null,34,u.Nc),u.Vb(),u.Wb(9,"span",35),u.hc("click",function(){u.Fc(a);var e=t.$implicit;return u.lc(2).openSMS(e,"remove")}),u.Oc(10),u.mc(11,"translate"),u.Vb(),u.Vb(),u.Wb(12,"td",36),u.Wb(13,"div",37),u.Oc(14),u.Vb(),u.Vb(),u.Wb(15,"td",38),u.Wb(16,"div",39),u.Oc(17),u.mc(18,"number"),u.Vb(),u.Vb(),u.Wb(19,"td",38),u.Wb(20,"div",40),u.Oc(21),u.mc(22,"number"),u.Vb(),u.Vb(),u.Mc(23,qo,3,0,"ng-container",5),u.Vb(),u.Mc(24,$o,2,1,"ng-container",5),u.Tb()}if(2&e){var n=t.$implicit,i=u.Bc(8),r=u.lc(2);u.Db(4),u.Pc(n.contentful.heading||n.name),u.Db(2),u.tc("ngIf",0!==(null==n.contentful?null:n.contentful.length))("ngIfElse",i),u.Db(4),u.Qc("",u.nc(11,11,"services.buttons.button1")," \u2192"),u.Db(4),u.Pc(n.unit),u.Db(3),u.Rc("",r.currencyCode," ",u.oc(18,13,n.amount,"1.2-2"),""),u.Db(4),u.Rc("",r.currencyCode," ",u.oc(22,16,n.totalPrice,"1.2-2"),""),u.Db(2),u.tc("ngIf","isMandatory"!==n.timeslot),u.Db(1),u.tc("ngIf",(null==n||null==n.complimentaryVAS?null:n.complimentaryVAS.length)>0)}}function Jo(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"h2",15),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Wb(4,"div",16),u.Wb(5,"table",17),u.Wb(6,"tr",18),u.Wb(7,"td",19),u.Oc(8),u.mc(9,"translate"),u.Vb(),u.Wb(10,"td"),u.Oc(11),u.mc(12,"translate"),u.Vb(),u.Wb(13,"td"),u.Wb(14,"div",20),u.Oc(15),u.mc(16,"translate"),u.Vb(),u.Vb(),u.Wb(17,"td"),u.Oc(18),u.mc(19,"translate"),u.Vb(),u.Rb(20,"td",21),u.Vb(),u.Mc(21,Zo,25,19,"ng-container",22),u.Wb(22,"tr"),u.Wb(23,"td",23),u.Wb(24,"div",24),u.Oc(25,"\xa0"),u.Vb(),u.Vb(),u.Vb(),u.Wb(26,"tr",25),u.Wb(27,"td",26),u.Wb(28,"div",27),u.Oc(29),u.mc(30,"translate"),u.Vb(),u.Vb(),u.Rb(31,"td"),u.Rb(32,"td"),u.Wb(33,"td",28),u.Oc(34),u.mc(35,"number"),u.Vb(),u.Rb(36,"td",21),u.Vb(),u.Vb(),u.Vb(),u.Tb()),2&e){var a=u.lc();u.Db(2),u.Pc(u.nc(3,12,"services.headerLabel.label3")),u.Db(6),u.Pc(u.nc(9,14,"services.headerLabel.label4")),u.Db(3),u.Pc(u.nc(12,16,"services.headerLabel.label5")),u.Db(4),u.Rc("",u.nc(16,18,"services.headerLabel.label6")," (",a.currencyCode,")"),u.Db(3),u.Rc("",u.nc(19,20,"services.headerLabel.label7")," (",a.currencyCode,")"),u.Db(3),u.tc("ngForOf",a.selectedService)("ngForTrackBy",a.trackByFn),u.Db(8),u.Pc(u.nc(30,22,"services.headerLabel.label9")),u.Db(5),u.Rc("",a.currencyCode," ",u.oc(35,24,a.totalSelected,"1.2-2"),"")}}function Xo(e,t){if(1&e&&(u.Ub(0),u.Rb(1,"app-contentful-richtext",41),u.Tb()),2&e){var a=u.lc().$implicit;u.Db(1),u.tc("richData",a.contentful.description)}}function es(e,t){if(1&e&&(u.Wb(0,"p"),u.Oc(1),u.Vb()),2&e){var a=u.lc().$implicit;u.Db(1),u.Pc(a.description)}}function ts(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Wb(1,"tr",53),u.Wb(2,"td",30),u.Wb(3,"div",54),u.Oc(4),u.Vb(),u.Wb(5,"div",32),u.Mc(6,Xo,2,1,"ng-container",33),u.Mc(7,es,2,1,"ng-template",null,55,u.Nc),u.Vb(),u.Wb(9,"div",56),u.Wb(10,"span",35),u.hc("click",function(){u.Fc(a);var e=t.$implicit;return u.lc(2).openSMS(e,"add")}),u.Oc(11),u.mc(12,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Wb(13,"td",57),u.Wb(14,"div",58),u.Oc(15),u.mc(16,"number"),u.Vb(),u.Wb(17,"button",59),u.hc("click",function(){u.Fc(a);var e=t.$implicit;return u.lc(2).openSMS(e,"add")}),u.Oc(18),u.mc(19,"translate"),u.Vb(),u.Vb(),u.Wb(20,"td",60),u.Wb(21,"button",61),u.hc("click",function(){u.Fc(a);var e=t.$implicit;return u.lc(2).openSMS(e,"add")}),u.Oc(22),u.mc(23,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Tb()}if(2&e){var n=t.$implicit,i=u.Bc(8),r=u.lc(2);u.Db(4),u.Qc(" ",null!=n&&null!=n.contentful&&n.contentful.heading?null==n||null==n.contentful?null:n.contentful.heading:n.name," "),u.Db(2),u.tc("ngIf",0!==(null==n.contentful?null:n.contentful.length))("ngIfElse",i),u.Db(5),u.Qc("",u.nc(12,8,"services.buttons.button1")," \u2192"),u.Db(4),u.Rc("",r.currencyCode," ",u.oc(16,10,n.amount,"1.2-2"),""),u.Db(3),u.Qc(" ",u.nc(19,13,"commonSections.buttons.button35")," "),u.Db(4),u.Qc(" ",u.nc(23,15,"commonSections.buttons.button35")," ")}}function as(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"h2",49),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Wb(4,"div",50),u.Wb(5,"table",17),u.Wb(6,"tr",18),u.Wb(7,"td",19),u.Oc(8),u.mc(9,"translate"),u.Vb(),u.Wb(10,"td",51),u.Oc(11),u.mc(12,"translate"),u.Vb(),u.Rb(13,"td",52),u.Vb(),u.Mc(14,ts,24,17,"ng-container",22),u.Vb(),u.Vb(),u.Tb()),2&e){var a=u.lc();u.Db(2),u.Pc(u.nc(3,6,"services.headerLabel.label2")),u.Db(6),u.Pc(u.nc(9,8,"services.headerLabel.label4")),u.Db(3),u.Rc("",u.nc(12,10,"services.headerLabel.label6")," (",a.currencyCode,")"),u.Db(3),u.tc("ngForOf",a.notSelectedService)("ngForTrackBy",a.trackByFn)}}function ns(e,t){1&e&&(u.Ub(0),u.Oc(1),u.mc(2,"translate"),u.Tb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"services.modalPopup.pageDetails.para9")," "))}function is(e,t){if(1&e&&(u.Ub(0),u.Mc(1,ns,3,3,"ng-container",5),u.Tb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",a.utilityService.strictCompare(null==a.serviceAction?null:a.serviceAction.service,a.VAYD_VASCODE))}}var rs=function(e){return{serviceName:e}};function os(e,t){if(1&e&&(u.Ub(0),u.Ub(1),u.Oc(2),u.mc(3,"translate"),u.Tb(),u.Tb()),2&e){var a=u.lc(2);u.Db(2),u.Qc(" ",u.oc(3,1,"services.modalPopup.pageDetails.para12",u.xc(4,rs,a.serviceName(null==a.serviceAction?null:a.serviceAction.service)))," ")}}function ss(e,t){if(1&e){var a=u.Xb();u.Wb(0,"div",62),u.Wb(1,"div",63),u.Wb(2,"button",64),u.hc("click",function(){return u.Fc(a),u.lc().gaForDeleteService("Close_icon")}),u.Rb(3,"img",65),u.Vb(),u.Vb(),u.Wb(4,"h2",66),u.Rb(5,"i",67),u.Oc(6),u.mc(7,"translate"),u.Vb(),u.Rb(8,"hr",68),u.Wb(9,"p",69),u.Mc(10,is,2,1,"ng-container",5),u.Mc(11,os,4,6,"ng-container",5),u.Vb(),u.Wb(12,"div",7),u.Wb(13,"div",70),u.Wb(14,"button",71),u.hc("click",function(){return u.Fc(a),u.lc().clearServices()}),u.Oc(15),u.mc(16,"translate"),u.Vb(),u.Vb(),u.Wb(17,"div",70),u.Wb(18,"button",72),u.hc("click",function(){return u.Fc(a),u.lc().deleteService()}),u.Oc(19),u.mc(20,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb()}if(2&e){var n=u.lc();u.Db(3),u.vc("src","",n.getGlobalImagePath,"/close-btn.png",u.Hc),u.Db(3),u.Qc(" ",u.nc(7,6,"commonSections.headerLabel.label3")," "),u.Db(4),u.tc("ngIf",n.utilityService.strictCompare(null==n.serviceAction?null:n.serviceAction.action,"ADD")),u.Db(1),u.tc("ngIf",n.utilityService.strictCompare(null==n.serviceAction?null:n.serviceAction.action,"REMOVE")),u.Db(4),u.Qc(" ",u.nc(16,8,"commonSections.buttons.button3")," "),u.Db(4),u.Qc(" ",u.nc(20,10,"commonSections.buttons.button19")," ")}}var ls,cs,us,ds=((cs=function(t){s(i,t);var n=c(i);function i(e){var t;return p(this,i),(t=n.call(this)).dialog=e,t.constants=h.c,t.submitAttempt=!1,t.initBaseForm(h.c.modules.SERVICES),t.serviceList=[],t.VAYD_VASCODE=h.u,t.selectedService=[],t.notSelectedService=[],t.servicesInSession=[],t.allList=[],t.totalSelected="",t.allowedCaptcha=!1,t.currencyCode=t.sessionService.currencyCode||"",t}return f(i,[{key:"ngOnInit",value:function(){this.currentCaptcha=this.captchaVersionConst.default,this.captchaToken="",this.loadServices(),this.timeLeft=String(300),this.isPtFlow&&this.start()}},{key:"checkCaptchaAllowed",value:function(){var e=this;this.subs.sink=this.dataShareService.captchaAllowedRoutes.subscribe(function(t){return Object(g.b)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t?(this.allowedCaptcha=t.find(function(e){return h.c.api.applicant.includes(e.api_url)}),this.allowedCaptcha&&this.sessionService.captchaMode===this.captchaVersionConst.alternate&&(this.currentCaptcha=this.captchaVersionConst.alternate)):this.allowedCaptcha=!1;case 1:case"end":return e.stop()}},e,this)}))})}},{key:"start",value:function(){this.config={leftTime:this.timeLeft,format:"mm:ss",demand:!1},this.commonService.autoLogout(300)}},{key:"updateTotalFees",value:function(){this.utilityService.updateTotalFees(Number(this.sessionService.feeAmount))}},{key:"loadServices",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.commonService.loadServices();case 3:(t=e.sent)&&(null==t?void 0:t.length)>0&&(this.allList=t,a=t.filter(function(e){return!0===e.isAvailableOnline&&!1===e.isMandatory||"VAYD"==e.name}),this.utilityService.product_impression(a),this.serviceList=a,this.sessionService.setCurrencyCode=t[0].currency,this.currencyCode=t[0].currency,this.updateselectedAvailiable(a)),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error("".concat(h.d.INVALID_REGISTRATION_RESPONSE,": ").concat(e.t0));case 10:case"end":return e.stop()}},e,this,[[0,7]])}))}},{key:"openSMS",value:function(e,t){var a=this;this.utilityService.product_details(e),this.utilityService.product_click(e),this.utilityService.product_impression([e]);var n=this.dialog.open(Fo,{data:{services:e,action:t},disableClose:!0,restoreFocus:!0});this.subs.sink=n.afterClosed().subscribe(function(n){if(a.updateselectedAvailiable(a.serviceList),n){if(a.utilityService.strictCompare(t,"add")){a.serviceAction={action:Ro.d.ADD,service:null==e?void 0:e.code};var i=a.sessionService.getAppointmentDetails();a.utilityService.strictCompare(null==e?void 0:e.code,h.u)&&-1===h.t.indexOf(null==i?void 0:i.slotType)?a.openChangeAppointmentModal(e,Ro.d.ADD):(a.updateselectedAvailiable(a.serviceList),a.utilityService.add_to_cart(e))}else a.serviceAction={action:Ro.d.REMOVE,service:null==e?void 0:e.code};a.dataShareService.isServiceModified=!0}}),this.subs.sink=this.router.events.subscribe(function(){n.close()})}},{key:"openChangeAppointmentModal",value:function(e,t){var a,n=this,i=null===(a=this.dialog)||void 0===a?void 0:a.open(this.changeAppointmentModal,{disableClose:!0,restoreFocus:!0});this.subs.sink=i.afterClosed().subscribe(function(a){n.utilityService.strictCompare(a,!0,!1)&&(n.utilityService.strictCompare(t,Ro.d.REMOVE)&&(n.utilityService.strictCompare(e.timeslot,"timeslot")&&(n.sessionService.clearAppointmentDetail(),n.commonService.routeToBookAppointment()),n.updateselectedAvailiable(n.serviceList),n.utilityService.remove_to_cart(e),n.isServiceModified=!0),n.utilityService.strictCompare(t,Ro.d.ADD)&&n.sessionService.setIsAddWalkinMode(!0),n.routePrevious())})}},{key:"updateselectedAvailiable",value:function(t){var n=this;try{var i=this.sessionService.applicantService,r=this.sessionService.getAppointmentDetails();if("VAYD"===(null==r?void 0:r.slotType)&&0===(null==i?void 0:i.filter(function(e){return e.code===h.u})).length){var o=null==t?void 0:t.filter(function(e){return e.code===h.u});if(o.length>0){var s=this.sessionService.applicationDetailValue.applicantList;o.forEach(function(e,t){var a=s.map(function(t){return{arn:t.arn,vasId:e.id.toString(),vasCode:e.code}});e.modifiedList=a,e.total=e.amount,e.unit=null==s?void 0:s.length}),i.push.apply(i,e(o)),this.sessionService.applicantService=i,this.X=i}}var l=[];if(null==i||i.map(function(e){var t;null===(t=null==e?void 0:e.complimentaryVAS)||void 0===t||t.forEach(function(e){l.push(e)})}),null==l||l.filter(function(e){var t=i.findIndex(function(t){return t.code===e.code});t>-1&&i.splice(t,1)}),this.servicesInSession=i,Array.isArray(i)){var c,u=a(this.servicesInSession);try{for(u.s();!(c=u.n()).done;){var d=c.value;d.totalPrice=Number(d.unit*d.amount)}}catch(f){u.e(f)}finally{u.f()}}var m=t;if(!i||0===(null==i?void 0:i.length))return this.selectedService=[],this.notSelectedService=t,this.totalSelected="0",void this.updateTotalFees();var p=this.allList;this.selectedService=i.filter(function(e){return p.find(function(t){return e.id===t.id})});var b=m.filter(function(e){return!l.find(function(t){var a=t.code;return e.code===a})});this.notSelectedService=b.filter(function(e){return!i.find(function(t){var a=t.id;return e.id===a})}),this.totalSelected=String(this.selectedService.reduce(function(e,t){return e+n.utilityService.getNosOfUnit("unit",t.id)*t.amount},0)),this.updateTotalFees()}catch(v){console.log(v)}}},{key:"removeSMS",value:function(e){var t=this,a=this.dialog.open(_o,{data:{service:e}});this.subs.sink=a.afterClosed().subscribe(function(a){t.updateselectedAvailiable(t.serviceList),a&&(t.utilityService.remove_to_cart(e),t.dataShareService.isServiceModified=!0)}),this.subs.sink=this.router.events.subscribe(function(){a.close()})}},{key:"saveAndContinue",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{this.utilityService.fireCustomEvent({dl_category:"VASPage",dl_action:"VASSelected",dl_label:"VASContinueClick",value:0}),this.saveAndContinueWithCaptcha()}catch(t){console.log(t)}case 1:case"end":return e.stop()}},e,this)}))}},{key:"isVAYDServiceAdded",get:function(){try{return this.selectedService.some(function(e){return!0===e.isVAYD})}catch(e){throw e}}},{key:"saveAndContinueWithCaptcha",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a,n,i,r,o,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.submitAttempt=!0,!this.allowedCaptcha||this.captchaToken||this.captchaVersionConst.alternate!==this.currentCaptcha){e.next=3;break}return e.abrupt("return");case 3:return this.dataShareService.isServiceModified&&(this.sessionService.updateFees=!0),t=this.sessionService.applicantService,e.next=7,this.modifyList(t);case 7:return a=e.sent,this.allowedCaptcha&&(a.captcha_version=this.currentCaptcha,a.api_captcha_mapvas=this.captchaToken),e.next=11,this.httpService.payloadPost(h.c.api.mapVas,a).toPromise().then(function(e){return e}).catch(function(e){return e});case 11:if((n=e.sent).urn){e.next=14;break}throw n;case 14:if(this.sessionService.updateFees=!0,this.sessionService.completedModuleName=h.f.SERVICES,this.commonService.routeToPostLoginModule(h.q.REVIEW_AND_PAY),i=this.sessionService.getSession("apt_dtls"),r=this.sessionService.getSession("application_services"),o=r.find(function(e){return 1==e.isODMV}),"VAYD"!=(null==i?void 0:i.slotType)){e.next=19;break}return e.abrupt("return",void this.commonService.routeToPostLoginModule(h.q.VAYD_ADDRESS));case 19:if(!(r.length>=1&&!0===o.isODMV)){e.next=21;break}return e.abrupt("return",void this.commonService.routeToPostLoginModule(h.q.VAYD_ADDRESS));case 21:this.appConfiguration=this.sessionService.applicationConfiguration,(null==(s=this.selectedService.filter(function(e){return!0===e.isCourierService}))?void 0:s.length)>0?this.commonService.routeToPostLoginModule(h.q.COURIER_ADDRESS):this.routeNext(),e.next=38;break;case 26:if(e.prev=26,e.t0=e.catch(0),this.logger.error(e.t0),this.allowedCaptcha){e.next=30;break}return e.abrupt("return");case 30:if(!y.a.captchaFallbackEnabled){e.next=34;break}this.currentCaptcha=this.captchaVersionConst.alternate,this.captchaToken="",this.utilityService.resetCaptcha(),e.next=38;break;case 34:return e.next=36,this.captchaContainer.generateToken();case 36:l=e.sent,this.captchaToken=l;case 38:case"end":return e.stop()}},e,this,[[0,26]])}))}},{key:"modifyList",value:function(t){var a=this;return new Promise(function(n){var i;i=t&&0!==t.length?t.reduce(function(t,a){return[].concat(e(t),e(a.modifiedList))},[]):[];var r=a.sessionService.applicationDetailValue.applicantList,o={};o.loginuser=a.sessionService.getLoggedEmail(),o.missioncode=a.sessionService.tenent,o.countrycode=a.sessionService.countryCode,o.urn=r[0].urn,o.applicants=0!==i.length?i:[],n(o)})}},{key:"serviceName",value:function(e){var t,a=this;return null===(t=this.serviceList.filter(function(t){return a.utilityService.strictCompare(t.code,e)})[0])||void 0===t?void 0:t.name}},{key:"submitV2Captcha",value:function(e){this.captchaToken=e,this.currentCaptcha=this.captchaVersionConst.alternate}},{key:"checkIfDisabled",value:function(){return!0===this.sessionService.applicationConfiguration.isAtleastVASMandatory&&!(this.sessionService.applicantService.length>0)}},{key:"gaForDeleteService",value:function(e){this.utilityService.GAForDeleteServicePage({action:e,label:this.selectedServiceTemp.name})}},{key:"deleteService",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(t=this.sessionService.applicantService)&&t.length>0&&this.selectedService.forEach(function(e){e.code==h.u&&(t=[],a.sessionService.applicantService=t,a.commonService.routeToBookAppointment())});case 2:case"end":return e.stop()}},e,this)}))}},{key:"clearServices",value:function(){var e=this,t=this.sessionService.applicantService;t&&t.length>0&&this.selectedService.forEach(function(a){if("VAYD"==a.code){t=[],e.selectedService=t,e.sessionService.applicantService=t;var n=e.allList.filter(function(e){return!0===e.isAvailableOnline&&!1===e.isMandatory||"VAYD"==e.name});e.notSelectedService=n}})}}]),i}(kt.a)).\u0275fac=function(e){return new(e||cs)(u.Qb(za.b))},cs.\u0275cmp=u.Kb({type:cs,selectors:[["app-manage-service"]],viewQuery:function(e,t){var a;1&e&&(u.Uc(Go,1),u.Uc(Uo,1),u.Uc(Bo,1,u.l)),2&e&&(u.Ac(a=u.ic())&&(t.captchaContainer=a.first),u.Ac(a=u.ic())&&(t.changeAppointmentModal=a.first),u.Ac(a=u.ic())&&(t.radiobutton=a.first))},features:[u.Ab],decls:23,vars:16,consts:[[1,"container","py-15","py-md-30"],["class","form-card text-right timer-css border-0 mb-5",4,"ngIf"],[1,"form-card"],[1,"fs-24","fs-sm-32","fs-md-42","mb-20"],[1,"c-brand-grey-para","mb-40"],[4,"ngIf"],[1,"form-card","p-0","border-0","shadow-none","mat-card"],[1,"row"],[1,"col-12","col-sm-6","mt-20"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange",3,"click"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],["viewChangeAppointmentModal",""],[1,"form-card","text-right","timer-css","border-0","mb-5"],[3,"config"],["cd",""],[1,"fs-18","fs-sm-24","mb-20"],[1,"card","border-bottom-0"],[1,"w-100"],[1,"bg-brand-footer","c-brand-grey-para","border-bottom-1"],[1,"pl-15","py-15"],[1,"d-none","d-lg-inline-block"],[1,"pr-15"],[4,"ngFor","ngForOf","ngForTrackBy"],["colspan","5"],[1,"card","mx-n2","mb-n3","border-top-0","border-bottom-2",2,"height","8px"],[1,"service-bottom-row"],[1,"pl-15","pt-25","pb-15"],[1,"ff-700","fs-sm-20"],[1,"ff-500","c-brand-green"],[1,"border-top-1"],[1,"align-top","py-25","pl-15"],[1,"ff-700","mt-7","fs-sm-18","mb-15"],[1,"c-brand-grey-para","fs-16","text-box-ellipsis"],[4,"ngIf","ngIfElse"],["nocontentfulDesc",""],[1,"fs-sm-18","c-brand-orange","text-decoration-underline","cursor-pointer",3,"click"],[1,"align-top","pt-25","ff-500"],[1,"mt-7"],[1,"align-top","pt-25","ff-500","c-brand-green"],[1,"mt-7","d-none","d-lg-inline-block"],[1,"mt-7","min-w-85"],[3,"richData"],[1,"align-top","pt-25","pr-15"],[1,"fa","fa-trash-o","c-brand-blue-light","fs-24","cursor-pointer",3,"click"],["class","border-top-1 disabled-6",4,"ngFor","ngForOf"],[1,"border-top-1","disabled-6"],[1,"fs-sm-18","c-brand-orange","text-decoration-underline"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-green-light","cursor-default"],[1,"fa","fa-check"],[1,"fs-18","fs-sm-24","mt-40","mb-20"],[1,"card"],[1,"text-center","pr-15","pr-sm-0"],[1,"pr-15","d-none","d-sm-table-cell"],[1,"border-bottom-1"],[1,"ff-700","fs-sm-18","mt-7","mb-15"],["notnocontentfulDesc",""],[1,"mb-3"],[1,"align-top","py-25","ff-500","position-relative"],[1,"mt-7","min-w-100","text-center","c-brand-green"],["mat-stroked-button","",1,"btn","btn-outline-brand-orange","d-sm-none","position-absolute","bottom-20",2,"transform","translateX(-50%)","left","50%",3,"click"],[1,"align-top","py-25","pr-15","text-center","d-none","d-sm-table-cell"],["mat-stroked-button","",1,"btn","btn-outline-brand-orange",3,"click"],[1,"mat-modal-delete-document"],[1,"position-absolute","top-10","right-10"],["matDialogClose","false",1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","","aria-label","Close",1,"cursor-pointer",3,"src"],[1,"fs-18","fs-sm-21","mb-10"],[1,"fa","fa-exclamation-triangle","mr-5"],[1,"my-20"],[1,"fs-sm-17","c-brand-grey-para","mb-30"],[1,"col-12","col-sm-6","col-sm"],["mat-stroked-button","","matDialogClose","false",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mb-10","mb-sm-0",3,"click"],["mat-stroked-button","","matDialogClose","true",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","mb-10","mb-sm-0",3,"click"]],template:function(e,t){1&e&&(u.Wb(0,"section",0),u.Mc(1,jo,5,4,"div",1),u.Wb(2,"mat-card",2),u.Wb(3,"h1",3),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Wb(6,"p",4),u.Oc(7),u.mc(8,"translate"),u.Vb(),u.Mc(9,Jo,37,27,"ng-container",5),u.Mc(10,as,15,12,"ng-container",5),u.Vb(),u.Wb(11,"mat-card",6),u.Wb(12,"div",7),u.Wb(13,"div",8),u.Wb(14,"button",9),u.hc("click",function(){return t.routePrevious()}),u.Oc(15),u.mc(16,"translate"),u.Vb(),u.Vb(),u.Wb(17,"div",8),u.Wb(18,"button",10),u.hc("click",function(){return t.saveAndContinue()}),u.Oc(19),u.mc(20,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Mc(21,ss,21,12,"ng-template",null,11,u.Nc)),2&e&&(u.Db(1),u.tc("ngIf",t.isPtFlow),u.Db(3),u.Pc(u.nc(5,8,"services.headerLabel.label1")),u.Db(3),u.Pc(u.nc(8,10,"services.pageDetails.para1")),u.Db(2),u.tc("ngIf",t.selectedService.length>0),u.Db(1),u.tc("ngIf",t.notSelectedService.length>0),u.Db(5),u.Qc(" ",u.nc(16,12,"commonSections.buttons.button8")," "),u.Db(3),u.tc("disabled",t.checkIfDisabled()),u.Db(1),u.Qc(" ",u.nc(20,14,"commonSections.buttons.button19")," "))},directives:[D.o,C.a,O.a,mi.a,D.n,Oo,za.d],pipes:[I.d,D.f],encapsulation:2}),cs),ms=((ls=function(e){s(a,e);var t=c(a);function a(e){var n;return p(this,a),(n=t.call(this)).dialogRef=e,n}return f(a,[{key:"close",value:function(){this.dialogRef.close(!0)}},{key:"logout",value:function(){this.commonService.logoutAndRouteToLogin()}}]),a}(S.a)).\u0275fac=function(e){return new(e||ls)(u.Qb(za.h))},ls.\u0275cmp=u.Kb({type:ls,selectors:[["app-warning-login-modal"]],features:[u.Ab],decls:17,vars:10,consts:[[1,"mat-modal-delete-document"],[1,"position-absolute","top-10","right-10"],[1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"fs-18","fs-sm-21","mb-10"],[1,"fa","fa-exclamation-triangle","mr-5"],[1,"my-20"],[1,"fs-sm-17","c-brand-grey-para","mb-30"],[1,"row"],[1,"col-12","col-sm"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mb-10","mb-sm-0",3,"click"]],template:function(e,t){1&e&&(u.Wb(0,"div",0),u.Wb(1,"div",1),u.Wb(2,"button",2),u.hc("click",function(){return t.close()}),u.Rb(3,"img",3),u.Vb(),u.Vb(),u.Wb(4,"h4",4),u.Rb(5,"i",5),u.Oc(6),u.mc(7,"translate"),u.Vb(),u.Rb(8,"hr",6),u.Wb(9,"p",7),u.Oc(10),u.mc(11,"translate"),u.Vb(),u.Wb(12,"div",8),u.Wb(13,"div",9),u.Wb(14,"button",10),u.hc("click",function(){return t.close()})("click",function(){return t.close()}),u.Oc(15),u.mc(16,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.Db(3),u.vc("src","",t.getGlobalImagePath,"/close-btn.png",u.Hc),u.Db(3),u.Qc(" ",u.nc(7,4,"commonSections.headerLabel.label3")," "),u.Db(4),u.Pc(u.nc(11,6,"commonSections.messages.errorMessages.message19")),u.Db(5),u.Qc(" ",u.nc(16,8,"commonSections.buttons.button24")," "))},directives:[O.a],pipes:[I.d],encapsulation:2}),ls),ps=i("+lv+"),bs=((us=function(e){s(a,e);var t=c(a);function a(e,n,i,r){var o;return p(this,a),(o=t.call(this)).dialog=e,o.dialogRef=n,o.idle=i,o.changeRef=r,o}return f(a,[{key:"close",value:function(){this.dialogRef.close(),this.commonService.logoutAndRouteToLogin()}},{key:"ngOnDestroy",value:function(){this.close()}}]),a}(S.a)).\u0275fac=function(e){return new(e||us)(u.Qb(za.b),u.Qb(za.h),u.Qb(ps.b),u.Qb(u.h))},us.\u0275cmp=u.Kb({type:us,selectors:[["app-session-timeout"]],features:[u.Ab],decls:17,vars:10,consts:[[1,"mat-modal-delete-document"],[1,"position-absolute","top-10","right-10"],[1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"fs-18","fs-sm-21","mb-10"],[1,"fa","fa-exclamation-triangle","mr-10"],[1,"my-20"],[1,"fs-sm-17","c-brand-grey-para","mb-30"],[1,"row"],[1,"col-12","col-sm"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mb-10","mb-sm-0",3,"click"]],template:function(e,t){1&e&&(u.Wb(0,"div",0),u.Wb(1,"div",1),u.Wb(2,"button",2),u.hc("click",function(){return t.close()}),u.Rb(3,"img",3),u.Vb(),u.Vb(),u.Wb(4,"h4",4),u.Rb(5,"i",5),u.Oc(6),u.mc(7,"translate"),u.Vb(),u.Rb(8,"hr",6),u.Wb(9,"p",7),u.Oc(10),u.mc(11,"translate"),u.Vb(),u.Wb(12,"div",8),u.Wb(13,"div",9),u.Wb(14,"button",10),u.hc("click",function(){return t.close()}),u.Oc(15),u.mc(16,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.Db(3),u.vc("src","",t.getGlobalImagePath,"/close-btn.png",u.Hc),u.Db(3),u.Qc(" ",u.nc(7,4,"commonSections.headerLabel.label3")," "),u.Db(4),u.Pc(u.nc(11,6,"commonSections.messages.errorMessages.message20")),u.Db(5),u.Qc(" ",u.nc(16,8,"commonSections.buttons.button24")," "))},directives:[O.a],pipes:[I.d],encapsulation:2}),us);function fs(e,t){1&e&&(u.Wb(0,"div",17),u.Oc(1,"Please Select Your Country"),u.Vb())}function vs(e,t){if(1&e&&(u.Wb(0,"div",15),u.Mc(1,fs,2,0,"div",16),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",a.loginF.username.errors.required)}}function gs(e,t){if(1&e&&(u.Wb(0,"mat-option",18),u.Oc(1),u.Vb()),2&e){var a=t.$implicit;u.tc("value",a.isoCode),u.Db(1),u.Qc(" ",a.missionName," ")}}function hs(e,t){1&e&&(u.Wb(0,"div",17),u.Oc(1,"Please Select Country"),u.Vb())}function ys(e,t){if(1&e&&(u.Wb(0,"div",15),u.Mc(1,hs,2,0,"div",16),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",a.loginF.password.errors.required)}}function Ss(e,t){if(1&e&&(u.Wb(0,"mat-option",18),u.Oc(1),u.Vb()),2&e){var a=t.$implicit;u.tc("value",a.isoCode),u.Db(1),u.Qc(" ",a.countryName," ")}}var Cs,Ds=function(e){return{"form-error":e}},Is=((Cs=function(e){s(a,e);var t=c(a);function a(e,n){var i;return p(this,a),(i=t.call(this)).formBuilder=e,i.translate=n,i.initLoginForm(),i.utilityService.setTitle("Welcome to VFS Global"),i.loadMissions(),i.countryList=[],i.missionList=[],i}return f(a,[{key:"loadMissions",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.httpService.doGet("/master/mission").toPromise();case 2:(t=e.sent)&&(this.missionList=t);case 4:case"end":return e.stop()}},e,this)}))}},{key:"missionSelect",value:function(e){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a="/master/country/".concat(e),t.next=3,this.httpService.doGet(a).toPromise();case 3:(n=t.sent)&&(this.countryList=n);case 5:case"end":return t.stop()}},t,this)}))}},{key:"initLoginForm",value:function(){this.loginForm=this.formBuilder.group({username:[null,[b.x.required]],password:[null,b.x.required]})}},{key:"loginF",get:function(){return this.loginForm.controls}},{key:"onSubmit",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.loginForm.invalid){e.next=3;break}return e.abrupt("return");case 3:t=this.loginForm.value.username.toLowerCase(),a=this.loginForm.value.password.toLowerCase(),this.sessionService.appLanguageCode="en",this.sessionService.appCultureCode="en-US",this.sessionService.tenent=a,this.sessionService.countryCode=t,this.translate.use("en"),this.router.navigateByUrl("".concat(t,"/en/").concat(a)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("NAVIGATE_FAILED: ".concat(e.t0));case 10:case"end":return e.stop()}},e,this,[[0,7]])}))}}]),a}(S.a)).\u0275fac=function(e){return new(e||Cs)(u.Qb(b.e),u.Qb(I.e))},Cs.\u0275cmp=u.Kb({type:Cs,selectors:[["app-country-mission-selector"]],features:[u.Ab],decls:29,vars:19,consts:[[1,"container","py-15","py-md-30"],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-9","col-lg-7","col-xl-6"],[1,"form-card","px-md-50","py-md-40"],[1,"fs-21","fs-sm-24","mb-10"],[1,"c-brand-grey-para","fs-sm-18","mb-25"],[3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["placeholder","Select Your Country","formControlName","username",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"c-brand-error"],["placeholder","Select Country","formControlName","password"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[3,"value"]],template:function(e,t){1&e&&(u.Wb(0,"section",0),u.Wb(1,"div",1),u.Wb(2,"div",2),u.Wb(3,"mat-card",3),u.Wb(4,"h1",4),u.Oc(5,"Country selector"),u.Vb(),u.Wb(6,"p",5),u.Oc(7,"Please confirm your travel details"),u.Vb(),u.Wb(8,"form",6),u.hc("ngSubmit",function(){return t.onSubmit()}),u.Wb(9,"div",7),u.Wb(10,"div"),u.Oc(11,"I am a resident of"),u.Vb(),u.Mc(12,vs,2,1,"div",8),u.Wb(13,"mat-form-field",9),u.Wb(14,"mat-select",10),u.hc("selectionChange",function(e){return t.missionSelect(e.value)}),u.Mc(15,gs,2,2,"mat-option",11),u.mc(16,"sortBy"),u.Vb(),u.Vb(),u.Vb(),u.Wb(17,"div",7),u.Wb(18,"div"),u.Oc(19,"Going to"),u.Wb(20,"span",12),u.Oc(21,"*"),u.Vb(),u.Vb(),u.Mc(22,ys,2,1,"div",8),u.Wb(23,"mat-form-field",9),u.Wb(24,"mat-select",13),u.Mc(25,Ss,2,2,"mat-option",11),u.mc(26,"sortBy"),u.Vb(),u.Vb(),u.Vb(),u.Wb(27,"button",14),u.Oc(28,"Confirm"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.Db(8),u.tc("formGroup",t.loginForm),u.Db(1),u.tc("ngClass",u.xc(15,Ds,t.loginF.username.touched&&t.loginF.username.invalid)),u.Db(3),u.tc("ngIf",t.loginF.username.touched&&t.loginF.username.errors),u.Db(3),u.tc("ngForOf",u.oc(16,9,t.missionList,"missionName"))("ngForTrackBy",t.trackByFn),u.Db(2),u.tc("ngClass",u.xc(17,Ds,t.loginF.password.touched&&t.loginF.password.invalid)),u.Db(5),u.tc("ngIf",t.loginF.password.touched&&t.loginF.password.errors),u.Db(3),u.tc("ngForOf",u.oc(26,12,t.countryList,"countryName"))("ngForTrackBy",t.trackByFn))},directives:[C.a,b.y,b.r,b.j,D.m,D.o,V.b,wt.a,b.q,b.h,D.n,O.a,Et.j],pipes:[Wt.h],encapsulation:2}),Cs);function Vs(e,t){if(1&e){var a=u.Xb();u.Wb(0,"div",12),u.Wb(1,"a",13),u.hc("click",function(){return u.Fc(a),u.lc(2).routeToSignIn()}),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()}2&e&&(u.Db(2),u.Pc(u.nc(3,1,"commonSections.buttons.button6")))}function ks(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"div",8),u.Wb(2,"div",9),u.Rb(3,"i",10),u.Wb(4,"div"),u.Oc(5),u.Vb(),u.Vb(),u.Vb(),u.Mc(6,Vs,4,3,"div",11),u.Tb()),2&e){var a=u.lc();u.Db(5),u.Pc(a.message),u.Db(1),u.tc("ngIf",a.successComp)}}function As(e,t){1&e&&(u.Wb(0,"div",25),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Pc(u.nc(2,1,"commonSections.messages.requiredMessages.message1")))}function Os(e,t){1&e&&(u.Wb(0,"div",25),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Pc(u.nc(2,1,"resetpassword.messages.message1")))}function Ts(e,t){if(1&e&&(u.Wb(0,"div",23),u.Mc(1,As,3,3,"div",24),u.Mc(2,Os,3,3,"div",24),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",a.forgotF.password.errors.required),u.Db(1),u.tc("ngIf",a.forgotF.password.errors.pattern)}}function Ls(e,t){1&e&&(u.Wb(0,"div",25),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Pc(u.nc(2,1,"commonSections.messages.requiredMessages.message1")))}function ws(e,t){1&e&&(u.Wb(0,"div",25),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Pc(u.nc(2,1,"commonSections.messages.misMatch.message1")))}function Ns(e,t){if(1&e&&(u.Wb(0,"div",23),u.Mc(1,Ls,3,3,"div",24),u.Mc(2,ws,3,3,"div",24),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",a.forgotF.confirmPassword.errors.required),u.Db(1),u.tc("ngIf",a.forgotF.confirmPassword.errors.passwordMismatch)}}var xs=function(e){return{"form-error":e}};function Ms(e,t){if(1&e){var a=u.Xb();u.Wb(0,"form",14),u.hc("ngSubmit",function(){return u.Fc(a),u.lc().onSubmit()}),u.Wb(1,"div",15),u.Wb(2,"div"),u.Oc(3),u.mc(4,"translate"),u.Wb(5,"span",16),u.Oc(6,"*"),u.Vb(),u.Vb(),u.Mc(7,Ts,3,2,"div",17),u.Wb(8,"mat-form-field",18),u.Rb(9,"input",19),u.Wb(10,"i",20),u.hc("keypress",function(){u.Fc(a);var e=u.lc();return e.passwordToogle=!e.passwordToogle})("mouseenter",function(){return u.Fc(a),u.lc().passwordToogle=!0})("mouseleave",function(){return u.Fc(a),u.lc().passwordToogle=!1})("click",function(){return u.Fc(a),u.lc().passwordToogle=!0}),u.Vb(),u.Vb(),u.Vb(),u.Wb(11,"div",15),u.Wb(12,"div"),u.Oc(13),u.mc(14,"translate"),u.Wb(15,"span",16),u.Oc(16,"*"),u.Vb(),u.Vb(),u.Mc(17,Ns,3,2,"div",17),u.Wb(18,"mat-form-field",18),u.Rb(19,"input",21),u.Wb(20,"i",20),u.hc("keypress",function(){u.Fc(a);var e=u.lc();return e.confirmPasswordToggle=!e.confirmPasswordToggle})("mouseenter",function(){return u.Fc(a),u.lc().confirmPasswordToggle=!0})("mouseleave",function(){return u.Fc(a),u.lc().confirmPasswordToggle=!1})("click",function(){return u.Fc(a),u.lc().confirmPasswordToggle=!0}),u.Vb(),u.Vb(),u.Vb(),u.Wb(21,"button",22),u.Oc(22),u.mc(23,"translate"),u.Vb(),u.Wb(24,"div",12),u.Wb(25,"a",13),u.hc("click",function(){return u.Fc(a),u.lc().routeToSignUp()}),u.Oc(26),u.mc(27,"translate"),u.Vb(),u.Vb(),u.Vb()}if(2&e){var n=u.lc();u.tc("formGroup",n.forgotPasswordForm),u.Db(1),u.tc("ngClass",u.xc(21,xs,n.forgotF.password.touched&&n.forgotF.password.invalid)),u.Db(2),u.Pc(u.nc(4,13,"resetpassword.formLabel.label1")),u.Db(4),u.tc("ngIf",n.forgotF.password.touched&&n.forgotF.password.errors),u.Db(2),u.tc("type",n.passwordToogle?"text":"password"),u.Db(1),u.tc("ngClass",n.passwordToogle?"fa fa-eye-slash":"fa fa-eye"),u.Db(1),u.tc("ngClass",u.xc(23,xs,n.forgotF.confirmPassword.touched&&n.forgotF.confirmPassword.invalid)),u.Db(2),u.Pc(u.nc(14,15,"resetpassword.formLabel.label2")),u.Db(4),u.tc("ngIf",n.forgotF.confirmPassword.touched&&n.forgotF.confirmPassword.errors),u.Db(2),u.tc("type",n.confirmPasswordToggle?"text":"password"),u.Db(1),u.tc("ngClass",n.confirmPasswordToggle?"fa fa-eye-slash":"fa fa-eye"),u.Db(2),u.Pc(u.nc(23,17,"resetpassword.buttons.button1")),u.Db(4),u.Pc(u.nc(27,19,"commonSections.buttons.button7"))}}var Es,Ws,Ps=((Es=function(e){s(a,e);var t=c(a);function a(e,n){var i;return p(this,a),(i=t.call(this)).formBuilder=e,i.activatedRoute=n,i.intitForgotForm(),i.message="",i.confirmPasswordToggle=!1,i.passwordToogle=!1,i.successComp=!1,i}return f(a,[{key:"intitForgotForm",value:function(){var e=this.activatedRoute.queryParams;e._value.q||this.commonService.routeToLogin(),this.forgotPasswordForm=this.formBuilder.group({password:["",[b.x.pattern(h.z),b.x.required]],confirmPassword:["",b.x.required],missioncode:[this.sessionService.tenent,b.x.required],countrycode:[this.sessionService.countryCode,b.x.required],token:e._value.q},{validator:this.utilityService.MatchPassword("password","confirmPassword")})}},{key:"forgotF",get:function(){var e;return null===(e=this.forgotPasswordForm)||void 0===e?void 0:e.controls}},{key:"onSubmit",value:function(){var e,t,a;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!this.forgotPasswordForm.invalid){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,this.httpService.payloadWithoutTokenPost(h.c.api.resetPassword,this.forgotPasswordForm.value).toPromise();case 5:(i=n.sent)&&(this.successComp="508"!==(null===(e=null==i?void 0:i.error)||void 0===e?void 0:e.code),this.message=(null===(t=null==i?void 0:i.error)||void 0===t?void 0:t.description)||(null==i?void 0:i.message)||this.commonService.translateValue("commonSections.messages.statusMessages."+(null===(a=null==i?void 0:i.error)||void 0===a?void 0:a.code))),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log("".concat(h.d.INVALID_RESPONSE,": ").concat(n.t0));case 12:case"end":return n.stop()}},n,this,[[0,9]])}))}},{key:"routeToSignUp",value:function(){this.commonService.routeToOnBoarding()}},{key:"routeToSignIn",value:function(){this.commonService.routeToLogin()}}]),a}(S.a)).\u0275fac=function(e){return new(e||Es)(u.Qb(b.e),u.Qb(v.a))},Es.\u0275cmp=u.Kb({type:Es,selectors:[["app-resetpassword"]],features:[u.Ab],decls:10,vars:5,consts:[[1,"container","py-15","py-md-30"],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-9","col-lg-7","col-xl-6"],[1,"form-card","px-md-50","py-md-40"],[1,"d-none","d-block"],[1,"fs-21","fs-sm-24","mb-10"],[4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"border-info",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-check-circle-o","fs-24","position-absolute","left-15","top-18","mb-0"],["class","fs-sm-18 mt-20",4,"ngIf"],[1,"fs-sm-18","mt-20"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer",3,"click"],[3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],[1,"c-brand-error"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["matInput","","formControlName","password","placeholder","**********","autocomplete","off",3,"type"],["tabindex","0",1,"cursor-pointer","icon-toggle","position-absolute","right-0",3,"ngClass","keypress","mouseenter","mouseleave","click"],["matInput","","formControlName","confirmPassword","placeholder","**********","autocomplete","off",3,"type"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"]],template:function(e,t){1&e&&(u.Wb(0,"section",0),u.Wb(1,"div",1),u.Wb(2,"div",2),u.Wb(3,"mat-card",3),u.Wb(4,"div",4),u.Wb(5,"h1",5),u.Oc(6),u.mc(7,"translate"),u.Vb(),u.Mc(8,ks,7,2,"ng-container",6),u.Mc(9,Ms,28,25,"form",7),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.Db(6),u.Pc(u.nc(7,3,"resetpassword.headerLabel.label1")),u.Db(2),u.tc("ngIf",t.message),u.Db(1),u.tc("ngIf",!t.successComp))},directives:[C.a,D.o,b.y,b.r,b.j,D.m,V.b,k.b,b.d,b.q,b.h,O.a],pipes:[I.d],encapsulation:2}),Es),Fs=i("z6cu"),_s=((Ws=function(e){s(a,e);var t=c(a);function a(){var e;return p(this,a),(e=t.call(this)).loginComponent=e.commonService.constructURLBeforeLogin(h.q.LOGIN),e}return f(a,[{key:"ngOnInit",value:function(){try{if(this.sessionService.getJWT()){var e={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,username:this.sessionService.getLoggedEmail()};this.httpService.payloadPost(h.c.api.logout,e).toPromise().catch(function(e){return Object(Fs.a)(e)}).then(function(e){return e})}this.sessionService.clearSession()}catch(t){console.log(t)}}}]),a}(S.a)).\u0275fac=function(e){return new(e||Ws)},Ws.\u0275cmp=u.Kb({type:Ws,selectors:[["app-not-found"]],features:[u.Ab],decls:10,vars:10,consts:[[1,"container","py-15","py-sm-60"],[1,"fs-24","fs-sm-46","mb-15"],[1,"c-brand-grey-para","mb-30","fs-sm-20"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer",3,"href"]],template:function(e,t){1&e&&(u.Wb(0,"div",0),u.Wb(1,"h1",1),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Wb(4,"p",2),u.Oc(5),u.mc(6,"translate"),u.Vb(),u.Wb(7,"a",3),u.Oc(8),u.mc(9,"translate"),u.Vb(),u.Vb()),2&e&&(u.Db(2),u.Pc(u.nc(3,4,"notFound.pageTitle")),u.Db(3),u.Pc(u.nc(6,6,"notFound.label1")),u.Db(2),u.uc("href",t.loginComponent,u.Hc),u.Db(1),u.Pc(u.nc(9,8,"notFound.label2")))},pipes:[I.d],encapsulation:2}),Ws);function Rs(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"div",6),u.Wb(2,"div",7),u.Rb(3,"i",8),u.Wb(4,"div"),u.Oc(5),u.Vb(),u.Vb(),u.Vb(),u.Tb()),2&e){var a=u.lc();u.Db(5),u.Pc(a.message)}}function Gs(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"h5",9),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Tb()),2&e){var a=u.lc();u.Db(2),u.Rc(" ",u.nc(3,2,"applicantInformation.pageDetails.para1")," ",a.isEditModeFlag?a.editApplicantIndex+1:(null==a.applicationDetails||null==a.applicationDetails.applicantList?null:a.applicationDetails.applicantList.length)+1," ")}}function Us(e,t){if(1&e&&(u.Wb(0,"h5",10),u.Oc(1),u.Vb()),2&e){var a=u.lc();u.Db(1),u.Qc(" ",a.firstLastName(a.editApplicantIndex)," ")}}function Bs(e,t){if(1&e){var a=u.Xb();u.Wb(0,"div",12),u.Wb(1,"div",13),u.Wb(2,"div",14),u.Wb(3,"div",15),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Wb(6,"div",16),u.Oc(7),u.Vb(),u.Vb(),u.Wb(8,"div",17),u.Wb(9,"button",18),u.hc("click",function(){u.Fc(a);var e=t.index;return u.lc(2).editPostalInfo(e)}),u.Oc(10),u.mc(11,"translate"),u.mc(12,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb()}if(2&e){var n=t.$implicit,i=t.index;u.Db(4),u.Rc("",u.nc(5,5,"applicantInformation.pageDetails.para1")," ",i+1,""),u.Db(3),u.Rc("",null==n?null:n.firstName," ",null==n?null:n.lastName,""),u.Db(3),u.Qc(" ",(null==n||null==n.postalList?null:n.postalList.length)>0?u.nc(11,7,"postalInformation.buttons.button2"):u.nc(12,9,"postalInformation.buttons.button1")," ")}}function js(e,t){if(1&e&&(u.Ub(0),u.Mc(1,Bs,13,11,"div",11),u.Tb()),2&e){var a=u.lc();u.Db(1),u.tc("ngForOf",null==a.applicationDetails?null:a.applicationDetails.applicantList)("ngForTrackBy",a.trackByFn)}}function Ys(e,t){if(1&e){var a=u.Xb();u.Wb(0,"mat-checkbox",25),u.hc("ngModelChange",function(e){u.Fc(a);var t=u.lc(3);return t.applicationDetails.applicantList[t.editApplicantIndex].isSamePostalInfo=e})("ngModelChange",function(e){return u.Fc(a),u.lc(3).onIsSamePostalInfoSelection(e)}),u.Wb(1,"span",26),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()}if(2&e){var n=u.lc(3);u.tc("ngModel",n.applicationDetails.applicantList[n.editApplicantIndex].isSamePostalInfo),u.Db(2),u.Rc("",u.nc(3,3,"postalInformation.formLabel.label7")," ",n.firstLastName(0),"")}}function Qs(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"h2",21),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Wb(4,"div",22),u.Wb(5,"div",23),u.Mc(6,Ys,4,5,"mat-checkbox",24),u.Vb(),u.Vb(),u.Tb()),2&e){var a=u.lc(2);u.Db(2),u.Rc(" ",u.nc(3,3,"applicantInformation.pageDetails.para1")," ",a.isEditModeFlag?a.editApplicantIndex+1:(null==a.applicationDetails||null==a.applicationDetails.applicantList?null:a.applicationDetails.applicantList.length)+1," "),u.Db(4),u.tc("ngIf",a.applicationDetails.applicantList)}}function qs(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Mc(1,Qs,7,5,"ng-container",3),u.Wb(2,"form",19),u.Wb(3,"app-dynamic-form",20),u.hc("formGroupCopy",function(e){return u.Fc(a),u.lc().postPageLoadActivities(e,!0)}),u.Vb(),u.Vb(),u.Tb()}if(2&e){var n=u.lc();u.Db(1),u.tc("ngIf",n.viewIsSamePostalInfoFlag),u.Db(1),u.tc("formGroup",n.currentFormGroup),u.Db(1),u.tc("scope",n.scope)("schema",n.currentModule)}}function Hs(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"mat-card",27),u.Rb(2,"app-dynamic-form",28),u.Vb(),u.Tb()),2&e){var a=u.lc();u.Db(2),u.tc("scope",a.scope)("schema",a.currentModuleButtons)}}function Ks(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Wb(1,"mat-card",27),u.Wb(2,"div",29),u.Wb(3,"div",30),u.Wb(4,"button",31),u.hc("click",function(){return u.Fc(a),u.lc().goBack()}),u.Oc(5),u.mc(6,"translate"),u.Vb(),u.Vb(),u.Wb(7,"div",30),u.Wb(8,"button",18),u.hc("click",function(){return u.Fc(a),u.lc().continue()}),u.Oc(9),u.mc(10,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Tb()}2&e&&(u.Db(5),u.Qc(" ",u.nc(6,2,"commonSections.buttons.button8")," "),u.Db(4),u.Qc(" ",u.nc(10,4,"commonSections.buttons.button19")," "))}var zs,$s=((zs=function(e){s(n,e);var t=c(n);function n(e){var a;return p(this,n),(a=t.call(this)).dialog=e,a.scope=d(a),a.viewApplicantsListFlag=!1,a.isEditModeFlag=!1,a.initBaseForm(h.c.modules.POSTAL_INFORMATION),a.isEditingFromSamePage=!1,a.message="",a.applicationDetails={},a.editApplicantIndex=0,a.config={},a.currentPageEditFlag=!1,a}return f(n,[{key:"ngOnInit",value:function(){this.config=this.sessionService.applicationConfiguration,this.applicationDetails=this.sessionService.applicationDetailValue,this.setEditModeFlag(this.checkIsEditMode()),this.applicationDetails.applicantList.length>0&&!this.dataShareService.editYourDetail&&this.setViewApplicantsList(!0),this.registerOnPageLoadCompleteListener()}},{key:"firstLastName",value:function(e){var t,a,n,i,r,o,s,l;return(null===(a=null===(t=this.applicationDetails)||void 0===t?void 0:t.applicantList[e])||void 0===a?void 0:a.lastName)?(null===(i=null===(n=this.applicationDetails)||void 0===n?void 0:n.applicantList[e])||void 0===i?void 0:i.firstName)+(null===(o=null===(r=this.applicationDetails)||void 0===r?void 0:r.applicantList[e])||void 0===o?void 0:o.lastName):null===(l=null===(s=this.applicationDetails)||void 0===s?void 0:s.applicantList[e])||void 0===l?void 0:l.firstName}},{key:"ngAfterViewChecked",value:function(){this.utilityService.translationTitleService("postalInformation.pageTitle")}},{key:"registerOnPageLoadCompleteListener",value:function(){var e=this;try{this.subs.sink=this.dataShareService.pageLoadComplete$.subscribe(function(t){null==e.sessionService.editApplicantDetailsIdx||e.isEditingFromSamePage||(e.editApplicantIndex=e.sessionService.editApplicantDetailsIdx),e.isEditModeFlag&&e.updateFormForEdit(),t&&e.onEditMode()})}catch(t){console.log(t)}}},{key:"isEditingFromSamePage",get:function(){return this.currentPageEditFlag},set:function(e){this.currentPageEditFlag=e}},{key:"checkIsEditMode",value:function(){try{return null!=this.sessionService.editApplicantDetailsIdx}catch(e){return console.log(e),!1}}},{key:"onEditMode",value:function(){try{var e=this.sessionService.editApplicantDetailsIdx,t=this.sessionService.applicationDetailValue;null!=e&&t&&t.applicantList.length>e&&this.editPostalInfo(e)}catch(a){console.log(a)}}},{key:"saveAndContinue",value:function(e,t){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.currentFormGroup&&this.currentFormGroup.valid){e.next=3;break}return e.abrupt("return",(this.commonService.touchAllFields(this.currentFormGroup),void document.querySelector(".form-error").scrollIntoView({behavior:"smooth",block:"center"})));case 3:this.submitCaptcha("save"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))}},{key:"submitCaptcha",value:function(e){"save"===e?this.savePostal():this.updatePostals()}},{key:"savePostal",value:function(){var e,t,a;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i,r,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i=this.currentFormGroup.value,this.utilityService.startNgxUiSpinner(),n.next=5,this.savePostalToDB(i);case 5:if((r=n.sent).hasOwnProperty("error")&&null===r.error){n.next=9;break}throw r.hasOwnProperty("error")&&r.error.code&&(o=r.error.description,this.utilityService.stopNgxUiSpinner(),this.showErrorMsgPopup(o,r.error.code)),new Error(r.error.description);case 9:return null===(a=null===(t=null===(e=this.applicationDetails)||void 0===e?void 0:e.applicantList[this.editApplicantIndex])||void 0===t?void 0:t.postalList)||void 0===a||a.push(i),this.copyAddressToApplicant(i),this.updateApplicationDetailsToSession(this.applicationDetails),n.next=14,this.viewApplicationSummary();case 14:this.utilityService.stopNgxUiSpinner(),n.next=20;break;case 17:n.prev=17,n.t0=n.catch(0),console.log(n.t0);case 20:case"end":return n.stop()}},n,this,[[0,17]])}))}},{key:"updatePostal",value:function(e,t){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.currentFormGroup&&this.currentFormGroup.valid){e.next=3;break}return e.abrupt("return",(this.commonService.touchAllFields(this.currentFormGroup),void document.querySelector(".form-error").scrollIntoView({behavior:"smooth",block:"center"})));case 3:if(!(this.editApplicantIndex>=this.applicationDetails.applicantList.length)){e.next=5;break}throw new Error("error: invalid_data_index_passed");case 5:this.submitCaptcha("update"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}))}},{key:"updatePostals",value:function(){var e,t;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function a(){var n,i,r;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n=this.currentFormGroup.value,this.utilityService.startNgxUiSpinner(),a.next=5,this.savePostalToDB(n);case 5:if((i=a.sent).hasOwnProperty("error")&&null===i.error){a.next=9;break}throw i.hasOwnProperty("error")&&i.error.code&&(r=i.error.description,this.utilityService.stopNgxUiSpinner(),this.showErrorMsgPopup(r)),new Error(i);case 9:return null===(t=null===(e=this.applicationDetails)||void 0===e?void 0:e.applicantList[this.editApplicantIndex])||void 0===t||(t.postalList[0]=n),this.copyAddressToApplicant(n),this.updateApplicationDetailsToSession(this.applicationDetails),a.next=14,this.viewApplicationSummary();case 14:this.utilityService.stopNgxUiSpinner(),a.next=20;break;case 17:a.prev=17,a.t0=a.catch(0),console.log(a.t0);case 20:case"end":return a.stop()}},a,this,[[0,17]])}))}},{key:"copyAddressToApplicant",value:function(e){for(var t,a,n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];(null===(t=this.applicationDetails)||void 0===t?void 0:t.applicantList[this.editApplicantIndex].hasOwnProperty(r))&&(null===(a=this.applicationDetails)||void 0===a||(a.applicantList[this.editApplicantIndex][r]=e[r]))}}},{key:"showErrorMsgPopup",value:function(e,t){var a=this;try{var n=this.dialog.open(di,{data:e});n.afterClosed().subscribe(function(e){return Object(g.b)(a,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=1069===t,!e.t0){e.next=6;break}return this.utilityService.startNgxUiSpinner(),e.next=5,this.viewApplicationSummary();case 5:this.utilityService.stopNgxUiSpinner();case 6:case"end":return e.stop()}},e,this)}))}),this.router.events.subscribe(function(){n.close()})}catch(i){console.log(i)}}},{key:"savePostalToDB",value:function(e){var t;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function a(){var n;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n=this.commonService.checkIfPrepaidCourier(null==e?void 0:e.courierType)?h.c.api.updatePrepaidCourierInfo:h.c.api.updateVFSCourierInfo,e.missionCode=this.sessionService.tenent,e.centerCode=this.sessionService.centerCode,e.loginUser=this.sessionService.getLoggedEmail(),this.commonService.checkIfPrepaidCourier(null==e?void 0:e.courierType)&&(e.countryCode=this.sessionService.countryCode.toUpperCase()),e.aurn=null===(t=this.applicationDetails.applicantList[this.editApplicantIndex])||void 0===t?void 0:t.arn,a.next=9,this.httpService.payloadPost(n,e).toPromise().then(function(e){return e}).catch(function(e){throw e});case 9:return a.abrupt("return",a.sent);case 12:throw a.prev=12,a.t0=a.catch(0),a.t0;case 15:case"end":return a.stop()}},a,this,[[0,12]])}))}},{key:"continue",value:function(){var e,t,n,i=this,r=a(null===(e=this.applicationDetails)||void 0===e?void 0:e.applicantList);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(!(null==o?void 0:o.postalList)||(null===(t=null==o?void 0:o.postalList)||void 0===t?void 0:t.length)<=0)return this.message=this.commonService.translateValue("postalInformation.messages.errorMessages.message4"),void setTimeout(function(){i.message=""},1e4)}}catch(s){r.e(s)}finally{r.f()}this.routeNext()}},{key:"goBack",value:function(){o(m(n.prototype),"routePrevious",this).call(this)}},{key:"editPostalInfo",value:function(e){var t,a,n;try{this.isEditingFromSamePage=!0,this.editApplicantIndex=e,this.setEditModeFlag(!0),this.setViewApplicantsList(!1),(null===(a=null===(t=this.applicationDetails)||void 0===t?void 0:t.applicantList[this.editApplicantIndex])||void 0===a?void 0:a.postalList)||(this.applicationDetails.applicantList[this.editApplicantIndex].postalList=[]),0===(null===(n=this.applicationDetails.applicantList[this.editApplicantIndex].postalList)||void 0===n?void 0:n.length)&&(this.applicationDetails.applicantList[this.editApplicantIndex].isSamePostalInfo=!1)}catch(i){console.log(i)}}},{key:"updateFormForEdit",value:function(){var e,t;try{var a=null===(t=null===(e=this.applicationDetails)||void 0===e?void 0:e.applicantList[this.editApplicantIndex])||void 0===t?void 0:t.postalList[0];this.currentFormGroup.patchValue(a)}catch(n){console.log(n)}}},{key:"isEditMode",value:function(){var e,t,a;return this.isEditModeFlag&&(null===(a=null===(t=null===(e=this.applicationDetails)||void 0===e?void 0:e.applicantList[this.editApplicantIndex])||void 0===t?void 0:t.postalList)||void 0===a?void 0:a.length)>0}},{key:"viewApplicationSummary",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setEditModeFlag(!1),this.setViewApplicantsList(!0),this.editApplicantIndex=0,this.isEditingFromSamePage=!1;case 1:case"end":return e.stop()}},e,this)}))}},{key:"onIsSamePostalInfoSelection",value:function(e){var t,a,n,i,r,o;try{if(this.currentFormGroup.reset(),e)for(var s=0,l=Object.keys(null===(a=null===(t=this.applicationDetails)||void 0===t?void 0:t.applicantList[0])||void 0===a?void 0:a.postalList[0]);s<l.length;s++){var c=l[s];null===(n=this.currentFormGroup.get(c))||void 0===n||n.setValue(null===(r=null===(i=this.applicationDetails)||void 0===i?void 0:i.applicantList[0])||void 0===r?void 0:r.postalList[0][c])}else null===(o=this.currentFormGroup.get("countryCode"))||void 0===o||o.setValue("USA");this.currentFormGroup.updateValueAndValidity()}catch(u){console.log(u)}}},{key:"viewIsSamePostalInfoFlag",get:function(){var e,t;try{var a=null===(t=null===(e=this.applicationDetails)||void 0===e?void 0:e.applicantList)||void 0===t?void 0:t.length;return!this.isEditModeFlag&&a>=1||this.isEditModeFlag&&this.editApplicantIndex>0}catch(n){console.log(n)}}},{key:"routePrevious",value:function(){try{this.applicationDetails.applicantList.length>0?this.viewApplicationSummary():o(m(n.prototype),"routePrevious",this).call(this)}catch(e){console.log(e)}}},{key:"updateApplicationDetailsToSession",value:function(e){this.sessionService.applicationDetailValue=e}},{key:"setViewApplicantsList",value:function(e){this.viewApplicantsListFlag=e,e&&(this.sessionService.clearEditApplicationIdx(),this.dataShareService.editYourDetail=!1)}},{key:"setEditModeFlag",value:function(e){this.isEditModeFlag=e}},{key:"updateListenerTextField",value:function(e,t,n){var i,r,o,s;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function l(){var c,u,d,m,p,b,f,v=this;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(l.prev=0,e.onChangeEvent&&0!==e.onChangeEvent.length){l.next=3;break}return l.abrupt("return");case 3:if(!((null==t?void 0:t.length)>4)){l.next=30;break}$("input").blur(),c=a(e.onChangeEvent),l.prev=6,c.s();case 8:if((u=c.n()).done){l.next=22;break}return d=u.value,m=d.url,(p=this.coreCommonService.extractAndConstructParams(d.params,this.currentFormGroup)).missionCode=this.sessionService.tenent,p.countryCode=this.sessionService.countryCode,p.centerCode=this.sessionService.centerCode,p.loginUser=this.sessionService.getLoggedEmail(),p.aurn=null===(i=this.applicationDetails)||void 0===i?void 0:i.applicantList[this.editApplicantIndex].arn,l.next=14,this.httpService.payloadPost(m,p).toPromise().then(function(e){return e});case 14:return b=l.sent,this.commonService.removeError(n,"invalidPostalCode"),l.next=18,this.httpService.slashParamsDoGet(h.c.api.masterState,{countryCode:this.sessionService.countryCode}).toPromise();case 18:f=l.sent,this.formMetaData.metadata.dropdownDetails.state.options=f||[],(null==b?void 0:b.error)?(null===(r=this.currentFormGroup.get("state"))||void 0===r||r.setValue(null),this.commonService.setError(n,"invalidPostalCode"),n.markAsTouched({onlySelf:!0}),this.message=(null===(o=null==b?void 0:b.error)||void 0===o?void 0:o.description)||this.commonService.translateValue("commonSections.messages.statusMessages."+(null===(s=null==b?void 0:b.error)||void 0===s?void 0:s.code)),setTimeout(function(){v.message=""},1e4)):function(){v.commonService.removeError(n,"invalidPostalCode");var e=b.Address.map(function(e){return e.StateProvinceCode})||[];if(f.length>0){var t=f.filter(function(t){return e.indexOf(t.isoCode)>-1});if(v.formMetaData.metadata.dropdownDetails.state.options=t,1===t.length){var a=v.formMetaData.metadata.dropdownDetails.state.valueKey;setTimeout(function(){var e;null===(e=v.currentFormGroup.get("state"))||void 0===e||e.setValue(t[0][a]),v.currentFormGroup.updateValueAndValidity()},500)}}}();case 20:l.next=8;break;case 22:l.next=27;break;case 24:l.prev=24,l.t0=l.catch(6),c.e(l.t0);case 27:return l.prev=27,c.f(),l.finish(27);case 30:l.next=35;break;case 32:l.prev=32,l.t1=l.catch(0),this.logger.error(l.t1),this.commonService.setError(n,"invalidPostalCode"),n.markAsTouched({onlySelf:!0});case 35:case"end":return l.stop()}},l,this,[[0,32],[6,24,27,30]])}))}}]),n}(kt.a)).\u0275fac=function(e){return new(e||zs)(u.Qb(za.b))},zs.\u0275cmp=u.Kb({type:zs,selectors:[["app-postal-information"]],features:[u.Ab],decls:15,vars:13,consts:[[1,"container","py-15","py-md-30"],[1,"form-card"],[1,"c-brand-grey-para","mb-10"],[4,"ngIf"],[1,"fs-24","fs-sm-42","mb-30"],["class","c-brand-grey-para mb-20",4,"ngIf"],[1,"border-danger",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-window-close-o","fs-24","position-absolute","left-15","top-18","mb-0"],[1,"mb-20"],[1,"c-brand-grey-para","mb-20"],["class","bg-brand-footer border-top-1 border-bottom-1 mx-n15 mx-md-n30 px-15 px-md-30 py-20 mt-n1",4,"ngFor","ngForOf","ngForTrackBy"],[1,"bg-brand-footer","border-top-1","border-bottom-1","mx-n15","mx-md-n30","px-15","px-md-30","py-20","mt-n1"],[1,"row","align-items-center"],[1,"col-12","col-sm","fs-18","mb-sm-0","mb-15"],[1,"c-brand-grey-para","mb-5"],[1,"w-wrap-break"],[1,"col-12","col-sm-auto"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"],[3,"formGroup"],[3,"scope","schema","formGroupCopy"],[1,"fs-18","fs-sm-22","mb-20"],[1,"mb-30"],[1,"form-group","mb-20"],["class","mat-checkbox-brand w-wrap-break-all",3,"ngModel","ngModelChange",4,"ngIf"],[1,"mat-checkbox-brand","w-wrap-break-all",3,"ngModel","ngModelChange"],[1,"fs-18","text-wrap"],[1,"form-card","p-0","border-0","shadow-none"],[3,"scope","schema"],[1,"row"],[1,"col-sm","mt-20"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange",3,"click"]],template:function(e,t){1&e&&(u.Wb(0,"section",0),u.Wb(1,"mat-card",1),u.Wb(2,"p",2),u.Oc(3),u.mc(4,"translate"),u.Vb(),u.Mc(5,Rs,6,1,"ng-container",3),u.Wb(6,"h1",4),u.Oc(7),u.mc(8,"translate"),u.Vb(),u.Mc(9,Gs,4,4,"ng-container",3),u.Mc(10,Us,2,1,"h5",5),u.Mc(11,js,2,2,"ng-container",3),u.Mc(12,qs,4,4,"ng-container",3),u.Vb(),u.Mc(13,Hs,3,2,"ng-container",3),u.Mc(14,Ks,11,6,"ng-container",3),u.Vb()),2&e&&(u.Db(3),u.Pc(u.nc(4,9,"applicantInformation.para.label1")),u.Db(2),u.tc("ngIf",t.message),u.Db(2),u.Pc(u.nc(8,11,null==t.currentModule?null:t.currentModule.displayName)),u.Db(2),u.tc("ngIf",!t.viewApplicantsListFlag&&!t.viewIsSamePostalInfoFlag),u.Db(1),u.tc("ngIf",t.isEditModeFlag&&(null==t.applicationDetails||null==t.applicationDetails.applicantList?null:t.applicationDetails.applicantList.length)>0&&(null==t.applicationDetails?null:t.applicationDetails.applicantList)),u.Db(1),u.tc("ngIf",t.viewApplicantsListFlag&&(null==t.applicationDetails||null==t.applicationDetails.applicantList?null:t.applicationDetails.applicantList.length)>0),u.Db(1),u.tc("ngIf",!t.viewApplicantsListFlag),u.Db(1),u.tc("ngIf",!t.viewApplicantsListFlag),u.Db(1),u.tc("ngIf",t.viewApplicantsListFlag))},directives:[C.a,D.o,D.n,O.a,b.y,b.r,b.j,Wt.e,A.a,b.q,b.t],pipes:[I.d],encapsulation:2}),zs);function Zs(e,t){if(1&e&&(u.Wb(0,"div",17),u.Wb(1,"div",18),u.Rb(2,"i",19),u.Wb(3,"div"),u.Oc(4),u.Vb(),u.Vb(),u.Vb()),2&e){var a=u.lc();u.tc("ngClass",a.appointmentResult?"border-info":"border-danger"),u.Db(1),u.tc("ngClass",a.appointmentResult?"alert-info":"alert-danger"),u.Db(3),u.Pc(a.message)}}function Js(e,t){1&e&&(u.Wb(0,"div",22),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"commonSections.messages.requiredMessages.message1")," "))}function Xs(e,t){1&e&&(u.Wb(0,"div",22),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"commonSections.messages.patternMessages.message1")," "))}function el(e,t){if(1&e&&(u.Wb(0,"div",20),u.Mc(1,Js,3,3,"div",21),u.Mc(2,Xs,3,3,"div",21),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",a.appointmentF.arn_number.errors.required),u.Db(1),u.tc("ngIf",a.appointmentF.arn_number.errors.pattern)}}function tl(e,t){1&e&&(u.Wb(0,"div",22),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"commonSections.messages.requiredMessages.message1")," "))}function al(e,t){1&e&&(u.Wb(0,"div",22),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"commonSections.messages.patternMessages.message1")," "))}function nl(e,t){if(1&e&&(u.Wb(0,"div",20),u.Mc(1,tl,3,3,"div",21),u.Mc(2,al,3,3,"div",21),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",a.appointmentF.passport.errors.required),u.Db(1),u.tc("ngIf",a.appointmentF.passport.errors.pattern)}}var il=function(e){return{"my-12":e}};function rl(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"li",27),u.Oc(2),u.Vb(),u.Tb()),2&e){var a=t.$implicit,n=t.odd;u.Db(1),u.tc("ngClass",u.xc(2,il,n)),u.Db(1),u.Pc(null==a?null:a.value)}}function ol(e,t){if(1&e&&(u.Wb(0,"ul",25),u.Mc(1,rl,3,4,"ng-container",26),u.mc(2,"keyvalue"),u.mc(3,"translate"),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngForOf",u.nc(2,2,u.nc(3,4,"appointmentverification.pageDetails.para2")))("ngForTrackBy",a.trackByFn)}}function sl(e,t){1&e&&(u.Wb(0,"div",23),u.Mc(1,ol,4,6,"ul",24),u.Vb()),2&e&&(u.Db(1),u.tc("ngIf","appointmentverification.pageDetails.para2".length>0))}var ll,cl=function(e){return{"form-error":e}},ul=((ll=function(e){s(a,e);var t=c(a);function a(e){var n;return p(this,a),(n=t.call(this)).formBuilder=e,n.intitForgotForm(),n.message="",n.appointmentResult=!1,n}return f(a,[{key:"intitForgotForm",value:function(){this.appointmentverificationForm=this.formBuilder.group({arn_number:["",b.x.required],passport:["",b.x.required]})}},{key:"appointmentF",get:function(){var e;return null===(e=this.appointmentverificationForm)||void 0===e?void 0:e.controls}},{key:"onSubmit",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.appointmentverificationForm.invalid){e.next=3;break}return e.abrupt("return");case 3:return this.message="",t=this.appointmentverificationForm.value.arn_number+"/"+this.appointmentverificationForm.value.passport,e.next=7,this.httpService.doGet(h.c.api.appointmentVerify+"/"+t).toPromise();case 7:if(!e.sent.result){e.next=11;break}this.message=this.commonService.translateValue("appointmentverification.messages.message2"),this.appointmentResult=!0,e.next=12;break;case 11:this.appointmentResult=!1,this.message=this.commonService.translateValue("appointmentverification.messages.message1");case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log("".concat(h.d.INVALID_RESPONSE,": ").concat(e.t0));case 17:case"end":return e.stop()}},e,this,[[0,14]])}))}}]),a}(S.a)).\u0275fac=function(e){return new(e||ll)(u.Qb(b.e))},ll.\u0275cmp=u.Kb({type:ll,selectors:[["app-appointment-verification"]],features:[u.Ab],decls:37,vars:32,consts:[[1,"container","py-15","py-md-30"],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-9","col-lg-7","col-xl-6"],[1,"form-card","px-md-50","py-md-40"],[1,"d-none","d-block"],[1,"fs-21","fs-sm-24","mb-10"],[1,"c-brand-grey-para","fs-sm-18","mb-25"],["style","border-left: 5px solid",3,"ngClass",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],[1,"c-brand-error"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["matInput","","formControlName","arn_number","type","text","autocomplete","off",3,"placeholder"],["matInput","","formControlName","passport","type","text","autocomplete","off",3,"placeholder"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange"],["class","text-lg-center col-md-auto px-0",4,"ngIf"],[2,"border-left","5px solid",3,"ngClass"],[1,"alert","border-0","rounded-0","py-20","pl-50",3,"ngClass"],[1,"fa","fa-check-circle-o","fs-24","position-absolute","left-15","top-18","mb-0"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[1,"text-lg-center","col-md-auto","px-0"],["class","c-brand-grey-para text-left mt-15 pl-20",4,"ngIf"],[1,"c-brand-grey-para","text-left","mt-15","pl-20"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngClass"]],template:function(e,t){1&e&&(u.Wb(0,"section",0),u.Wb(1,"div",1),u.Wb(2,"div",2),u.Wb(3,"mat-card",3),u.Wb(4,"div",4),u.Wb(5,"h1",5),u.Oc(6),u.mc(7,"translate"),u.Vb(),u.Wb(8,"p",6),u.Oc(9),u.mc(10,"translate"),u.Vb(),u.Mc(11,Zs,5,3,"div",7),u.Wb(12,"form",8),u.hc("ngSubmit",function(){return t.onSubmit()}),u.Wb(13,"div",9),u.Wb(14,"div"),u.Oc(15),u.mc(16,"translate"),u.Wb(17,"span",10),u.Oc(18,"*"),u.Vb(),u.Vb(),u.Mc(19,el,3,2,"div",11),u.Wb(20,"mat-form-field",12),u.Rb(21,"input",13),u.mc(22,"translate"),u.Vb(),u.Vb(),u.Wb(23,"div",9),u.Wb(24,"div"),u.Oc(25),u.mc(26,"translate"),u.Wb(27,"span",10),u.Oc(28,"*"),u.Vb(),u.Vb(),u.Mc(29,nl,3,2,"div",11),u.Wb(30,"mat-form-field",12),u.Rb(31,"input",14),u.mc(32,"translate"),u.Vb(),u.Vb(),u.Wb(33,"button",15),u.Oc(34),u.mc(35,"translate"),u.Vb(),u.Vb(),u.Mc(36,sl,2,1,"div",16),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.Db(6),u.Pc(u.nc(7,14,"appointmentverification.headerLabel.label1")),u.Db(3),u.Pc(u.nc(10,16,"appointmentverification.pageDetails.para1")),u.Db(2),u.tc("ngIf",t.message),u.Db(1),u.tc("formGroup",t.appointmentverificationForm),u.Db(1),u.tc("ngClass",u.xc(28,cl,t.appointmentF.arn_number.touched&&t.appointmentF.arn_number.invalid)),u.Db(2),u.Pc(u.nc(16,18,"appointmentverification.formLabel.label1")),u.Db(4),u.tc("ngIf",t.appointmentF.arn_number.touched&&t.appointmentF.arn_number.errors),u.Db(2),u.uc("placeholder",u.nc(22,20,"commonSections.formLabel.label2")),u.Db(2),u.tc("ngClass",u.xc(30,cl,t.appointmentF.passport.touched&&t.appointmentF.passport.invalid)),u.Db(2),u.Pc(u.nc(26,22,"appointmentverification.formLabel.label2")),u.Db(4),u.tc("ngIf",t.appointmentF.passport.touched&&t.appointmentF.passport.errors),u.Db(2),u.uc("placeholder",u.nc(32,24,"commonSections.formLabel.label2")),u.Db(3),u.Qc(" ",u.nc(35,26,"appointmentverification.buttons.button1")," "),u.Db(2),u.tc("ngIf",t.appointmentResult))},directives:[C.a,D.o,b.y,b.r,b.j,D.m,V.b,k.b,b.d,b.q,b.h,O.a,D.n],pipes:[I.d,D.i],encapsulation:2}),ll);function dl(e,t){1&e&&(u.Wb(0,"td",32),u.Wb(1,"span",33),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()),2&e&&(u.Db(2),u.Pc(u.nc(3,1,"travelMedicalInformation.headerLabel.label5")))}function ml(e,t){if(1&e&&(u.Wb(0,"td",38),u.Oc(1),u.Vb()),2&e){var a=u.lc().$implicit;u.Db(1),u.Pc(null==a?null:a.age)}}var pl=function(){return{standalone:!0}};function bl(e,t){if(1&e&&(u.Wb(0,"tr",34),u.Wb(1,"td",32),u.Wb(2,"mat-checkbox",35),u.hc("ngModelChange",function(e){return t.$implicit.isTmiApplicant=e}),u.Vb(),u.Vb(),u.Wb(3,"td",36),u.Oc(4),u.Vb(),u.Mc(5,ml,2,1,"td",37),u.Vb()),2&e){var a=t.$implicit;u.Db(2),u.tc("ngModel",a.isTmiApplicant)("ngModelOptions",u.wc(5,pl)),u.Db(2),u.Rc("",null==a?null:a.firstName," ",null==a?null:a.lastName,""),u.Db(1),u.tc("ngIf",a.isTmiApplicant)}}function fl(e,t){1&e&&(u.Wb(0,"div",41),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message1")," "))}function vl(e,t){1&e&&(u.Wb(0,"div",41),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message3")," "))}function gl(e,t){1&e&&(u.Wb(0,"div",41),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message3")," "))}function hl(e,t){1&e&&(u.Wb(0,"div",41),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message8")," "))}function yl(e,t){if(1&e&&(u.Wb(0,"div",39),u.Mc(1,fl,3,3,"div",40),u.Mc(2,vl,3,3,"div",40),u.Mc(3,gl,3,3,"div",40),u.Mc(4,hl,3,3,"div",40),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",null==a.formGroup.controls.startdate||null==a.formGroup.controls.startdate.errors?null:a.formGroup.controls.startdate.errors.required),u.Db(1),u.tc("ngIf",null==a.formGroup.controls.startdate||null==a.formGroup.controls.startdate.errors?null:a.formGroup.controls.startdate.errors.formate),u.Db(1),u.tc("ngIf",null==a.formGroup.controls.startdate||null==a.formGroup.controls.startdate.errors?null:a.formGroup.controls.startdate.errors.validDate),u.Db(1),u.tc("ngIf",null==a.formGroup.controls.startdate||null==a.formGroup.controls.startdate.errors?null:a.formGroup.controls.startdate.errors.validStartandEnddates)}}function Sl(e,t){1&e&&(u.Wb(0,"div",41),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message2")," "))}function Cl(e,t){1&e&&(u.Wb(0,"div",41),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message4")," "))}function Dl(e,t){1&e&&(u.Wb(0,"div",41),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message3")," "))}function Il(e,t){1&e&&(u.Wb(0,"div",41),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message8")," "))}function Vl(e,t){if(1&e&&(u.Wb(0,"div",39),u.Mc(1,Sl,3,3,"div",40),u.Mc(2,Cl,3,3,"div",40),u.Mc(3,Dl,3,3,"div",40),u.Mc(4,Il,3,3,"div",40),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",null==a.formGroup.controls.enddate||null==a.formGroup.controls.enddate.errors?null:a.formGroup.controls.enddate.errors.required),u.Db(1),u.tc("ngIf",null==a.formGroup.controls.enddate||null==a.formGroup.controls.enddate.errors?null:a.formGroup.controls.enddate.errors.formate),u.Db(1),u.tc("ngIf",null==a.formGroup.controls.enddate||null==a.formGroup.controls.enddate.errors?null:a.formGroup.controls.enddate.errors.validDate),u.Db(1),u.tc("ngIf",null==a.formGroup.controls.enddate||null==a.formGroup.controls.enddate.errors?null:a.formGroup.controls.enddate.errors.validStartandEnddates)}}function kl(e,t){1&e&&(u.Wb(0,"div",41),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message5")," "))}function Al(e,t){if(1&e&&(u.Wb(0,"div",39),u.Mc(1,kl,3,3,"div",40),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",null==a.formGroup.controls.countryofentry||null==a.formGroup.controls.countryofentry.errors?null:a.formGroup.controls.countryofentry.errors.required)}}function Ol(e,t){if(1&e&&(u.Wb(0,"mat-option",46),u.Oc(1),u.Vb()),2&e){var a=t.$implicit;u.tc("value",a.countryCode),u.Db(1),u.Qc(" ",null==a?null:a.countryDisplayName," ")}}var Tl=function(e){return{"form-error":e}};function Ll(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"div",13),u.Wb(2,"div",42),u.Wb(3,"div"),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Mc(6,Al,2,1,"div",15),u.Wb(7,"mat-form-field",43),u.Wb(8,"mat-select",44),u.mc(9,"translate"),u.Mc(10,Ol,2,2,"mat-option",45),u.mc(11,"sortBy"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Tb()),2&e){var a=u.lc();u.Db(1),u.tc("ngClass",u.xc(16,Tl,(null==a.formGroup.controls.countryofentry?null:a.formGroup.controls.countryofentry.touched)&&(null==a.formGroup.controls.countryofentry?null:a.formGroup.controls.countryofentry.errors))),u.Db(1),u.tc("formGroup",a.formGroup),u.Db(2),u.Pc(u.nc(5,9,"travelMedicalInformation.formLabel.label3")),u.Db(2),u.tc("ngIf",(null==a.formGroup.controls.countryofentry?null:a.formGroup.controls.countryofentry.touched)&&(null==a.formGroup.controls.countryofentry?null:a.formGroup.controls.countryofentry.errors)),u.Db(2),u.uc("placeholder",u.nc(9,11,"travelMedicalInformation.placeholder.label2")),u.tc("options",a.nationalityList)("valueKey","countryCode"),u.Db(2),u.tc("ngForOf",u.oc(11,13,a.nationalityList,"countryDisplayName"))("ngForTrackBy",a.trackByFn)}}function wl(e,t){1&e&&(u.Wb(0,"div",41),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message6")," "))}function Nl(e,t){if(1&e&&(u.Wb(0,"div",39),u.Mc(1,wl,3,3,"div",40),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",null==a.formGroup.controls.coveragetype||null==a.formGroup.controls.coveragetype.errors?null:a.formGroup.controls.coveragetype.errors.required)}}function xl(e,t){if(1&e&&(u.Wb(0,"mat-option",46),u.Oc(1),u.Vb()),2&e){var a=t.$implicit;u.tc("value",null==a?null:a.ctCode),u.Db(1),u.Qc(" ",null==a?null:a.ctDisplayName," ")}}function Ml(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"div",13),u.Wb(2,"div",42),u.Wb(3,"div"),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Mc(6,Nl,2,1,"div",15),u.Wb(7,"mat-form-field",43),u.Wb(8,"mat-select",47),u.mc(9,"translate"),u.Mc(10,xl,2,2,"mat-option",45),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Tb()),2&e){var a=u.lc();u.Db(1),u.tc("ngClass",u.xc(13,Tl,(null==a.formGroup.controls.coveragetype?null:a.formGroup.controls.coveragetype.touched)&&(null==a.formGroup.controls.coveragetype?null:a.formGroup.controls.coveragetype.errors))),u.Db(1),u.tc("formGroup",a.formGroup),u.Db(2),u.Pc(u.nc(5,9,"travelMedicalInformation.formLabel.label4")),u.Db(2),u.tc("ngIf",(null==a.formGroup.controls.coveragetype?null:a.formGroup.controls.coveragetype.touched)&&(null==a.formGroup.controls.coveragetype?null:a.formGroup.controls.coveragetype.errors)),u.Db(2),u.uc("placeholder",u.nc(9,11,"travelMedicalInformation.placeholder.label3")),u.tc("options",a.coverageTypes)("valueKey","ctCode"),u.Db(2),u.tc("ngForOf",a.coverageTypes)("ngForTrackBy",a.trackByFn)}}function El(e,t){1&e&&(u.Wb(0,"div",41),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message9")," "))}function Wl(e,t){if(1&e&&(u.Wb(0,"div",39),u.Mc(1,El,3,3,"div",40),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",null==a.formGroup.controls.coveragelevel||null==a.formGroup.controls.coveragelevel.errors?null:a.formGroup.controls.coveragelevel.errors.required)}}function Pl(e,t){if(1&e&&(u.Wb(0,"mat-option",46),u.Oc(1),u.Vb()),2&e){var a=t.$implicit;u.tc("value",null==a?null:a.clCode),u.Db(1),u.Qc(" ",null==a?null:a.clDisplayName," ")}}function Fl(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"div",13),u.Wb(2,"div",42),u.Wb(3,"div"),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Mc(6,Wl,2,1,"div",15),u.Wb(7,"mat-form-field",43),u.Wb(8,"mat-select",48),u.mc(9,"translate"),u.Mc(10,Pl,2,2,"mat-option",45),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Tb()),2&e){var a=u.lc();u.Db(1),u.tc("ngClass",u.xc(13,Tl,(null==a.formGroup.controls.coveragelevel?null:a.formGroup.controls.coveragelevel.touched)&&(null==a.formGroup.controls.coveragelevel?null:a.formGroup.controls.coveragelevel.errors))),u.Db(1),u.tc("formGroup",a.formGroup),u.Db(2),u.Pc(u.nc(5,9,"travelMedicalInformation.formLabel.label5")),u.Db(2),u.tc("ngIf",(null==a.formGroup.controls.coveragelevel?null:a.formGroup.controls.coveragelevel.touched)&&(null==a.formGroup.controls.coveragelevel?null:a.formGroup.controls.coveragelevel.errors)),u.Db(2),u.uc("placeholder",u.nc(9,11,"travelMedicalInformation.placeholder.label4")),u.tc("options",a.coverageLevels)("valueKey","clCode"),u.Db(2),u.tc("ngForOf",a.coverageLevels)("ngForTrackBy",a.trackByFn)}}function _l(e,t){1&e&&(u.Wb(0,"div",41),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message10")," "))}function Rl(e,t){if(1&e&&(u.Wb(0,"div",39),u.Mc(1,_l,3,3,"div",40),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",null==a.formGroup.controls.extremesports||null==a.formGroup.controls.extremesports.errors?null:a.formGroup.controls.extremesports.errors.required)}}function Gl(e,t){if(1&e&&(u.Wb(0,"mat-option",46),u.Oc(1),u.Vb()),2&e){var a=t.$implicit;u.tc("value",a.extCode),u.Db(1),u.Qc(" ",a.extDisplayName," ")}}function Ul(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"div",13),u.Wb(2,"div",42),u.Wb(3,"div"),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Mc(6,Rl,2,1,"div",15),u.Wb(7,"mat-form-field",43),u.Wb(8,"mat-select",49),u.mc(9,"translate"),u.Mc(10,Gl,2,2,"mat-option",45),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Tb()),2&e){var a=u.lc();u.Db(1),u.tc("ngClass",u.xc(13,Tl,(null==a.formGroup.controls.extremesports?null:a.formGroup.controls.extremesports.touched)&&(null==a.formGroup.controls.extremesports?null:a.formGroup.controls.extremesports.errors))),u.Db(1),u.tc("formGroup",a.formGroup),u.Db(2),u.Pc(u.nc(5,9,"travelMedicalInformation.formLabel.label6")),u.Db(2),u.tc("ngIf",(null==a.formGroup.controls.extremesports?null:a.formGroup.controls.extremesports.touched)&&(null==a.formGroup.controls.extremesports?null:a.formGroup.controls.extremesports.errors)),u.Db(2),u.uc("placeholder",u.nc(9,11,"travelMedicalInformation.placeholder.label5")),u.tc("options",a.extremeSports)("valueKey","extCode"),u.Db(2),u.tc("ngForOf",a.extremeSports)("ngForTrackBy",a.trackByFn)}}function Bl(e,t){1&e&&(u.Wb(0,"div",41),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message7")," "))}function jl(e,t){if(1&e&&(u.Wb(0,"div",39),u.Mc(1,Bl,3,3,"div",40),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",!1===a.formGroup.value.agreeToTermsAndCondition)}}var Yl,Ql=((Yl=function(e){s(a,e);var t=c(a);function a(e,n,i){var r;return p(this,a),(r=t.call(this)).fb=e,r.datePipe=n,r.titlecase=i,r.scope=d(r),r.dataOtCpId=y.a.oneTrustPortal.dataOtCpId,r.loggedInUser="",r.travelStartDate=[],r.isSubmit=!1,r.initBaseForm(h.c.modules.TRAVEL_MEDICAL_INSURANCE),r.applicantList={},r.loggedInUser=r.sessionService.getLoggedEmail(),r}return f(a,[{key:"ngOnInit",value:function(){var e,t,a;this.coverageTypes=[],this.coverageLevels=[],this.extremeSports=[],this.applicantList=null===(t=null===(e=this.sessionService)||void 0===e?void 0:e.applicationDetailValue)||void 0===t?void 0:t.applicantList,this.agreeToTermsAndCondition=!1,this.tmiContentfulData=null===(a=this.sessionService)||void 0===a?void 0:a.tmiContentfulDetails,this.formGroup=this.initFormGroup(),this.loadTmiMasterData(),this.calculateApplicantAge(),this.startDates()}},{key:"initFormGroup",value:function(){return new b.i({startdate:new b.f("",[b.x.required]),enddate:new b.f("",[b.x.required]),agreeToTermsAndCondition:new b.f(!1,[b.x.required])})}},{key:"isApplicantSelectedTmi",get:function(){return this.applicantList.some(function(e){return null==e?void 0:e.isTmiApplicant})}},{key:"getQuotes",value:function(){var e,t;this.isSubmit=!0;try{if("INVALID"===this.formGroup.status||!(null===(e=this.formGroup.value)||void 0===e?void 0:e.agreeToTermsAndCondition)){this.commonService.touchAllFields(this.formGroup);var a=document.querySelector(".form-error");return void(null==a||a.scrollIntoView({behavior:"smooth",block:"center"}))}var n=null===(t=this.formGroup)||void 0===t?void 0:t.value;this.utilityService.fireCustomEvent({dl_category:"get_quote_travel_insurance",dl_action:"cta_click",dl_label:"cta_click",coverage_type:null==n?void 0:n.coveragetype,coverage_level:null==n?void 0:n.coveragelevel,extreme_sports:null==n?void 0:n.extremesports}),n.coverageTypes=this.coverageTypes,n.coverageLevels=this.coverageLevels,n.extremeSports=this.extremeSports,n.nationalityList=this.nationalityList,this.sessionService.tmiDetails=n,this.sessionService.optOutTmi=!1,this.sessionService.tmiVas=[];var i=this.sessionService.applicationDetailValue;i.applicantList=this.applicantList,this.sessionService.applicationDetailValue=i,this.sessionService.tmiProductView=!0,this.sessionService.tmiProductConsent=!1}catch(r){this.logger.error(r)}}},{key:"loadExtremeSports",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.extremeSports=["Yes","No"];case 1:case"end":return e.stop()}},e,this)}))}},{key:"setSelectedValues",value:function(e){var t;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function a(){var n,i,r,o,s;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!(n=null===(t=this.sessionService)||void 0===t?void 0:t.tmiDetails)){a.next=6;break}this.formGroup.patchValue(n),a.next=14;break;case 6:if(!(null==e?void 0:e.isCountryRequired)){a.next=14;break}return i=[],r=this.sessionService.tenent,a.next=11,this.commonService.loadNationality();case 11:o=a.sent,s=this.utilityService.getnationalityName(o,r),i.countryofentry=this.titlecase.transform(s),this.formGroup.patchValue(i);case 14:a.next=19;break;case 16:a.prev=16,a.t0=a.catch(0),this.logger.error(a.t0);case 19:case"end":return a.stop()}},a,this,[[0,16]])}))}},{key:"checkifDisabled",value:function(){return!this.isApplicantSelectedTmi}},{key:"loadNationality",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.commonService.loadNationality();case 2:this.nationalityList=e.sent;case 3:case"end":return e.stop()}},e,this)}))}},{key:"loadTmiMasterData",value:function(){var e;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=(null===(e=this.sessionService.applicationConfiguration)||void 0===e?void 0:e.tmiPartnerCode)||"",t.next=3,this.commonService.loadMasterTmiData("lift",a);case 3:(n=t.sent)&&null===(null==n?void 0:n.error)&&(this.masterData=n,this.addRequiredFields(this.masterData));case 5:case"end":return t.stop()}},t,this)}))}},{key:"addRequiredFields",value:function(e){(null==e?void 0:e.isCountryRequired)&&(this.formGroup.addControl("countryofentry",new b.f(null,b.x.required)),this.nationalityList=null==e?void 0:e.countries),(null==e?void 0:e.isCoverageTypeRequired)&&(this.formGroup.addControl("coveragetype",new b.f(null,b.x.required)),this.coverageTypes=null==e?void 0:e.coverageTypes),(null==e?void 0:e.isCoverageLevelRequired)&&(this.formGroup.addControl("coveragelevel",new b.f(null,b.x.required)),this.coverageLevels=null==e?void 0:e.coverageLevels),(null==e?void 0:e.isExtremeSportsRequired)&&(this.formGroup.addControl("extremesports",new b.f(null,b.x.required)),this.extremeSports=null==e?void 0:e.extremeSports),this.setSelectedValues(e)}},{key:"calculateApplicantAge",value:function(){var e,t=this;try{null===(e=this.applicantList)||void 0===e||e.forEach(function(e){var a=t.utilityService.momentInstance().format("DD/MM/YYYY"),n=t.utilityService.convertJSONInDate(e.dateOfBirth),i=t.utilityService.momentInstance(a,"DD/MM/YYYY").diff(t.utilityService.momentInstance(n,"DD/MM/YYYY"),"years");e.age=i})}catch(a){this.logger.error(a)}}},{key:"startDates",value:function(){var e;this.utilityService.momentInstance(null===(e=this.sessionService.getAppointmentDetails())||void 0===e?void 0:e.date).format("DD/MM/YYYY");var t=this.utilityService.momentInstance(this.utilityService.momentInstance().format("DD/MM/YYYY"),"DD/MM/YYYY"),a=this.utilityService.momentInstance(t,"DD/MM/YYYY").add(60,"days");this.travelStartDate.min={year:+t.format("YYYY"),month:+t.format("MM"),day:+t.format("DD")},this.travelStartDate.max={year:+a.format("YYYY"),month:+a.format("MM"),day:+a.format("DD")},this.formGroup.value.endate||(this.travelEndDate=Object.assign({},this.travelStartDate.min))}},{key:"changeEndDate",value:function(e){var t;if(!this.formGroup.value.endate){var a=this.utilityService.momentInstance(null===(t=this.utilityService)||void 0===t?void 0:t.convertJSONInDate(e),"DD/MM/YYYY").add(1,"days");this.travelEndDate={year:+a.format("YYYY"),month:+a.format("MM"),day:+a.format("DD")}}}},{key:"isDateFormatCheck",value:function(e){return this.utilityService.momentInstance(e,"DD/MM/YYYY").isValid()}},{key:"dateFormatConversion",value:function(e){return this.utilityService.momentInstance(e).format("YYYY-MM-DD")}},{key:"validateStartandEndDates",value:function(e,t){var a;this.formGroup.controls.startdate.updateValueAndValidity(),this.formGroup.controls.enddate.updateValueAndValidity(),this.utilityService.momentInstance(null===(a=this.sessionService.getAppointmentDetails())||void 0===a?void 0:a.date).format("DD/MM/YYYY");var n=this.utilityService.momentInstance(this.utilityService.momentInstance().format("DD/MM/YYYY"),"DD/MM/YYYY"),i=this.utilityService.momentInstance(n,"YYYY-MM-DD").add(60,"days"),r=(i.format("YYYY"),i.format("MM"),i.format("DD"),this.dateFormatConversion(this.formGroup.value.startdate.year+"-"+this.formGroup.value.startdate.month+"-"+this.formGroup.value.startdate.day)),o=this.dateFormatConversion(this.formGroup.value.enddate.year+"-"+this.formGroup.value.enddate.month+"-"+this.formGroup.value.enddate.day);if("startdate"===t){var s=this.datePipe.transform(r,this.dateFormat);this.dateFormatStartDate=s}if("enddate"===t){var l=this.datePipe.transform(o,this.dateFormat);this.dateFormatEndDate=l}var c=this.dateFormatConversion(e.year+"-"+e.month+"-"+e.day),u=this.isDateFormatCheck(e);u&&this.formGroup.controls[t].setErrors({formate:!0}),"startdate"!==t||u||this.utilityService.momentInstance(c).isSameOrAfter(n)||this.formGroup.controls[t].setErrors({validDate:!0}),this.formGroup.value.startdate&&("enddate"!==t||u||this.utilityService.momentInstance(c).isAfter(r)||this.formGroup.controls[t].setErrors({validStartandEnddates:!0})),this.formGroup.value.enddate&&("startdate"!==t||u||this.utilityService.momentInstance(c).isBefore(o)||this.formGroup.controls[t].setErrors({validStartandEnddates:!0}))}}]),a}(kt.a)).\u0275fac=function(e){return new(e||Yl)(u.Qb(b.e),u.Qb(D.e),u.Qb(D.y))},Yl.\u0275cmp=u.Kb({type:Yl,selectors:[["app-tmiform"]],features:[u.Cb([D.y]),u.Ab],decls:59,vars:57,consts:[["action","","method","post",1,"ot-form-consent",3,"formGroup","ngSubmit"],[1,"row","align-items-end"],[1,"col-12","mb-30"],[1,"fs-18","fs-sm-24","mb-10"],[1,"table","table-borderless"],[1,"c-brand-grey-para"],[1,"min-w-35","min-lg-w-100","px-0"],[1,"min-w-230","px-5"],["class","px-0",4,"ngIf"],["class","border-bottom-1",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12"],[1,"fs-18","fs-sm-24","mb-20"],[1,"col-12","col-sm"],[3,"ngClass"],[1,"datepicker-div","form-group"],["class","errorMessage",4,"ngIf"],["ngbDatepicker","","formControlName","startdate",1,"form-control","input-lg","mt-5",3,"minDate","value","placeholder","change","ngModelChange"],["datePickerReference","ngbDatepicker"],[1,"input-group-addon",3,"click"],[1,"col-12","col-sm",3,"formGroup"],[1,"form-group"],["ngbDatepicker","","formControlName","enddate",1,"form-control","input-lg","mt-5",3,"minDate","value","placeholder","change","ngModelChange"],["datePickerReference2","ngbDatepicker"],[4,"ngIf"],[1,"form-group","mt-30",3,"formGroup"],[1,"form-group",3,"ngClass"],[1,"pl-35"],["formControlName","agreeToTermsAndCondition","value","The personal details provided by all persons on this form may be shared with VFS' Insurance partners","type","checkbox",1,"mat-checkbox-brand","ml-n35"],[1,"fs-sm-18","text-wrap","mr-5"],[3,"richData"],["type","email","id","inputEmail","required","",1,"ot-form-control","d-none",3,"value"],["type","submit","id","trigger","mat-stroked-button","",1,"ot-submit-button","btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled"],[1,"px-0"],[1,"d-inline-block","min-lg-w-300"],[1,"border-bottom-1"],["name","sizecb[]",1,"mat-checkbox-brand",3,"ngModel","ngModelOptions","ngModelChange"],[1,"fs-sm-18","px-5"],["class","fs-sm-18 px-0",4,"ngIf"],[1,"fs-sm-18","px-0"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[1,"form-group",3,"formGroup"],["appearance","outline",1,"mat-form-field-outline-brand"],["appDefaultSelect","","formControlName","countryofentry",3,"options","valueKey","placeholder"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[3,"value"],["appDefaultSelect","","formControlName","coveragetype",3,"options","valueKey","placeholder"],["appDefaultSelect","","formControlName","coveragelevel",3,"options","valueKey","placeholder"],["appDefaultSelect","","formControlName","extremesports",3,"options","valueKey","placeholder"]],template:function(e,t){if(1&e){var a=u.Xb();u.Wb(0,"form",0),u.hc("ngSubmit",function(){return t.getQuotes()}),u.Wb(1,"div",1),u.Wb(2,"div",2),u.Wb(3,"h2",3),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Wb(6,"table",4),u.Wb(7,"tr",5),u.Rb(8,"td",6),u.Wb(9,"td",7),u.Oc(10),u.mc(11,"translate"),u.mc(12,"translate"),u.Vb(),u.Mc(13,dl,4,3,"td",8),u.Vb(),u.Mc(14,bl,6,6,"tr",9),u.Vb(),u.Vb(),u.Wb(15,"div",10),u.Wb(16,"h2",11),u.Oc(17),u.mc(18,"translate"),u.Vb(),u.Vb(),u.Wb(19,"div",12),u.Wb(20,"div",13),u.Wb(21,"div",14),u.Wb(22,"div"),u.Oc(23),u.mc(24,"translate"),u.Vb(),u.Mc(25,yl,5,4,"div",15),u.Wb(26,"div",14),u.Wb(27,"input",16,17),u.hc("change",function(){return t.validateStartandEndDates(t.formGroup.value.startdate,"startdate")})("ngModelChange",function(e){return t.changeEndDate(e),t.validateStartandEndDates(e,"startdate")}),u.mc(29,"translate"),u.Vb(),u.Wb(30,"div",18),u.hc("click",function(){return u.Fc(a),u.Bc(28).toggle()}),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(31,"div",19),u.Wb(32,"div",13),u.Wb(33,"div",20),u.Wb(34,"div"),u.Oc(35),u.mc(36,"translate"),u.Vb(),u.Mc(37,Vl,5,4,"div",15),u.Wb(38,"div",14),u.Wb(39,"input",21,22),u.hc("change",function(){return t.validateStartandEndDates(t.formGroup.value.enddate,"enddate")})("ngModelChange",function(e){return t.validateStartandEndDates(e,"enddate")}),u.mc(41,"translate"),u.Vb(),u.Wb(42,"div",18),u.hc("click",function(){return u.Fc(a),u.Bc(40).toggle()}),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(43,"div",10),u.Mc(44,Ll,12,18,"ng-container",23),u.Mc(45,Ml,11,15,"ng-container",23),u.Mc(46,Fl,11,15,"ng-container",23),u.Mc(47,Ul,11,15,"ng-container",23),u.Wb(48,"div",24),u.Wb(49,"div",25),u.Mc(50,jl,2,1,"div",15),u.Wb(51,"div",26),u.Wb(52,"mat-checkbox",27),u.Wb(53,"div",28),u.Rb(54,"app-contentful-richtext",29),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Rb(55,"input",30),u.Wb(56,"button",31),u.Oc(57),u.mc(58,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()}2&e&&(u.tc("formGroup",t.formGroup),u.Eb("data-ot-cp-id",t.dataOtCpId),u.Db(4),u.Qc(" ",u.nc(5,33,null==t.tmiContentfulData?null:t.tmiContentfulData.quoteFormSectionTitle1)," "),u.Db(6),u.Rc(" ",u.nc(11,35,"travelMedicalInformation.headerLabel.label3"),"",u.nc(12,37,"travelMedicalInformation.headerLabel.label4")," "),u.Db(3),u.tc("ngIf",t.isApplicantSelectedTmi),u.Db(1),u.tc("ngForOf",t.applicantList)("ngForTrackBy",t.trackByFn),u.Db(3),u.Pc(u.nc(18,39,null==t.tmiContentfulData?null:t.tmiContentfulData.quoteFormSectionTitle2)),u.Db(3),u.tc("ngClass",u.xc(51,Tl,(null==t.formGroup.controls.startdate?null:t.formGroup.controls.startdate.touched)&&(null==t.formGroup.controls.startdate?null:t.formGroup.controls.startdate.errors))),u.Db(3),u.Pc(u.nc(24,41,"travelMedicalInformation.formLabel.label1")),u.Db(2),u.tc("ngIf",(null==t.formGroup.controls.startdate?null:t.formGroup.controls.startdate.touched)&&(null==t.formGroup.controls.startdate?null:t.formGroup.controls.startdate.errors)),u.Db(2),u.uc("placeholder",u.nc(29,43,"travelMedicalInformation.placeholder.label1")),u.tc("minDate",t.travelStartDate.min)("value",t.dateFormatStartDate),u.Db(4),u.tc("formGroup",t.formGroup),u.Db(1),u.tc("ngClass",u.xc(53,Tl,(null==t.formGroup.controls.enddate?null:t.formGroup.controls.enddate.touched)&&(null==t.formGroup.controls.enddate?null:t.formGroup.controls.enddate.errors))),u.Db(3),u.Pc(u.nc(36,45,"travelMedicalInformation.formLabel.label2")),u.Db(2),u.tc("ngIf",(null==t.formGroup.controls.enddate?null:t.formGroup.controls.enddate.touched)&&(null==t.formGroup.controls.enddate?null:t.formGroup.controls.enddate.errors)),u.Db(2),u.uc("placeholder",u.nc(41,47,"travelMedicalInformation.placeholder.label1")),u.tc("minDate",t.travelEndDate)("value",t.dateFormatEndDate),u.Db(5),u.tc("ngIf",null==t.masterData?null:t.masterData.isCountryRequired),u.Db(1),u.tc("ngIf",null==t.masterData?null:t.masterData.isCoverageTypeRequired),u.Db(1),u.tc("ngIf",null==t.masterData?null:t.masterData.isCoverageLevelRequired),u.Db(1),u.tc("ngIf",null==t.masterData?null:t.masterData.isExtremeSportsRequired),u.Db(1),u.tc("formGroup",t.formGroup),u.Db(1),u.tc("ngClass",u.xc(55,Tl,!1===t.formGroup.value.agreeToTermsAndCondition&&t.isSubmit)),u.Db(1),u.tc("ngIf",t.isSubmit),u.Db(4),u.tc("richData",null==t.tmiContentfulData?null:t.tmiContentfulData.quoteFormLegalConsent),u.Db(1),u.tc("value",t.loggedInUser),u.Db(1),u.tc("disabled",t.checkifDisabled()),u.Db(1),u.Qc(" ",u.nc(58,49,"travelMedicalInformation.buttons.button1")," "))},directives:[b.y,b.r,b.j,D.o,D.n,D.m,Lt.d,b.d,b.q,b.h,A.a,Oo,O.a,b.t,V.b,wt.a,Nt,Et.j],pipes:[I.d,Wt.h],encapsulation:2}),Yl);function ql(e,t){if(1&e&&(u.Wb(0,"li",7),u.Wb(1,"div",8),u.Oc(2,"\u2713"),u.Vb(),u.Wb(3,"div",9),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Wb(6,"div",10),u.Oc(7),u.Vb(),u.Vb()),2&e){var a=u.lc();u.Db(4),u.Pc(u.nc(5,2,"travelMedicalInformation.formLabel.label3")),u.Db(3),u.Pc(null==a.tmiDetails?null:a.tmiDetails.countryofentryName)}}function Hl(e,t){if(1&e&&(u.Wb(0,"li",7),u.Wb(1,"div",8),u.Oc(2,"\u2713"),u.Vb(),u.Wb(3,"div",9),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Wb(6,"div",10),u.Oc(7),u.Vb(),u.Vb()),2&e){var a=u.lc();u.Db(4),u.Pc(u.nc(5,2,"travelMedicalInformation.formLabel.label4")),u.Db(3),u.Pc(null==a.tmiDetails?null:a.tmiDetails.coverageTypeName)}}function Kl(e,t){if(1&e&&(u.Wb(0,"li",7),u.Wb(1,"div",8),u.Oc(2,"\u2713"),u.Vb(),u.Wb(3,"div",9),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Wb(6,"div",10),u.Oc(7),u.Vb(),u.Vb()),2&e){var a=u.lc();u.Db(4),u.Pc(u.nc(5,2,"travelMedicalInformation.formLabel.label5")),u.Db(3),u.Pc(null==a.tmiDetails?null:a.tmiDetails.coveragelevelName)}}function zl(e,t){if(1&e&&(u.Wb(0,"li",7),u.Wb(1,"div",8),u.Oc(2,"\u2713"),u.Vb(),u.Wb(3,"div",9),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Wb(6,"div",10),u.Oc(7),u.Vb(),u.Vb()),2&e){var a=u.lc();u.Db(4),u.Pc(u.nc(5,2,"travelMedicalInformation.formLabel.label6")),u.Db(3),u.Pc(null==a.tmiDetails?null:a.tmiDetails.extremeSportsName)}}function $l(e,t){1&e&&(u.Ub(0),u.Wb(1,"div",19),u.Wb(2,"div",20),u.Rb(3,"i",21),u.Wb(4,"div"),u.Oc(5),u.mc(6,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Tb()),2&e&&(u.Db(5),u.Pc(u.nc(6,1,"travelMedicalInformation.pageDetails.para6")))}function Zl(e,t){if(1&e&&(u.Wb(0,"div",37),u.Rb(1,"img",38),u.Vb()),2&e){var a=u.lc().$implicit;u.Db(1),u.uc("src",null==a||null==a.contentful||null==a.contentful.insProviderIcon||null==a.contentful.insProviderIcon.fields||null==a.contentful.insProviderIcon.fields.file?null:a.contentful.insProviderIcon.fields.file.url,u.Hc)}}function Jl(e,t){if(1&e&&(u.Wb(0,"div",39),u.Oc(1),u.Vb()),2&e){var a=u.lc().$implicit;u.Db(1),u.Qc(" ",null==a||null==a.contentful?null:a.contentful.insProviderName," ")}}function Xl(e,t){if(1&e&&(u.Wb(0,"div",40),u.Rb(1,"app-contentful-richtext",41),u.Vb()),2&e){var a=u.lc().$implicit;u.Db(1),u.tc("richData",null==a||null==a.contentful?null:a.contentful.insPolicyDesc)}}var ec=function(e){return{"same-coverage-container":e}};function tc(e,t){if(1&e&&(u.Wb(0,"div",47),u.Wb(1,"table",48),u.Wb(2,"tr"),u.Wb(3,"td",49),u.Wb(4,"div",50),u.Oc(5),u.Vb(),u.Vb(),u.Wb(6,"td",51),u.Wb(7,"div"),u.Oc(8),u.Vb(),u.Vb(),u.Wb(9,"td",52),u.Wb(10,"div"),u.Oc(11),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&e){var a=t.$implicit,n=t.index,i=u.lc(4);u.tc("ngClass",u.xc(5,ec,i.getSameCoverage(n,"coveragesListOne"))),u.Db(4),u.tc("ngClass",a.isCovered?"c-brand-green":"c-brand-error"),u.Db(1),u.Qc(" ",a.isCovered?"\u2713":"\u2716"," "),u.Db(3),u.Pc(a.name),u.Db(3),u.Pc(a.amountOrDays)}}function ac(e,t){if(1&e&&(u.Wb(0,"div",47),u.Wb(1,"table",48),u.Wb(2,"tr"),u.Wb(3,"td",49),u.Wb(4,"div",50),u.Oc(5),u.Vb(),u.Vb(),u.Wb(6,"td",51),u.Wb(7,"div"),u.Oc(8),u.Vb(),u.Vb(),u.Wb(9,"td",53),u.Wb(10,"div"),u.Oc(11),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&e){var a=t.$implicit,n=t.index,i=u.lc(4);u.tc("ngClass",u.xc(5,ec,i.getSameCoverage(n,"coveragesListTwo"))),u.Db(4),u.tc("ngClass",a.isCovered?"c-brand-green":"c-brand-error"),u.Db(1),u.Qc(" ",a.isCovered?"\u2713":"\u2716"," "),u.Db(3),u.Pc(a.name),u.Db(3),u.Pc(a.amountOrDays)}}function nc(e,t){if(1&e){var a=u.Xb();u.Wb(0,"div",42),u.Wb(1,"div",43),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Wb(4,"div",44),u.Wb(5,"div",45),u.Mc(6,tc,12,7,"div",46),u.Vb(),u.Wb(7,"div",45),u.Mc(8,ac,12,7,"div",46),u.Vb(),u.Vb(),u.Wb(9,"a",30),u.hc("click",function(){return u.Fc(a),u.lc(3).showCoverage=null}),u.Oc(10," \u2190"),u.Wb(11,"span"),u.Oc(12),u.mc(13,"translate"),u.Vb(),u.Vb(),u.Vb()}if(2&e){var n=u.lc().index,i=u.lc(2);u.Ib("show",!(i.showCoverage===n)),u.Db(2),u.Pc(u.nc(3,6,"travelMedicalInformation.headerLabel.label12")),u.Db(4),u.tc("ngForOf",i.coveragesListOne),u.Db(2),u.tc("ngForOf",i.coveragesListTwo),u.Db(4),u.Pc(u.nc(13,8,"travelMedicalInformation.buttons.button2"))}}function ic(e,t){if(1&e&&(u.Wb(0,"div",54),u.Wb(1,"div",55),u.Oc(2),u.Vb(),u.Wb(3,"div",56),u.Oc(4),u.Vb(),u.Vb()),2&e){var a=t.$implicit;u.Db(2),u.Pc(a.name),u.Db(2),u.Pc(a.amountOrDays)}}function rc(e,t){if(1&e){var a=u.Xb();u.Wb(0,"button",57),u.hc("click",function(){u.Fc(a);var e=u.lc().$implicit;return u.lc(2).addService(e)}),u.Oc(1),u.mc(2,"translate"),u.Vb()}2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"commonSections.formLabel.label1")," "))}function oc(e,t){1&e&&(u.Wb(0,"button",58),u.Oc(1," \u2713 "),u.Vb())}function sc(e,t){if(1&e){var a=u.Xb();u.Wb(0,"div",23),u.Wb(1,"div",0),u.Wb(2,"div",24),u.Wb(3,"div",25),u.Mc(4,Zl,2,1,"div",26),u.Mc(5,Jl,2,1,"div",27),u.Vb(),u.Mc(6,Xl,2,1,"div",28),u.Wb(7,"div",29),u.Wb(8,"a",30),u.hc("click",function(){u.Fc(a);var e=t.index;return u.lc(2).viewMoreClick(e)}),u.Wb(9,"span"),u.Oc(10),u.mc(11,"translate"),u.Vb(),u.Oc(12," \u2192 "),u.Vb(),u.Mc(13,nc,14,10,"div",31),u.Vb(),u.Wb(14,"div",0),u.Mc(15,ic,5,2,"div",32),u.Vb(),u.Vb(),u.Wb(16,"div",33),u.Wb(17,"div",34),u.Wb(18,"div",35),u.Oc(19),u.Vb(),u.Wb(20,"div",36),u.Wb(21,"div"),u.Mc(22,rc,3,3,"button",16),u.Vb(),u.Wb(23,"div"),u.Mc(24,oc,2,0,"button",17),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()}if(2&e){var n=t.$implicit,i=t.index,r=u.lc(2);u.Db(4),u.tc("ngIf",null==n||null==n.contentful||null==n.contentful.insProviderIcon||null==n.contentful.insProviderIcon.fields||null==n.contentful.insProviderIcon.fields.file?null:n.contentful.insProviderIcon.fields.file.url),u.Db(1),u.tc("ngIf",null==n||null==n.contentful?null:n.contentful.insProviderName),u.Db(1),u.tc("ngIf",null==n||null==n.contentful?null:n.contentful.insPolicyDesc),u.Db(4),u.Pc(u.nc(11,10,"services.buttons.button1")),u.Db(3),u.tc("ngIf",r.showCoverage===i),u.Db(2),u.tc("ngForOf",null==n?null:n.priorityCoverages),u.Db(4),u.Rc("",null==n?null:n.currency," ",null==n?null:n.amount,""),u.Db(3),u.tc("ngIf",!r.isSelected(n.productId)),u.Db(2),u.tc("ngIf",r.isSelected(n.productId))}}function lc(e,t){if(1&e&&(u.Ub(0),u.Mc(1,sc,25,12,"div",22),u.Tb()),2&e){var a=u.lc();u.Db(1),u.tc("ngForOf",a.availableServices)("ngForTrackBy",a.trackByFn)}}function cc(e,t){if(1&e){var a=u.Xb();u.Wb(0,"button",57),u.hc("click",function(){return u.Fc(a),u.lc().optOutTmi()}),u.Oc(1),u.mc(2,"translate"),u.Vb()}2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"commonSections.formLabel.label1")," "))}function uc(e,t){1&e&&(u.Wb(0,"button",58),u.Oc(1,"\u2713"),u.Vb())}function dc(e,t){if(1&e&&(u.Wb(0,"div",63),u.Rb(1,"app-contentful-richtext",41),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("richData",a.selectedSevices[0].contentful.insPolicyTermsnCondition)}}function mc(e,t){if(1&e){var a=u.Xb();u.Wb(0,"div",59),u.Wb(1,"div",60),u.Wb(2,"mat-checkbox",61),u.hc("ngModelChange",function(e){return u.Fc(a),u.lc().agreeToTermsAndCondition=e})("change",function(){return u.Fc(a),u.lc().agreeConditions()}),u.Mc(3,dc,2,1,"div",62),u.Vb(),u.Vb(),u.Vb()}if(2&e){var n=u.lc();u.Db(2),u.tc("ngModel",n.agreeToTermsAndCondition),u.Db(1),u.tc("ngIf",null==n.selectedSevices[0]||null==n.selectedSevices[0].contentful?null:n.selectedSevices[0].contentful.insPolicyTermsnCondition)}}var pc,bc=((pc=function(e){s(a,e);var t=c(a);function a(){var e;return p(this,a),(e=t.call(this)).tmiProductSelected=new u.n,e.showCoverage=null,e.availableServices=[],e.nationalityList=[],e}return f(a,[{key:"ngOnInit",value:function(){var e,t,a,n,i,r,o,s;this.applicantList=this.sessionService.applicationDetailValue.applicantList,this.selectedSevices=[],this.currencyCode=null===(e=this.sessionService)||void 0===e?void 0:e.currencyCode,this.tmiContentfulData=null===(t=this.sessionService)||void 0===t?void 0:t.tmiContentfulDetails;var l=this.sessionService.tmiDetails;l.startDate=this.utilityService.convertJSONInDate(l.startdate),l.endDate=this.utilityService.convertJSONInDate(l.enddate);var c=this.utilityService.momentInstance(l.startDate,"DD/MM/YYYY").format(this.dateFormat.toUpperCase());this.dateFormatStartDate=c;var u=this.utilityService.momentInstance(l.endDate,"DD/MM/YYYY").format(this.dateFormat.toUpperCase());this.dateFormatEndDate=u,l.coveragelevelName=null===(a=null==l?void 0:l.coverageLevels.find(function(e){return e.clCode===(null==l?void 0:l.coveragelevel)}))||void 0===a?void 0:a.clDisplayName,l.extremeSportsName=null===(n=null==l?void 0:l.extremeSports.find(function(e){return e.extCode===(null==l?void 0:l.extremesports)}))||void 0===n?void 0:n.extDisplayName,l.coverageTypeName=null===(r=null===(i=null==l?void 0:l.coverageTypes)||void 0===i?void 0:i.find(function(e){return e.ctCode===(null==l?void 0:l.coveragetype)}))||void 0===r?void 0:r.ctDisplayName,l.countryofentryName=null===(s=null===(o=null==l?void 0:l.nationalityList)||void 0===o?void 0:o.find(function(e){return e.countryCode===(null==l?void 0:l.countryofentry)}))||void 0===s?void 0:s.countryDisplayName,this.tmiDetails=l,this.getNationality(),this.getTMIProducts()}},{key:"showTmiFormView",value:function(){this.sessionService.tmiProductView=!1}},{key:"isSelected",value:function(e){return this.selectedSevices.some(function(t){return t.productId===e})}},{key:"addService",value:function(e){try{this.utilityService.fireCustomEvent({dl_category:"plan_selected",dl_action:null==e?void 0:e.productName,dl_label:null==e?void 0:e.amount}),this.utilityService.startNgxUiSpinner();var t=[];t.push(e),this.selectedSevices=t,this.sessionService.tmiVas=t,this.optedOutTmi=!1,this.sessionService.optOutTmi=!1,this.utilityService.stopNgxUiSpinner(),this.tmiProductSelected.emit(!0)}catch(a){this.logger.error(a)}}},{key:"tmiApplicantsName",get:function(){var e="";return this.applicantList.forEach(function(t){t.isTmiApplicant&&(e+=t.firstName+" "+t.lastName+", ")}),e.slice(0,-2)}},{key:"optOutTmi",value:function(){this.selectedSevices=[],this.sessionService.tmiVas=[],this.optedOutTmi=!0,this.sessionService.optOutTmi=!0,this.agreeToTermsAndCondition=!1,this.sessionService.tmiProductConsent=!1}},{key:"agreeConditions",value:function(){this.sessionService.tmiProductConsent=this.agreeToTermsAndCondition}},{key:"getNationality",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.commonService.loadNationality();case 2:this.nationalityList=e.sent,this.residentCountry=this.utilityService.getnationalityName(this.nationalityList,this.sessionService.countryCode),this.destinationCountry=this.utilityService.getnationalityName(this.nationalityList,this.sessionService.tenent);case 5:case"end":return e.stop()}},e,this)}))}},{key:"getTMIProducts",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a,n,i,r,o,s,l=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.tmiDetails,a=[],this.applicantList.forEach(function(e){e.isTmiApplicant&&a.push({arn:e.arn,firstName:null==e?void 0:e.firstName,lastName:null==e?void 0:e.lastName,age:null==e?void 0:e.age,dateOfBirth:l.utilityService.convertJSONInDate(null==e?void 0:e.dateOfBirth),emailId:null==e?void 0:e.emailId,contactNumber:null==e?void 0:e.contactNumber,dialCode:null==e?void 0:e.dialCode})}),n={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.centerCode,cultureCode:this.sessionService.appCultureCode,loginUser:this.sessionService.getLoggedEmail(),URN:this.sessionService.urn,productPageNumber:"123",applicants:a,insuranceTravelDetails:{coverageLevel:null==t?void 0:t.coveragelevel,coverageType:null==t?void 0:t.coveragetype,startDate:null==t?void 0:t.startDate,endDate:null==t?void 0:t.endDate,firstCountryOfEntry:null==t?void 0:t.countryofentry,isRequiredExtraSports:!!(null==t?void 0:t.extremesports)&&JSON.parse(null==t?void 0:t.extremesports)}},e.next=6,this.httpService.payloadPost(h.c.api.getTMIProducts,n).toPromise().catch(function(e){throw l.productsNotAvailable=!0,l.sessionService.isTmiProductsAvailable=!1,e}).then(function(e){return e});case 6:if(!((i=e.sent)&&null===i.error&&(null==i?void 0:i.products.length)>0)){e.next=17;break}return this.availableServices=null==i?void 0:i.products,this.availableServices.forEach(function(e){var t,a=null===(t=null==e?void 0:e.coverages)||void 0===t?void 0:t.slice(0,4);e.priorityCoverages=a||[]}),r=Math.min.apply(Math,this.availableServices.map(function(e){return e.amount})),o=this.availableServices.find(function(e){return e.amount==r}),this.addService(o),e.next=13,this.commonService.constructTMIProductData(this.availableServices);case 13:(null==(s=e.sent)?void 0:s.length)>0&&(this.availableServices=s),this.productsNotAvailable=!1,this.sessionService.isTmiProductsAvailable=!0,e.next=18;break;case 17:this.productsNotAvailable=!0,this.sessionService.isTmiProductsAvailable=!1;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),this.logger.error(e.t0);case 23:case"end":return e.stop()}},e,this,[[0,20]])}))}},{key:"trimPackageLength",value:function(e){return(null==e?void 0:e.length)?Math.round(e.length/2):0}},{key:"getSameCoverage",value:function(e,t){var a="coveragesListOne"===t?this.coveragesListOne:this.coveragesListTwo,n=a[e];return!!a.find(function(t,a){return t.id===n.id&&a>e&&t.id})}},{key:"viewMoreClick",value:function(e){var t,a,n,i=null===(t=this.availableServices[e])||void 0===t?void 0:t.coverages;this.setProductList=i,this.showCoverage=e;var r={dl_category:"read_more_insurance_details",dl_action:null===(a=this.availableServices[e])||void 0===a?void 0:a.productName,dl_label:null===(n=this.availableServices[e])||void 0===n?void 0:n.amount};this.utilityService.fireCustomEvent(r)}},{key:"setProductList",set:function(e){var t=JSON.parse(JSON.stringify(e));t.sort(function(e,t){return(null==e?void 0:e.isCovered)==(null==t?void 0:t.isCovered)?0:(null==e?void 0:e.isCovered)>(null==t?void 0:t.isCovered)?-1:1});var a=Math.ceil(t.length/2);this.coveragesListOne=t.splice(0,a),this.coveragesListTwo=t.splice(-a)}}]),a}(kt.a)).\u0275fac=function(e){return new(e||pc)},pc.\u0275cmp=u.Kb({type:pc,selectors:[["app-tmilist"]],outputs:{tmiProductSelected:"tmiProductSelected"},features:[u.Ab],decls:63,vars:37,consts:[[1,"row"],[1,"col"],[1,"fs-18","fs-sm-24","mb-20"],[1,"col-auto"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer",3,"click"],[1,"col-12"],[1,"list-group","mb-40"],[1,"list-group-item","bg-brand-footer","p-15","pl-60"],[1,"position-absolute","left-16","top-13","min-w-25","lh-25","bg-brand-green","rounded-circle","text-center","text-white"],[1,"c-brand-grey-para"],[1,"fs-18","mt-5"],["class","list-group-item bg-brand-footer p-15 pl-60",4,"ngIf"],[4,"ngIf"],[1,"card","p-15","px-md-30","py-md-20"],[1,"row","align-items-center"],[1,"col","fs-sm-18"],["mat-stroked-button","","class","btn py-3 btn-block min-w-110 btn-outline-brand-orange",3,"click",4,"ngIf"],["mat-stroked-button","","class","btn py-3 btn-block min-w-110 btn-brand-green-light",4,"ngIf"],["class","form-group mt-30",4,"ngIf"],[1,"border-danger","mt-20",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-times-circle","fs-24","position-absolute","left-15","top-18","mb-0"],["class","card p-15 px-md-30 py-md-20 mb-20",4,"ngFor","ngForOf","ngForTrackBy"],[1,"card","p-15","px-md-30","py-md-20","mb-20"],[1,"col-12","col-sm","pr-sm-0"],[1,"row","no-gutters","mb-10","align-items-end"],["class","col-auto pr-15",4,"ngIf"],["class","col fs-16 fs-sm-20 lh-20",4,"ngIf"],["class","c-brand-grey-para fs-15 mt-10",4,"ngIf"],[1,"clearfix","fs-15","mb-25"],["role","button",1,"c-brand-orange","text-decoration-underline",3,"click"],["class","position-relative bg-white pt-20 mt-n22",3,"show",4,"ngIf"],["class","col-12 col-sm-6 col-lg d-flex flex-column mb-15 mb-lg-0",4,"ngFor","ngForOf"],[1,"col-12","col-sm-auto","mt-20","mt-sm-0"],[1,"row","align-items-center","d-sm-inline-block","text-right"],[1,"col","col-sm-12","c-brand-green","text-right","mb-sm-13"],[1,"col-auto","col-sm-12"],[1,"col-auto","pr-15"],["alt","Noor Takaful Insurance",2,"width","70px",3,"src"],[1,"col","fs-16","fs-sm-20","lh-20"],[1,"c-brand-grey-para","fs-15","mt-10"],[3,"richData"],[1,"position-relative","bg-white","pt-20","mt-n22"],[1,"mb-5"],[1,"card","tmi-table","overflow-x-auto","mb-15"],[1,"row","no-gutters","fs-13"],["class","col-6 border-top brd-right mt-n1",3,"ngClass",4,"ngFor","ngForOf"],[1,"col-6","border-top","brd-right","mt-n1",3,"ngClass"],[1,"table","mt-n1","mb-0"],["width","40"],[1,"fs-18","lh-16","ff-900",3,"ngClass"],[1,"px-0"],["width","150",1,"text-right"],["width","100",1,"text-right"],[1,"col-12","col-sm-6","col-lg","d-flex","flex-column","mb-15","mb-lg-0"],[1,"fs-15","c-brand-grey-para","mb-4"],[1,"fs-15","mt-auto"],["mat-stroked-button","",1,"btn","py-3","btn-block","min-w-110","btn-outline-brand-orange",3,"click"],["mat-stroked-button","",1,"btn","py-3","btn-block","min-w-110","btn-brand-green-light"],[1,"form-group","mt-30"],[1,"pl-35"],[1,"mat-checkbox-brand","ml-n35",3,"ngModel","ngModelChange","change"],["class","fs-sm-18 text-wrap mr-5",4,"ngIf"],[1,"fs-sm-18","text-wrap","mr-5"]],template:function(e,t){1&e&&(u.Wb(0,"div",0),u.Wb(1,"div",1),u.Wb(2,"h2",2),u.Oc(3),u.mc(4,"translate"),u.Vb(),u.Vb(),u.Wb(5,"div",3),u.Wb(6,"a",4),u.hc("click",function(){return t.showTmiFormView()}),u.Oc(7),u.mc(8,"translate"),u.Vb(),u.Vb(),u.Wb(9,"div",5),u.Wb(10,"ul",6),u.Wb(11,"li",7),u.Wb(12,"div",8),u.Oc(13,"\u2713"),u.Vb(),u.Wb(14,"div",9),u.Oc(15),u.mc(16,"translate"),u.Vb(),u.Wb(17,"div",10),u.Oc(18),u.Vb(),u.Vb(),u.Wb(19,"li",7),u.Wb(20,"div",8),u.Oc(21,"\u2713"),u.Vb(),u.Wb(22,"div",9),u.Oc(23),u.mc(24,"translate"),u.Vb(),u.Wb(25,"div",10),u.Oc(26),u.Vb(),u.Vb(),u.Wb(27,"li",7),u.Wb(28,"div",8),u.Oc(29,"\u2713"),u.Vb(),u.Wb(30,"div",9),u.Oc(31),u.mc(32,"translate"),u.Vb(),u.Wb(33,"div",10),u.Oc(34),u.Vb(),u.Vb(),u.Wb(35,"li",7),u.Wb(36,"div",8),u.Oc(37,"\u2713"),u.Vb(),u.Wb(38,"div",9),u.Oc(39),u.mc(40,"translate"),u.Vb(),u.Wb(41,"div",10),u.Oc(42),u.Vb(),u.Vb(),u.Mc(43,ql,8,4,"li",11),u.Mc(44,Hl,8,4,"li",11),u.Mc(45,Kl,8,4,"li",11),u.Mc(46,zl,8,4,"li",11),u.Vb(),u.Vb(),u.Wb(47,"div",5),u.Wb(48,"h2",2),u.Oc(49),u.mc(50,"translate"),u.Vb(),u.Mc(51,$l,7,3,"ng-container",12),u.Mc(52,lc,2,2,"ng-container",12),u.Wb(53,"div",13),u.Wb(54,"div",14),u.Wb(55,"div",15),u.Oc(56),u.mc(57,"translate"),u.Vb(),u.Wb(58,"div",3),u.Wb(59,"div"),u.Mc(60,cc,3,3,"button",16),u.Mc(61,uc,2,0,"button",17),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Mc(62,mc,4,2,"div",18),u.Vb(),u.Vb()),2&e&&(u.Db(3),u.Pc(u.nc(4,21,null==t.tmiContentfulData?null:t.tmiContentfulData.plansListingPageSectionTitle1)),u.Db(4),u.Pc(u.nc(8,23,"reviewAndPayment.buttons.button1")),u.Db(8),u.Pc(u.nc(16,25,"travelMedicalInformation.headerLabel.label7")),u.Db(3),u.Pc(t.tmiApplicantsName),u.Db(5),u.Pc(u.nc(24,27,"travelMedicalInformation.headerLabel.label8")),u.Db(3),u.Pc(t.dateFormatStartDate+" - "+t.dateFormatEndDate),u.Db(5),u.Pc(u.nc(32,29,"travelMedicalInformation.headerLabel.label9")),u.Db(3),u.Pc(t.residentCountry),u.Db(5),u.Pc(u.nc(40,31,"travelMedicalInformation.headerLabel.label10")),u.Db(3),u.Pc(t.destinationCountry),u.Db(1),u.tc("ngIf",null==t.tmiDetails?null:t.tmiDetails.countryofentry),u.Db(1),u.tc("ngIf",null==t.tmiDetails?null:t.tmiDetails.coveragetype),u.Db(1),u.tc("ngIf",null==t.tmiDetails?null:t.tmiDetails.coveragelevel),u.Db(1),u.tc("ngIf",null==t.tmiDetails?null:t.tmiDetails.extremesports),u.Db(3),u.Pc(u.nc(50,33,null==t.tmiContentfulData?null:t.tmiContentfulData.plansListingPageSectionTitle2)),u.Db(2),u.tc("ngIf",t.productsNotAvailable),u.Db(1),u.tc("ngIf",(null==t.availableServices?null:t.availableServices.length)>0),u.Db(4),u.Pc(u.nc(57,35,"travelMedicalInformation.formLabel.label11")),u.Db(4),u.tc("ngIf",!t.optedOutTmi),u.Db(1),u.tc("ngIf",t.optedOutTmi),u.Db(1),u.tc("ngIf",(null==t.selectedSevices?null:t.selectedSevices.length)>0))},directives:[D.o,D.n,Oo,D.m,O.a,A.a,b.q,b.t],pipes:[I.d],encapsulation:2}),pc);function fc(e,t){1&e&&(u.Wb(0,"div",42),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message1")," "))}function vc(e,t){1&e&&(u.Wb(0,"div",42),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message3")," "))}function gc(e,t){1&e&&(u.Wb(0,"div",42),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message3")," "))}function hc(e,t){1&e&&(u.Wb(0,"div",42),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message8")," "))}function yc(e,t){if(1&e&&(u.Wb(0,"div",40),u.Mc(1,fc,3,3,"div",41),u.Mc(2,vc,3,3,"div",41),u.Mc(3,gc,3,3,"div",41),u.Mc(4,hc,3,3,"div",41),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",null==a.formGroup.controls.startdate||null==a.formGroup.controls.startdate.errors?null:a.formGroup.controls.startdate.errors.required),u.Db(1),u.tc("ngIf",null==a.formGroup.controls.startdate||null==a.formGroup.controls.startdate.errors?null:a.formGroup.controls.startdate.errors.formate),u.Db(1),u.tc("ngIf",null==a.formGroup.controls.startdate||null==a.formGroup.controls.startdate.errors?null:a.formGroup.controls.startdate.errors.validDate),u.Db(1),u.tc("ngIf",null==a.formGroup.controls.startdate||null==a.formGroup.controls.startdate.errors?null:a.formGroup.controls.startdate.errors.validStartandEnddates)}}function Sc(e,t){1&e&&(u.Wb(0,"div",42),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message2")," "))}function Cc(e,t){1&e&&(u.Wb(0,"div",42),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message4")," "))}function Dc(e,t){1&e&&(u.Wb(0,"div",42),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message3")," "))}function Ic(e,t){1&e&&(u.Wb(0,"div",42),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message8")," "))}function Vc(e,t){if(1&e&&(u.Wb(0,"div",40),u.Mc(1,Sc,3,3,"div",41),u.Mc(2,Cc,3,3,"div",41),u.Mc(3,Dc,3,3,"div",41),u.Mc(4,Ic,3,3,"div",41),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",null==a.formGroup.controls.enddate||null==a.formGroup.controls.enddate.errors?null:a.formGroup.controls.enddate.errors.required),u.Db(1),u.tc("ngIf",null==a.formGroup.controls.enddate||null==a.formGroup.controls.enddate.errors?null:a.formGroup.controls.enddate.errors.formate),u.Db(1),u.tc("ngIf",null==a.formGroup.controls.enddate||null==a.formGroup.controls.enddate.errors?null:a.formGroup.controls.enddate.errors.validDate),u.Db(1),u.tc("ngIf",null==a.formGroup.controls.enddate||null==a.formGroup.controls.enddate.errors?null:a.formGroup.controls.enddate.errors.validStartandEnddates)}}function kc(e,t){1&e&&(u.Wb(0,"div",42),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message10")," "))}function Ac(e,t){if(1&e&&(u.Wb(0,"div",40),u.Mc(1,kc,3,3,"div",41),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",null==a.formGroup.controls.countryofentry||null==a.formGroup.controls.countryofentry.errors?null:a.formGroup.controls.countryofentry.errors.required)}}function Oc(e,t){1&e&&(u.Wb(0,"div",42),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message10")," "))}function Tc(e,t){if(1&e&&(u.Wb(0,"div",40),u.Mc(1,Oc,3,3,"div",41),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",null==a.formGroup.controls.coveragetype||null==a.formGroup.controls.coveragetype.errors?null:a.formGroup.controls.coveragetype.errors.required)}}function Lc(e,t){1&e&&(u.Wb(0,"div",42),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message10")," "))}function wc(e,t){if(1&e&&(u.Wb(0,"div",40),u.Mc(1,Lc,3,3,"div",41),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",null==a.formGroup.controls.coveragelevel||null==a.formGroup.controls.coveragelevel.errors?null:a.formGroup.controls.coveragelevel.errors.required)}}function Nc(e,t){1&e&&(u.Wb(0,"div",42),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message10")," "))}function xc(e,t){if(1&e&&(u.Wb(0,"div",40),u.Mc(1,Nc,3,3,"div",41),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",null==a.formGroup.controls.extremesports||null==a.formGroup.controls.extremesports.errors?null:a.formGroup.controls.extremesports.errors.required)}}function Mc(e,t){1&e&&(u.Wb(0,"div",42),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message10")," "))}function Ec(e,t){if(1&e&&(u.Wb(0,"div",40),u.Mc(1,Mc,3,3,"div",41),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",null==a.formGroup.controls.insuredPerson||null==a.formGroup.controls.insuredPerson.errors?null:a.formGroup.controls.insuredPerson.errors.required)}}function Wc(e,t){1&e&&(u.Wb(0,"div",42),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message10")," "))}function Pc(e,t){if(1&e&&(u.Wb(0,"div",40),u.Mc(1,Wc,3,3,"div",41),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",null==a.formGroup.controls.mobileNo||null==a.formGroup.controls.mobileNo.errors?null:a.formGroup.controls.mobileNo.errors.required)}}function Fc(e,t){1&e&&(u.Wb(0,"div",42),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message10")," "))}function _c(e,t){if(1&e&&(u.Wb(0,"div",40),u.Mc(1,Fc,3,3,"div",41),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",null==a.formGroup.controls.addressline1||null==a.formGroup.controls.addressline1.errors?null:a.formGroup.controls.addressline1.errors.required)}}function Rc(e,t){1&e&&(u.Wb(0,"div",42),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message10")," "))}function Gc(e,t){if(1&e&&(u.Wb(0,"div",40),u.Mc(1,Rc,3,3,"div",41),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",null==a.formGroup.controls.addressline2||null==a.formGroup.controls.addressline2.errors?null:a.formGroup.controls.addressline2.errors.required)}}function Uc(e,t){1&e&&(u.Wb(0,"div",42),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message10")," "))}function Bc(e,t){if(1&e&&(u.Wb(0,"div",40),u.Mc(1,Uc,3,3,"div",41),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",null==a.formGroup.controls.state||null==a.formGroup.controls.state.errors?null:a.formGroup.controls.state.errors.required)}}function jc(e,t){1&e&&(u.Wb(0,"div",42),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message10")," "))}function Yc(e,t){if(1&e&&(u.Wb(0,"div",40),u.Mc(1,jc,3,3,"div",41),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",null==a.formGroup.controls.city||null==a.formGroup.controls.city.errors?null:a.formGroup.controls.city.errors.required)}}function Qc(e,t){1&e&&(u.Wb(0,"div",42),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message10")," "))}function qc(e,t){if(1&e&&(u.Wb(0,"div",40),u.Mc(1,Qc,3,3,"div",41),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",null==a.formGroup.controls.postCode||null==a.formGroup.controls.postCode.errors?null:a.formGroup.controls.postCode.errors.required)}}function Hc(e,t){1&e&&(u.Wb(0,"div",42),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message7")," "))}function Kc(e,t){if(1&e&&(u.Wb(0,"div",40),u.Mc(1,Hc,3,3,"div",41),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",!1===a.formGroup.value.agreeToTermsAndCondition)}}var zc,$c=function(e){return{"form-error":e}},Zc=((zc=function(e){s(a,e);var t=c(a);function a(){var e;return p(this,a),(e=t.call(this)).travelStartDate=[],e.isSubmit=!1,e}return f(a,[{key:"ngOnInit",value:function(){this.formGroup=this.initFormGroup()}},{key:"initFormGroup",value:function(){return new b.i({startdate:new b.f("",[b.x.required]),enddate:new b.f("",[b.x.required]),countryofentry:new b.f("",[b.x.required]),coveragetype:new b.f("",[b.x.required]),coveragelevel:new b.f("",[b.x.required]),extremesports:new b.f("",[b.x.required]),insuredPerson:new b.f("",[b.x.required]),mobileNo:new b.f("",[b.x.required]),addressline1:new b.f("",[b.x.required]),addressline2:new b.f("",[b.x.required]),state:new b.f("",[b.x.required]),city:new b.f("",[b.x.required]),postCode:new b.f("",[b.x.required]),agreeToTermsAndCondition:new b.f(!1,[b.x.required])})}},{key:"startDates",value:function(){var e=this.utilityService.momentInstance(this.utilityService.momentInstance().format("DD/MM/YYYY"),"DD/MM/YYYY"),t=this.utilityService.momentInstance(e,"DD/MM/YYYY").add(60,"days");this.travelStartDate.min={year:+e.format("YYYY"),month:+e.format("MM"),day:+e.format("DD")},this.travelStartDate.max={year:+t.format("YYYY"),month:+t.format("MM"),day:+t.format("DD")},this.formGroup.value.endate||(this.travelEndDate=Object.assign({},this.travelStartDate.min))}},{key:"changeEndDate",value:function(e){var t;if(!this.formGroup.value.endate){var a=this.utilityService.momentInstance(null===(t=this.utilityService)||void 0===t?void 0:t.convertJSONInDate(e),"DD/MM/YYYY").add(1,"days");this.travelEndDate={year:+a.format("YYYY"),month:+a.format("MM"),day:+a.format("DD")}}}},{key:"isDateFormatCheck",value:function(e){return this.utilityService.momentInstance(e,"DD/MM/YYYY").isValid()}},{key:"dateFormatConversion",value:function(e){return this.utilityService.momentInstance(e).format("YYYY-MM-DD")}},{key:"validateStartandEndDates",value:function(e,t){this.formGroup.controls.startdate.updateValueAndValidity(),this.formGroup.controls.enddate.updateValueAndValidity();var a=this.utilityService.momentInstance(this.utilityService.momentInstance().format("DD/MM/YYYY"),"DD/MM/YYYY"),n=this.utilityService.momentInstance(a,"YYYY-MM-DD").add(60,"days"),i=(n.format("YYYY"),n.format("MM"),n.format("DD"),this.dateFormatConversion(this.formGroup.value.startdate.year+"-"+this.formGroup.value.startdate.month+"-"+this.formGroup.value.startdate.day)),r=this.dateFormatConversion(this.formGroup.value.enddate.year+"-"+this.formGroup.value.enddate.month+"-"+this.formGroup.value.enddate.day),o=this.dateFormatConversion(e.year+"-"+e.month+"-"+e.day),s=this.isDateFormatCheck(e);s&&this.formGroup.controls[t].setErrors({formate:!0}),"startdate"!==t||s||this.utilityService.momentInstance(o).isSameOrAfter(a)||this.formGroup.controls[t].setErrors({validDate:!0}),this.formGroup.value.startdate&&("enddate"!==t||s||this.utilityService.momentInstance(o).isAfter(i)||this.formGroup.controls[t].setErrors({validStartandEnddates:!0})),this.formGroup.value.enddate&&("startdate"!==t||s||this.utilityService.momentInstance(o).isBefore(r)||this.formGroup.controls[t].setErrors({validStartandEnddates:!0}))}},{key:"getQuotes",value:function(){}}]),a}(S.a)).\u0275fac=function(e){return new(e||zc)},zc.\u0275cmp=u.Kb({type:zc,selectors:[["app-tmi-oab-list"]],features:[u.Ab],decls:167,vars:59,consts:[[1,"mt-30","mb-20"],[3,"formGroup","ngSubmit"],[1,"row","align-items-end","mt-20"],[1,"col-12","col-sm"],[3,"ngClass"],[1,"form-group"],[1,"asterisk"],["class","errorMessage",4,"ngIf"],[1,"datepicker-div","form-group"],["placeholder","DD/MM/YYYY","ngbDatepicker","","formControlName","startdate",1,"form-control","input-lg","mt-5",3,"minDate","change","ngModelChange"],["datePickerReference","ngbDatepicker"],[1,"input-group-addon",3,"click"],["placeholder","DD/MM/YYYY","ngbDatepicker","","formControlName","enddate",1,"form-control","input-lg","mt-5",3,"minDate","change","ngModelChange"],["datePickerReference1","ngbDatepicker"],[1,"col-12"],["appearance","outline",1,"mat-form-field-outline-brand"],["placeholder","Select","formControlName","countryofentry"],["value","Global"],["value","Schengen"],["placeholder","Select","formControlName","coveragetype"],["placeholder","Select","formControlName","coveragelevel"],["value","50000"],["value","100000"],["placeholder","Select","formControlName","extremesports"],["value","Yes"],["value","No"],["placeholder","","matInput","","type","tel","formControlName","insuredPerson"],[1,"my-20"],["placeholder","+7 (903) 123-45-67","matInput","","type","tel","formControlName","mobileNo"],["matInput","","type","text","formControlName","addressline1"],["matInput","","type","text","formControlName","addressline2"],["matInput","","type","text","formControlName","state"],["matInput","","type","text","formControlName","city"],["matInput","","type","text","formControlName","postCode"],[1,"col-12","mt-20"],[1,"form-group",3,"ngClass"],[1,"pl-35"],["formControlName","agreeToTermsAndCondition","type","checkbox",1,"mat-checkbox-brand","ml-n35"],[1,"fs-sm-18","text-wrap","mr-5"],["mat-stroked-button","",1,"btn","btn-block","mat-btn-lg","btn-brand-orange"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"]],template:function(e,t){if(1&e){var a=u.Xb();u.Wb(0,"h5",0),u.Oc(1,"Travel details"),u.Vb(),u.Wb(2,"form",1),u.hc("ngSubmit",function(){return t.getQuotes()}),u.Wb(3,"div",2),u.Wb(4,"div",3),u.Wb(5,"div",4),u.Wb(6,"div",5),u.Wb(7,"div"),u.Oc(8,"Start date"),u.Wb(9,"span",6),u.Oc(10,"*"),u.Vb(),u.Vb(),u.Mc(11,yc,5,4,"div",7),u.Wb(12,"div",8),u.Wb(13,"input",9,10),u.hc("change",function(){return t.validateStartandEndDates(t.formGroup.value.startdate,"startdate")})("ngModelChange",function(e){return t.changeEndDate(e),t.validateStartandEndDates(e,"startdate")}),u.Vb(),u.Wb(15,"div",11),u.hc("click",function(){return u.Fc(a),u.Bc(14).toggle()}),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(16,"div",3),u.Wb(17,"div",4),u.Wb(18,"div",5),u.Wb(19,"div"),u.Oc(20,"End date"),u.Wb(21,"span",6),u.Oc(22,"*"),u.Vb(),u.Vb(),u.Mc(23,Vc,5,4,"div",7),u.Wb(24,"div",8),u.Wb(25,"input",12,13),u.hc("change",function(){return t.validateStartandEndDates(t.formGroup.value.enddate,"enddate")})("ngModelChange",function(e){return t.validateStartandEndDates(e,"enddate")}),u.Vb(),u.Wb(27,"div",11),u.hc("click",function(){return u.Fc(a),u.Bc(26).toggle()}),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(28,"div",14),u.Wb(29,"div",4),u.Wb(30,"div",5),u.Wb(31,"div"),u.Oc(32,"First country of entry"),u.Wb(33,"span",6),u.Oc(34,"*"),u.Vb(),u.Vb(),u.Mc(35,Ac,2,1,"div",7),u.Wb(36,"mat-form-field",15),u.Wb(37,"mat-select",16),u.Wb(38,"mat-option",17),u.Oc(39,"Global"),u.Vb(),u.Wb(40,"mat-option",18),u.Oc(41,"Schengen"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(42,"div",14),u.Wb(43,"div",4),u.Wb(44,"div",5),u.Wb(45,"div"),u.Oc(46,"Coverage type"),u.Wb(47,"span",6),u.Oc(48,"*"),u.Vb(),u.Vb(),u.Mc(49,Tc,2,1,"div",7),u.Wb(50,"mat-form-field",15),u.Wb(51,"mat-select",19),u.Wb(52,"mat-option",17),u.Oc(53,"Global"),u.Vb(),u.Wb(54,"mat-option",18),u.Oc(55,"Schengen"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(56,"div",14),u.Wb(57,"div",4),u.Wb(58,"div",5),u.Wb(59,"div"),u.Oc(60,"Coverage level (Euro)"),u.Wb(61,"span",6),u.Oc(62,"*"),u.Vb(),u.Vb(),u.Mc(63,wc,2,1,"div",7),u.Wb(64,"mat-form-field",15),u.Wb(65,"mat-select",20),u.Wb(66,"mat-option",21),u.Oc(67,"50000"),u.Vb(),u.Wb(68,"mat-option",22),u.Oc(69,"100000"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(70,"div",14),u.Wb(71,"div",4),u.Wb(72,"div",5),u.Wb(73,"div"),u.Oc(74,"Do you want to add extreme sports?"),u.Wb(75,"span",6),u.Oc(76,"*"),u.Vb(),u.Vb(),u.Mc(77,xc,2,1,"div",7),u.Wb(78,"mat-form-field",15),u.Wb(79,"mat-select",23),u.Wb(80,"mat-option",24),u.Oc(81,"Yes"),u.Vb(),u.Wb(82,"mat-option",25),u.Oc(83,"No"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(84,"div",14),u.Wb(85,"div",4),u.Wb(86,"div",5),u.Wb(87,"div"),u.Oc(88,"Insured Person"),u.Wb(89,"span",6),u.Oc(90,"*"),u.Vb(),u.Vb(),u.Mc(91,Ec,2,1,"div",7),u.Wb(92,"mat-form-field",15),u.Rb(93,"input",26),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(94,"div",14),u.Rb(95,"hr",27),u.Vb(),u.Wb(96,"div",14),u.Wb(97,"div",4),u.Wb(98,"div",5),u.Wb(99,"div"),u.Oc(100,"Contact number"),u.Wb(101,"span",6),u.Oc(102,"*"),u.Vb(),u.Vb(),u.Mc(103,Pc,2,1,"div",7),u.Wb(104,"mat-form-field",15),u.Rb(105,"input",28),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(106,"div",14),u.Wb(107,"div",4),u.Wb(108,"div",5),u.Wb(109,"div"),u.Oc(110,"Address Line 1"),u.Wb(111,"span",6),u.Oc(112,"*"),u.Vb(),u.Vb(),u.Mc(113,_c,2,1,"div",7),u.Wb(114,"mat-form-field",15),u.Rb(115,"input",29),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(116,"div",14),u.Wb(117,"div",4),u.Wb(118,"div",5),u.Wb(119,"div"),u.Oc(120,"Address Line 2"),u.Wb(121,"span",6),u.Oc(122,"*"),u.Vb(),u.Vb(),u.Mc(123,Gc,2,1,"div",7),u.Wb(124,"mat-form-field",15),u.Rb(125,"input",30),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(126,"div",14),u.Wb(127,"div",4),u.Wb(128,"div",5),u.Wb(129,"div"),u.Oc(130,"State"),u.Wb(131,"span",6),u.Oc(132,"*"),u.Vb(),u.Vb(),u.Mc(133,Bc,2,1,"div",7),u.Wb(134,"mat-form-field",15),u.Rb(135,"input",31),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(136,"div",14),u.Wb(137,"div",4),u.Wb(138,"div",5),u.Wb(139,"div"),u.Oc(140,"City"),u.Wb(141,"span",6),u.Oc(142,"*"),u.Vb(),u.Vb(),u.Mc(143,Yc,2,1,"div",7),u.Wb(144,"mat-form-field",15),u.Rb(145,"input",32),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(146,"div",14),u.Wb(147,"div",4),u.Wb(148,"div",5),u.Wb(149,"div"),u.Oc(150,"Postcode"),u.Wb(151,"span",6),u.Oc(152,"*"),u.Vb(),u.Vb(),u.Mc(153,qc,2,1,"div",7),u.Wb(154,"mat-form-field",15),u.Rb(155,"input",33),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(156,"div",34),u.Wb(157,"div",35),u.Wb(158,"div",5),u.Mc(159,Kc,2,1,"div",7),u.Wb(160,"div",36),u.Wb(161,"mat-checkbox",37),u.Wb(162,"div",38),u.Oc(163,"I agree that my personal data may be shared with VFS' insurance partners. I have read and agree to the Terms and condition"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(164,"div",14),u.Wb(165,"button",39),u.Oc(166," Get quote "),u.Vb(),u.Vb(),u.Vb(),u.Vb()}2&e&&(u.Db(2),u.tc("formGroup",t.formGroup),u.Db(3),u.tc("ngClass",u.xc(31,$c,(null==t.formGroup.controls.startdate?null:t.formGroup.controls.startdate.touched)&&(null==t.formGroup.controls.startdate?null:t.formGroup.controls.startdate.errors))),u.Db(6),u.tc("ngIf",(null==t.formGroup.controls.startdate?null:t.formGroup.controls.startdate.touched)&&(null==t.formGroup.controls.startdate?null:t.formGroup.controls.startdate.errors)),u.Db(2),u.tc("minDate",t.travelStartDate.min),u.Db(4),u.tc("ngClass",u.xc(33,$c,(null==t.formGroup.controls.enddate?null:t.formGroup.controls.enddate.touched)&&(null==t.formGroup.controls.enddate?null:t.formGroup.controls.enddate.errors))),u.Db(6),u.tc("ngIf",(null==t.formGroup.controls.enddate?null:t.formGroup.controls.enddate.touched)&&(null==t.formGroup.controls.enddate?null:t.formGroup.controls.enddate.errors)),u.Db(2),u.tc("minDate",t.travelEndDate),u.Db(4),u.tc("ngClass",u.xc(35,$c,(null==t.formGroup.controls.countryofentry?null:t.formGroup.controls.countryofentry.touched)&&(null==t.formGroup.controls.countryofentry?null:t.formGroup.controls.countryofentry.errors))),u.Db(6),u.tc("ngIf",(null==t.formGroup.controls.countryofentry?null:t.formGroup.controls.countryofentry.touched)&&(null==t.formGroup.controls.countryofentry?null:t.formGroup.controls.countryofentry.errors)),u.Db(8),u.tc("ngClass",u.xc(37,$c,(null==t.formGroup.controls.coveragetype?null:t.formGroup.controls.coveragetype.touched)&&(null==t.formGroup.controls.coveragetype?null:t.formGroup.controls.coveragetype.errors))),u.Db(6),u.tc("ngIf",(null==t.formGroup.controls.coveragetype?null:t.formGroup.controls.coveragetype.touched)&&(null==t.formGroup.controls.coveragetype?null:t.formGroup.controls.coveragetype.errors)),u.Db(8),u.tc("ngClass",u.xc(39,$c,(null==t.formGroup.controls.coveragelevel?null:t.formGroup.controls.coveragelevel.touched)&&(null==t.formGroup.controls.coveragelevel?null:t.formGroup.controls.coveragelevel.errors))),u.Db(6),u.tc("ngIf",(null==t.formGroup.controls.coveragelevel?null:t.formGroup.controls.coveragelevel.touched)&&(null==t.formGroup.controls.coveragelevel?null:t.formGroup.controls.coveragelevel.errors)),u.Db(8),u.tc("ngClass",u.xc(41,$c,(null==t.formGroup.controls.extremesports?null:t.formGroup.controls.extremesports.touched)&&(null==t.formGroup.controls.extremesports?null:t.formGroup.controls.extremesports.errors))),u.Db(6),u.tc("ngIf",(null==t.formGroup.controls.extremesports?null:t.formGroup.controls.extremesports.touched)&&(null==t.formGroup.controls.extremesports?null:t.formGroup.controls.extremesports.errors)),u.Db(8),u.tc("ngClass",u.xc(43,$c,(null==t.formGroup.controls.insuredPerson?null:t.formGroup.controls.insuredPerson.touched)&&(null==t.formGroup.controls.insuredPerson?null:t.formGroup.controls.insuredPerson.errors))),u.Db(6),u.tc("ngIf",(null==t.formGroup.controls.insuredPerson?null:t.formGroup.controls.insuredPerson.touched)&&(null==t.formGroup.controls.insuredPerson?null:t.formGroup.controls.insuredPerson.errors)),u.Db(6),u.tc("ngClass",u.xc(45,$c,(null==t.formGroup.controls.mobileNo?null:t.formGroup.controls.mobileNo.touched)&&(null==t.formGroup.controls.mobileNo?null:t.formGroup.controls.mobileNo.errors))),u.Db(6),u.tc("ngIf",(null==t.formGroup.controls.mobileNo?null:t.formGroup.controls.mobileNo.touched)&&(null==t.formGroup.controls.mobileNo?null:t.formGroup.controls.mobileNo.errors)),u.Db(4),u.tc("ngClass",u.xc(47,$c,(null==t.formGroup.controls.addressline1?null:t.formGroup.controls.addressline1.touched)&&(null==t.formGroup.controls.addressline1?null:t.formGroup.controls.addressline1.errors))),u.Db(6),u.tc("ngIf",(null==t.formGroup.controls.addressline1?null:t.formGroup.controls.addressline1.touched)&&(null==t.formGroup.controls.addressline1?null:t.formGroup.controls.addressline1.errors)),u.Db(4),u.tc("ngClass",u.xc(49,$c,(null==t.formGroup.controls.addressline2?null:t.formGroup.controls.addressline2.touched)&&(null==t.formGroup.controls.addressline2?null:t.formGroup.controls.addressline2.errors))),u.Db(6),u.tc("ngIf",(null==t.formGroup.controls.addressline2?null:t.formGroup.controls.addressline2.touched)&&(null==t.formGroup.controls.addressline2?null:t.formGroup.controls.addressline2.errors)),u.Db(4),u.tc("ngClass",u.xc(51,$c,(null==t.formGroup.controls.state?null:t.formGroup.controls.state.touched)&&(null==t.formGroup.controls.state?null:t.formGroup.controls.state.errors))),u.Db(6),u.tc("ngIf",(null==t.formGroup.controls.state?null:t.formGroup.controls.state.touched)&&(null==t.formGroup.controls.state?null:t.formGroup.controls.state.errors)),u.Db(4),u.tc("ngClass",u.xc(53,$c,(null==t.formGroup.controls.city?null:t.formGroup.controls.city.touched)&&(null==t.formGroup.controls.city?null:t.formGroup.controls.city.errors))),u.Db(6),u.tc("ngIf",(null==t.formGroup.controls.city?null:t.formGroup.controls.city.touched)&&(null==t.formGroup.controls.city?null:t.formGroup.controls.city.errors)),u.Db(4),u.tc("ngClass",u.xc(55,$c,(null==t.formGroup.controls.postCode?null:t.formGroup.controls.postCode.touched)&&(null==t.formGroup.controls.postCode?null:t.formGroup.controls.postCode.errors))),u.Db(6),u.tc("ngIf",(null==t.formGroup.controls.postCode?null:t.formGroup.controls.postCode.touched)&&(null==t.formGroup.controls.postCode?null:t.formGroup.controls.postCode.errors)),u.Db(4),u.tc("ngClass",u.xc(57,$c,!1===t.formGroup.value.agreeToTermsAndCondition&&t.isSubmit)),u.Db(2),u.tc("ngIf",t.isSubmit))},directives:[b.y,b.r,b.j,D.m,D.o,Lt.d,b.d,b.q,b.h,V.b,wt.a,Et.j,k.b,A.a,O.a],pipes:[I.d],encapsulation:2}),zc);function Jc(e,t){1&e&&(u.Wb(0,"div",23),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message11")," "))}function Xc(e,t){1&e&&(u.Wb(0,"div",23),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message14")," "))}function eu(e,t){if(1&e&&(u.Wb(0,"div",21),u.Mc(1,Jc,3,3,"div",22),u.Mc(2,Xc,3,3,"div",22),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",null==a.applicantForm.controls.firstName||null==a.applicantForm.controls.firstName.errors?null:a.applicantForm.controls.firstName.errors.required),u.Db(1),u.tc("ngIf",null==a.applicantForm.controls.firstName||null==a.applicantForm.controls.firstName.errors?null:a.applicantForm.controls.firstName.errors.pattern)}}function tu(e,t){1&e&&(u.Wb(0,"div",23),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message12")," "))}function au(e,t){1&e&&(u.Wb(0,"div",23),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message14")," "))}function nu(e,t){if(1&e&&(u.Wb(0,"div",21),u.Mc(1,tu,3,3,"div",22),u.Mc(2,au,3,3,"div",22),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",null==a.applicantForm.controls.lastName||null==a.applicantForm.controls.lastName.errors?null:a.applicantForm.controls.lastName.errors.required),u.Db(1),u.tc("ngIf",null==a.applicantForm.controls.lastName||null==a.applicantForm.controls.lastName.errors?null:a.applicantForm.controls.lastName.errors.pattern)}}function iu(e,t){1&e&&(u.Wb(0,"div",23),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"travelMedicalInformation.messages.errorMessages.message13")," "))}function ru(e,t){if(1&e&&(u.Wb(0,"div",21),u.Mc(1,iu,3,3,"div",22),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",null==a.applicantForm.controls.dateOfBirth||null==a.applicantForm.controls.dateOfBirth.errors?null:a.applicantForm.controls.dateOfBirth.errors.required)}}function ou(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Wb(1,"h1"),u.Oc(2,"Insurance for obtaining"),u.Vb(),u.Wb(3,"p"),u.Oc(4,"Please provide information about the type of visa you wish to apply for. Be aware that the appointment category Applicant 1 chooses will be applied to each of the applicants added to your appointment booking."),u.Vb(),u.Wb(5,"h5",1),u.Oc(6),u.Vb(),u.Wb(7,"form",2),u.hc("ngSubmit",function(){return u.Fc(a),u.lc().submitApplicant()}),u.Wb(8,"div",3),u.Wb(9,"div",4),u.Wb(10,"div",5),u.Wb(11,"div"),u.Oc(12,"First name"),u.Wb(13,"span",6),u.Oc(14,"*"),u.Vb(),u.Vb(),u.Mc(15,eu,3,2,"div",7),u.Wb(16,"mat-form-field",8),u.Wb(17,"input",9),u.hc("input",function(){u.Fc(a);var e=u.lc();return e.applicantForm.controls.firstName.setValue(e.applicantForm.controls.firstName.value.toUpperCase())}),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(18,"div",4),u.Wb(19,"div",5),u.Wb(20,"div"),u.Oc(21,"Last name"),u.Wb(22,"span",6),u.Oc(23,"*"),u.Vb(),u.Vb(),u.Mc(24,nu,3,2,"div",7),u.Wb(25,"mat-form-field",8),u.Wb(26,"input",10),u.hc("input",function(){u.Fc(a);var e=u.lc();return e.applicantForm.controls.lastName.setValue(e.applicantForm.controls.lastName.value.toUpperCase())}),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(27,"div",11),u.Wb(28,"div",5),u.Wb(29,"div"),u.Oc(30,"Date of birth"),u.Wb(31,"span",6),u.Oc(32,"*"),u.Vb(),u.Vb(),u.Mc(33,ru,2,1,"div",7),u.Wb(34,"div",12),u.Rb(35,"input",13,14),u.mc(37,"translate"),u.Wb(38,"div",15),u.hc("click",function(){return u.Fc(a),u.Bc(36).toggle()}),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(39,"div",16),u.Wb(40,"div",5),u.Wb(41,"div",17),u.Wb(42,"mat-checkbox",18),u.hc("change",function(e){return u.Fc(a),u.lc().checkIsDisabled(e)}),u.Wb(43,"div",19),u.Oc(44,"I am the buyer"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(45,"div",11),u.Wb(46,"button",20),u.Oc(47),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Tb()}if(2&e){var n=u.lc();u.Db(6),u.Qc("Applicant ",n.applicationDetails.applicantList.length+1,""),u.Db(1),u.tc("formGroup",n.applicantForm),u.Db(8),u.tc("ngIf",(null==n.applicantForm.controls.firstName?null:n.applicantForm.controls.firstName.touched)&&(null==n.applicantForm.controls.firstName?null:n.applicantForm.controls.firstName.errors)),u.Db(9),u.tc("ngIf",(null==n.applicantForm.controls.lastName?null:n.applicantForm.controls.lastName.touched)&&(null==n.applicantForm.controls.lastName?null:n.applicantForm.controls.lastName.errors)),u.Db(9),u.tc("ngIf",(null==n.applicantForm.controls.dateOfBirth?null:n.applicantForm.controls.dateOfBirth.touched)&&(null==n.applicantForm.controls.dateOfBirth?null:n.applicantForm.controls.dateOfBirth.errors)),u.Db(2),u.uc("placeholder",u.nc(37,8,"travelMedicalInformation.placeholder.label1")),u.Db(11),u.tc("disabled",n.enableSubmitbutton()),u.Db(1),u.Qc(" ",0==n.isEditModeFlag?"Save and continue":"update and continue"," ")}}function su(e,t){if(1&e){var a=u.Xb();u.Wb(0,"i",35),u.hc("click",function(){u.Fc(a);var e=u.lc().index;return u.lc(2).removeApplicant(e)}),u.Vb()}}function lu(e,t){if(1&e){var a=u.Xb();u.Wb(0,"div",29),u.Wb(1,"div",30),u.Wb(2,"div",31),u.Oc(3),u.Vb(),u.Vb(),u.Wb(4,"div",32),u.Mc(5,su,1,0,"i",33),u.Wb(6,"i",34),u.hc("click",function(){u.Fc(a);var e=t.$implicit,n=t.index;return u.lc(2).editApplicant(e,n)}),u.Vb(),u.Vb(),u.Vb()}if(2&e){var n=t.$implicit,i=t.index;u.Db(3),u.Tc("",i+1," | ",n.firstName," ",n.lastName," | ",n.age,""),u.Db(2),u.tc("ngIf",i>0)}}function cu(e,t){1&e&&(u.Ub(0),u.Wb(1,"div",36),u.Wb(2,"div",37),u.Wb(3,"h2",38),u.Oc(4,"Quote summary"),u.Vb(),u.Vb(),u.Wb(5,"div",32),u.Wb(6,"span",39),u.Oc(7,"Edit"),u.Vb(),u.Vb(),u.Vb(),u.Wb(8,"div",40),u.Wb(9,"ul",41),u.Wb(10,"li",42),u.Wb(11,"div",43),u.Oc(12,"Applicant(s)"),u.Vb(),u.Wb(13,"div",44),u.Oc(14,"1 | Sagar Maspog | 36yrs"),u.Vb(),u.Vb(),u.Wb(15,"li",42),u.Wb(16,"div",43),u.Oc(17,"Travel dates"),u.Vb(),u.Wb(18,"div",44),u.Oc(19,"08/07/2022 - 16/07/2022"),u.Vb(),u.Vb(),u.Wb(20,"li",42),u.Wb(21,"div",43),u.Oc(22,"Coverage type"),u.Vb(),u.Wb(23,"div",44),u.Oc(24,"Global"),u.Vb(),u.Vb(),u.Wb(25,"li",42),u.Wb(26,"div",43),u.Oc(27,"Coverage level"),u.Vb(),u.Wb(28,"div",44),u.Oc(29,"50000"),u.Vb(),u.Vb(),u.Wb(30,"li",42),u.Wb(31,"div",43),u.Oc(32,"Do you want to add extreme sports?"),u.Vb(),u.Wb(33,"div",44),u.Oc(34,"Yes"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(35,"h2",45),u.Oc(36,"Choose your plan"),u.Vb(),u.Wb(37,"div",46),u.Wb(38,"table",47),u.Wb(39,"tr",48),u.Wb(40,"td",49),u.Oc(41,"Plan"),u.Vb(),u.Wb(42,"td",50),u.Oc(43,"Cost (INR)"),u.Vb(),u.Rb(44,"td",51),u.Vb(),u.Wb(45,"tr",52),u.Wb(46,"td",53),u.Wb(47,"div",54),u.Wb(48,"div",32),u.Rb(49,"div",55),u.Vb(),u.Wb(50,"div",56),u.Oc(51,"ICICI"),u.Vb(),u.Vb(),u.Wb(52,"div",57),u.Wb(53,"p",58),u.Oc(54,"Lorem ipsum is placeholder text commonly used in the graphic, print, and publishing industries for previewing layouts and visual mockups."),u.Vb(),u.Vb(),u.Wb(55,"div",59),u.Wb(56,"span",60),u.Oc(57,"Read more \u2192"),u.Vb(),u.Vb(),u.Vb(),u.Wb(58,"td",61),u.Wb(59,"div",62),u.Oc(60,"INR 5000.00"),u.Vb(),u.Wb(61,"button",63),u.Oc(62," Select "),u.Vb(),u.Vb(),u.Wb(63,"td",64),u.Wb(64,"button",65),u.Oc(65," Select "),u.Vb(),u.Vb(),u.Vb(),u.Wb(66,"tr",52),u.Wb(67,"td",53),u.Wb(68,"div",54),u.Wb(69,"div",32),u.Rb(70,"div",66),u.Vb(),u.Wb(71,"div",56),u.Oc(72,"Care"),u.Vb(),u.Vb(),u.Wb(73,"div",57),u.Wb(74,"p",58),u.Oc(75,"Lorem ipsum is placeholder text commonly used in the graphic, print, and publishing industries for previewing layouts and visual mockups."),u.Vb(),u.Vb(),u.Wb(76,"div",59),u.Wb(77,"span",60),u.Oc(78,"Read more \u2192"),u.Vb(),u.Vb(),u.Vb(),u.Wb(79,"td",61),u.Wb(80,"div",62),u.Oc(81,"INR 6500.00"),u.Vb(),u.Wb(82,"button",63),u.Oc(83," Select "),u.Vb(),u.Vb(),u.Wb(84,"td",64),u.Wb(85,"button",65),u.Oc(86," Select "),u.Vb(),u.Vb(),u.Vb(),u.Wb(87,"tr",52),u.Wb(88,"td",53),u.Wb(89,"div",54),u.Wb(90,"div",32),u.Rb(91,"div",67),u.Vb(),u.Wb(92,"div",56),u.Oc(93,"HDFC Ergo"),u.Vb(),u.Vb(),u.Wb(94,"div",57),u.Wb(95,"p",58),u.Oc(96,"Lorem ipsum is placeholder text commonly used in the graphic, print, and publishing industries for previewing layouts and visual mockups."),u.Vb(),u.Vb(),u.Wb(97,"div",59),u.Wb(98,"span",60),u.Oc(99,"Read more \u2192"),u.Vb(),u.Vb(),u.Vb(),u.Wb(100,"td",61),u.Wb(101,"div",62),u.Oc(102,"INR 7500.00"),u.Vb(),u.Wb(103,"button",63),u.Oc(104," Select "),u.Vb(),u.Vb(),u.Wb(105,"td",64),u.Wb(106,"button",65),u.Oc(107," Select "),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(108,"div",68),u.Wb(109,"div",69),u.Wb(110,"button",70),u.Oc(111," Go back "),u.Vb(),u.Vb(),u.Wb(112,"div",69),u.Wb(113,"button",71),u.Oc(114," Make payment "),u.Vb(),u.Vb(),u.Vb(),u.Tb())}function uu(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Wb(1,"div",24),u.Wb(2,"div",25),u.Oc(3,"Applicant(S)"),u.Vb(),u.Mc(4,lu,7,5,"div",26),u.Vb(),u.Wb(5,"div",27),u.Wb(6,"button",28),u.hc("click",function(){return u.Fc(a),u.lc().addAnotherApplicant()}),u.Oc(7," Add another applicant "),u.Vb(),u.Vb(),u.Rb(8,"app-tmi-oab-list"),u.Rb(9,"br"),u.Rb(10,"br"),u.Rb(11,"br"),u.Mc(12,cu,115,0,"ng-container",0),u.Tb()}if(2&e){var n=u.lc();u.Db(4),u.tc("ngForOf",n.applicantionList),u.Db(8),u.tc("ngIf",n.applicantsListFlag)}}var du,mu=((du=function(e){s(n,e);var t=c(n);function n(){var e;return p(this,n),(e=t.call(this)).applicantsListFlag=!1,e.initDate=[],e.isApplicantSelected=!1,e.addApplicantsFlag=!1,e.isEditModeFlag=!1,e.applicationDetails={},e}return f(n,[{key:"ngOnInit",value:function(){this.applicantForm=this.initForm(),this.applicationDetails=this.sessionService.applicationDetailValue,this.initDatepicker(),this.applicantList(this.sessionService.isTmiOabAddApplicant),this.applicantionList=this.applicationDetails.applicantList,this.calculateApplicantAge()}},{key:"initForm",value:function(){return new b.i({firstName:new b.f("",[b.x.pattern("^[a-zA-Z][a-zA-Z ]+$"),b.x.required]),lastName:new b.f("",[b.x.pattern("^[a-zA-Z][a-zA-Z ]+$"),b.x.required]),dateOfBirth:new b.f("",[b.x.required]),urn:new b.f(""),arn:new b.f(""),loginUser:new b.f(""),salutation:new b.f(""),gender:new b.f(0),contactNumber:new b.f(""),dialCode:new b.f(""),passportNumber:new b.f(""),passportExpirtyDate:new b.f(""),emailId:new b.f(""),nationalityCode:new b.f(""),stateCode:new b.f("0"),cityCode:new b.f("0"),isEndorsedChild:new b.f(!1),applicantType:new b.f(0),addressline1:new b.f(""),addressline2:new b.f(""),pincode:new b.f(""),referenceNumber:new b.f(""),applicantGroupId:new b.f(0),parentPassportNumber:new b.f(""),parentPassportExpiry:new b.f(""),dateOfDeparture:new b.f(""),ipAddress:new b.f("11.22.33.44"),state:new b.f(""),city:new b.f(""),age:new b.f("")})}},{key:"applicantF",get:function(){return this.applicantForm.controls}},{key:"initDatepicker",value:function(){var e=this.utilityService.momentInstance(this.utilityService.momentInstance().format("DD/MM/YYYY"),"DD/MM/YYYY");this.initDate.maxDOB={year:+e.format("YYYY"),month:+e.format("MM"),day:+e.format("DD")}}},{key:"submitApplicant",value:function(){try{this.applicantForm.invalid||(!1===this.isEditModeFlag?this.addApplicant():!0===this.isEditModeFlag&&this.updateApplicant())}catch(e){console.log(e)}}},{key:"addApplicant",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{this.applicantForm.invalid||(console.log(this.applicantForm.value),this.applicationDetails.applicantList.push(this.applicantForm.value),this.sessionService.applicationDetailValue=this.applicationDetails,this.applicantionList=this.applicationDetails.applicantList,this.calculateApplicantAge(),this.applicantList(!0))}catch(t){console.log(t)}case 1:case"end":return e.stop()}},e,this)}))}},{key:"updateApplicant",value:function(){console.log(this.applicantForm.value);try{!this.applicantForm.invalid&&this.isEditModeFlag&&(this.applicationDetails.applicantList[this.editApplicantNo]=this.applicantForm.value,this.applicantionList=this.applicationDetails.applicantList,this.calculateApplicantAge(),this.isEditModeFlag=!1,this.applicantList(!0))}catch(e){console.log(e)}}},{key:"checkIsDisabled",value:function(e){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.isApplicantSelected=e.checked;case 1:case"end":return t.stop()}},t,this)}))}},{key:"enableSubmitbutton",value:function(){return!this.isApplicantSelected||!this.applicantForm.valid}},{key:"applicantList",value:function(e){return this.sessionService.isTmiOabAddApplicant=e,this.addApplicantsFlag=e}},{key:"addAnotherApplicant",value:function(){this.applicantForm.reset(),this.isApplicantSelected=!this.isApplicantSelected,this.applicantList(!1)}},{key:"editApplicant",value:function(e,t){this.isEditModeFlag=!0,this.editApplicantNo=t,this.applicantForm.patchValue(e),this.isApplicantSelected=!this.isApplicantSelected,this.applicantList(!1)}},{key:"removeApplicant",value:function(e){this.applicationDetails.applicantList.splice(e,1),this.applicantionList=this.applicationDetails.applicantList,this.calculateApplicantAge(),console.log(this.applicantionList)}},{key:"calculateApplicantAge",value:function(){var e,t=a(this.applicantionList);try{for(t.s();!(e=t.n()).done;){var n=e.value,i=this.utilityService.momentInstance().format("DD/MM/YYYY"),r=this.utilityService.convertJSONInDate(n.dateOfBirth),o=this.utilityService.momentInstance(i,"DD/MM/YYYY").diff(this.utilityService.momentInstance(r,"DD/MM/YYYY"),"years");n.age=o}}catch(s){t.e(s)}finally{t.f()}}}]),n}(S.a)).\u0275fac=function(e){return new(e||du)},du.\u0275cmp=u.Kb({type:du,selectors:[["app-tmi-addapplicant"]],features:[u.Ab],decls:2,vars:2,consts:[[4,"ngIf"],[1,"mb-20"],[3,"formGroup","ngSubmit"],[1,"row","align-items-end","mt-20"],[1,"col-12","col-sm"],[1,"form-group"],[1,"asterisk"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["placeholder","First name","formControlName","firstName","matInput","","type","text","required","",2,"text-transform","uppercase",3,"input"],["placeholder","Last name","formControlName","lastName","matInput","","type","text","required","",2,"text-transform","uppercase",3,"input"],[1,"col-12"],[1,"datepicker-div","form-group"],["ngbDatepicker","","formControlName","dateOfBirth",1,"form-control","input-lg","mt-5",3,"placeholder"],["datePickerReference1","ngbDatepicker"],[1,"input-group-addon",3,"click"],[1,"col-12","my-20"],[1,"pl-35"],["type","checkbox",1,"mat-checkbox-brand","ml-n35",3,"change"],[1,"fs-sm-18","text-wrap","mr-5"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[1,"mx-n15","mx-md-n30","px-15","px-md-30"],[1,"c-brand-grey-para","mb-5"],["class","row no-gutters align-items-center border-bottom-1 py-15",4,"ngFor","ngForOf"],[1,"text-right","mt-20"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-brand-orange",3,"click"],[1,"row","no-gutters","align-items-center","border-bottom-1","py-15"],[1,"col","fs-18"],[1,"w-wrap-break"],[1,"col-auto"],["class","fa fa-trash-o c-brand-blue-light fs-25 cursor-pointer mx-25",3,"click",4,"ngIf"],[1,"fa","fa-edit","c-brand-blue-light","fs-24","cursor-pointer",3,"click"],[1,"fa","fa-trash-o","c-brand-blue-light","fs-25","cursor-pointer","mx-25",3,"click"],[1,"row","mb-20"],[1,"col"],[1,"fs-18","fs-sm-24","mb-0"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer"],[1,"card","border-bottom-2","mb-40"],[1,"list-group","list-group-flush"],[1,"list-group-item","px-md-25"],[1,"c-brand-grey-para"],[1,"fs-18","mt-8"],[1,"fs-18","fs-sm-24","mt-40","mb-20"],[1,"card"],[1,"w-100"],[1,"bg-brand-footer","c-brand-grey-para","border-bottom-1"],[1,"pl-15","py-15"],[1,"text-center","pr-15","pr-sm-0"],[1,"pr-15","d-none","d-sm-table-cell"],[1,"border-bottom-1"],[1,"align-top","py-25","pl-15"],[1,"row","align-items-center","mb-15"],[1,"insurance-logo",2,"background-image","url('https://is2-ssl.mzstatic.com/image/thumb/Purple123/v4/81/97/7d/81977da9-c7a2-59a8-290a-30a5c6728e52/source/256x256bb.jpg')"],[1,"col","ff-700","fs-sm-18","pl-0"],[1,"c-brand-grey-para","fs-16","text-box-ellipsis"],[1,"ng-star-inserted"],[1,"mb-3"],[1,"fs-sm-18","c-brand-orange","text-decoration-underline","cursor-pointer"],[1,"align-top","py-25","ff-500","position-relative"],[1,"mt-7","min-w-100","text-center","c-brand-green"],["mat-stroked-button","",1,"btn","btn-outline-brand-orange","d-sm-none","position-absolute","bottom-20",2,"transform","translateX(-50%)","left","50%"],[1,"align-top","py-25","pr-15","text-center","d-none","d-sm-table-cell"],["mat-stroked-button","",1,"btn","btn-outline-brand-orange"],[1,"insurance-logo",2,"background-image","url('https://upload.wikimedia.org/wikipedia/commons/9/90/Care_health_insurance_logo.png')"],[1,"insurance-logo",2,"background-image","url('https://thelivenagpur.com/wp-content/uploads/2021/10/HDFC-ERGO.jpg')"],[1,"row"],[1,"col-12","col-sm-6","mt-20"],["mat-stroked-button","",1,"btn","btn-block","mat-btn-lg","btn-outline-brand-orange"],["mat-stroked-button","",1,"btn","btn-block","mat-btn-lg","btn-brand-orange"]],template:function(e,t){1&e&&(u.Mc(0,ou,48,10,"ng-container",0),u.Mc(1,uu,13,2,"ng-container",0)),2&e&&(u.tc("ngIf",!t.addApplicantsFlag),u.Db(1),u.tc("ngIf",t.addApplicantsFlag&&t.applicationDetails.applicantList.length>0))},directives:[D.o,b.y,b.r,b.j,V.b,b.d,k.b,b.q,b.h,b.w,Lt.d,A.a,O.a,D.n,Zc],pipes:[I.d],encapsulation:2}),du),pu=["viewChangeAppointmentModal"];function bu(e,t){if(1&e&&(u.Wb(0,"h1",9),u.Oc(1),u.mc(2,"translate"),u.Vb(),u.Wb(3,"p",10),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Rb(6,"app-tmiform")),2&e){var a=u.lc(2);u.Db(1),u.Pc(u.nc(2,2,null==a.tmiContentfulData?null:a.tmiContentfulData.quoteFormPageTitle)),u.Db(3),u.Pc(u.nc(5,4,null==a.tmiContentfulData?null:a.tmiContentfulData.quoteFormPageSubTitle))}}function fu(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Wb(1,"h1",9),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Wb(4,"p",10),u.Oc(5),u.mc(6,"translate"),u.Vb(),u.Wb(7,"app-tmilist",11),u.hc("tmiProductSelected",function(e){return u.Fc(a),u.lc(2).tmiProductSelected(e)}),u.Vb(),u.Tb()}if(2&e){var n=u.lc(2);u.Db(2),u.Pc(u.nc(3,2,null==n.tmiContentfulData?null:n.tmiContentfulData.plansListingPagePageTitle)),u.Db(3),u.Pc(u.nc(6,4,null==n.tmiContentfulData?null:n.tmiContentfulData.plansListingPageSubTitle))}}function vu(e,t){if(1&e&&(u.Wb(0,"mat-card",6),u.Mc(1,bu,7,6,"ng-template",null,7,u.Nc),u.Mc(3,fu,8,6,"ng-container",8),u.Vb()),2&e){var a=u.Bc(2),n=u.lc();u.Db(3),u.tc("ngIf",n.tmiProductsView)("ngIfElse",a)}}function gu(e,t){if(1&e&&(u.Wb(0,"h1",9),u.Oc(1),u.mc(2,"translate"),u.Vb(),u.Wb(3,"p",10),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Rb(6,"app-tmi-addapplicant")),2&e){var a=u.lc(2);u.Db(1),u.Pc(u.nc(2,2,null==a.tmiContentfulData?null:a.tmiContentfulData.quoteFormPageTitle)),u.Db(3),u.Pc(u.nc(5,4,null==a.tmiContentfulData?null:a.tmiContentfulData.quoteFormPageSubTitle))}}function hu(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Wb(1,"h1",9),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Wb(4,"p",10),u.Oc(5),u.mc(6,"translate"),u.Vb(),u.Wb(7,"app-tmilist",11),u.hc("tmiProductSelected",function(e){return u.Fc(a),u.lc(2).tmiProductSelected(e)}),u.Vb(),u.Tb()}if(2&e){var n=u.lc(2);u.Db(2),u.Pc(u.nc(3,2,null==n.tmiContentfulData?null:n.tmiContentfulData.plansListingPagePageTitle)),u.Db(3),u.Pc(u.nc(6,4,null==n.tmiContentfulData?null:n.tmiContentfulData.plansListingPageSubTitle))}}function yu(e,t){if(1&e&&(u.Wb(0,"mat-card",6),u.Mc(1,gu,7,6,"ng-template",null,7,u.Nc),u.Mc(3,hu,8,6,"ng-container",8),u.Vb()),2&e){var a=u.Bc(2),n=u.lc();u.Db(3),u.tc("ngIf",n.tmiProductsView)("ngIfElse",a)}}function Su(e,t){1&e&&u.Sb(0)}function Cu(e,t){if(1&e){var a=u.Xb();u.Wb(0,"mat-card",12),u.Wb(1,"div",13),u.Wb(2,"div",14),u.Wb(3,"button",15),u.hc("click",function(){return u.Fc(a),u.lc().routePrevious()}),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Vb(),u.Wb(6,"div",14),u.Mc(7,Su,1,0,"ng-container",16),u.Vb(),u.Vb(),u.Vb()}if(2&e){var n=u.lc(),i=u.Bc(9),r=u.Bc(7);u.Db(4),u.Qc(" ",u.nc(5,2,"commonSections.buttons.button8")," "),u.Db(3),u.tc("ngTemplateOutlet",n.tmiProductsView&&!n.checkOptOutTmi?i:r)}}function Du(e,t){if(1&e&&(u.Wb(0,"div",17),u.Wb(1,"div",18),u.Wb(2,"button",19),u.Rb(3,"img",20),u.Vb(),u.Vb(),u.Wb(4,"h2",21),u.Rb(5,"i",22),u.Oc(6),u.mc(7,"translate"),u.Vb(),u.Rb(8,"hr",23),u.Wb(9,"p",24),u.Oc(10),u.mc(11,"translate"),u.Vb(),u.Wb(12,"div",13),u.Wb(13,"div",25),u.Wb(14,"button",26),u.Oc(15),u.mc(16,"translate"),u.Vb(),u.Vb(),u.Wb(17,"div",25),u.Wb(18,"button",27),u.Oc(19),u.mc(20,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&e){var a=u.lc();u.Db(3),u.vc("src","",a.getGlobalImagePath,"/close-btn.png",u.Hc),u.Db(3),u.Qc(" ",u.nc(7,5,"commonSections.headerLabel.label3")," "),u.Db(4),u.Qc(" ",u.nc(11,7,(null==a.tmiContentfulData?null:a.tmiContentfulData.popUpMessage)||"travelMedicalInformation.pageDetails.para7")," "),u.Db(5),u.Qc(" ",u.nc(16,9,"commonSections.buttons.button3")," "),u.Db(4),u.Qc(" ",u.nc(20,11,"commonSections.buttons.button4")," ")}}function Iu(e,t){if(1&e){var a=u.Xb();u.Wb(0,"button",28),u.hc("click",function(){return u.Fc(a),u.lc().routetoNextModule()}),u.Oc(1),u.mc(2,"translate"),u.Vb()}if(2&e){var n=u.lc();u.tc("disabled",n.checkIfDisabled),u.Db(1),u.Qc(" ",u.nc(2,2,"commonSections.buttons.button19")," ")}}function Vu(e,t){if(1&e){var a=u.Xb();u.Wb(0,"form",29),u.hc("ngSubmit",function(){return u.Fc(a),u.lc().routetoNextModule()}),u.Rb(1,"input",30),u.Rb(2,"input",31),u.Wb(3,"button",32),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Vb()}if(2&e){var n=u.lc();u.Eb("data-ot-cp-id",n.dataOtCpId),u.Db(1),u.tc("value",n.loggedInUser),u.Db(2),u.tc("disabled",n.checkIfDisabled),u.Db(1),u.Qc(" ",u.nc(5,4,"commonSections.buttons.button19")," ")}}var ku,Au=((ku=function(e){s(a,e);var t=c(a);function a(e){var n,i;return p(this,a),(n=t.call(this)).dialog=e,n.scope=d(n),n.dataOtCpId=y.a.oneTrustPortal.dataOtCpId,n.loggedInUser="",n.isTmiOabEnable=!1,n.tmiContentfulData=null===(i=n.sessionService)||void 0===i?void 0:i.tmiContentfulDetails,n.initBaseForm(h.c.modules.TRAVEL_MEDICAL_INSURANCE),n.loggedInUser=n.sessionService.getLoggedEmail(),n}return f(a,[{key:"ngOnInit",value:function(){this.utilityService.startNgxUiSpinner(),this.utilityService.fireCustomEvent({dl_category:"travel medical insurance",dl_action:"travel medical insurance pageview",dl_label:1,value:0}),this.sessionService.tmiProductView=!1,this.utilityService.stopNgxUiSpinner(),this.isTmiOabEnable=this.sessionService.isTmiOabEnable}},{key:"routePrevious",value:function(){this.commonService.removeTmiProductSelection(),o(m(a.prototype),"routePrevious",this).call(this)}},{key:"ngAfterViewInit",value:function(){this.utilityService.appendScriptForConsent()}},{key:"routetoNextModule",value:function(){var e,t=this,a=function(){var e,a,i={dl_category:"continue_travel_insurance",dl_action:(null===(e=n[0])||void 0===e?void 0:e.productName)||void 0,dl_label:(null===(a=n[0])||void 0===a?void 0:a.amount)||void 0};t.utilityService.fireCustomEvent(i),t.sessionService.completedModuleName=h.f.TRAVEL_MEDICAL_INSURANCE,t.sessionService.updateFees=!0,0!==n.length&&t.tmiProductsView||(t.uncheckAllApplicants(),t.deleteTMIDetails()),t.routeNext()},n=this.sessionService.tmiVas||[];if(this.tmiProductsView&&(!this.sessionService.optOutTmi||n.length>0||!this.sessionService.isTmiProductsAvailable))this.updateTMIProductSelection(),a();else{var i=null===(e=this.dialog)||void 0===e?void 0:e.open(this.changeAppointmentModal,{disableClose:!0,restoreFocus:!0});this.subs.sink=i.afterClosed().subscribe(function(e){"true"===e&&(t.sessionService.tmiVas=[],t.sessionService.optOutTmi=!1,t.sessionService.tmiProductConsent=!1,a(),t.commonService.removeTmiProductSelection(),t.mapTMIVas())})}}},{key:"updateTMIProductSelection",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){return Object(g.b)(t,void 0,void 0,regeneratorRuntime.mark(function t(){var a,n,i,r,o,s,l,c,u,d,m;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=[],s=this.sessionService.applicantService||[],l=null==s?void 0:s.filter(function(e){return"TMIPS"!=e.code}),c=this.sessionService.tmiVas||[],u=this.sessionService.applicationDetailValue.applicantList.filter(function(e){return!0===e.isTmiApplicant}),!(c.length>0)){t.next=9;break}return c.vasCode="TMIPS",c.vasId=(null===(a=this.sessionService)||void 0===a?void 0:a.tmiVasID)?parseInt(null===(n=this.sessionService)||void 0===n?void 0:n.tmiVasID):null,this.sessionService.tmiVas=c,d={id:1,name:"Travel Assistance with Insurance",code:"TMIPS",amount:null===(i=c[0])||void 0===i?void 0:i.amount,unit:u.length>0?u.length:0,price:null===(r=c[0])||void 0===r?void 0:r.amount,quantity:u.length>0?u.length:0},l.push(d),t.next=8,this.constructTmiApplicantList(c,u);case 8:o=t.sent;case 9:return this.sessionService.applicantService=l,t.next=12,this.mapTMIVas(o);case 12:m=t.sent,e(!!(null==m?void 0:m.urn));case 14:case"end":return t.stop()}},t,this)}))}));case 1:case"end":return e.stop()}},e)}))}},{key:"mapTMIVas",value:function(e){var t;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function a(){var n,i;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n=null===(t=this.sessionService.tmiVas[0])||void 0===t?void 0:t.amount,i={loginuser:this.sessionService.getLoggedEmail(),missioncode:this.sessionService.tenent,countrycode:this.sessionService.countryCode,urn:this.sessionService.urn,totalAmount:n||0,applicants:(null==e?void 0:e.length)>0?e:[]},a.next=4,this.httpService.payloadPost(h.c.api.mapTmiVas,i).toPromise().then(function(e){return e}).catch(function(e){return e});case 4:return a.abrupt("return",a.sent);case 7:a.prev=7,a.t0=a.catch(0),this.logger.error(a.t0);case 10:case"end":return a.stop()}},a,this,[[0,7]])}))}},{key:"uncheckAllApplicants",value:function(){var e,t=this.sessionService.applicationDetailValue;null===(e=t.applicantList)||void 0===e||e.forEach(function(e){return e.isTmiApplicant=!1}),this.sessionService.applicationDetailValue=t}},{key:"deleteTMIDetails",value:function(){this.sessionService.cleartmiDetails()}},{key:"constructTmiApplicantList",value:function(e,t){var a,n,i;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o,s,l;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:for(o=[],s=0;s<t.length;s++)l={arn:null===(a=t[s])||void 0===a?void 0:a.arn,vasId:null==e?void 0:e.vasId,vasCode:null==e?void 0:e.vasCode,productCode:null===(n=e[0])||void 0===n?void 0:n.productId,amount:s<1?null===(i=e[0])||void 0===i?void 0:i.amount:0},o.push(l);return r.abrupt("return",o);case 3:case"end":return r.stop()}},r)}))}},{key:"tmiProductsView",get:function(){var e;return null===(e=this.sessionService)||void 0===e?void 0:e.tmiProductView}},{key:"checkIfDisabled",get:function(){return this.tmiProductsView&&this.sessionService.isTmiProductsAvailable&&!(this.checkOptOutTmi||this.sessionService.tmiProductConsent)}},{key:"checkOptOutTmi",get:function(){var e;return null===(e=this.sessionService)||void 0===e?void 0:e.optOutTmi}},{key:"tmiProductSelected",value:function(e){e&&this.utilityService.appendScriptForConsent()}}]),a}(kt.a)).\u0275fac=function(e){return new(e||ku)(u.Qb(za.b))},ku.\u0275cmp=u.Kb({type:ku,selectors:[["app-travel-medical-insurance"]],viewQuery:function(e,t){var a;1&e&&u.Uc(pu,1),2&e&&u.Ac(a=u.ic())&&(t.changeAppointmentModal=a.first)},features:[u.Ab],decls:10,vars:3,consts:[[1,"container","py-15","py-md-30"],["class","form-card",4,"ngIf"],["class","form-card p-0 border-0 shadow-none mat-card",4,"ngIf"],["viewChangeAppointmentModal",""],["continueBtn",""],["submitBtn",""],[1,"form-card"],["tmiFormView",""],[4,"ngIf","ngIfElse"],[1,"fs-24","fs-sm-32","fs-md-42","mb-20"],[1,"c-brand-grey-para","mb-40"],[3,"tmiProductSelected"],[1,"form-card","p-0","border-0","shadow-none","mat-card"],[1,"row"],[1,"col-12","col-sm-6","mt-20"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange",3,"click"],[4,"ngTemplateOutlet"],[1,"mat-modal-delete-document"],[1,"position-absolute","top-10","right-10"],["matDialogClose","false",1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999"],["alt","","aria-label","Close",1,"cursor-pointer",3,"src"],[1,"fs-18","fs-sm-21","mb-10"],[1,"fa","fa-exclamation-triangle","mr-5"],[1,"my-20"],[1,"fs-sm-17","c-brand-grey-para","mb-30"],[1,"col-12","col-sm-6","col-sm"],["mat-stroked-button","","matDialogClose","false",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mb-10","mb-sm-0"],["mat-stroked-button","","matDialogClose","true",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","mb-10","mb-sm-0"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],["action","","method","post",1,"ot-form-consent",3,"ngSubmit"],["type","email","id","inputEmail","required","",1,"ot-form-control","d-none",3,"value"],["value","The personal details provided by all persons on this form may be shared with VFS' Insurance partners","checked","true","type","checkbox",1,"d-none"],["type","submit","id","trigger","mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled"]],template:function(e,t){1&e&&(u.Wb(0,"section",0),u.Mc(1,vu,4,2,"mat-card",1),u.Mc(2,yu,4,2,"mat-card",1),u.Mc(3,Cu,8,4,"mat-card",2),u.Vb(),u.Mc(4,Du,21,13,"ng-template",null,3,u.Nc),u.Mc(6,Iu,3,4,"ng-template",null,4,u.Nc),u.Mc(8,Vu,6,6,"ng-template",null,5,u.Nc)),2&e&&(u.Db(1),u.tc("ngIf",!t.isTmiOabEnable),u.Db(1),u.tc("ngIf",t.isTmiOabEnable),u.Db(1),u.tc("ngIf",!t.isTmiOabEnable))},directives:[D.o,C.a,Ql,bc,mu,O.a,D.t,za.d,b.y,b.r,b.s],pipes:[I.d],encapsulation:2}),ku),Ou=i("tk/3");function Tu(e,t){1&e&&(u.Wb(0,"div",19),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"updatecategory.messages.errorMessages.message1")," "))}function Lu(e,t){if(1&e&&(u.Wb(0,"div",17),u.Mc(1,Tu,3,3,"div",18),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.visaCategory||null==a.formGroup.controls.visaCategory.errors?null:a.formGroup.controls.visaCategory.errors.required)}}function wu(e,t){if(1&e&&(u.Wb(0,"mat-option",20),u.Oc(1),u.Vb()),2&e){var a=t.$implicit;u.tc("value",a.code),u.Db(1),u.Qc(" ",null==a?null:a.name," ")}}function Nu(e,t){1&e&&(u.Wb(0,"div",19),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"updatecategory.messages.errorMessages.message2")," "))}function xu(e,t){if(1&e&&(u.Wb(0,"div",17),u.Mc(1,Nu,3,3,"div",18),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.subVisaCategory||null==a.formGroup.controls.subVisaCategory.errors?null:a.formGroup.controls.subVisaCategory.errors.required)}}function Mu(e,t){if(1&e&&(u.Wb(0,"mat-option",20),u.Oc(1),u.Vb()),2&e){var a=t.$implicit;u.tc("value",a.code),u.Db(1),u.Qc(" ",null==a?null:a.name," ")}}var Eu,Wu=function(e){return{"form-error":e}},Pu=((Eu=function(e){s(a,e);var t=c(a);function a(e,n,i){var r;return p(this,a),(r=t.call(this)).fb=e,r.sessionService=n,r.http=i,r.visaTypes=[],r.visaCategories=[],r.applicationDetail={},r}return f(a,[{key:"ngOnInit",value:function(){this.applicationDetail=this.sessionService.applicationDetailValue,this.initFormGroup(),this.getCategories()}},{key:"initFormGroup",value:function(){this.formGroup=this.fb.group({visaCategory:["",b.x.required],subVisaCategory:["",b.x.required]})}},{key:"submitForm",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.applicationDetail,a={missionCode:t.missionCode,countryCode:t.countryCode,centerCode:t.centerCode,loginUser:t.loginUser,visaCategoryCode:this.formGroup.value.subVisaCategory,urn:this.sessionService.urn},e.next=5,this.httpService.payloadPost(h.c.api.updateApplicant,a).toPromise().then(function(e){return e}).catch(function(e){return e});case 5:1==(null==(n=e.sent)?void 0:n.IsUpdatedWaitlistVisa)&&this.commonService.routeToDashboard(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),this.logger.error(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}))}},{key:"getCategories",value:function(){var e;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.visaTypes=[],this.visaCategories=[],a=null===(e=this.applicationDetail)||void 0===e?void 0:e.centerCode,t.next=4,this.commonService.getVisaCategories(a);case 4:(n=t.sent)&&(this.visaTypes=n.filter(function(e){return!0===(null==e?void 0:e.iswaitlist)}));case 6:case"end":return t.stop()}},t,this)}))}},{key:"appointmentCatgoryChange",value:function(e){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a,n,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.visaCategories=[],a=this.applicationDetail.centerCode,n=e.value,t.next=5,this.commonService.getSubVisaCategories(a,n);case 5:(i=t.sent)&&(this.visaCategories=i.filter(function(e){return!0===(null==e?void 0:e.iswaitlist)}));case 7:case"end":return t.stop()}},t,this)}))}},{key:"disableButton",get:function(){return this.formGroup.invalid}}]),a}(kt.a)).\u0275fac=function(e){return new(e||Eu)(u.Qb(b.e),u.Qb(fe.a),u.Qb(Ou.c))},Eu.\u0275cmp=u.Kb({type:Eu,selectors:[["app-update-category"]],features:[u.Ab],decls:47,vars:51,consts:[[1,"container","py-15","py-md-30"],[1,"form-card"],[1,"c-brand-grey","mb-5"],[1,"fs-24","fs-sm-46","mb-25"],[1,"c-brand-grey-para","mb-30"],[3,"formGroup"],[1,"form-group",3,"ngClass"],[1,"c-brand-error"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["formControlName","visaCategory","appDefaultSelect","",3,"placeholder","options","valueKey","selectionChange"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["formControlName","subVisaCategory","appDefaultSelect","",3,"placeholder","options","valueKey"],[1,"border-info","mb-0",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0"],[1,"form-card","p-0","border-0","mt-20","shadow-none"],["type","button","mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[3,"value"]],template:function(e,t){1&e&&(u.Wb(0,"section",0),u.Wb(1,"form"),u.Wb(2,"mat-card",1),u.Wb(3,"p",2),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Wb(6,"h1",3),u.Oc(7),u.mc(8,"translate"),u.Vb(),u.Wb(9,"p",4),u.Oc(10),u.mc(11,"translate"),u.Vb(),u.Wb(12,"form",5),u.Wb(13,"div",6),u.Wb(14,"div"),u.Oc(15),u.mc(16,"translate"),u.Wb(17,"span",7),u.Oc(18,"*"),u.Vb(),u.Vb(),u.Mc(19,Lu,2,1,"div",8),u.Wb(20,"mat-form-field",9),u.Wb(21,"mat-select",10),u.hc("selectionChange",function(e){return t.appointmentCatgoryChange(e)}),u.mc(22,"translate"),u.Mc(23,wu,2,2,"mat-option",11),u.mc(24,"sortBy"),u.Vb(),u.Vb(),u.Vb(),u.Rb(25,"hr"),u.Wb(26,"div",6),u.Wb(27,"div"),u.Oc(28),u.mc(29,"translate"),u.Wb(30,"span",7),u.Oc(31,"*"),u.Vb(),u.Vb(),u.Mc(32,xu,2,1,"div",8),u.Wb(33,"mat-form-field",9),u.Wb(34,"mat-select",12),u.mc(35,"translate"),u.Mc(36,Mu,2,2,"mat-option",11),u.mc(37,"sortBy"),u.Vb(),u.Vb(),u.Vb(),u.Rb(38,"hr"),u.Wb(39,"div",13),u.Wb(40,"div",14),u.Oc(41),u.mc(42,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(43,"mat-card",15),u.Wb(44,"button",16),u.hc("click",function(){return t.submitForm()}),u.Oc(45),u.mc(46,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.Db(4),u.Pc(u.nc(5,23,"updatecategory.pageDetails.para1")),u.Db(3),u.Pc(u.nc(8,25,"updatecategory.headerLabel.label1")),u.Db(3),u.Pc(u.nc(11,27,"updatecategory.pageDetails.para2")),u.Db(2),u.tc("formGroup",t.formGroup),u.Db(1),u.tc("ngClass",u.xc(47,Wu,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.visaCategory?null:t.formGroup.controls.visaCategory.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.visaCategory?null:t.formGroup.controls.visaCategory.invalid))),u.Db(2),u.Pc(u.nc(16,29,"updatecategory.formLabel.label1")),u.Db(4),u.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.visaCategory?null:t.formGroup.controls.visaCategory.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.visaCategory?null:t.formGroup.controls.visaCategory.errors)),u.Db(2),u.uc("placeholder",u.nc(22,31,"updatecategory.placeholder.label1")),u.tc("options",t.visaTypes)("valueKey","code"),u.Db(2),u.tc("ngForOf",u.oc(24,33,t.visaTypes,"name"))("ngForTrackBy",t.trackByFn),u.Db(3),u.tc("ngClass",u.xc(49,Wu,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.subVisaCategory?null:t.formGroup.controls.subVisaCategory.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.subVisaCategory?null:t.formGroup.controls.subVisaCategory.invalid))),u.Db(2),u.Pc(u.nc(29,36,"updatecategory.formLabel.label2")),u.Db(4),u.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.subVisaCategory?null:t.formGroup.controls.subVisaCategory.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.subVisaCategory?null:t.formGroup.controls.subVisaCategory.errors)),u.Db(2),u.uc("placeholder",u.nc(35,38,"updatecategory.placeholder.label2")),u.tc("options",t.visaCategories)("valueKey","code"),u.Db(2),u.tc("ngForOf",u.oc(37,40,t.visaCategories,"name"))("ngForTrackBy",t.trackByFn),u.Db(5),u.Qc(" ",u.nc(42,43,"updatecategory.pageDetails.para3")," "),u.Db(3),u.tc("disabled",t.disableButton),u.Db(1),u.Qc(" ",u.nc(46,45,"commonSections.buttons.button36")," "))},directives:[b.y,b.r,b.s,C.a,b.j,D.m,D.o,V.b,wt.a,b.q,b.h,Nt,D.n,O.a,Et.j],pipes:[I.d,Wt.h],encapsulation:2}),Eu);function Fu(e,t){1&e&&(u.Wb(0,"div",18),u.Wb(1,"div",19),u.Rb(2,"i",20),u.Wb(3,"div"),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.Db(4),u.Pc(u.nc(5,1,"resendemailactivation.messages.successMessages.message1")))}function _u(e,t){if(1&e&&(u.Wb(0,"div",21),u.Wb(1,"div",22),u.Rb(2,"i",20),u.Wb(3,"div"),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Vb(),u.Vb()),2&e){var a=u.lc();u.Db(4),u.Pc(u.nc(5,1,a.errorMessage))}}var Ru=function(e,t){return{limit:e,activationTimeOut:t}};function Gu(e,t){if(1&e&&(u.Wb(0,"div",21),u.Wb(1,"div",22),u.Rb(2,"i",20),u.Wb(3,"div"),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Vb(),u.Vb()),2&e){var a=u.lc();u.Db(4),u.Pc(u.oc(5,1,"resendemailactivation.messages.errorMessages.message1",u.yc(4,Ru,a.errorDescription[0],a.errorDescription[1])))}}function Uu(e,t){1&e&&(u.Wb(0,"div",25),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"commonSections.messages.requiredMessages.message1")," "))}function Bu(e,t){1&e&&(u.Wb(0,"div",25),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"commonSections.messages.patternMessages.message1")," "))}function ju(e,t){if(1&e&&(u.Wb(0,"div",23),u.Mc(1,Uu,3,3,"div",24),u.Mc(2,Bu,3,3,"div",24),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",a.resendF.emailid.errors.required),u.Db(1),u.tc("ngIf",a.resendF.emailid.errors.pattern)}}var Yu,Qu=function(e){return{"form-error":e}},qu=((Yu=function(e){s(a,e);var t=c(a);function a(e,n){var i;return p(this,a),(i=t.call(this)).formBuilder=e,i.sessionService=n,i.message=!1,i.submitAttempt=!1,i.isErrorMessage=!1,i.errorMessage="",i.errorDescription=[],i}return f(a,[{key:"ngOnInit",value:function(){this.intitForgotForm()}},{key:"intitForgotForm",value:function(){this.resendEmailForm=this.formBuilder.group({emailid:["",[b.x.pattern(h.s.email_caps_allowed),b.x.required]],missioncode:[this.sessionService.tenent,b.x.required],countrycode:[this.sessionService.countryCode,b.x.required],url:["".concat(y.a.activateLink).concat(this.sessionService.countryCode,"/").concat(this.sessionService.appLanguageCode,"/").concat(this.sessionService.tenent,"/activateemail?q=")]})}},{key:"resendF",get:function(){var e;return null===(e=this.resendEmailForm)||void 0===e?void 0:e.controls}},{key:"routeToSignUp",value:function(){this.commonService.routeToOnBoarding()}},{key:"onSubmit",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.submitAttempt=!0,!this.resendEmailForm.invalid){e.next=3;break}return e.abrupt("return");case 3:return t=this.resendEmailForm.value,e.next=6,this.httpService.payloadWithoutTokenPost(h.c.api.resendEmailActivation,t).toPromise();case 6:(a=e.sent).error&&"1022"===a.error.code&&(this.errorDescription=a.error.description.split(","),this.isErrorMessage=!0,setTimeout(function(){n.isErrorMessage=!1},5e3)),a.error&&"1022"!==a.error.code?(this.errorMessage=this.commonService.translateValue("commonSections.messages.statusMessages."+a.error.code),setTimeout(function(){n.errorMessage=""},5e3)):"200"===a.code&&(this.message=!0,setTimeout(function(){n.message=!1},5e3)),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}},e,this,[[0,10]])}))}}]),a}(S.a)).\u0275fac=function(e){return new(e||Yu)(u.Qb(b.e),u.Qb(fe.a))},Yu.\u0275cmp=u.Kb({type:Yu,selectors:[["app-resend-email-activate"]],features:[u.Ab],decls:32,vars:26,consts:[[1,"container","py-15","py-md-30"],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-9","col-lg-7","col-xl-6"],[1,"form-card","px-md-50","py-md-40"],[1,"d-none","d-block"],[1,"fs-21","fs-sm-24","mb-10"],[1,"c-brand-grey-para","fs-sm-18","mb-25"],["class","border-info","style","border-left: 5px solid",4,"ngIf"],["class","border-danger","style","border-left: 5px solid",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],[1,"c-brand-error"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["matInput","","formControlName","emailid","type","text","autocomplete","off",3,"placeholder"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange"],[1,"fs-sm-18","mt-20"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer",3,"click"],[1,"border-info",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-check-circle-o","fs-24","position-absolute","left-15","top-18","mb-0"],[1,"border-danger",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-20","pl-50"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"]],template:function(e,t){1&e&&(u.Wb(0,"section",0),u.Wb(1,"div",1),u.Wb(2,"div",2),u.Wb(3,"mat-card",3),u.Wb(4,"div",4),u.Wb(5,"h1",5),u.Oc(6),u.mc(7,"translate"),u.Vb(),u.Wb(8,"p",6),u.Oc(9),u.mc(10,"translate"),u.Vb(),u.Mc(11,Fu,6,3,"div",7),u.Mc(12,_u,6,3,"div",8),u.Mc(13,Gu,6,7,"div",8),u.Wb(14,"form",9),u.hc("ngSubmit",function(){return t.onSubmit()}),u.Wb(15,"div",10),u.Wb(16,"div"),u.Oc(17),u.mc(18,"translate"),u.Wb(19,"span",11),u.Oc(20,"*"),u.Vb(),u.Vb(),u.Mc(21,ju,3,2,"div",12),u.Wb(22,"mat-form-field",13),u.Rb(23,"input",14),u.mc(24,"translate"),u.Vb(),u.Vb(),u.Wb(25,"button",15),u.Oc(26),u.mc(27,"translate"),u.Vb(),u.Wb(28,"div",16),u.Wb(29,"a",17),u.hc("click",function(){return t.routeToSignUp()}),u.Oc(30),u.mc(31,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.Db(6),u.Pc(u.nc(7,12,"resendemailactivation.headerLabel.label1")),u.Db(3),u.Pc(u.nc(10,14,"resendemailactivation.pageDetails.para1")),u.Db(2),u.tc("ngIf",t.message),u.Db(1),u.tc("ngIf",t.errorMessage),u.Db(1),u.tc("ngIf",t.isErrorMessage),u.Db(1),u.tc("formGroup",t.resendEmailForm),u.Db(1),u.tc("ngClass",u.xc(24,Qu,t.resendF.emailid.touched&&t.resendF.emailid.invalid)),u.Db(2),u.Pc(u.nc(18,16,"resendemailactivation.formLabel.label1")),u.Db(4),u.tc("ngIf",t.resendF.emailid.touched&&t.resendF.emailid.errors),u.Db(2),u.uc("placeholder",u.nc(24,18,"commonSections.formLabel.label2")),u.Db(3),u.Qc(" ",u.nc(27,20,"resendemailactivation.buttons.button1")," "),u.Db(4),u.Pc(u.nc(31,22,"resendemailactivation.buttons.button2")))},directives:[C.a,D.o,b.y,b.r,b.j,D.m,V.b,k.b,b.d,b.q,b.h,O.a],pipes:[I.d],encapsulation:2}),Yu);function Hu(e,t){if(1&e&&(u.Wb(0,"div",23),u.Oc(1),u.mc(2,"translate"),u.Rb(3,"countdown",24,25),u.Vb()),2&e){var a=u.lc();u.Db(1),u.Qc(" ",u.nc(2,2,"header.headerLabel.label17"),""),u.Db(2),u.tc("config",a.config)}}function Ku(e,t){1&e&&(u.Wb(0,"div",28),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"polandTurkey.messages.errorMessages.message1")," "))}function zu(e,t){if(1&e&&(u.Wb(0,"div",26),u.Mc(1,Ku,3,3,"div",27),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.selectedSubvisaCategory||null==a.formGroup.controls.selectedSubvisaCategory.errors?null:a.formGroup.controls.selectedSubvisaCategory.errors.required)}}function $u(e,t){if(1&e&&(u.Wb(0,"mat-option",29),u.Oc(1),u.Vb()),2&e){var a=t.$implicit;u.tc("value",a.code),u.Db(1),u.Qc(" ",null==a?null:a.name," ")}}function Zu(e,t){1&e&&(u.Wb(0,"div",28),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"polandTurkey.messages.errorMessages.message2")," "))}function Ju(e,t){if(1&e&&(u.Wb(0,"div",26),u.Mc(1,Zu,3,3,"div",27),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.visaCategoryCode||null==a.formGroup.controls.visaCategoryCode.errors?null:a.formGroup.controls.visaCategoryCode.errors.required)}}function Xu(e,t){if(1&e&&(u.Wb(0,"mat-option",29),u.Oc(1),u.Vb()),2&e){var a=t.$implicit;u.tc("value",a.code),u.Db(1),u.Qc(" ",null==a?null:a.name," ")}}function ed(e,t){if(1&e&&(u.Wb(0,"h6",30),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e){var a=u.lc();u.Db(1),u.Rc(" ",null==a.vacCenters?null:a.vacCenters.length," ",u.nc(2,2,"polandTurkey.formLabel.label4")," ")}}function td(e,t){1&e&&(u.Wb(0,"div",28),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"polandTurkey.messages.errorMessages.message3")," "))}function ad(e,t){if(1&e&&(u.Wb(0,"div",26),u.Mc(1,td,3,3,"div",27),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.centerCode||null==a.formGroup.controls.centerCode.errors?null:a.formGroup.controls.centerCode.errors.required)}}function nd(e,t){1&e&&(u.Wb(0,"div",28),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"polandTurkey.messages.errorMessages.message4")," "))}function id(e,t){if(1&e&&(u.Wb(0,"div",26),u.Mc(1,nd,3,3,"div",27),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",a.centersNotAvailable)}}function rd(e,t){if(1&e&&(u.Wb(0,"mat-option",29),u.Oc(1),u.Vb()),2&e){var a=t.$implicit;u.tc("value",a.isoCode),u.Db(1),u.Qc(" ",null==a?null:a.centerName," ")}}function od(e,t){1&e&&(u.Wb(0,"div",31),u.Wb(1,"div",32),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()),2&e&&(u.Db(2),u.Qc(" ",u.nc(3,1,"polandTurkey.formLabel.label5")," "))}function sd(e,t){if(1&e&&(u.Wb(0,"div",31),u.Wb(1,"div",32),u.Oc(2),u.mc(3,"translate"),u.mc(4,"date"),u.Vb(),u.Vb()),2&e){var a=u.lc();u.Db(2),u.Rc(" ",u.nc(3,2,"polandTurkey.formLabel.label6")," : ",u.nc(4,4,a.latestAvailableDate)," ")}}function ld(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"div",33),u.Wb(2,"div",34),u.Wb(3,"div",35),u.Wb(4,"div",36),u.Rb(5,"i",37),u.Vb(),u.Wb(6,"div",38),u.Oc(7),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Tb()),2&e){var a=u.lc();u.Db(7),u.Pc(a.errorDescription)}}var cd=function(e){return{serviceFees:e}};function ud(e,t){if(1&e&&(u.Wb(0,"div",31),u.Wb(1,"div",39),u.Rb(2,"i",40),u.Wb(3,"div"),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Vb(),u.Vb()),2&e){var a=u.lc();u.Db(4),u.Pc(u.oc(5,1,"polandTurkey.formLabel.label7",u.xc(4,cd,a.serviceFees)))}}var dd,md=function(e){return{"form-error":e}},pd=((dd=function(e){s(n,e);var t=c(n);function n(e,a,i){var r,o;return p(this,n),(r=t.call(this)).ngbCalendar=e,r.fb=a,r.httpService=i,r.environment=y.a,r.constants=h.c,r.initBaseForm(h.c.modules.ELIGIBILITY_CRITERIA),r.appointmentSlots=!1,r.centersNotAvailable=!1,r.visaTypes=[],r.visaCategories=[],r.vacCenters=[],r.latestAvailableDate=(null===(o=r.sessionService)||void 0===o?void 0:o.latestSlotAvailiable)||null,r.isServiceFees=!1,r.serviceFees=null,r}return f(n,[{key:"ngOnInit",value:function(){try{this.isPtFlow&&(this.timeLeft=String(600),this.start()),this.initFormGroup()}catch(e){this.logger.error(e)}}},{key:"isPtFlow",get:function(){var e,t;return this.utilityService.strictCompare(null===(e=this.sessionService.resourceGroupData)||void 0===e?void 0:e.isloginConcentRequired,"true")||this.utilityService.strictCompare(null===(t=this.sessionService.resourceGroupDataTemp)||void 0===t?void 0:t.isloginConcentRequired,"true")}},{key:"start",value:function(){this.config={leftTime:this.timeLeft,format:"mm:ss",demand:!1},this.commonService.autoLogout(600)}},{key:"initFormGroup",value:function(){var e;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.formGroup=this.fb.group({centerCode:[null,b.x.required],selectedSubvisaCategory:[null,b.x.required],visaCategoryCode:[null,b.x.required]}),!(a=null===(e=this.sessionService)||void 0===e?void 0:e.eligibilityDetails)){t.next=8;break}return t.next=5,this.loadVisaType();case 5:this.formGroup.patchValue(a),t.next=9;break;case 8:this.loadVisaType();case 9:case"end":return t.stop()}},t,this)}))}},{key:"loadVisaType",value:function(){var e;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.visaTypes=[],this.visaCategories=[],this.vacCenters=[],this.isServiceFees=!1,a={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,cultureCode:this.sessionService.appCultureCode},t.next=5,this.getValue(h.c.api.visaCategoryCodeWithoutCenter,a);case 5:return n=t.sent,t.abrupt("return",(n.length>0&&(null===(null===(e=n[0])||void 0===e?void 0:e.error)||null===(null==n?void 0:n.error))&&(this.visaTypes=n),!0));case 9:t.prev=9,t.t0=t.catch(0),this.logger.error(t.t0);case 12:case"end":return t.stop()}},t,this,[[0,9]])}))}},{key:"getValue",value:function(e,t){return this.httpService.slashParamsDoGet(e,t).toPromise()}},{key:"appointmentCatgoryChange",value:function(e){var t,a,n;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function i(){var r,o;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,e){i.next=3;break}return i.abrupt("return");case 3:return this.vacCenters=[],this.visaCategories=[],this.sessionService.eligibilityDetails||(null===(t=this.formGroup.get("visaCategoryCode"))||void 0===t||t.reset(),null===(a=this.formGroup.get("centerCode"))||void 0===a||a.reset()),this.isServiceFees=!1,this.appointmentSlots=!1,this.serviceFees=null,this.latestAvailableDate=null,r={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,visaCategoryCode:e,cultureCode:this.sessionService.appCultureCode},i.next=7,this.getValue(h.c.api.subVisacategoryWithoutCenter,r);case 7:return o=i.sent,i.abrupt("return",(o.length>0&&(null===(null===(n=o[0])||void 0===n?void 0:n.error)||null===(null==o?void 0:o.error))&&(this.visaCategories=o),!0));case 11:i.prev=11,i.t0=i.catch(0),this.logger.error(i.t0);case 14:case"end":return i.stop()}},i,this,[[0,11]])}))}},{key:"visaSubCategoryChange",value:function(e){var t,a;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,e){n.next=3;break}return n.abrupt("return");case 3:return this.vacCenters=[],this.isServiceFees=!1,this.appointmentSlots=!1,this.serviceFees=null,this.latestAvailableDate=null,i={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,visaCategoryCode:e,cultureCode:this.sessionService.appCultureCode},n.next=7,this.getValue(h.c.api.centerWithSlots,i);case 7:return r=n.sent,n.abrupt("return",(r.length>0&&(null===(null===(t=r[0])||void 0===t?void 0:t.error)||null===(null==r?void 0:r.error))?(this.centersNotAvailable=!1,this.vacCenters=r,this.sessionService.eligibilityDetails||null===(a=this.formGroup.get("centerCode"))||void 0===a||a.reset()):this.centersNotAvailable=!0,!0));case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0);case 14:case"end":return n.stop()}},n,this,[[0,11]])}))}},{key:"centerCodeChange",value:function(e){var t;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function a(){var n;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,e){a.next=3;break}return a.abrupt("return");case 3:return this.isServiceFees=!1,this.appointmentSlots=!1,this.serviceFees=null,this.latestAvailableDate=null,a.next=6,this.getServiceFees(e);case 6:if(n=a.sent){a.next=9;break}return a.abrupt("return");case 9:return a.next=11,this.checkSlotAvailability();case 11:this.sessionService.eligibilityDetails=null,(null==n?void 0:n.error)||1100==(null===(t=null==n?void 0:n.error)||void 0===t?void 0:t.code)?this.isServiceFees=!1:(this.fees=n,this.serviceFees=(null==n?void 0:n.currency)+" "+(null==n?void 0:n.amount),this.isServiceFees=!0),a.next=18;break;case 15:a.prev=15,a.t0=a.catch(0),console.log(a.t0);case 18:case"end":return a.stop()}},a,this,[[0,15]])}))}},{key:"checkSlotAvailability",value:function(){var e,t,a,n,i;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o,s,l,c,u=this;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,null===(e=this.formGroup.get("visaCategoryCode"))||void 0===e?void 0:e.value){r.next=3;break}return r.abrupt("return");case 3:return o=null===(t=this.formGroup.get("visaCategoryCode"))||void 0===t?void 0:t.value,this.appointmentSlots=!1,s={applicantsCount:1,slotType:2,days:y.a.slotDaysEnabled,centerCode:null===(a=this.formGroup.get("centerCode"))||void 0===a?void 0:a.value,visaCategoryCode:o||(null===(n=this.sessionService.eligibilityDetails)||void 0===n?void 0:n.visaCategoryCode),fromDate:this.commonService.formatDateDMY(this.utilityService.momentInstance().add(1,"days").format("YYYY-MM-DD")),toDate:this.commonService.formatDateDMY(this.utilityService.momentInstance().add(y.a.slotDaysEnabled+1,"days").format("YYYY-MM-DD"))},r.next=8,this.commonService.loadAppointmentSlots(s);case 8:(l=r.sent)&&l.length>0&&null===l[0].error?(this.appointmentSlots=!0,this.latestAvailableDate=(null===(i=l[0])||void 0===i?void 0:i.date)?this.utilityService.momentInstance(l[0].date,"MM/DD/YYYY").format("DD/MM/YYYY"):null,this.sessionService.latestSlotAvailiable=this.latestAvailableDate||"",this.latestAvailableDate&&(c=Tt()(this.latestAvailableDate,"DD/MM/YYYY"),this.latestAvailableDate=c.toDate())):(this.slotsNotAvailable=!0,setTimeout(function(){u.slotsNotAvailable=!1},5e3)),r.next=15;break;case 12:throw r.prev=12,r.t0=r.catch(0),new Error("".concat(h.d.INVALID_REGISTRATION_RESPONSE,": ").concat(r.t0));case 15:case"end":return r.stop()}},r,this,[[0,12]])}))}},{key:"getServiceFees",value:function(e){var t,a;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i,r,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i=null===(t=this.formGroup.get("visaCategoryCode"))||void 0===t?void 0:t.value,r=this.sessionService.applicationDetailValue,o={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:e,loginUser:this.sessionService.getLoggedEmail(),subVisaCategoryCode:i||(null===(a=this.sessionService.eligibilityDetails)||void 0===a?void 0:a.visaCategoryCode),urn:null,nationalityCode:r.applicantList[0].nationalityCode,applicantCount:1},n.next=4,this.httpService.payloadPost(h.c.api.serviceFeeswithoutUrn,o).toPromise();case 4:return n.abrupt("return",n.sent);case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}},n,this,[[0,7]])}))}},{key:"updateUrnAndArn",value:function(e,t){try{var n=Object.assign({},e);if(!t.hasOwnProperty("applicantList"))throw new Error("error: invalid_data_passed");var i,r=0,o=a(t.applicantList);try{for(o.s();!(i=o.n()).done;){var s=i.value,l=n.applicantList;l.length>1&&(l[r].arn=s.arn,l[r].urn=t.urn,this.sessionService.urn=t.urn,r++),1===l.length&&(l[0].arn=s.arn,l[0].urn=t.urn,this.sessionService.urn=t.urn)}}catch(c){o.e(c)}finally{o.f()}return n}catch(u){throw u}}},{key:"initApplicationDetails",value:function(){return{feeExemptionDetailsCode:null,feeEntryTypeCode:null,feeExemptionTypeCode:null,countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,centerCode:"",loginUser:this.sessionService.getLoggedEmail()||"",visaCategoryCode:"",isEdit:!1,applicantList:[],languageCode:this.sessionService.appCultureCode}}},{key:"getApplicationDetails",value:function(e){for(var t=this.initApplicationDetails(),a=0,n=Object.keys(e);a<n.length;a++){var i=n[a];t.hasOwnProperty(i)&&(t[i]=e[i])}return t}},{key:"updateApplicationDetailsToSession",value:function(e){this.sessionService.applicationDetailValue=e}},{key:"submitForm",value:function(){var e,t,a,n,i;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o,s,l,c,u,d,m=this;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,o=this.sessionService.applicationDetailValue,this.sessionService.centerCode=this.formGroup.value.centerCode,this.sessionService.visaSubCategory=this.formGroup.value.selectedSubvisaCategory,this.sessionService.setCurrApplicantVisaType(this.formGroup.value.visaCategoryCode),(s=this.getApplicationDetails(this.formGroup.value)).applicantList=null==o?void 0:o.applicantList,this.sessionService.eligibilityDetails=this.formGroup.value,(null===(e=null==(l=s)?void 0:l.applicantList[0])||void 0===e?void 0:e.urn)&&(l.isEdit=!0),this.sessionService.applicationDetailValue=l,r.next=9,this.httpService.payloadPost(h.c.api.applicant,l).toPromise();case 9:null===(null==(c=r.sent)?void 0:c.error)?(this.sessionService.setCurrencyCode=(null===(t=this.fees)||void 0===t?void 0:t.currency)||null,this.isServiceFees&&this.updateFeeAmount(Number(null===(a=this.fees)||void 0===a?void 0:a.amount)),u=this.updateUrnAndArn(l,c),this.updateApplicationDetailsToSession(u),this.routeNext()):c.hasOwnProperty("error")&&(null===(n=c.error)||void 0===n?void 0:n.code)&&(d=c.error.description,1037===(null===(i=c.error)||void 0===i?void 0:i.code)&&(this.subs.sink=this.translateService.get("applicantInformation.messages.infoMessages.message2").subscribe(function(e){return d=e})),this.errorDescription=d,setTimeout(function(){m.errorDescription=null},5e3)),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),console.log(r.t0);case 16:case"end":return r.stop()}},r,this,[[0,13]])}))}},{key:"updateFeeAmount",value:function(e){this.utilityService.updateTotalFees(e),this.sessionService.feeAmount=e}},{key:"disableButton",get:function(){return this.formGroup.invalid}}]),n}(kt.a)).\u0275fac=function(e){return new(e||dd)(u.Qb(Lt.b),u.Qb(b.e),u.Qb(be.a))},dd.\u0275cmp=u.Kb({type:dd,selectors:[["app-application-details"]],features:[u.Ab],decls:70,vars:72,consts:[[1,"container","py-15","py-md-30"],["class","form-card timer-css text-right border-0 mb-5",4,"ngIf"],[1,"form-card"],[1,"c-brand-grey","mb-5"],[1,"fs-24","fs-sm-46","mb-25"],[1,"c-brand-grey-para","mb-30"],[3,"formGroup"],[1,"form-group",3,"ngClass"],[1,"c-brand-error"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["formControlName","selectedSubvisaCategory",3,"placeholder","ngModelChange"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["formControlName","visaCategoryCode",3,"placeholder","ngModelChange"],[1,"mt-15"],["class","d-inline pull-right text-right",4,"ngIf"],["formControlName","centerCode",3,"placeholder","ngModelChange"],["class","border-info mb-0","style","border-left: 5px solid",4,"ngIf"],[4,"ngIf"],[1,"text-wrap","mr-5"],[1,"mb-0","font-weight-bold"],[1,"form-card","p-0","border-0","mt-20","shadow-none"],["type","button","mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],[1,"form-card","timer-css","text-right","border-0","mb-5"],[3,"config"],["cd",""],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[3,"value"],[1,"d-inline","pull-right","text-right"],[1,"border-info","mb-0",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0"],[1,"alert-danger",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-20"],[1,"row","no-gutters","align-items-center"],[1,"col-auto","ml-n5","pr-15"],[1,"fa","fa-times-circle","fs-24","mb-0"],[1,"col"],[1,"alert","alert-info","border-0","pl-50","rounded-0"],[1,"fa","fa-check-circle-o","fs-24","left-15","position-absolute","top-18"]],template:function(e,t){1&e&&(u.Wb(0,"section",0),u.Mc(1,Hu,5,4,"div",1),u.Wb(2,"form"),u.Wb(3,"mat-card",2),u.Wb(4,"p",3),u.Oc(5),u.mc(6,"translate"),u.Vb(),u.Wb(7,"h1",4),u.Oc(8),u.mc(9,"translate"),u.Vb(),u.Wb(10,"p",5),u.Oc(11),u.mc(12,"translate"),u.Vb(),u.Wb(13,"form",6),u.Wb(14,"div",7),u.Wb(15,"div"),u.Oc(16),u.mc(17,"translate"),u.Wb(18,"span",8),u.Oc(19,"*"),u.Vb(),u.Vb(),u.Mc(20,zu,2,1,"div",9),u.Wb(21,"mat-form-field",10),u.Wb(22,"mat-select",11),u.hc("ngModelChange",function(e){return t.appointmentCatgoryChange(e)}),u.mc(23,"translate"),u.Mc(24,$u,2,2,"mat-option",12),u.mc(25,"sortBy"),u.Vb(),u.Vb(),u.Vb(),u.Rb(26,"hr"),u.Wb(27,"div",7),u.Wb(28,"div"),u.Oc(29),u.mc(30,"translate"),u.Wb(31,"span",8),u.Oc(32,"*"),u.Vb(),u.Vb(),u.Mc(33,Ju,2,1,"div",9),u.Wb(34,"mat-form-field",10),u.Wb(35,"mat-select",13),u.hc("ngModelChange",function(e){return t.visaSubCategoryChange(e)}),u.mc(36,"translate"),u.Mc(37,Xu,2,2,"mat-option",12),u.mc(38,"sortBy"),u.Vb(),u.Vb(),u.Vb(),u.Rb(39,"hr"),u.Wb(40,"div",7),u.Wb(41,"div",14),u.Oc(42),u.mc(43,"translate"),u.Wb(44,"span",8),u.Oc(45,"*"),u.Vb(),u.Mc(46,ed,3,4,"h6",15),u.Vb(),u.Mc(47,ad,2,1,"div",9),u.Mc(48,id,2,1,"div",9),u.Wb(49,"mat-form-field",10),u.Wb(50,"mat-select",16),u.hc("ngModelChange",function(e){return t.centerCodeChange(e)}),u.mc(51,"translate"),u.Mc(52,rd,2,2,"mat-option",12),u.mc(53,"sortBy"),u.Vb(),u.Vb(),u.Vb(),u.Rb(54,"hr"),u.Mc(55,od,4,3,"div",17),u.Mc(56,sd,5,6,"div",17),u.Mc(57,ld,8,1,"ng-container",18),u.Mc(58,ud,6,6,"div",17),u.Wb(59,"div",19),u.Wb(60,"p",20),u.Oc(61),u.mc(62,"translate"),u.Vb(),u.Wb(63,"p"),u.Oc(64),u.mc(65,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(66,"mat-card",21),u.Wb(67,"button",22),u.hc("click",function(){return t.submitForm()}),u.Oc(68),u.mc(69,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.Db(1),u.tc("ngIf",t.isPtFlow),u.Db(4),u.Pc(u.nc(6,33,"polandTurkey.pageDetails.para1")),u.Db(3),u.Pc(u.nc(9,35,"polandTurkey.headerLabel.label1")),u.Db(3),u.Pc(u.nc(12,37,"polandTurkey.pageDetails.para2")),u.Db(2),u.tc("formGroup",t.formGroup),u.Db(1),u.tc("ngClass",u.xc(66,md,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.selectedSubvisaCategory?null:t.formGroup.controls.selectedSubvisaCategory.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.selectedSubvisaCategory?null:t.formGroup.controls.selectedSubvisaCategory.invalid))),u.Db(2),u.Pc(u.nc(17,39,"polandTurkey.formLabel.label1")),u.Db(4),u.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.selectedSubvisaCategory?null:t.formGroup.controls.selectedSubvisaCategory.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.selectedSubvisaCategory?null:t.formGroup.controls.selectedSubvisaCategory.errors)),u.Db(2),u.uc("placeholder",u.nc(23,41,"polandTurkey.placeholder.label1")),u.Db(2),u.tc("ngForOf",u.oc(25,43,t.visaTypes,"name"))("ngForTrackBy",t.trackByFn),u.Db(3),u.tc("ngClass",u.xc(68,md,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.visaCategoryCode?null:t.formGroup.controls.visaCategoryCode.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.visaCategoryCode?null:t.formGroup.controls.visaCategoryCode.invalid))),u.Db(2),u.Pc(u.nc(30,46,"polandTurkey.formLabel.label2")),u.Db(4),u.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.visaCategoryCode?null:t.formGroup.controls.visaCategoryCode.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.visaCategoryCode?null:t.formGroup.controls.visaCategoryCode.errors)),u.Db(2),u.uc("placeholder",u.nc(36,48,"polandTurkey.placeholder.label2")),u.Db(2),u.tc("ngForOf",u.oc(38,50,t.visaCategories,"name"))("ngForTrackBy",t.trackByFn),u.Db(3),u.tc("ngClass",u.xc(70,md,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.centerCode?null:t.formGroup.controls.centerCode.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.centerCode?null:t.formGroup.controls.centerCode.invalid)||t.centersNotAvailable)),u.Db(2),u.Qc(" ",u.nc(43,53,"polandTurkey.formLabel.label3"),""),u.Db(4),u.tc("ngIf",null==t.vacCenters?null:t.vacCenters.length),u.Db(1),u.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.centerCode?null:t.formGroup.controls.centerCode.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.centerCode?null:t.formGroup.controls.centerCode.errors)&&!t.centersNotAvailable),u.Db(1),u.tc("ngIf",t.centersNotAvailable),u.Db(2),u.uc("placeholder",u.nc(51,55,"polandTurkey.placeholder.label3")),u.Db(2),u.tc("ngForOf",u.oc(53,57,t.vacCenters,"centerName"))("ngForTrackBy",t.trackByFn),u.Db(3),u.tc("ngIf",t.slotsNotAvailable),u.Db(1),u.tc("ngIf",(null==t.formGroup?null:t.formGroup.valid)&&t.appointmentSlots&&t.latestAvailableDate),u.Db(1),u.tc("ngIf",t.errorDescription),u.Db(1),u.tc("ngIf",(null==t.formGroup?null:t.formGroup.valid)&&t.isServiceFees),u.Db(3),u.Pc(u.nc(62,60,"polandTurkey.pageDetails.para3")),u.Db(3),u.Qc(" ",u.nc(65,62,"polandTurkey.pageDetails.para4")," "),u.Db(3),u.tc("disabled",t.disableButton),u.Db(1),u.Qc(" ",u.nc(69,64,"commonSections.buttons.button19")," "))},directives:[D.o,b.y,b.r,b.s,C.a,b.j,D.m,V.b,wt.a,b.q,b.h,D.n,O.a,mi.a,Et.j],pipes:[I.d,Wt.h,D.e],encapsulation:2}),dd),bd=["captchaContainer"];function fd(e,t){1&e&&(u.Wb(0,"div",35),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"courierAddressDetails.messages.errorMessages.message1")," "))}function vd(e,t){1&e&&(u.Wb(0,"div",35),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"courierAddressDetails.messages.errorMessages.message2")," "))}function gd(e,t){1&e&&(u.Wb(0,"div",35),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"courierAddressDetails.messages.errorMessages.message12")," "))}function hd(e,t){if(1&e&&(u.Wb(0,"div",33),u.Mc(1,fd,3,3,"div",34),u.Mc(2,vd,3,3,"div",34),u.Mc(3,gd,3,3,"div",34),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.address1||null==a.formGroup.controls.address1.errors?null:a.formGroup.controls.address1.errors.required),u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.address1?null:a.formGroup.controls.address1.hasError("maxlength")),u.Db(1),u.tc("ngIf",(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.address1?null:a.formGroup.controls.address1.hasError("pattern"))&&!(null!=a.formGroup&&null!=a.formGroup.controls&&null!=a.formGroup.controls.address1&&a.formGroup.controls.address1.hasError("maxlength")))}}function yd(e,t){1&e&&(u.Wb(0,"div",35),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"courierAddressDetails.messages.errorMessages.message3")," "))}function Sd(e,t){1&e&&(u.Wb(0,"div",35),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"courierAddressDetails.messages.errorMessages.message12")," "))}function Cd(e,t){if(1&e&&(u.Wb(0,"div",33),u.Mc(1,yd,3,3,"div",34),u.Mc(2,Sd,3,3,"div",34),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.address2?null:a.formGroup.controls.address2.hasError("maxlength")),u.Db(1),u.tc("ngIf",(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.address2?null:a.formGroup.controls.address2.hasError("pattern"))&&!(null!=a.formGroup&&null!=a.formGroup.controls&&null!=a.formGroup.controls.address2&&a.formGroup.controls.address2.hasError("maxlength")))}}function Dd(e,t){1&e&&(u.Wb(0,"div",35),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"courierAddressDetails.messages.errorMessages.message4")," "))}function Id(e,t){1&e&&(u.Wb(0,"div",35),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"courierAddressDetails.messages.errorMessages.message5")," "))}function Vd(e,t){1&e&&(u.Wb(0,"div",35),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"courierAddressDetails.messages.errorMessages.message6")," "))}function kd(e,t){if(1&e&&(u.Wb(0,"div",33),u.Mc(1,Dd,3,3,"div",34),u.Mc(2,Id,3,3,"div",34),u.Mc(3,Vd,3,3,"div",34),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.city||null==a.formGroup.controls.city.errors?null:a.formGroup.controls.city.errors.required),u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.city?null:a.formGroup.controls.city.hasError("maxlength")),u.Db(1),u.tc("ngIf",(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.city?null:a.formGroup.controls.city.hasError("pattern"))&&!(null!=a.formGroup&&null!=a.formGroup.controls&&null!=a.formGroup.controls.city&&a.formGroup.controls.city.hasError("maxlength")))}}function Ad(e,t){1&e&&(u.Wb(0,"div",35),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"courierAddressDetails.messages.errorMessages.message7")," "))}function Od(e,t){1&e&&(u.Wb(0,"div",35),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"courierAddressDetails.messages.errorMessages.message8")," "))}function Td(e,t){1&e&&(u.Wb(0,"div",35),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"courierAddressDetails.messages.errorMessages.message9")," "))}function Ld(e,t){if(1&e&&(u.Wb(0,"div",33),u.Mc(1,Ad,3,3,"div",34),u.Mc(2,Od,3,3,"div",34),u.Mc(3,Td,3,3,"div",34),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.state||null==a.formGroup.controls.state.errors?null:a.formGroup.controls.state.errors.required),u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.state?null:a.formGroup.controls.state.hasError("maxlength")),u.Db(1),u.tc("ngIf",(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.state?null:a.formGroup.controls.state.hasError("pattern"))&&!(null!=a.formGroup&&null!=a.formGroup.controls&&null!=a.formGroup.controls.state&&a.formGroup.controls.state.hasError("maxlength")))}}function wd(e,t){1&e&&(u.Wb(0,"div",35),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"courierAddressDetails.messages.errorMessages.message18")," "))}function Nd(e,t){1&e&&(u.Wb(0,"div",35),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"courierAddressDetails.messages.errorMessages.message16")," "))}function xd(e,t){1&e&&(u.Wb(0,"div",35),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"courierAddressDetails.messages.errorMessages.message17")," "))}function Md(e,t){if(1&e&&(u.Wb(0,"div",33),u.Mc(1,wd,3,3,"div",34),u.Mc(2,Nd,3,3,"div",34),u.Mc(3,xd,3,3,"div",34),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.country||null==a.formGroup.controls.country.errors?null:a.formGroup.controls.country.errors.required),u.Db(1),u.tc("ngIf",(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.country?null:a.formGroup.controls.country.hasError("pattern"))&&!(null!=a.formGroup&&null!=a.formGroup.controls&&null!=a.formGroup.controls.country&&a.formGroup.controls.country.hasError("maxlength"))),u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.country?null:a.formGroup.controls.country.hasError("maxlength"))}}function Ed(e,t){1&e&&(u.Wb(0,"div",35),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"courierAddressDetails.messages.errorMessages.message15")," "))}function Wd(e,t){1&e&&(u.Wb(0,"div",35),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"courierAddressDetails.messages.errorMessages.message10")," "))}function Pd(e,t){1&e&&(u.Wb(0,"div",35),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"courierAddressDetails.messages.errorMessages.message11")," "))}function Fd(e,t){if(1&e&&(u.Wb(0,"div",33),u.Mc(1,Ed,3,3,"div",34),u.Mc(2,Wd,3,3,"div",34),u.Mc(3,Pd,3,3,"div",34),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.postalCode||null==a.formGroup.controls.postalCode.errors?null:a.formGroup.controls.postalCode.errors.required),u.Db(1),u.tc("ngIf",(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.postalCode?null:a.formGroup.controls.postalCode.hasError("pattern"))&&!(null!=a.formGroup&&null!=a.formGroup.controls&&null!=a.formGroup.controls.postalCode&&a.formGroup.controls.postalCode.hasError("maxlength"))),u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.postalCode?null:a.formGroup.controls.postalCode.hasError("maxlength"))}}function _d(e,t){1&e&&(u.Wb(0,"div",39),u.Wb(1,"div",35),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()),2&e&&(u.Db(2),u.Qc(" ",u.nc(3,1,"commonSections.messages.requiredMessages.message1")," "))}function Rd(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Wb(1,"app-captcha-container",36,37),u.hc("v2CaptchaSet",function(e){return u.Fc(a),u.lc(2).submitV2Captcha(e)}),u.Vb(),u.Mc(3,_d,4,3,"div",38),u.Tb()}if(2&e){var n=u.lc(2);u.Db(1),u.tc("action",n.constants.captcha_action.COURIER)("captchaType",n.currentCaptcha),u.Db(2),u.tc("ngIf",n.currentCaptcha!==n.captchaVersionConst.default&&(null==n.formGroup.controls.captcha_api_key||null==n.formGroup.controls.captcha_api_key.errors?null:n.formGroup.controls.captcha_api_key.errors.required))}}var Gd=function(e){return{"form-error":e}};function Ud(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"div",15),u.Wb(2,"div",16),u.Wb(3,"div",17),u.Mc(4,hd,4,3,"div",18),u.Wb(5,"div"),u.Oc(6),u.mc(7,"translate"),u.Wb(8,"span",19),u.Oc(9,"* "),u.Rb(10,"span",20),u.mc(11,"translate"),u.Vb(),u.Wb(12,"mat-form-field",21),u.Rb(13,"input",22),u.mc(14,"translate"),u.mc(15,"translate"),u.mc(16,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(17,"div",16),u.Wb(18,"div",23),u.Mc(19,Cd,3,2,"div",18),u.Wb(20,"div"),u.Oc(21),u.mc(22,"translate"),u.Wb(23,"mat-form-field",21),u.Rb(24,"input",24),u.mc(25,"translate"),u.mc(26,"translate"),u.mc(27,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Ub(28),u.Wb(29,"div",16),u.Wb(30,"div",25),u.Mc(31,kd,4,3,"div",18),u.Wb(32,"div"),u.Oc(33),u.mc(34,"translate"),u.Wb(35,"span",19),u.Oc(36,"* "),u.Rb(37,"span",20),u.mc(38,"translate"),u.Vb(),u.Wb(39,"mat-form-field",21),u.Rb(40,"input",26),u.mc(41,"translate"),u.mc(42,"translate"),u.mc(43,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(44,"div",16),u.Wb(45,"div",27),u.Mc(46,Ld,4,3,"div",18),u.Wb(47,"div"),u.Oc(48),u.mc(49,"translate"),u.Wb(50,"span",19),u.Oc(51,"* "),u.Rb(52,"span",20),u.mc(53,"translate"),u.Vb(),u.Wb(54,"mat-form-field",21),u.Rb(55,"input",28),u.mc(56,"translate"),u.mc(57,"translate"),u.mc(58,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(59,"div",16),u.Wb(60,"div",29),u.Mc(61,Md,4,3,"div",18),u.Wb(62,"div"),u.Oc(63),u.mc(64,"translate"),u.Wb(65,"span",19),u.Oc(66,"* "),u.Rb(67,"span",20),u.mc(68,"translate"),u.Vb(),u.Wb(69,"mat-form-field",21),u.Rb(70,"input",30),u.mc(71,"translate"),u.mc(72,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(73,"div",16),u.Wb(74,"div",31),u.Mc(75,Fd,4,3,"div",18),u.Wb(76,"div"),u.Oc(77),u.mc(78,"translate"),u.Wb(79,"span",19),u.Oc(80,"* "),u.Rb(81,"span",20),u.mc(82,"translate"),u.Vb(),u.Wb(83,"mat-form-field",21),u.Rb(84,"input",32),u.mc(85,"translate"),u.mc(86,"translate"),u.mc(87,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Tb(),u.Mc(88,Rd,4,3,"ng-container",8),u.Vb(),u.Tb()),2&e){var a=u.lc();u.Db(3),u.tc("ngClass",u.xc(97,Gd,(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.address1?null:a.formGroup.controls.address1.touched)&&(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.address1?null:a.formGroup.controls.address1.invalid))),u.Db(1),u.tc("ngIf",(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.address1?null:a.formGroup.controls.address1.touched)&&(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.address1?null:a.formGroup.controls.address1.errors)),u.Db(2),u.Qc(" ",u.nc(7,41,"courierAddressDetails.formLabel.label1")," "),u.Db(4),u.Eb("aria-label",u.nc(11,43,"commonSections.formLabel.label7")),u.Db(3),u.vc("placeholder"," ",u.nc(14,45,"courierAddressDetails.formLabel.label1"),""),u.uc("matTooltip",u.nc(15,47,"courierAddressDetails.formLabel.label1")),u.Eb("aria-label",u.nc(16,49,"courierAddressDetails.formLabel.label1")),u.Db(5),u.tc("ngClass",u.xc(99,Gd,(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.address2?null:a.formGroup.controls.address2.touched)&&(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.address2?null:a.formGroup.controls.address2.invalid))),u.Db(1),u.tc("ngIf",(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.address2?null:a.formGroup.controls.address2.touched)&&(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.address2?null:a.formGroup.controls.address2.errors)),u.Db(2),u.Qc(" ",u.nc(22,51,"courierAddressDetails.formLabel.label2")," "),u.Db(3),u.vc("placeholder"," ",u.nc(25,53,"courierAddressDetails.formLabel.label2"),""),u.uc("matTooltip",u.nc(26,55,"courierAddressDetails.formLabel.label2")),u.Eb("aria-label",u.nc(27,57,"courierAddressDetails.formLabel.label2")),u.Db(6),u.tc("ngClass",u.xc(101,Gd,(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.city?null:a.formGroup.controls.city.touched)&&(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.city?null:a.formGroup.controls.city.invalid))),u.Db(1),u.tc("ngIf",(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.city?null:a.formGroup.controls.city.touched)&&(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.city?null:a.formGroup.controls.city.errors)),u.Db(2),u.Qc(" ",u.nc(34,59,"courierAddressDetails.formLabel.label3")," "),u.Db(4),u.Eb("aria-label",u.nc(38,61,"commonSections.formLabel.label7")),u.Db(3),u.vc("placeholder"," ",u.nc(41,63,"courierAddressDetails.formLabel.label3"),""),u.uc("matTooltip",u.nc(42,65,"courierAddressDetails.formLabel.label3")),u.Eb("aria-label",u.nc(43,67,"courierAddressDetails.formLabel.label3")),u.Db(5),u.tc("ngClass",u.xc(103,Gd,(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.state?null:a.formGroup.controls.state.touched)&&(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.state?null:a.formGroup.controls.state.invalid))),u.Db(1),u.tc("ngIf",(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.state?null:a.formGroup.controls.state.touched)&&(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.state?null:a.formGroup.controls.state.errors)),u.Db(2),u.Qc(" ",u.nc(49,69,"courierAddressDetails.formLabel.label4")," "),u.Db(4),u.Eb("aria-label",u.nc(53,71,"commonSections.formLabel.label7")),u.Db(3),u.vc("placeholder"," ",u.nc(56,73,"courierAddressDetails.formLabel.label4"),""),u.uc("matTooltip",u.nc(57,75,"courierAddressDetails.formLabel.label4")),u.Eb("aria-label",u.nc(58,77,"courierAddressDetails.formLabel.label4")),u.Db(5),u.tc("ngClass",u.xc(105,Gd,(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.country?null:a.formGroup.controls.country.touched)&&(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.country?null:a.formGroup.controls.country.invalid))),u.Db(1),u.tc("ngIf",(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.country?null:a.formGroup.controls.country.touched)&&(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.country?null:a.formGroup.controls.country.errors)),u.Db(2),u.Qc(" ",u.nc(64,79,"courierAddressDetails.formLabel.label5")," "),u.Db(4),u.Eb("aria-label",u.nc(68,81,"commonSections.formLabel.label7")),u.Db(3),u.vc("placeholder"," ",u.nc(71,83,"courierAddressDetails.formLabel.label5"),""),u.Eb("aria-label",u.nc(72,85,"courierAddressDetails.formLabel.label5")),u.Db(4),u.tc("ngClass",u.xc(107,Gd,(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.postalCode?null:a.formGroup.controls.postalCode.touched)&&(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.postalCode?null:a.formGroup.controls.postalCode.invalid))),u.Db(1),u.tc("ngIf",(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.postalCode?null:a.formGroup.controls.postalCode.touched)&&(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.postalCode?null:a.formGroup.controls.postalCode.errors)),u.Db(2),u.Qc(" ",u.nc(78,87,"courierAddressDetails.formLabel.label6")," "),u.Db(4),u.Eb("aria-label",u.nc(82,89,"commonSections.formLabel.label7")),u.Db(3),u.vc("placeholder"," ",u.nc(85,91,"courierAddressDetails.formLabel.label6"),""),u.uc("matTooltip",u.nc(86,93,"courierAddressDetails.formLabel.label6")),u.Eb("aria-label",u.nc(87,95,"courierAddressDetails.formLabel.label6")),u.Db(4),u.tc("ngIf",a.allowedCaptcha)}}var Bd,jd=((Bd=function(e){s(a,e);var t=c(a);function a(e){var n;return p(this,a),(n=t.call(this)).el=e,n.formGroup=new b.i({}),n.constants=h.c,n.allowedCaptcha=!1,n}return f(a,[{key:"ngOnInit",value:function(){this.currentCaptcha=this.captchaVersionConst.default;var e={dl_category:"Courier Address",dl_action:"Courier Address Page View",dl_label:this.utilityService.countrynameByIso(this.sessionService.countryCode||""),value:void 0};this.utilityService.fireCustomEvent(e),this.initModule(),this.checkCaptchaAllowed()}},{key:"initModule",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{this.formGroup=this.getInitForm()}catch(t){this.logger.error(t)}case 1:case"end":return e.stop()}},e,this)}))}},{key:"getInitForm",value:function(){try{return new b.i({address1:new b.f("",[b.x.required,b.x.pattern(h.s.ADDRESS_LINE_1),b.x.maxLength(35)]),address2:new b.f("",[b.x.pattern(h.s.ALPHA_NUMERIC_WITH_HYPEN_AND_SPACE),b.x.maxLength(70)]),state:new b.f("",[b.x.required,b.x.maxLength(30),b.x.pattern(h.s.ALPHA_NUMERIC_WITH_SPACE)]),city:new b.f(null,[b.x.required,b.x.maxLength(30),b.x.pattern(h.s.ALPHA_NUMERIC_WITH_SPACE)]),country:new b.f(null,[b.x.required,b.x.maxLength(30),b.x.pattern(h.s.ALPHA_NUMERIC_WITH_SPACE)]),postalCode:new b.f(null,[b.x.required,b.x.pattern(h.s.NO_SPACE_APLHA_NUMERIC),b.x.maxLength(10)]),missionCode:new b.f(this.sessionService.tenent),countryCode:new b.f(this.sessionService.countryCode),loginUser:new b.f(this.sessionService.getLoggedEmail()),urn:new b.f(this.sessionService.urn)})}catch(e){throw e}}},{key:"ngAfterViewInit",value:function(){this.sessionService.courierDetails&&this.formGroup.patchValue(this.sessionService.courierDetails)}},{key:"checkCaptchaAllowed",value:function(){var e=this;this.subs.sink=this.dataShareService.captchaAllowedRoutes.subscribe(function(t){return Object(g.b)(e,void 0,void 0,regeneratorRuntime.mark(function e(){var a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t&&(this.allowedCaptcha=t.indexOf(h.q.COURIER_ADDRESS)>-1,this.allowedCaptcha&&(this.utilityService.makeFieldRequired(this.formGroup,["captcha_version","captcha_api_key"]),setTimeout(function(){return Object(g.b)(a,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.captchaContainer.generateToken();case 2:t=e.sent,this.utilityService.patchCaptchaValue(this.formGroup,t,this.captchaVersionConst.default);case 4:case"end":return e.stop()}},e,this)}))},1e3)));case 1:case"end":return e.stop()}},e,this)}))})}},{key:"saveAndContinue",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.formGroup.invalid){e.next=3;break}return e.abrupt("return",void this.setErrorFieldFocus(this.formGroup));case 3:if(this.utilityService.fireCustomEvent({dl_category:"Courier Addess",dl_action:"Add Courier Address",dl_label:"Courier Address Cotinue Click",value:void 0}),!this.formGroup.invalid){e.next=5;break}return e.abrupt("return",void this.formGroup.markAllAsTouched());case 5:this.saveCourierDetails(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.logger.error(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}))}},{key:"setErrorFieldFocus",value:function(e){var t;try{e.markAllAsTouched();for(var a=0,n=Object.keys(e.controls);a<n.length;a++){var i=n[a];if(e.controls[i].invalid){var r=this.el.nativeElement.querySelector('[formcontrolname="'.concat(i,'"]'));null===(t=null==r?void 0:r.closest(".form-group"))||void 0===t||t.focus();break}}}catch(o){this.logger.error(o)}}},{key:"submitV2Captcha",value:function(e){this.utilityService.patchCaptchaValue(this.formGroup,e,this.captchaVersionConst.alternate)}},{key:"goBack",value:function(){try{this.commonService.routeToPostLoginModule(h.q.SERVICES)}catch(e){this.logger.error(e)}}},{key:"saveCourierDetails",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.formGroup.valid){e.next=11;break}return t=this.formGroup.value,this.sessionService.courierDetails=t,e.t0=!0,e.next=7,this.httpService.payloadPost(h.c.api.saveCourierAddress,t).toPromise().then(function(e){return e}).catch(function(e){return e});case 7:if(e.t1=e.sent.isSaved,e.t2=e.t0===e.t1,!e.t2){e.next=11;break}this.commonService.routeToPostLoginModule(this.sessionService.tmiEnabled?h.q.TRAVEL_MEDICAL_INSURANCE:h.q.REVIEW_AND_PAY);case 11:e.next=16;break;case 13:e.prev=13,e.t3=e.catch(0),this.logger.error(e.t3);case 16:case"end":return e.stop()}},e,this,[[0,13]])}))}},{key:"isSaveAndContinueDisabled",get:function(){var e,t,a;return this.allowedCaptcha?(null===(e=this.formGroup)||void 0===e?void 0:e.invalid)||!(null===(t=this.formGroup.get("captcha_api_key"))||void 0===t?void 0:t.value):null===(a=this.formGroup)||void 0===a?void 0:a.invalid}}]),a}(kt.a)).\u0275fac=function(e){return new(e||Bd)(u.Qb(u.l))},Bd.\u0275cmp=u.Kb({type:Bd,selectors:[["app-courier-address"]],viewQuery:function(e,t){var a;1&e&&u.Uc(bd,1),2&e&&u.Ac(a=u.ic())&&(t.captchaContainer=a.first)},features:[u.Ab],decls:32,vars:21,consts:[[1,"container","py-15","py-md-30"],[1,"form-card"],[1,"row","align-items-center","mb-25","mt-10"],[1,"col"],[1,"c-brand-grey-para"],[1,"row","align-items-center","mb-25"],[1,"fs-24","fs-sm-46","mb-0"],[3,"formGroup"],[4,"ngIf"],[1,"form-card","p-0","border-0","mt-20","shadow-none"],[1,"row"],[1,"col-12","col-sm-6","mt-20",3,"click"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange"],[1,"col-12","col-sm-6","mt-20"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],[1,"row","align-items-end"],[1,"col-12","col-sm-6","mb-15"],["tabindex","1",1,"form-group",3,"ngClass"],["class","errorMessage","aria-live","assertive",4,"ngIf"],[1,"c-brand-error"],[1,"sr-only"],["appearance","outline",1,"mat-form-field-outline-brand"],["type","text","matInput","","formControlName","address1","autocomplete","off","attr.aria-required","true",3,"placeholder","matTooltip"],["tabindex","2",1,"form-group",3,"ngClass"],["type","text","matInput","","formControlName","address2","autocomplete","off",3,"placeholder","matTooltip"],["tabindex","3",1,"form-group",3,"ngClass"],["type","text","matInput","","formControlName","city","autocomplete","off","attr.aria-required","true",3,"placeholder","matTooltip"],["tabindex","4",1,"form-group",3,"ngClass"],["type","text","matInput","","formControlName","state","autocomplete","off","attr.aria-required","true",3,"placeholder","matTooltip"],["tabindex","5",1,"form-group",3,"ngClass"],["formControlName","country","type","text","matInput","","autocomplete","off","attr.aria-required","true",3,"placeholder"],["tabindex","6",1,"form-group",3,"ngClass"],["type","text","matInput","","formControlName","postalCode","autocomplete","off",3,"placeholder","matTooltip"],["aria-live","assertive",1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[3,"action","captchaType","v2CaptchaSet"],["captchaContainer",""],["class","errorMessage",4,"ngIf"],[1,"errorMessage"]],template:function(e,t){1&e&&(u.Wb(0,"section",0),u.Wb(1,"form"),u.Wb(2,"mat-card",1),u.Wb(3,"div",2),u.Wb(4,"div",3),u.Wb(5,"p",4),u.Oc(6),u.mc(7,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Wb(8,"div",5),u.Wb(9,"div",3),u.Wb(10,"h1",6),u.Oc(11),u.mc(12,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Rb(13,"hr"),u.Wb(14,"p",4),u.Oc(15),u.mc(16,"translate"),u.Vb(),u.Wb(17,"p",4),u.Oc(18),u.mc(19,"translate"),u.Vb(),u.Wb(20,"form",7),u.Mc(21,Ud,89,109,"ng-container",8),u.Vb(),u.Vb(),u.Wb(22,"mat-card",9),u.Wb(23,"div",10),u.Wb(24,"div",11),u.hc("click",function(){return t.goBack()}),u.Wb(25,"button",12),u.Oc(26),u.mc(27,"translate"),u.Vb(),u.Vb(),u.Wb(28,"div",13),u.Wb(29,"button",14),u.hc("click",function(){return t.saveAndContinue()}),u.Oc(30),u.mc(31,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.Db(6),u.Qc(" ",u.nc(7,9,"courierAddressDetails.headerLabel.label2")," "),u.Db(5),u.Qc(" ",u.nc(12,11,"courierAddressDetails.headerLabel.label1")," "),u.Db(4),u.Qc(" ",u.nc(16,13,"courierAddressDetails.headerLabel.label3")," "),u.Db(3),u.Qc(" ",u.nc(19,15,"courierAddressDetails.headerLabel.label4")," "),u.Db(2),u.tc("formGroup",t.formGroup),u.Db(1),u.tc("ngIf",t.formGroup),u.Db(5),u.Qc(" ",u.nc(27,17,"commonSections.buttons.button8")," "),u.Db(3),u.tc("disabled",t.isSaveAndContinueDisabled),u.Db(1),u.Qc(" ",u.nc(31,19,"commonSections.buttons.button19")," "))},directives:[b.y,b.r,b.s,C.a,b.j,D.o,O.a,D.m,V.b,k.b,b.d,b.q,b.h,Mt.a,Ie],pipes:[I.d],styles:[""]}),Bd);function Yd(e,t){1&e&&(u.Wb(0,"div",20),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"tmiOabLogin.messages.errorMessages.message4")," "))}function Qd(e,t){1&e&&(u.Wb(0,"div",20),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"commonSections.messages.patternMessages.message1")," "))}function qd(e,t){if(1&e&&(u.Wb(0,"div",18),u.Mc(1,Yd,3,3,"div",19),u.Mc(2,Qd,3,3,"div",19),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",a.loginF.username.errors.required),u.Db(1),u.tc("ngIf",a.loginF.username.errors.pattern)}}function Hd(e,t){1&e&&(u.Wb(0,"div",29),u.Wb(1,"div",30),u.Rb(2,"i",31),u.Wb(3,"div"),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.Db(4),u.Pc(u.nc(5,1,"tmiOabLogin.messages.errorMessages.message1")))}function Kd(e,t){1&e&&(u.Wb(0,"div",29),u.Wb(1,"div",30),u.Rb(2,"i",31),u.Wb(3,"div"),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.Db(4),u.Pc(u.nc(5,1,"tmiOabLogin.messages.errorMessages.message3")))}function zd(e,t){if(1&e){var a=u.Xb();u.Wb(0,"div",21),u.Wb(1,"div",22),u.Mc(2,Hd,6,3,"div",23),u.Mc(3,Kd,6,3,"div",23),u.Vb(),u.Wb(4,"div",24),u.Wb(5,"div",25),u.Wb(6,"div"),u.Oc(7),u.mc(8,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Wb(9,"div",10),u.Wb(10,"div",25),u.Wb(11,"mat-form-field",11),u.Wb(12,"input",26),u.hc("ngModelChange",function(e){return u.Fc(a),u.lc().otpPassword=e}),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(13,"div",13),u.Wb(14,"button",15),u.hc("click",function(){return u.Fc(a),u.lc().validateOTP()}),u.Oc(15),u.mc(16,"translate"),u.Vb(),u.Vb(),u.Wb(17,"div",27),u.Wb(18,"span",28),u.hc("click",function(){return u.Fc(a),u.lc().generateOtp("OTP Resend")}),u.Oc(19),u.mc(20,"translate"),u.Vb(),u.Vb(),u.Vb()}if(2&e){var n=u.lc();u.Db(2),u.tc("ngIf",1==n.OTPUnsuccess&&0==n.OTPSuccess),u.Db(1),u.tc("ngIf",1==n.otpLimitExceed),u.Db(4),u.Pc(u.nc(8,7,"tmiOabLogin.pageDetails.para2")),u.Db(5),u.tc("ngModel",n.otpPassword),u.Db(2),u.tc("disabled",6>n.otpPassword.length),u.Db(1),u.Qc(" ",u.nc(16,9,"tmiOabLogin.buttons.button2")," "),u.Db(4),u.Pc(u.nc(20,11,"tmiOabLogin.formLabel.label1"))}}function $d(e,t){1&e&&(u.Wb(0,"div",32),u.Wb(1,"div",33),u.Wb(2,"div",34),u.Oc(3),u.mc(4,"translate"),u.Vb(),u.Wb(5,"div",35),u.Oc(6),u.mc(7,"translate"),u.Vb(),u.Wb(8,"div",36),u.Wb(9,"div",37),u.Rb(10,"i",31),u.Wb(11,"div"),u.Oc(12),u.mc(13,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.Db(3),u.Pc(u.nc(4,3,"tmiOabLogin.pageDetails.para2")),u.Db(3),u.Qc(" ",u.nc(7,5,"tmiOabLogin.messages.successMessages.message1")," "),u.Db(6),u.Pc(u.nc(13,7,"applicantInformation.messages.successMessages.message2")))}var Zd,Jd=function(e){return{"form-error":e}},Xd=((Zd=function(e){s(a,e);var t=c(a);function a(e,n){var i;return p(this,a),(i=t.call(this)).formBuilder=e,i.baseService=n,i.OTPHandler=!1,i.OTPSuccess=!1,i.OTPUnsuccess=!1,i.OTPCard=!1,i.otpInProgress=!1,i.otpLimitExceed=!1,i.IsOTPEnable=!0,i.createOTPLimit=3,i.constants=h.c,i.otpPassword="",i}return f(a,[{key:"ngOnInit",value:function(){this.initLoginForm()}},{key:"initLoginForm",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{this.loginForm=this.formBuilder.group({username:["",[b.x.pattern(h.s.email_caps_allowed),b.x.required]],missioncode:[this.sessionService.tenent],countrycode:[this.sessionService.countryCode],languageCode:[this.sessionService.appLanguageCode]})}catch(t){console.log(t)}case 1:case"end":return e.stop()}},e,this)}))}},{key:"loginF",get:function(){return this.loginForm.controls}},{key:"generateOtp",value:function(e){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!this.loginForm.invalid){t.next=3;break}return t.abrupt("return");case 3:this.loginForm.value.scanCode=e,a={result:"Success",OTPresendLimit:2,error:null},console.log(a.error),a.error||(this.OTPHandler=!0),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])}))}},{key:"validateOTP",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.loginForm.value.OTP=this.otpPassword,!(t={accessToken:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiSW5kaXZpZHVhbCIsInVzZXJJZCI6IllUUGFPZlNkQllMVTJVcDVjRkJqYkE9PSIsImVtYWlsIjoidHl2WnZJTDRDRkFxWHJ2Ykl1bUVucnBINUdrUjczOVJTWE1VaGloRGxXdEtOVm1Ld3YxOVY0ZzJSbjc3b25kUCIsIm5iZiI6MTY1Nzg2Njk2OCwiZXhwIjoxNjU3ODcyOTY4LCJpYXQiOjE2NTc4NjY5Njh9.fPJd8uxa48iUsRwTMGu63Fw7beG9Ba-kyqd1j8n7oyM",isAuthenticated:!0,nearestVACCountryCode:null,FailedAttemptCount:0,isAppointmentBooked:!1,isLastTransactionPending:!1,isAppointmentExpired:!1,isROCompleted:!1,roleName:"Individual",isUkraineScheme:!1,isUkraineSchemeDocumentUpload:!1,error:null}).accessToken){e.next=9;break}return this.sessionService.updateLoggedEmail(this.loginForm.value.username),e.next=7,this.commonService.postLoginActivity(this.baseService,t);case 7:a=this.sessionService.getApplicationSchema(),n=[h.c.modules.TRAVEL_MEDICAL_INSURANCE,h.c.modules.REVIEW_PAYMENT],i=a.modules.filter(function(e){return n.indexOf(e.logicalName)>-1}),a.modules=i,this.sessionService.tempAppSchema=this.sessionService.getApplicationSchema(),this.sessionService.saveApplicationSchemaInBrowser(a),this.sessionService.isTmiOabEnable=!0,this.sessionService.applicationDetailValue=this.initApplicationDetails(),this.commonService.routeToPostLoginModule(h.q.TRAVEL_MEDICAL_INSURANCE);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}},e,this,[[0,11]])}))}},{key:"initApplicationDetails",value:function(){return{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,centerCode:"",loginUser:this.loginForm.value.username,visaCategoryCode:"",isEdit:!1,applicantList:[],languageCode:this.sessionService.appCultureCode}}}]),a}(S.a)).\u0275fac=function(e){return new(e||Zd)(u.Qb(b.e),u.Qb(ge))},Zd.\u0275cmp=u.Kb({type:Zd,selectors:[["app-tmi-oab-login"]],features:[u.Ab],decls:22,vars:14,consts:[[1,"container","py-15","py-md-30"],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-9","col-lg-7","col-xl-6"],[1,"form-card"],[1,"p-15","mt-20"],[1,"fs-18","fs-sm-21","mb-15"],[3,"formGroup"],[3,"ngClass"],[1,"row"],["class","errorMessage",4,"ngIf"],[1,"col-12","col-sm"],["appearance","outline",1,"mat-form-field-outline-brand"],["placeholder","jane.doe@email.com","matInput","","formControlName","username","type","text","autocomplete","off"],[1,"col-sm-auto","col-12"],[1,"max-sm-w-500"],["mat-raised-button","",1,"btn","btn-block","mat-btn-lg","btn-brand-orange",3,"disabled","click"],["class","row align-items-end mt-20",4,"ngIf"],["class","border-success mt-20","style","border-left: 5px solid",4,"ngIf"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[1,"row","align-items-end","mt-20"],[1,"col-12"],["class","border-danger","style","border-left: 5px solid",4,"ngIf"],[1,"col-12","col-sm-9","col-lg-12"],[1,"form-group","mb-0"],["placeholder","OTP","matInput","","type","text","maxlength","6","required","",3,"ngModel","ngModelChange"],[1,"col-12","mt-sm-10"],[1,"c-brand-grey-para","text-decoration-underline",2,"cursor","pointer",3,"click"],[1,"border-danger",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-15","pl-50"],[1,"fa","fa-check-circle","fs-24","position-absolute","left-15","top-13"],[1,"border-success","mt-20",2,"border-left","5px solid"],[1,"alert","alert-success","border-0","rounded-0","py-20","pl-sm-50","mb-0"],[1,"c-black","fs-18"],[1,"c-brand-grey-para","fs-14","mt-3","mb-8"],[1,"border-success"],[1,"alert","alert-success","border-0","rounded-0","py-15","pl-50"]],template:function(e,t){1&e&&(u.Wb(0,"section",0),u.Wb(1,"div",1),u.Wb(2,"div",2),u.Wb(3,"mat-card",3),u.Wb(4,"div",4),u.Wb(5,"h2",5),u.Oc(6),u.mc(7,"translate"),u.Vb(),u.Wb(8,"form",6),u.Wb(9,"div",7),u.Wb(10,"div",8),u.Mc(11,qd,3,2,"div",9),u.Wb(12,"div",10),u.Wb(13,"mat-form-field",11),u.Rb(14,"input",12),u.Vb(),u.Vb(),u.Wb(15,"div",13),u.Wb(16,"div",14),u.Wb(17,"button",15),u.hc("click",function(){return t.generateOtp("OTP Send")}),u.Oc(18),u.mc(19,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Mc(20,zd,21,13,"div",16),u.Mc(21,$d,14,9,"div",17),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.Db(6),u.Pc(u.nc(7,8,"tmiOabLogin.headerLabel.label1")),u.Db(2),u.tc("formGroup",t.loginForm),u.Db(1),u.tc("ngClass",u.xc(12,Jd,t.loginF.username.touched&&t.loginF.username.invalid)),u.Db(2),u.tc("ngIf",t.loginF.username.touched&&t.loginF.username.errors),u.Db(6),u.tc("disabled",t.loginForm.invalid),u.Db(1),u.Qc(" ",u.nc(19,10,"tmiOabLogin.buttons.button1")," "),u.Db(2),u.tc("ngIf",1==t.OTPHandler),u.Db(1),u.tc("ngIf",1==t.OTPSuccess))},directives:[C.a,b.y,b.r,b.j,D.m,D.o,V.b,k.b,b.d,b.q,b.h,O.a,b.l,b.w,b.t],pipes:[I.d],encapsulation:2}),Zd),em=i("E3Zs"),tm=["captchaContainer"];function am(e,t){1&e&&(u.Wb(0,"div",35),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"courierAddressDetails.messages.errorMessages.message1")," "))}function nm(e,t){1&e&&(u.Wb(0,"div",35),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"courierAddressDetails.messages.errorMessages.message2")," "))}function im(e,t){1&e&&(u.Wb(0,"div",35),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"courierAddressDetails.messages.errorMessages.message12")," "))}function rm(e,t){if(1&e&&(u.Wb(0,"div",33),u.Mc(1,am,3,3,"div",34),u.Mc(2,nm,3,3,"div",34),u.Mc(3,im,3,3,"div",34),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.addressline1||null==a.formGroup.controls.addressline1.errors?null:a.formGroup.controls.addressline1.errors.required),u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.addressline1?null:a.formGroup.controls.addressline1.hasError("maxlength")),u.Db(1),u.tc("ngIf",(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.addressline1?null:a.formGroup.controls.addressline1.hasError("pattern"))&&!(null!=a.formGroup&&null!=a.formGroup.controls&&null!=a.formGroup.controls.addressline1&&a.formGroup.controls.addressline1.hasError("maxlength")))}}function om(e,t){1&e&&(u.Wb(0,"div",35),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"courierAddressDetails.messages.errorMessages.message3")," "))}function sm(e,t){1&e&&(u.Wb(0,"div",35),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"courierAddressDetails.messages.errorMessages.message12")," "))}function lm(e,t){if(1&e&&(u.Wb(0,"div",33),u.Mc(1,om,3,3,"div",34),u.Mc(2,sm,3,3,"div",34),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.addressline2?null:a.formGroup.controls.addressline2.hasError("maxlength")),u.Db(1),u.tc("ngIf",(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.addressline2?null:a.formGroup.controls.addressline2.hasError("pattern"))&&!(null!=a.formGroup&&null!=a.formGroup.controls&&null!=a.formGroup.controls.addressline2&&a.formGroup.controls.addressline2.hasError("maxlength")))}}function cm(e,t){1&e&&(u.Wb(0,"div",35),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"courierAddressDetails.messages.errorMessages.message4")," "))}function um(e,t){1&e&&(u.Wb(0,"div",35),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"courierAddressDetails.messages.errorMessages.message5")," "))}function dm(e,t){1&e&&(u.Wb(0,"div",35),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"courierAddressDetails.messages.errorMessages.message6")," "))}function mm(e,t){if(1&e&&(u.Wb(0,"div",33),u.Mc(1,cm,3,3,"div",34),u.Mc(2,um,3,3,"div",34),u.Mc(3,dm,3,3,"div",34),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.city||null==a.formGroup.controls.city.errors?null:a.formGroup.controls.city.errors.required),u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.city?null:a.formGroup.controls.city.hasError("maxlength")),u.Db(1),u.tc("ngIf",(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.city?null:a.formGroup.controls.city.hasError("pattern"))&&!(null!=a.formGroup&&null!=a.formGroup.controls&&null!=a.formGroup.controls.city&&a.formGroup.controls.city.hasError("maxlength")))}}function pm(e,t){1&e&&(u.Wb(0,"div",35),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"courierAddressDetails.messages.errorMessages.message7")," "))}function bm(e,t){1&e&&(u.Wb(0,"div",35),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"courierAddressDetails.messages.errorMessages.message8")," "))}function fm(e,t){1&e&&(u.Wb(0,"div",35),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"courierAddressDetails.messages.errorMessages.message9")," "))}function vm(e,t){if(1&e&&(u.Wb(0,"div",33),u.Mc(1,pm,3,3,"div",34),u.Mc(2,bm,3,3,"div",34),u.Mc(3,fm,3,3,"div",34),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.state||null==a.formGroup.controls.state.errors?null:a.formGroup.controls.state.errors.required),u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.state?null:a.formGroup.controls.state.hasError("maxlength")),u.Db(1),u.tc("ngIf",(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.state?null:a.formGroup.controls.state.hasError("pattern"))&&!(null!=a.formGroup&&null!=a.formGroup.controls&&null!=a.formGroup.controls.state&&a.formGroup.controls.state.hasError("maxlength")))}}function gm(e,t){1&e&&(u.Wb(0,"div",35),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"courierAddressDetails.messages.errorMessages.message18")," "))}function hm(e,t){1&e&&(u.Wb(0,"div",35),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"courierAddressDetails.messages.errorMessages.message16")," "))}function ym(e,t){1&e&&(u.Wb(0,"div",35),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"courierAddressDetails.messages.errorMessages.message17")," "))}function Sm(e,t){if(1&e&&(u.Wb(0,"div",33),u.Mc(1,gm,3,3,"div",34),u.Mc(2,hm,3,3,"div",34),u.Mc(3,ym,3,3,"div",34),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.countryCode||null==a.formGroup.controls.countryCode.errors?null:a.formGroup.controls.countryCode.errors.required),u.Db(1),u.tc("ngIf",(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.countryCode?null:a.formGroup.controls.countryCode.hasError("pattern"))&&!(null!=a.formGroup&&null!=a.formGroup.controls&&null!=a.formGroup.controls.countryCode&&a.formGroup.controls.countryCode.hasError("maxlength"))),u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.countryCode?null:a.formGroup.controls.countryCode.hasError("maxlength"))}}function Cm(e,t){1&e&&(u.Wb(0,"div",35),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"courierAddressDetails.messages.errorMessages.message15")," "))}function Dm(e,t){1&e&&(u.Wb(0,"div",35),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"courierAddressDetails.messages.errorMessages.message10")," "))}function Im(e,t){1&e&&(u.Wb(0,"div",35),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Qc(" ",u.nc(2,1,"courierAddressDetails.messages.errorMessages.message11")," "))}function Vm(e,t){if(1&e&&(u.Wb(0,"div",33),u.Mc(1,Cm,3,3,"div",34),u.Mc(2,Dm,3,3,"div",34),u.Mc(3,Im,3,3,"div",34),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.pincode||null==a.formGroup.controls.pincode.errors?null:a.formGroup.controls.pincode.errors.required),u.Db(1),u.tc("ngIf",(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.pincode?null:a.formGroup.controls.pincode.hasError("pattern"))&&!(null!=a.formGroup&&null!=a.formGroup.controls&&null!=a.formGroup.controls.pincode&&a.formGroup.controls.pincode.hasError("maxlength"))),u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.pincode?null:a.formGroup.controls.pincode.hasError("maxlength"))}}function km(e,t){1&e&&(u.Wb(0,"div",39),u.Wb(1,"div",35),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()),2&e&&(u.Db(2),u.Qc(" ",u.nc(3,1,"commonSections.messages.requiredMessages.message1")," "))}function Am(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Wb(1,"app-captcha-container",36,37),u.hc("v2CaptchaSet",function(e){return u.Fc(a),u.lc(2).submitV2Captcha(e)}),u.Vb(),u.Mc(3,km,4,3,"div",38),u.Tb()}if(2&e){var n=u.lc(2);u.Db(1),u.tc("action",n.constants.captcha_action.COURIER)("captchaType",n.currentCaptcha),u.Db(2),u.tc("ngIf",n.currentCaptcha!==n.captchaVersionConst.default&&(null==n.formGroup.controls.captcha_api_key||null==n.formGroup.controls.captcha_api_key.errors?null:n.formGroup.controls.captcha_api_key.errors.required))}}var Om=function(e){return{"form-error":e}};function Tm(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"div",15),u.Wb(2,"div",16),u.Wb(3,"div",17),u.Mc(4,rm,4,3,"div",18),u.Wb(5,"div"),u.Oc(6),u.mc(7,"translate"),u.Wb(8,"span",19),u.Oc(9,"* "),u.Rb(10,"span",20),u.mc(11,"translate"),u.Vb(),u.Wb(12,"mat-form-field",21),u.Rb(13,"input",22),u.mc(14,"translate"),u.mc(15,"translate"),u.mc(16,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(17,"div",16),u.Wb(18,"div",23),u.Mc(19,lm,3,2,"div",18),u.Wb(20,"div"),u.Oc(21),u.mc(22,"translate"),u.Wb(23,"mat-form-field",21),u.Rb(24,"input",24),u.mc(25,"translate"),u.mc(26,"translate"),u.mc(27,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Ub(28),u.Wb(29,"div",16),u.Wb(30,"div",25),u.Mc(31,mm,4,3,"div",18),u.Wb(32,"div"),u.Oc(33),u.mc(34,"translate"),u.Wb(35,"span",19),u.Oc(36,"* "),u.Rb(37,"span",20),u.mc(38,"translate"),u.Vb(),u.Wb(39,"mat-form-field",21),u.Rb(40,"input",26),u.mc(41,"translate"),u.mc(42,"translate"),u.mc(43,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(44,"div",16),u.Wb(45,"div",27),u.Mc(46,vm,4,3,"div",18),u.Wb(47,"div"),u.Oc(48),u.mc(49,"translate"),u.Wb(50,"span",19),u.Oc(51,"* "),u.Rb(52,"span",20),u.mc(53,"translate"),u.Vb(),u.Wb(54,"mat-form-field",21),u.Rb(55,"input",28),u.mc(56,"translate"),u.mc(57,"translate"),u.mc(58,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(59,"div",16),u.Wb(60,"div",29),u.Mc(61,Sm,4,3,"div",18),u.Wb(62,"div"),u.Oc(63),u.mc(64,"translate"),u.Wb(65,"span",19),u.Oc(66,"* "),u.Rb(67,"span",20),u.mc(68,"translate"),u.Vb(),u.Wb(69,"mat-form-field",21),u.Rb(70,"input",30),u.mc(71,"translate"),u.mc(72,"translate"),u.mc(73,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(74,"div",16),u.Wb(75,"div",31),u.Mc(76,Vm,4,3,"div",18),u.Wb(77,"div"),u.Oc(78),u.mc(79,"translate"),u.Wb(80,"span",19),u.Oc(81,"* "),u.Rb(82,"span",20),u.mc(83,"translate"),u.Vb(),u.Wb(84,"mat-form-field",21),u.Rb(85,"input",32),u.mc(86,"translate"),u.mc(87,"translate"),u.mc(88,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Tb(),u.Mc(89,Am,4,3,"ng-container",8),u.Vb(),u.Tb()),2&e){var a=u.lc();u.Db(3),u.tc("ngClass",u.xc(100,Om,(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.addressline1?null:a.formGroup.controls.addressline1.touched)&&(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.addressline1?null:a.formGroup.controls.addressline1.invalid))),u.Db(1),u.tc("ngIf",(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.addressline1?null:a.formGroup.controls.addressline1.touched)&&(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.addressline1?null:a.formGroup.controls.addressline1.errors)),u.Db(2),u.Qc(" ",u.nc(7,42,"courierAddressDetails.formLabel.label1")," "),u.Db(4),u.Eb("aria-label",u.nc(11,44,"commonSections.formLabel.label7")),u.Db(3),u.vc("placeholder"," ",u.nc(14,46,"courierAddressDetails.formLabel.label1"),""),u.uc("matTooltip",u.nc(15,48,"courierAddressDetails.formLabel.label1")),u.Eb("aria-label",u.nc(16,50,"courierAddressDetails.formLabel.label1")),u.Db(5),u.tc("ngClass",u.xc(102,Om,(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.addressline2?null:a.formGroup.controls.addressline2.touched)&&(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.addressline2?null:a.formGroup.controls.addressline2.invalid))),u.Db(1),u.tc("ngIf",(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.addressline2?null:a.formGroup.controls.addressline2.touched)&&(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.addressline2?null:a.formGroup.controls.addressline2.errors)),u.Db(2),u.Qc(" ",u.nc(22,52,"courierAddressDetails.formLabel.label2")," "),u.Db(3),u.vc("placeholder"," ",u.nc(25,54,"courierAddressDetails.formLabel.label2"),""),u.uc("matTooltip",u.nc(26,56,"courierAddressDetails.formLabel.label2")),u.Eb("aria-label",u.nc(27,58,"courierAddressDetails.formLabel.label2")),u.Db(6),u.tc("ngClass",u.xc(104,Om,(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.city?null:a.formGroup.controls.city.touched)&&(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.city?null:a.formGroup.controls.city.invalid))),u.Db(1),u.tc("ngIf",(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.city?null:a.formGroup.controls.city.touched)&&(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.city?null:a.formGroup.controls.city.errors)),u.Db(2),u.Qc(" ",u.nc(34,60,"courierAddressDetails.formLabel.label3")," "),u.Db(4),u.Eb("aria-label",u.nc(38,62,"commonSections.formLabel.label7")),u.Db(3),u.vc("placeholder"," ",u.nc(41,64,"courierAddressDetails.formLabel.label3"),""),u.uc("matTooltip",u.nc(42,66,"courierAddressDetails.formLabel.label3")),u.Eb("aria-label",u.nc(43,68,"courierAddressDetails.formLabel.label3")),u.Db(5),u.tc("ngClass",u.xc(106,Om,(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.state?null:a.formGroup.controls.state.touched)&&(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.state?null:a.formGroup.controls.state.invalid))),u.Db(1),u.tc("ngIf",(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.state?null:a.formGroup.controls.state.touched)&&(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.state?null:a.formGroup.controls.state.errors)),u.Db(2),u.Qc(" ",u.nc(49,70,"courierAddressDetails.formLabel.label4")," "),u.Db(4),u.Eb("aria-label",u.nc(53,72,"commonSections.formLabel.label7")),u.Db(3),u.vc("placeholder"," ",u.nc(56,74,"courierAddressDetails.formLabel.label4"),""),u.uc("matTooltip",u.nc(57,76,"courierAddressDetails.formLabel.label4")),u.Eb("aria-label",u.nc(58,78,"courierAddressDetails.formLabel.label4")),u.Db(5),u.tc("ngClass",u.xc(108,Om,(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.countryCode?null:a.formGroup.controls.countryCode.touched)&&(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.countryCode?null:a.formGroup.controls.countryCode.invalid))),u.Db(1),u.tc("ngIf",(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.countryCode?null:a.formGroup.controls.countryCode.touched)&&(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.countryCode?null:a.formGroup.controls.countryCode.errors)),u.Db(2),u.Qc(" ",u.nc(64,80,"courierAddressDetails.formLabel.label5")," "),u.Db(4),u.Eb("aria-label",u.nc(68,82,"commonSections.formLabel.label7")),u.Db(3),u.vc("placeholder"," ",u.nc(71,84,"courierAddressDetails.formLabel.label5"),""),u.uc("matTooltip",u.nc(72,86,"courierAddressDetails.formLabel.label5")),u.Eb("aria-label",u.nc(73,88,"courierAddressDetails.formLabel.label5")),u.Db(5),u.tc("ngClass",u.xc(110,Om,(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.pincode?null:a.formGroup.controls.pincode.touched)&&(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.pincode?null:a.formGroup.controls.pincode.invalid))),u.Db(1),u.tc("ngIf",(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.pincode?null:a.formGroup.controls.pincode.touched)&&(null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.pincode?null:a.formGroup.controls.pincode.errors)),u.Db(2),u.Qc(" ",u.nc(79,90,"courierAddressDetails.formLabel.label6")," "),u.Db(4),u.Eb("aria-label",u.nc(83,92,"commonSections.formLabel.label7")),u.Db(3),u.vc("placeholder"," ",u.nc(86,94,"courierAddressDetails.formLabel.label6"),""),u.uc("matTooltip",u.nc(87,96,"courierAddressDetails.formLabel.label6")),u.Eb("aria-label",u.nc(88,98,"courierAddressDetails.formLabel.label6")),u.Db(4),u.tc("ngIf",a.allowedCaptcha)}}var Lm,wm=((Lm=function(e){s(a,e);var t=c(a);function a(e,n,i){var r;return p(this,a),(r=t.call(this)).el=e,r.logger=n,r.http=i,r.formGroup=new b.i({}),r.countries=[],r.constants=h.c,r.allowedCaptcha=!1,r}return f(a,[{key:"ngOnInit",value:function(){this.currentCaptcha=this.captchaVersionConst.default;var e={dl_category:"VAYD Address",dl_action:"VAYD Address Page View",dl_label:this.utilityService.countrynameByIso(this.sessionService.countryCode||""),value:void 0};this.utilityService.fireCustomEvent(e),this.initModule(),this.checkCaptchaAllowed()}},{key:"initModule",value:function(){var e,t;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function a(){var n;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,this.formGroup=this.getInitForm(),a.next=4,this.getCountryList();case 4:n=a.sent,this.countries=n,this.formGroup.patchValue({countryCode:null===(t=null===(e=this.sessionService)||void 0===e?void 0:e.countryCode)||void 0===t?void 0:t.toUpperCase()}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),this.logger.error(a.t0);case 11:case"end":return a.stop()}},a,this,[[0,8]])}))}},{key:"getInitForm",value:function(){try{return new b.i({addressline1:new b.f("",[b.x.required,b.x.pattern(h.s.ADDRESS_LINE_1),b.x.maxLength(35)]),addressline2:new b.f("",[b.x.pattern(h.s.ALPHA_NUMERIC_WITH_HYPEN_AND_SPACE),b.x.maxLength(70)]),state:new b.f("",[b.x.required,b.x.maxLength(30),b.x.pattern(h.s.ALPHA_NUMERIC_WITH_SPACE)]),city:new b.f(null,[b.x.required,b.x.maxLength(30),b.x.pattern(h.s.ALPHA_NUMERIC_WITH_SPACE)]),pincode:new b.f(null,[b.x.required,b.x.pattern(h.s.NO_SPACE_APLHA_NUMERIC),b.x.maxLength(10)]),missionCode:new b.f(this.sessionService.tenent),countryCode:new b.f({value:this.utilityService.countrynameByIso(this.sessionService.countryCode),disabled:!0}),loginUser:new b.f(this.sessionService.getLoggedEmail()),urn:new b.f(this.sessionService.urn)})}catch(e){throw e}}},{key:"getCountryList",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={tenent:this.sessionService.tenent,languageCode:this.sessionService.applicationDetailValue.languageCode,country:this.sessionService.countryCode},e.next=4,this.httpService.slashParamsDoGet(h.c.api.masterCountry,t).toPromise();case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,this,[[0,7]])}))}},{key:"ngAfterViewInit",value:function(){this.sessionService.vaydDetails&&this.formGroup.patchValue(this.sessionService.vaydDetails)}},{key:"checkCaptchaAllowed",value:function(){var e=this;this.subs.sink=this.dataShareService.captchaAllowedRoutes.subscribe(function(t){return Object(g.b)(e,void 0,void 0,regeneratorRuntime.mark(function e(){var a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t&&(this.allowedCaptcha=t.indexOf(h.q.VAYD_ADDRESS)>-1,this.allowedCaptcha&&(this.utilityService.makeFieldRequired(this.formGroup,["captcha_version","captcha_api_key"]),setTimeout(function(){return Object(g.b)(a,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.captchaContainer.generateToken();case 2:t=e.sent,this.utilityService.patchCaptchaValue(this.formGroup,t,this.captchaVersionConst.default);case 4:case"end":return e.stop()}},e,this)}))},1e3)));case 1:case"end":return e.stop()}},e,this)}))})}},{key:"saveAndContinue",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.formGroup.invalid){e.next=3;break}return e.abrupt("return",void this.setErrorFieldFocus(this.formGroup));case 3:if(this.utilityService.fireCustomEvent({dl_category:"VAYD Addess",dl_action:"Add VAYD Address",dl_label:"VAYD Address Cotinue Click",value:void 0}),!this.formGroup.invalid){e.next=5;break}return e.abrupt("return",void this.formGroup.markAllAsTouched());case 5:this.saveVAYDDetails(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.logger.error(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}))}},{key:"setErrorFieldFocus",value:function(e){var t;try{e.markAllAsTouched();for(var a=0,n=Object.keys(e.controls);a<n.length;a++){var i=n[a];if(e.controls[i].invalid){var r=this.el.nativeElement.querySelector('[formcontrolname="'.concat(i,'"]'));null===(t=null==r?void 0:r.closest(".form-group"))||void 0===t||t.focus();break}}}catch(o){this.logger.error(o)}}},{key:"submitV2Captcha",value:function(e){this.utilityService.patchCaptchaValue(this.formGroup,e,this.captchaVersionConst.alternate)}},{key:"goBack",value:function(){try{this.commonService.routeToPostLoginModule(h.q.SERVICES)}catch(e){this.logger.error(e)}}},{key:"saveVAYDDetails",value:function(){var e;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a,n,i,r,o,s=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!this.formGroup.valid){t.next=15;break}return a={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.centerCode,email:this.sessionService.getLoggedEmail(),aurn:null===(e=this.sessionService.applicationDetailValue)||void 0===e?void 0:e.applicantList[0].arn,isSameCourierAddress:!1,isHALAddress:!1},n=this.sessionService.applicantService.filter(function(e){return e.isCourierIntegrationEnabled||e.isUPSCourier}),i=this.countries.find(function(e){return s.utilityService.strictCompare(e.isoCode,s.sessionService.countryCode)}),r=this.formGroup.value,i&&(r=Object.assign(Object.assign({},this.formGroup.value),{country:i.countryName})),o=Object.assign(Object.assign({},this.formGroup.value),a),this.sessionService.vaydDetails=r,t.t0=!0,t.next=10,this.httpService.payloadPost(h.c.api.saveVAYDAddress,o).toPromise().then(function(e){return e}).catch(function(e){return e});case 10:if(t.t1=t.sent.isSuccess,t.t0!==t.t1){t.next=15;break}if(this.sessionService.vaydDetails=JSON.stringify(r),this.sessionService.setIsVaydAddressUpdated(!0),!(n.length>0)||this.sessionService.IsCourierAddressUpdated||this.sessionService.isCourierIntegratedVasPurchased){t.next=14;break}return t.abrupt("return",void this.commonService.routeToPostLoginModule(h.q.COURIER_ADDRESS));case 14:this.commonService.routeToPostLoginModule(this.sessionService.tmiEnabled?h.q.TRAVEL_MEDICAL_INSURANCE:h.q.REVIEW_AND_PAY);case 15:t.next=20;break;case 17:t.prev=17,t.t2=t.catch(0),this.logger.error(t.t2);case 20:case"end":return t.stop()}},t,this,[[0,17]])}))}},{key:"isSaveAndContinueDisabled",get:function(){var e,t,a;return this.allowedCaptcha?(null===(e=this.formGroup)||void 0===e?void 0:e.invalid)||!(null===(t=this.formGroup.get("captcha_api_key"))||void 0===t?void 0:t.value):null===(a=this.formGroup)||void 0===a?void 0:a.invalid}}]),a}(S.a)).\u0275fac=function(e){return new(e||Lm)(u.Qb(u.l),u.Qb(em.b),u.Qb(be.a))},Lm.\u0275cmp=u.Kb({type:Lm,selectors:[["app-vayd-address"]],viewQuery:function(e,t){var a;1&e&&u.Uc(tm,1),2&e&&u.Ac(a=u.ic())&&(t.captchaContainer=a.first)},features:[u.Ab],decls:32,vars:21,consts:[[1,"container","py-15","py-md-30"],[1,"form-card"],[1,"row","align-items-center","mb-25","mt-10"],[1,"col"],[1,"c-brand-grey-para"],[1,"row","align-items-center","mb-25"],[1,"fs-24","fs-sm-46","mb-0"],[3,"formGroup"],[4,"ngIf"],[1,"form-card","p-0","border-0","mt-20","shadow-none"],[1,"row"],[1,"col-12","col-sm-6","mt-20",3,"click"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange"],[1,"col-12","col-sm-6","mt-20"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],[1,"row","align-items-end"],[1,"col-12","col-sm-6","mb-15"],["tabindex","1",1,"form-group",3,"ngClass"],["class","errorMessage","aria-live","assertive",4,"ngIf"],[1,"c-brand-error"],[1,"sr-only"],["appearance","outline",1,"mat-form-field-outline-brand"],["type","text","matInput","","formControlName","addressline1","autocomplete","off","attr.aria-required","true",3,"placeholder","matTooltip"],["tabindex","2",1,"form-group",3,"ngClass"],["type","text","matInput","","formControlName","addressline2","autocomplete","off",3,"placeholder","matTooltip"],["tabindex","3",1,"form-group",3,"ngClass"],["type","text","matInput","","formControlName","city","autocomplete","off","attr.aria-required","true",3,"placeholder","matTooltip"],["tabindex","4",1,"form-group",3,"ngClass"],["type","text","matInput","","formControlName","state","autocomplete","off","attr.aria-required","true",3,"placeholder","matTooltip"],["tabindex","5",1,"form-group",3,"ngClass"],["type","text","matInput","","formControlName","countryCode","autocomplete","off","attr.aria-required","true",3,"placeholder","matTooltip"],["tabindex","6",1,"form-group",3,"ngClass"],["type","text","matInput","","formControlName","pincode","autocomplete","off",3,"placeholder","matTooltip"],["aria-live","assertive",1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[3,"action","captchaType","v2CaptchaSet"],["captchaContainer",""],["class","errorMessage",4,"ngIf"],[1,"errorMessage"]],template:function(e,t){1&e&&(u.Wb(0,"section",0),u.Wb(1,"form"),u.Wb(2,"mat-card",1),u.Wb(3,"div",2),u.Wb(4,"div",3),u.Wb(5,"p",4),u.Oc(6),u.mc(7,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Wb(8,"div",5),u.Wb(9,"div",3),u.Wb(10,"h1",6),u.Oc(11),u.mc(12,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Rb(13,"hr"),u.Wb(14,"p",4),u.Oc(15),u.mc(16,"translate"),u.Vb(),u.Wb(17,"p",4),u.Oc(18),u.mc(19,"translate"),u.Vb(),u.Wb(20,"form",7),u.Mc(21,Tm,90,112,"ng-container",8),u.Vb(),u.Vb(),u.Wb(22,"mat-card",9),u.Wb(23,"div",10),u.Wb(24,"div",11),u.hc("click",function(){return t.goBack()}),u.Wb(25,"button",12),u.Oc(26),u.mc(27,"translate"),u.Vb(),u.Vb(),u.Wb(28,"div",13),u.Wb(29,"button",14),u.hc("click",function(){return t.saveAndContinue()}),u.Oc(30),u.mc(31,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.Db(6),u.Qc(" ",u.nc(7,9,"ODMVAddressDetails.headerLabel.label2")," "),u.Db(5),u.Qc(" ",u.nc(12,11,"ODMVAddressDetails.headerLabel.label1")," "),u.Db(4),u.Qc(" ",u.nc(16,13,"ODMVAddressDetails.headerLabel.label3")," "),u.Db(3),u.Qc(" ",u.nc(19,15,"ODMVAddressDetails.headerLabel.label4")," "),u.Db(2),u.tc("formGroup",t.formGroup),u.Db(1),u.tc("ngIf",t.formGroup),u.Db(5),u.Qc(" ",u.nc(27,17,"commonSections.buttons.button8")," "),u.Db(3),u.tc("disabled",t.isSaveAndContinueDisabled),u.Db(1),u.Qc(" ",u.nc(31,19,"commonSections.buttons.button19")," "))},directives:[b.y,b.r,b.s,C.a,b.j,D.o,O.a,D.m,V.b,k.b,b.d,b.q,b.h,Mt.a,Ie],pipes:[I.d],styles:[""]}),Lm),Nm=i("ngv/");function xm(e,t){1&e&&(u.Wb(0,"div"),u.Wb(1,"p",8),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()),2&e&&(u.Db(2),u.Pc(u.nc(3,1,"formFilling.messages.infoMessages.message2")))}function Mm(e,t){if(1&e&&(u.Wb(0,"div"),u.Wb(1,"p",8),u.Oc(2),u.mc(3,"translate"),u.mc(4,"translate"),u.Vb(),u.Vb()),2&e){var a=u.lc();u.Db(2),u.Tc("",u.nc(3,4,"formFilling.messages.infoMessages.message3")," ",a.countyName," ",u.nc(4,6,"formFilling.messages.infoMessages.message4")," ",a.missionName,"")}}var Em,Wm=y.a.externalUrl,Pm=((Em=function(e){s(a,e);var t=c(a);function a(e,n,i){var r,o,s;return p(this,a),(r=t.call(this)).dialog=e,r.data=n,r.dialogRef=i,r.missionName=null===(o=Nm.byIso(r.sessionService.tenent))||void 0===o?void 0:o.country,r.countyName=null===(s=Nm.byIso(r.sessionService.countryCode))||void 0===s?void 0:s.country,i.disableClose=!0,r}return f(a,[{key:"continue",value:function(){this.router.ngOnDestroy(),window.location.href="".concat(Wm,"/").concat(this.sessionService.countryCode,"/").concat(this.sessionService.appLanguageCode,"/").concat(this.sessionService.tenent,"/apply-visa"),this.dialogRef.close()}}]),a}(S.a)).\u0275fac=function(e){return new(e||Em)(u.Qb(za.b),u.Qb(za.a),u.Qb(za.h))},Em.\u0275cmp=u.Kb({type:Em,selectors:[["app-ff-modal"]],features:[u.Ab],decls:13,vars:8,consts:[[1,"mat-modal-delete-document"],[1,"fs-18","fs-sm-21"],[1,"fa","fa-exclamation-triangle","mr-5"],[1,"my-20"],[4,"ngIf"],[1,"row"],[1,"col-12","col-sm"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mb-10","mb-sm-0",3,"click"],[1,"fs-sm-17","c-brand-grey-para","mb-30"]],template:function(e,t){1&e&&(u.Wb(0,"div",0),u.Wb(1,"h4",1),u.Rb(2,"i",2),u.Oc(3),u.mc(4,"translate"),u.Vb(),u.Rb(5,"hr",3),u.Mc(6,xm,4,3,"div",4),u.Mc(7,Mm,5,8,"div",4),u.Wb(8,"div",5),u.Wb(9,"div",6),u.Wb(10,"button",7),u.hc("click",function(){return t.continue()}),u.Oc(11),u.mc(12,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.Db(3),u.Qc(" ",u.nc(4,4,"commonSections.headerLabel.label3")," "),u.Db(3),u.tc("ngIf","API"==t.data),u.Db(1),u.tc("ngIf","ROUTE"==t.data),u.Db(4),u.Qc(" ",u.nc(12,6,"commonSections.buttons.button19")," "))},directives:[D.o,O.a],pipes:[I.d],encapsulation:2}),Em);function Fm(e,t){if(1&e&&(u.Wb(0,"tr"),u.Wb(1,"td"),u.Oc(2),u.Vb(),u.Wb(3,"td"),u.Oc(4),u.Wb(5,"p",21),u.Oc(6),u.mc(7,"translate"),u.Vb(),u.Vb(),u.Vb()),2&e){var a=t.$implicit;u.Db(2),u.Pc(a.description),u.Db(2),u.Rc("",a.currency," ",a.unitPrice,""),u.Db(2),u.Pc(u.nc(7,4,"formFilling.pageDetails.para16"))}}var _m=["dateInputField"];function Rm(e,t){1&e&&(u.Wb(0,"div",47),u.Wb(1,"h6"),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()),2&e&&(u.Db(2),u.Qc(" ",u.nc(3,1,"formFilling.messages.errorMessages.message1"),""))}function Gm(e,t){1&e&&(u.Wb(0,"div",47),u.Wb(1,"h6"),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()),2&e&&(u.Db(2),u.Qc(" ",u.nc(3,1,"formFilling.messages.errorMessages.message5"),""))}function Um(e,t){1&e&&(u.Wb(0,"div",47),u.Wb(1,"h6"),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()),2&e&&(u.Db(2),u.Qc(" ",u.nc(3,1,"formFilling.messages.errorMessages.message13"),""))}function Bm(e,t){1&e&&(u.Wb(0,"div",47),u.Wb(1,"h6"),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()),2&e&&(u.Db(2),u.Qc(" ",u.nc(3,1,"formFilling.messages.errorMessages.message12"),""))}function jm(e,t){if(1&e&&(u.Wb(0,"div",45),u.Mc(1,Rm,4,3,"div",46),u.Mc(2,Gm,4,3,"div",46),u.Mc(3,Um,4,3,"div",46),u.Mc(4,Bm,4,3,"div",46),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.firstName||null==a.formGroup.controls.firstName.errors?null:a.formGroup.controls.firstName.errors.required),u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.firstName?null:a.formGroup.controls.firstName.hasError("pattern")),u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.firstName?null:a.formGroup.controls.firstName.hasError("maxlength")),u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.firstName?null:a.formGroup.controls.firstName.hasError("minlength"))}}function Ym(e,t){1&e&&(u.Wb(0,"div",47),u.Wb(1,"h6"),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()),2&e&&(u.Db(2),u.Qc(" ",u.nc(3,1,"formFilling.messages.errorMessages.message2"),""))}function Qm(e,t){1&e&&(u.Wb(0,"div",47),u.Wb(1,"h6"),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()),2&e&&(u.Db(2),u.Qc(" ",u.nc(3,1,"formFilling.messages.errorMessages.message13"),""))}function qm(e,t){1&e&&(u.Wb(0,"div",47),u.Wb(1,"h6"),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()),2&e&&(u.Db(2),u.Qc(" ",u.nc(3,1,"formFilling.messages.errorMessages.message12"),""))}function Hm(e,t){1&e&&(u.Wb(0,"div",47),u.Wb(1,"h6"),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()),2&e&&(u.Db(2),u.Qc(" ",u.nc(3,1,"formFilling.messages.errorMessages.message6"),""))}function Km(e,t){if(1&e&&(u.Wb(0,"div",45),u.Mc(1,Ym,4,3,"div",46),u.Mc(2,Qm,4,3,"div",46),u.Mc(3,qm,4,3,"div",46),u.Mc(4,Hm,4,3,"div",46),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.lastName||null==a.formGroup.controls.lastName.errors?null:a.formGroup.controls.lastName.errors.required),u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.lastName?null:a.formGroup.controls.lastName.hasError("maxlength")),u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.lastName?null:a.formGroup.controls.lastName.hasError("minlength")),u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.lastName?null:a.formGroup.controls.lastName.hasError("pattern"))}}function zm(e,t){1&e&&(u.Wb(0,"div",47),u.Wb(1,"h6"),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()),2&e&&(u.Db(2),u.Pc(u.nc(3,1,"formFilling.messages.errorMessages.message3")))}function $m(e,t){1&e&&(u.Wb(0,"div",47),u.Wb(1,"h6"),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()),2&e&&(u.Db(2),u.Pc(u.nc(3,1,"formFilling.messages.errorMessages.message7")))}function Zm(e,t){if(1&e&&(u.Wb(0,"div",45),u.Mc(1,zm,4,3,"div",46),u.Mc(2,$m,4,3,"div",46),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.email||null==a.formGroup.controls.email.errors?null:a.formGroup.controls.email.errors.required),u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.email?null:a.formGroup.controls.email.hasError("pattern"))}}function Jm(e,t){1&e&&(u.Wb(0,"div",48),u.Wb(1,"div",49),u.Wb(2,"h5",9),u.Oc(3),u.mc(4,"translate"),u.Vb(),u.Wb(5,"mat-form-field",12),u.Rb(6,"input",50),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.Db(3),u.Pc(u.nc(4,1,"formFilling.formLabel.label17")))}function Xm(e,t){1&e&&(u.Wb(0,"div",47),u.Wb(1,"h6"),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()),2&e&&(u.Db(2),u.Pc(u.nc(3,1,"formFilling.messages.errorMessages.message4")))}function ep(e,t){1&e&&(u.Wb(0,"div",47),u.Wb(1,"h6"),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()),2&e&&(u.Db(2),u.Pc(u.nc(3,1,"formFilling.messages.errorMessages.message8")))}function tp(e,t){1&e&&(u.Wb(0,"div",47),u.Wb(1,"h6"),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()),2&e&&(u.Db(2),u.Qc("",u.nc(3,1,"formFilling.messages.errorMessages.message11")," "))}function ap(e,t){1&e&&(u.Wb(0,"div",47),u.Wb(1,"h6"),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()),2&e&&(u.Db(2),u.Qc(" ",u.nc(3,1,"formFilling.messages.errorMessages.message10")," "))}function np(e,t){if(1&e&&(u.Wb(0,"div",45),u.Mc(1,Xm,4,3,"div",46),u.Mc(2,ep,4,3,"div",46),u.Mc(3,tp,4,3,"div",46),u.Mc(4,ap,4,3,"div",46),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.phoneNumber||null==a.formGroup.controls.phoneNumber.errors?null:a.formGroup.controls.phoneNumber.errors.required),u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.phoneNumber?null:a.formGroup.controls.phoneNumber.hasError("pattern")),u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.phoneNumber?null:a.formGroup.controls.phoneNumber.hasError("maxlength")),u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.phoneNumber?null:a.formGroup.controls.phoneNumber.hasError("minlength"))}}function ip(e,t){if(1&e&&(u.Wb(0,"div",28),u.Oc(1),u.Vb()),2&e){var a=u.lc();u.Db(1),u.Rc(" ",a.serviceForApplicant[0].currency," ",a.serviceFee," ")}}function rp(e,t){if(1&e&&(u.Wb(0,"div",28),u.Oc(1),u.Vb()),2&e){var a=u.lc();u.Db(1),u.Sc(" ",a.totalPassenger," * ",a.serviceForApplicant[0].currency," ",a.unitPrice," ")}}function op(e,t){1&e&&(u.Wb(0,"div",47),u.Wb(1,"h6"),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()),2&e&&(u.Db(2),u.Pc(u.nc(3,1,"formFilling.messages.errorMessages.message18")))}function sp(e,t){1&e&&(u.Wb(0,"div",47),u.Wb(1,"h6"),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()),2&e&&(u.Db(2),u.Pc(u.nc(3,1,"formFilling.messages.errorMessages.message23")))}function lp(e,t){if(1&e&&(u.Wb(0,"div",45),u.Mc(1,op,4,3,"div",46),u.Mc(2,sp,4,3,"div",46),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.applyingFrom||null==a.formGroup.controls.applyingFrom.errors?null:a.formGroup.controls.applyingFrom.errors.required),u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.applyingFrom?null:a.formGroup.controls.applyingFrom.hasError("pattern"))}}function cp(e,t){1&e&&(u.Wb(0,"div",47),u.Wb(1,"h6"),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()),2&e&&(u.Db(2),u.Qc(" ",u.nc(3,1,"formFilling.messages.errorMessages.message19"),""))}function up(e,t){1&e&&(u.Wb(0,"div",47),u.Wb(1,"h6"),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()),2&e&&(u.Db(2),u.Pc(u.nc(3,1,"formFilling.messages.errorMessages.message23")))}function dp(e,t){if(1&e&&(u.Wb(0,"div",45),u.Mc(1,cp,4,3,"div",46),u.Mc(2,up,4,3,"div",46),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.travellingTo||null==a.formGroup.controls.travellingTo.errors?null:a.formGroup.controls.travellingTo.errors.required),u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.travellingTo?null:a.formGroup.controls.travellingTo.hasError("pattern"))}}function mp(e,t){1&e&&(u.Wb(0,"div",47),u.Wb(1,"h6"),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()),2&e&&(u.Db(2),u.Pc(u.nc(3,1,"formFilling.messages.errorMessages.message15")))}function pp(e,t){if(1&e&&(u.Wb(0,"div",45),u.Mc(1,mp,4,3,"div",46),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.myPassportIsFrom||null==a.formGroup.controls.myPassportIsFrom.errors?null:a.formGroup.controls.myPassportIsFrom.errors.required)}}function bp(e,t){1&e&&(u.Wb(0,"div",47),u.Wb(1,"h6"),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()),2&e&&(u.Db(2),u.Pc(u.nc(3,1,"formFilling.messages.errorMessages.message16")))}function fp(e,t){if(1&e&&(u.Wb(0,"div",45),u.Mc(1,bp,4,3,"div",46),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.purposeOfTravel||null==a.formGroup.controls.purposeOfTravel.errors?null:a.formGroup.controls.purposeOfTravel.errors.required)}}function vp(e,t){if(1&e&&(u.Wb(0,"mat-option",51),u.Oc(1),u.Vb()),2&e){var a=t.$implicit;u.tc("value",a.code),u.Db(1),u.Qc(" ",a.name," ")}}function gp(e,t){if(1&e&&(u.Wb(0,"mat-option",51),u.Oc(1),u.Vb()),2&e){var a=t.$implicit;u.tc("value",a),u.Db(1),u.Qc(" ",a," ")}}function hp(e,t){1&e&&(u.Wb(0,"div",47),u.Wb(1,"h6"),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()),2&e&&(u.Db(2),u.Pc(u.nc(3,1,"formFilling.messages.errorMessages.message14")))}function yp(e,t){if(1&e&&(u.Wb(0,"div",45),u.Mc(1,hp,4,3,"div",46),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",null==a.formGroup||null==a.formGroup.controls||null==a.formGroup.controls.travellingDate||null==a.formGroup.controls.travellingDate.errors?null:a.formGroup.controls.travellingDate.errors.required)}}var Sp=function(e){return{"form-error":e}},Cp=y.a.numberOfPassengers;function Dp(e,t){1&e&&(u.Wb(0,"mat-card",4),u.Wb(1,"p",5),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Vb()),2&e&&(u.Db(2),u.Pc(u.nc(3,1,"formFilling.messages.infoMessages.message1")))}function Ip(e,t){if(1&e&&(u.Ub(0),u.Mc(1,Dp,4,3,"mat-card",3),u.Tb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngIf",!a.alreadyConfirm)}}function Vp(e,t){if(1&e&&(u.Wb(0,"section",1),u.Mc(1,Ip,2,1,"ng-container",2),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngIf",a.successPaymentData&&"False"===a.successPaymentData.PaymentStatus)}}function kp(e,t){if(1&e&&(u.Wb(0,"section",1),u.Wb(1,"h3",2),u.Oc(2),u.mc(3,"translate"),u.Vb(),u.Wb(4,"h2"),u.Oc(5),u.mc(6,"translate"),u.Vb(),u.Wb(7,"p",3),u.Oc(8),u.mc(9,"translate"),u.Vb(),u.Vb()),2&e){var a=u.lc();u.Db(2),u.Qc(" ",u.nc(3,4,"formFilling.headerLabel.label5")," "),u.Db(3),u.Rc(" ",u.nc(6,6,"formFilling.headerLabel.label6")," ",a.ffPaymentDetails.orderNumber," "),u.Db(3),u.Qc(" ",u.nc(9,8,"formFilling.pageDetails.para26")," ")}}var Ap,Op,Tp,Lp,wp,Np,xp=[{path:"",component:Is,canActivate:[Vt]},{path:":countrycode/:lang/:mission",children:[{path:"",canActivate:[Vt],children:[{path:h.q.FF_INFO,component:(Lp=function(e){s(a,e);var t=c(a);function a(e,n,i){var r;return p(this,a),(r=t.call(this)).activatedRoute=e,r.httpService=n,r.dialog=i,r.isDisabled=!1,r}return f(a,[{key:"ngOnInit",value:function(){this.baseConfig()}},{key:"baseConfig",value:function(){var e=this;this.subs.sink=this.activatedRoute.queryParamMap.subscribe(function(t){return Object(g.b)(e,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.location.pathname){e.next=17;break}if(this.missionName=null===(t=Nm.byIso(window.location.pathname.split("/")[3]))||void 0===t?void 0:t.country,this.countyName=null===(a=Nm.byIso(window.location.pathname.split("/")[1]))||void 0===a?void 0:a.country,this.missionCode=window.location.pathname.split("/")[3],this.countyCode=window.location.pathname.split("/")[1],this.cultureCode=window.location.pathname.split("/")[2],this.sessionService.countryCode=String(this.countyCode).toLowerCase(),this.sessionService.tenent=String(this.missionCode).toLowerCase(),this.sessionService.appLanguageCode=String(this.cultureCode).toLowerCase(),!(this.sessionService.countryCode&&this.sessionService.tenent&&this.sessionService.appCultureCode)){e.next=14;break}return e.next=12,this.getServiceForApplicant();case 12:e.next=15;break;case 14:this.commonService.routeToNotFound();case 15:e.next=18;break;case 17:this.commonService.routeToNotFound();case 18:case"end":return e.stop()}},e,this)}))})}},{key:"getServiceForApplicant",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="".concat(h.c.api.serviceForApplicant,"/").concat(this.sessionService.tenent,"/").concat(this.sessionService.countryCode,"/").concat(this.sessionService.appCultureCode),e.next=4,this.httpService.doGet(t).toPromise().then(function(e){return e}).catch(function(e){n.isDisabled=!0,n.showErrorMsgPopup("API",e.status)});case 4:(a=e.sent)&&(a.services&&a.services.length>0?(this.serviceForApplicant=a.services,this.sessionService.ffServiceForApplicant=this.serviceForApplicant):(this.isDisabled=!0,this.showErrorMsgPopup("ROUTE",a.error))),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}},e,this,[[0,8]])}))}},{key:"submit",value:function(){this.utilityService.pushDataLayerGA({event:"form_fill_cta",eventCategory:"book_now",eventAction:"form_fill_book_now_click",entry_point:""}),this.commonService.routeToFFYourDetails()}},{key:"showErrorMsgPopup",value:function(e,t){var a=this;try{var n=this.dialog.open(Pm,{data:e});n.afterClosed().subscribe(function(e){return Object(g.b)(a,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:1069===t&&(this.utilityService.startNgxUiSpinner(),this.utilityService.stopNgxUiSpinner());case 1:case"end":return e.stop()}},e,this)}))}),this.router.events.subscribe(function(){n.close()})}catch(i){throw i}}}]),a}(kt.a),Lp.\u0275fac=function(e){return new(e||Lp)(u.Qb(v.a),u.Qb(be.a),u.Qb(za.b))},Lp.\u0275cmp=u.Kb({type:Lp,selectors:[["app-ff-info"]],features:[u.Ab],decls:105,vars:78,consts:[[2,"background-color","rgb(42 71 102)"],[1,"container"],[1,"c-white","fs-sm-25","pt-60","pb-60"],[1,"fs-sm-20",2,"color","rgb(42 71 102)"],[1,"fs-sm-14"],[1,"row","bg-lightgrey","mr-20","ml-0"],[1,"col-md-12","col-sm-12","col-lg-4","mt-20","mb-20"],[1,"fs-sm-20"],[1,"fs-sm-12"],[1,"col-md-12","col-sm-12","col-lg-2","mt-20","mb-20"],[1,"border-brand-orange",2,"min-width","150px","min-height","150px","border-style","solid"],[1,"mt-0","mb-10"],[1,"row","mr-20","ml-0","mt-10","mb-10"],[1,"fs-sm-20","fw-500","mt-10","mb-10"],[1,"table","table-bordered"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"row","mr-20","ml-0","mt-20","mb-10"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],["multi","",2,"width","100%"],["hideToggle",""],["aria-hidden","true",1,"fa","fa-plus","c-orange"],[1,"fs-sm-10"]],template:function(e,t){1&e&&(u.Wb(0,"div",0),u.Wb(1,"section",1),u.Wb(2,"p",2),u.Oc(3),u.mc(4,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Wb(5,"div"),u.Wb(6,"section",1),u.Wb(7,"p",3),u.Oc(8),u.mc(9,"translate"),u.Vb(),u.Wb(10,"p",4),u.Oc(11),u.mc(12,"translate"),u.mc(13,"translate"),u.Vb(),u.Wb(14,"div",5),u.Wb(15,"div",6),u.Wb(16,"p",7),u.Oc(17),u.mc(18,"translate"),u.Vb(),u.Wb(19,"p",8),u.Oc(20),u.mc(21,"translate"),u.Vb(),u.Vb(),u.Wb(22,"div",9),u.Wb(23,"mat-card",10),u.Wb(24,"mat-card-content"),u.Wb(25,"p",11),u.Oc(26),u.mc(27,"translate"),u.Vb(),u.Wb(28,"p",11),u.Oc(29),u.mc(30,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(31,"div",9),u.Wb(32,"mat-card",10),u.Wb(33,"mat-card-content"),u.Wb(34,"p",11),u.Oc(35),u.mc(36,"translate"),u.Vb(),u.Wb(37,"p",11),u.Oc(38),u.mc(39,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(40,"div",9),u.Wb(41,"mat-card",10),u.Wb(42,"mat-card-content"),u.Wb(43,"p",11),u.Oc(44),u.mc(45,"translate"),u.Vb(),u.Wb(46,"p",11),u.Oc(47),u.mc(48,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(49,"div",12),u.Wb(50,"p",13),u.Oc(51),u.mc(52,"translate"),u.Vb(),u.Vb(),u.Wb(53,"div",12),u.Wb(54,"table",14),u.Wb(55,"tr"),u.Wb(56,"th"),u.Oc(57),u.mc(58,"translate"),u.Vb(),u.Wb(59,"th"),u.Oc(60),u.mc(61,"translate"),u.Vb(),u.Vb(),u.Mc(62,Fm,8,6,"tr",15),u.Vb(),u.Vb(),u.Wb(63,"div",16),u.Wb(64,"button",17),u.hc("click",function(){return t.submit()}),u.Oc(65),u.mc(66,"translate"),u.Vb(),u.Vb(),u.Wb(67,"div",12),u.Wb(68,"p",13),u.Oc(69),u.mc(70,"translate"),u.Vb(),u.Vb(),u.Wb(71,"div",12),u.Wb(72,"mat-accordion",18),u.Wb(73,"mat-expansion-panel",19),u.Wb(74,"mat-expansion-panel-header"),u.Wb(75,"mat-panel-title"),u.Oc(76),u.mc(77,"translate"),u.Vb(),u.Rb(78,"i",20),u.Vb(),u.Oc(79),u.mc(80,"translate"),u.Vb(),u.Wb(81,"mat-expansion-panel",19),u.Wb(82,"mat-expansion-panel-header"),u.Wb(83,"mat-panel-title"),u.Oc(84),u.mc(85,"translate"),u.Vb(),u.Rb(86,"i",20),u.Vb(),u.Oc(87),u.mc(88,"translate"),u.Vb(),u.Wb(89,"mat-expansion-panel",19),u.Wb(90,"mat-expansion-panel-header"),u.Wb(91,"mat-panel-title"),u.Oc(92),u.mc(93,"translate"),u.Vb(),u.Rb(94,"i",20),u.Vb(),u.Oc(95),u.mc(96,"translate"),u.Vb(),u.Wb(97,"mat-expansion-panel",19),u.Wb(98,"mat-expansion-panel-header"),u.Wb(99,"mat-panel-title"),u.Oc(100),u.mc(101,"translate"),u.Vb(),u.Rb(102,"i",20),u.Vb(),u.Oc(103),u.mc(104,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.Db(3),u.Pc(u.nc(4,28,"formFilling.pageDetails.para1")),u.Db(5),u.Qc(" ",u.nc(9,30,"formFilling.pageDetails.para2")," "),u.Db(3),u.Rc(" ",u.nc(12,32,"formFilling.pageDetails.para3")," ",u.nc(13,34,"formFilling.pageDetails.para4")," "),u.Db(6),u.Pc(u.nc(18,36,"formFilling.pageDetails.para5")),u.Db(3),u.Qc(" ",u.nc(21,38,"formFilling.pageDetails.para6")," "),u.Db(6),u.Pc(u.nc(27,40,"formFilling.pageDetails.para7")),u.Db(3),u.Pc(u.nc(30,42,"formFilling.pageDetails.para8")),u.Db(6),u.Pc(u.nc(36,44,"formFilling.pageDetails.para9")),u.Db(3),u.Pc(u.nc(39,46,"formFilling.pageDetails.para10")),u.Db(6),u.Pc(u.nc(45,48,"formFilling.pageDetails.para11")),u.Db(3),u.Pc(u.nc(48,50,"formFilling.pageDetails.para12")),u.Db(4),u.Qc(" ",u.nc(52,52,"formFilling.pageDetails.para13")," "),u.Db(6),u.Pc(u.nc(58,54,"formFilling.pageDetails.para14")),u.Db(3),u.Pc(u.nc(61,56,"formFilling.pageDetails.para15")),u.Db(2),u.tc("ngForOf",t.serviceForApplicant)("ngForTrackBy",t.trackByFn),u.Db(2),u.tc("disabled",t.isDisabled),u.Db(1),u.Pc(u.nc(66,58,"formFilling.buttons.button1")),u.Db(4),u.Qc(" ",u.nc(70,60,"formFilling.pageDetails.para17")," "),u.Db(7),u.Qc(" ",u.nc(77,62,"formFilling.pageDetails.para18")," "),u.Db(3),u.Qc(" ",u.nc(80,64,"formFilling.pageDetails.para19")," "),u.Db(5),u.Qc(" ",u.nc(85,66,"formFilling.pageDetails.para20")," "),u.Db(3),u.Qc(" ",u.nc(88,68,"formFilling.pageDetails.para21")," "),u.Db(5),u.Qc(" ",u.nc(93,70,"formFilling.pageDetails.para22")," "),u.Db(3),u.Qc(" ",u.nc(96,72,"formFilling.pageDetails.para23")," "),u.Db(5),u.Qc(" ",u.nc(101,74,"formFilling.pageDetails.para24")," "),u.Db(3),u.Qc(" ",u.nc(104,76,"formFilling.pageDetails.para25")," "))},directives:[C.a,C.b,D.n,O.a,bn.a,bn.c,bn.d,bn.e],pipes:[I.d],encapsulation:2}),Lp),data:{title:"formFilling.pageTitle.label1",breadcrumb:"Form Filling Service"}},{path:h.q.FF_YOUR_DETAILS,component:(Tp=function(e){s(a,e);var t=c(a);function a(e,n,i,r,o){var s;return p(this,a),(s=t.call(this)).fb=e,s.utilityService=n,s.httpService=i,s.dialog=r,s.datePipe=o,s.numberOfPassengersList=[],s.formGroup=new b.i({}),s.post="",s.totalPassenger=0,s.totalGST=0,s.grandTotal=0,s}return f(a,[{key:"ngOnInit",value:function(){for(var e=1;e<=Number(Cp);e++)this.numberOfPassengersList.push(e);this.sessionService.ffServiceForApplicant?(this.serviceForApplicant=this.sessionService.ffServiceForApplicant,this.dialCode=this.serviceForApplicant[0].dialCode,this.ffServiceFeeCalculation({value:1})):this.commonService.routeToNotFound(),this.loadSubVisaCategoryList(),this.initModule();var t=this.utilityService.momentInstance(this.utilityService.momentInstance().format("DD/MM/YYYY"),"DD/MM/YYYY");this.travelStartDate={year:+t.format("YYYY"),month:+t.format("MM"),day:+t.format("DD")}}},{key:"initModule",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{this.formGroup=this.getInitForm()}catch(t){this.logger.error(t)}case 1:case"end":return e.stop()}},e,this)}))}},{key:"getInitForm",value:function(){try{return new b.i({firstName:new b.f("",[b.x.required,b.x.minLength(3),b.x.maxLength(50),b.x.pattern(h.s.NAME)]),lastName:new b.f("",[b.x.required,b.x.minLength(3),b.x.maxLength(50),b.x.pattern(h.s.NAME)]),email:new b.f("",[b.x.required,b.x.pattern(h.s.email_caps_allowed)]),phoneNumber:new b.f("",[b.x.required,b.x.maxLength(10),b.x.pattern(h.s.NUMERIC)]),applyingFrom:new b.f({value:this.utilityService.countrynameByIso(this.sessionService.countryCode),disabled:!0}),travellingTo:new b.f({value:this.utilityService.countrynameByIso(this.sessionService.tenent),disabled:!0}),myPassportIsFrom:new b.f({value:this.utilityService.countrynameByIso(this.sessionService.countryCode),disabled:!0}),purposeOfTravel:new b.f("",[b.x.required]),travellingDate:new b.f("",[b.x.required]),numberOfPassengers:new b.f(1,[b.x.required]),dialCode:new b.f({value:this.dialCode,disabled:!0})})}catch(e){throw e}}},{key:"loadSubVisaCategoryList",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(h.c.api.subVisaCategory,"/").concat(this.sessionService.tenent,"/").concat(this.sessionService.countryCode,"/").concat(this.sessionService.appCultureCode),e.next=3,this.httpService.doGet(t).toPromise().then(function(e){return e}).catch(function(e){return e});case 3:(a=e.sent)&&(this.subVisaCategoryList=a);case 5:case"end":return e.stop()}},e,this)}))}},{key:"changePurposeofTravel",value:function(e){this.utilityService.pushDataLayerGA({event:"form_fill",eventCategory:"visa_application_form",eventAction:e.source.ngControl.name+"_click",eventLabel:e.source.ngControl.name,entry_point:""})}},{key:"changemyPassportIsFrom",value:function(e){this.nationalityList.setvalues(e.target.value)}},{key:"onInitiatePay",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,a,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.utilityService.pushDataLayerGA({event:"post_form_fill_cta",eventCategory:"book_now",eventAction:"post_form_book_now_click",entry_point:""}),this.formGroup.value.travellingDate){e.next=3;break}return e.abrupt("return");case 3:return this.formGroup.value.travellingDate.month<=9&&(this.formGroup.value.travellingDate.month="0"+this.formGroup.value.travellingDate.month),this.formGroup.value.travellingDate.day<=9&&(this.formGroup.value.travellingDate.day="0"+this.formGroup.value.travellingDate.day),t={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,firstName:this.formGroup.value.firstName.trim(),lastName:this.formGroup.value.lastName.trim(),email:this.formGroup.value.email,mobileNumber:this.formGroup.value.phoneNumber,nationalityCode:this.sessionService.countryCode,nationalityName:this.utilityService.countrynameByIso(this.sessionService.countryCode),visaCategoryCode:this.formGroup.value.purposeOfTravel,travellingDate:this.formGroup.value.travellingDate.year+"-"+this.formGroup.value.travellingDate.month+"-"+this.formGroup.value.travellingDate.day,cultureCode:this.sessionService.appCultureCode,isFormFillingService:!0,applicantCount:Number(this.formGroup.value.numberOfPassengers)},console.log(this.formGroup.value.travellingDate),e.next=8,this.httpService.payloadWithoutTokenPost(h.c.api.serviceApplicants,t).toPromise().then(function(e){return e}).catch(function(e){return e});case 8:if(null==(a=e.sent).error){e.next=12;break}throw a.error&&a.error.code&&(n=a.error.description,this.utilityService.stopNgxUiSpinner(),this.showErrorMsgPopup(n,a.error.code)),new Error(a.error.description);case 12:a.email=this.formGroup.value.email,this.sessionService.ffApplicantDetails=a,this.sessionService.jwtToken=a.accessToken,i="".concat(a.url,"?RequestRefNo=").concat(a.requestRefNo,"&Currency=").concat(a.currency,"&Culture=").concat(a.cultureCode,"&Amount=").concat(a.totalAmount,"&DigitalSignature=").concat(a.digitalSignature,"&RedirectURL="),window.open(i,"_self"),e.next=20;break;case 17:throw e.prev=17,e.t0=e.catch(0),e.t0;case 20:case"end":return e.stop()}},e,this,[[0,17]])}))}},{key:"ffServiceFeeCalculation",value:function(e){this.serviceForApplicant&&(this.amountWithTax=this.serviceForApplicant[0].amountWithTax,this.unitPrice=this.serviceForApplicant[0].unitPrice),this.formGroup.value&&(this.totalPassenger=e.value,this.gST=this.amountWithTax-this.unitPrice,this.totalGST=this.totalPassenger*this.gST,this.serviceFee=this.totalPassenger*this.unitPrice,this.grandTotal=this.serviceFee+this.totalGST,e.source)&&this.utilityService.pushDataLayerGA({event:"form_fill",eventCategory:"visa_application_form",eventAction:e.source.ngControl.name+"_click",eventLabel:e.source.ngControl.name,entry_point:""})}},{key:"showErrorMsgPopup",value:function(e,t){var a=this;try{var n=this.dialog.open(di,{data:e});n.afterClosed().subscribe(function(e){return Object(g.b)(a,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:1069===t&&(this.utilityService.startNgxUiSpinner(),this.utilityService.stopNgxUiSpinner());case 1:case"end":return e.stop()}},e,this)}))}),this.router.events.subscribe(function(){n.close()})}catch(i){throw i}}},{key:"dateFormatConversion",value:function(e){return this.utilityService.momentInstance(e).format("YYYY-MM-DD")}},{key:"ffYourDetailsGA",value:function(e){this.utilityService.pushDataLayerGA({event:"form_fill",eventCategory:"visa_application_form",eventAction:e.target.ariaLabel+"_click",eventLabel:e.target.ariaLabel,entry_point:""})}},{key:"ffDatePickerGA",value:function(e){this.utilityService.pushDataLayerGA({event:"form_fill",eventCategory:"visa_application_form",eventAction:e+"_click",eventLabel:e,entry_point:""})}},{key:"validateTravelDate",value:function(e,t){this.formGroup.controls.travellingDate.updateValueAndValidity();var a=this.dateFormatConversion(this.formGroup.value.travellingDate.year+"/"+this.formGroup.value.travellingDate.month+"/"+this.formGroup.value.travellingDate.day);if("traveldate"===t){var n=this.datePipe.transform(a,this.dateFormat);this.dateFormatTravelDate=n}}}]),a}(kt.a),Tp.\u0275fac=function(e){return new(e||Tp)(u.Qb(b.e),u.Qb(ye.a),u.Qb(be.a),u.Qb(za.b),u.Qb(D.e))},Tp.\u0275cmp=u.Kb({type:Tp,selectors:[["app-ff-your-details"]],viewQuery:function(e,t){var a;1&e&&u.Uc(_m,3),2&e&&u.Ac(a=u.ic())&&(t.dateInputField=a.first)},features:[u.Ab],decls:173,vars:149,consts:[[1,"container","py-15","py-md-10"],[1,"form-card","p-0","border-0","shadow-none"],[1,"fs-sm-18","fs-sm-32","mb-20"],[3,"formGroup"],[1,"form-card","p-3","border-0","shadow-none"],[1,"row"],[1,"col-sm-12","col-md-12","col-lg-8","border-bottom-2"],[1,"col-lg-6","col-md-12","col-sm-12","mt-20"],["tabindex","3",1,"form-group","p-3",3,"ngClass"],[1,"fs-sm-16","mb-10"],[1,"c-brand-error"],["class","errorMessage","aria-live","assertive",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["matInput","","type","text","name","firstName","formControlName","firstName","autocomplete","off","attr.aria-required","true","minlength","3","maxlength","50",2,"text-transform","uppercase",3,"placeholder","change"],["name","lastName","formControlName","lastName","autocomplete","off","attr.aria-required","true","matInput","","type","text","minlength","3","maxlength","50",2,"text-transform","uppercase",3,"placeholder","change"],["matInput","","type","text","name","email","formControlName","email","required","","autocomplete","off","attr.aria-required","true",2,"text-transform","uppercase",3,"placeholder","change"],["class","col-lg-4 col-md-6 col-sm-12",4,"ngIf"],[1,"col-lg-8","col-md-6","col-sm-12"],["matInput","","type","text","name","phoneNumber","formControlName","phoneNumber","autocomplete","off","maxlength","10","minlength","10","attr.aria-required","true",2,"text-transform","uppercase",3,"placeholder","change"],[1,"col-sm-12","col-md-12","col-lg-4"],[1,"row","border-2"],[1,"col-12","col-sm-12","mt-20","mat-card"],[1,"form-card","p-0","border-0","shadow-none",2,"text-align","center"],[1,"fs-sm-16","fs-sm-16","mt-20","mb-20"],[1,"row","border-bottom-2"],[1,"col-6","col-sm-6","mb-10",2,"text-align","left"],["class","col-6 col-sm-6 mb-10","style","text-align: right;",4,"ngIf"],[1,"row","border-bottom-2","mt-20"],[1,"col-6","col-sm-6","mb-10",2,"text-align","right"],[1,"col-6","col-sm-6","mb-10","fw-600",2,"text-align","left"],[1,"col-6","col-sm-6","mb-10","fw-600",2,"text-align","right"],[1,"col-lg-8","col-md-12","col-md-12"],[1,"form-group","p-3"],["matInput","","type","text","name","applyingFrom","formControlName","applyingFrom","autocomplete","off","attr.aria-required","true",2,"text-transform","uppercase",3,"placeholder"],["matInput","","type","text","name","travellingTo","formControlName","travellingTo","autocomplete","off","attr.aria-required","true",2,"text-transform","uppercase",3,"placeholder"],["matInput","","type","text","name","myPassportIsFrom","formControlName","myPassportIsFrom","autocomplete","off","attr.aria-required","true",2,"text-transform","uppercase",3,"placeholder"],["name","purposeOfTravel","formControlName","purposeOfTravel",3,"placeholder","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["name","numberOfPassengers","formControlName","numberOfPassengers",3,"selectionChange"],[1,"datepicker-div","form-group"],["ngbDatepicker","","autocomplete","off","formControlName","travellingDate",1,"form-control","input-lg","mt-5",3,"value","minDate","placeholder","change","ngModelChange","dateSelect"],["datePickerReference1","ngbDatepicker"],[1,"input-group-addon",3,"click"],[1,"col-lg-8","col-md-12","col-sm-12"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],["aria-live","assertive",1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[1,"col-lg-4","col-md-6","col-sm-12"],["tabindex","3",1,"form-group","p-3"],["matInput","","type","text","name","dialCode","formControlName","dialCode","autocomplete","off","attr.aria-required","true",2,"text-transform","uppercase"],[3,"value"]],template:function(e,t){if(1&e){var a=u.Xb();u.Wb(0,"section",0),u.Wb(1,"div",1),u.Wb(2,"h1",2),u.Oc(3),u.mc(4,"translate"),u.Vb(),u.Vb(),u.Wb(5,"h4"),u.Oc(6),u.mc(7,"translate"),u.Vb(),u.Wb(8,"form",3),u.Wb(9,"div",4),u.Wb(10,"div",5),u.Wb(11,"div",6),u.Wb(12,"div",5),u.Wb(13,"div",7),u.Wb(14,"div",8),u.Wb(15,"h5",9),u.Oc(16),u.mc(17,"translate"),u.Wb(18,"span",10),u.Oc(19,"*"),u.Vb(),u.Vb(),u.Mc(20,jm,5,4,"div",11),u.Wb(21,"mat-form-field",12),u.Wb(22,"input",13),u.hc("change",function(e){return t.ffYourDetailsGA(e)}),u.mc(23,"translate"),u.mc(24,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(25,"div",7),u.Wb(26,"div",8),u.Wb(27,"h5",9),u.Oc(28),u.mc(29,"translate"),u.Wb(30,"span",10),u.Oc(31,"*"),u.Vb(),u.Vb(),u.Mc(32,Km,5,4,"div",11),u.Wb(33,"mat-form-field",12),u.Wb(34,"input",14),u.hc("change",function(e){return t.ffYourDetailsGA(e)}),u.mc(35,"translate"),u.mc(36,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(37,"div",5),u.Wb(38,"div",7),u.Wb(39,"div",8),u.Wb(40,"h5",9),u.Oc(41),u.mc(42,"translate"),u.Wb(43,"span",10),u.Oc(44,"*"),u.Vb(),u.Vb(),u.Mc(45,Zm,3,2,"div",11),u.Wb(46,"mat-form-field",12),u.Wb(47,"input",15),u.hc("change",function(e){return t.ffYourDetailsGA(e)}),u.mc(48,"translate"),u.mc(49,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(50,"div",7),u.Wb(51,"div",5),u.Mc(52,Jm,7,3,"div",16),u.Wb(53,"div",17),u.Wb(54,"div",8),u.Wb(55,"h5",9),u.Oc(56),u.mc(57,"translate"),u.Wb(58,"span",10),u.Oc(59,"*"),u.Vb(),u.Vb(),u.Mc(60,np,5,4,"div",11),u.Wb(61,"mat-form-field",12),u.Wb(62,"input",18),u.hc("change",function(e){return t.ffYourDetailsGA(e)}),u.mc(63,"translate"),u.mc(64,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(65,"div",19),u.Wb(66,"div",20),u.Wb(67,"div",21),u.Wb(68,"div",22),u.Wb(69,"h5",23),u.Oc(70),u.mc(71,"translate"),u.Vb(),u.Vb(),u.Wb(72,"div",24),u.Wb(73,"div",25),u.Oc(74),u.mc(75,"translate"),u.Vb(),u.Mc(76,ip,2,2,"div",26),u.Mc(77,rp,2,3,"div",26),u.Vb(),u.Wb(78,"div",27),u.Wb(79,"div",25),u.Oc(80),u.mc(81,"translate"),u.Vb(),u.Wb(82,"div",28),u.Oc(83),u.Vb(),u.Vb(),u.Wb(84,"div",27),u.Wb(85,"div",29),u.Oc(86),u.mc(87,"translate"),u.Vb(),u.Wb(88,"div",30),u.Oc(89),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(90,"div",5),u.Wb(91,"div",31),u.Wb(92,"div",5),u.Wb(93,"div",7),u.Wb(94,"div",32),u.Wb(95,"div",8),u.Wb(96,"h5",9),u.Oc(97),u.mc(98,"translate"),u.Wb(99,"span",10),u.Oc(100,"*"),u.Vb(),u.Vb(),u.Mc(101,lp,3,2,"div",11),u.Wb(102,"mat-form-field",12),u.Rb(103,"input",33),u.mc(104,"translate"),u.mc(105,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(106,"div",7),u.Wb(107,"div",32),u.Wb(108,"div",8),u.Wb(109,"h5",9),u.Oc(110),u.mc(111,"translate"),u.Wb(112,"span",10),u.Oc(113,"*"),u.Vb(),u.Vb(),u.Mc(114,dp,3,2,"div",11),u.Wb(115,"mat-form-field",12),u.Rb(116,"input",34),u.mc(117,"translate"),u.mc(118,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(119,"div",5),u.Wb(120,"div",7),u.Wb(121,"div",8),u.Wb(122,"h5",9),u.Oc(123),u.mc(124,"translate"),u.Wb(125,"span",10),u.Oc(126,"*"),u.Vb(),u.Vb(),u.Mc(127,pp,2,1,"div",11),u.Wb(128,"mat-form-field",12),u.Rb(129,"input",35),u.mc(130,"translate"),u.mc(131,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Wb(132,"div",7),u.Wb(133,"div",8),u.Wb(134,"h5",9),u.Oc(135),u.mc(136,"translate"),u.Wb(137,"span",10),u.Oc(138,"*"),u.Vb(),u.Vb(),u.Mc(139,fp,2,1,"div",11),u.Wb(140,"mat-form-field",12),u.Wb(141,"mat-select",36),u.hc("selectionChange",function(e){return t.changePurposeofTravel(e)}),u.mc(142,"translate"),u.Mc(143,vp,2,2,"mat-option",37),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(144,"div",5),u.Wb(145,"div",7),u.Wb(146,"div",8),u.Wb(147,"h5",9),u.Oc(148),u.mc(149,"translate"),u.Wb(150,"span",10),u.Oc(151,"*"),u.Vb(),u.Vb(),u.Wb(152,"mat-form-field",12),u.Wb(153,"mat-select",38),u.hc("selectionChange",function(e){return t.ffServiceFeeCalculation(e)}),u.Mc(154,gp,2,2,"mat-option",37),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(155,"div",7),u.Wb(156,"div",8),u.Wb(157,"h5",9),u.Oc(158),u.mc(159,"translate"),u.Wb(160,"span",10),u.Oc(161,"*"),u.Vb(),u.Vb(),u.Mc(162,yp,2,1,"div",11),u.Wb(163,"div",39),u.Wb(164,"input",40,41),u.hc("change",function(){return t.validateTravelDate(t.formGroup.value.travellingDate,"traveldate")})("ngModelChange",function(e){return t.validateTravelDate(e,"traveldate")})("dateSelect",function(){return t.ffDatePickerGA("travellingDate")}),u.mc(166,"translate"),u.Vb(),u.Wb(167,"div",42),u.hc("click",function(){return u.Fc(a),u.Bc(165).toggle()}),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(168,"div",5),u.Wb(169,"div",43),u.Wb(170,"button",44),u.hc("click",function(){return t.onInitiatePay()}),u.Oc(171),u.mc(172,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()}2&e&&(u.Db(3),u.Pc(u.nc(4,63,"formFilling.headerLabel.label1")),u.Db(3),u.Pc(u.nc(7,65,"formFilling.headerLabel.label2")),u.Db(2),u.tc("formGroup",t.formGroup),u.Db(6),u.tc("ngClass",u.xc(129,Sp,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.firstName?null:t.formGroup.controls.firstName.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.firstName?null:t.formGroup.controls.firstName.invalid))),u.Db(2),u.Qc("",u.nc(17,67,"formFilling.formLabel.label1")," "),u.Db(4),u.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.firstName?null:t.formGroup.controls.firstName.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.firstName?null:t.formGroup.controls.firstName.errors)),u.Db(2),u.uc("placeholder",u.nc(23,69,"formFilling.placeholder.label1")),u.Eb("aria-label",u.nc(24,71,"formFilling.formLabel.label1")),u.Db(4),u.tc("ngClass",u.xc(131,Sp,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.lastName?null:t.formGroup.controls.lastName.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.lastName?null:t.formGroup.controls.lastName.invalid))),u.Db(2),u.Pc(u.nc(29,73,"formFilling.formLabel.label2")),u.Db(4),u.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.lastName?null:t.formGroup.controls.lastName.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.lastName?null:t.formGroup.controls.lastName.errors)),u.Db(2),u.uc("placeholder",u.nc(35,75,"formFilling.placeholder.label2")),u.Eb("aria-label",u.nc(36,77,"formFilling.formLabel.label2")),u.Db(5),u.tc("ngClass",u.xc(133,Sp,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.email?null:t.formGroup.controls.email.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.email?null:t.formGroup.controls.email.invalid))),u.Db(2),u.Pc(u.nc(42,79,"formFilling.formLabel.label3")),u.Db(4),u.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.email?null:t.formGroup.controls.email.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.email?null:t.formGroup.controls.email.errors)),u.Db(2),u.uc("placeholder",u.nc(48,81,"formFilling.placeholder.label3")),u.Eb("aria-label",u.nc(49,83,"formFilling.formLabel.label3")),u.Db(5),u.tc("ngIf",t.dialCode),u.Db(2),u.tc("ngClass",u.xc(135,Sp,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.phoneNumber?null:t.formGroup.controls.phoneNumber.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.phoneNumber?null:t.formGroup.controls.phoneNumber.invalid))),u.Db(2),u.Pc(u.nc(57,85,"formFilling.formLabel.label4")),u.Db(4),u.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.phoneNumber?null:t.formGroup.controls.phoneNumber.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.phoneNumber?null:t.formGroup.controls.phoneNumber.errors)),u.Db(2),u.uc("placeholder",u.nc(63,87,"formFilling.placeholder.label4")),u.Eb("aria-label",u.nc(64,89,"formFilling.formLabel.label4")),u.Db(8),u.Pc(u.nc(71,91,"formFilling.headerLabel.label1")),u.Db(4),u.Qc(" ",u.nc(75,93,"formFilling.formLabel.label11")," "),u.Db(2),u.tc("ngIf",0==t.totalPassenger),u.Db(1),u.tc("ngIf",0!=t.totalPassenger),u.Db(3),u.Qc(" ",u.nc(81,95,"formFilling.formLabel.label12")," "),u.Db(3),u.Qc(" ",t.totalGST," "),u.Db(3),u.Qc(" ",u.nc(87,97,"formFilling.formLabel.label13")," "),u.Db(3),u.Qc(" ",t.grandTotal," "),u.Db(6),u.tc("ngClass",u.xc(137,Sp,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.applyingFrom?null:t.formGroup.controls.applyingFrom.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.applyingFrom?null:t.formGroup.controls.applyingFrom.invalid))),u.Db(2),u.Pc(u.nc(98,99,"formFilling.formLabel.label5")),u.Db(4),u.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.applyingFrom?null:t.formGroup.controls.applyingFrom.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.applyingFrom?null:t.formGroup.controls.applyingFrom.errors)),u.Db(2),u.uc("placeholder",u.nc(104,101,"formFilling.placeholder.label5")),u.Eb("aria-label",u.nc(105,103,"formFilling.formLabel.label5")),u.Db(5),u.tc("ngClass",u.xc(139,Sp,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.travellingTo?null:t.formGroup.controls.travellingTo.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.travellingTo?null:t.formGroup.controls.travellingTo.invalid))),u.Db(2),u.Pc(u.nc(111,105,"formFilling.formLabel.label6")),u.Db(4),u.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.travellingTo?null:t.formGroup.controls.travellingTo.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.travellingTo?null:t.formGroup.controls.travellingTo.errors)),u.Db(2),u.uc("placeholder",u.nc(117,107,"formFilling.placeholder.label10")),u.Eb("aria-label",u.nc(118,109,"formFilling.formLabel.label6")),u.Db(5),u.tc("ngClass",u.xc(141,Sp,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.myPassportIsFrom?null:t.formGroup.controls.myPassportIsFrom.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.myPassportIsFrom?null:t.formGroup.controls.myPassportIsFrom.invalid))),u.Db(2),u.Pc(u.nc(124,111,"formFilling.formLabel.label7")),u.Db(4),u.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.myPassportIsFrom?null:t.formGroup.controls.myPassportIsFrom.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.myPassportIsFrom?null:t.formGroup.controls.myPassportIsFrom.errors)),u.Db(2),u.uc("placeholder",u.nc(130,113,"formFilling.placeholder.label5")),u.Eb("aria-label",u.nc(131,115,"formFilling.formLabel.label5")),u.Db(4),u.tc("ngClass",u.xc(143,Sp,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.purposeOfTravel?null:t.formGroup.controls.purposeOfTravel.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.purposeOfTravel?null:t.formGroup.controls.purposeOfTravel.invalid))),u.Db(2),u.Pc(u.nc(136,117,"formFilling.formLabel.label8")),u.Db(4),u.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.purposeOfTravel?null:t.formGroup.controls.purposeOfTravel.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.purposeOfTravel?null:t.formGroup.controls.purposeOfTravel.errors)),u.Db(2),u.uc("placeholder",u.nc(142,119,"formFilling.placeholder.label7")),u.Db(2),u.tc("ngForOf",t.subVisaCategoryList),u.Db(3),u.tc("ngClass",u.xc(145,Sp,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.numberOfPassengers?null:t.formGroup.controls.numberOfPassengers.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.numberOfPassengers?null:t.formGroup.controls.numberOfPassengers.invalid))),u.Db(2),u.Pc(u.nc(149,121,"formFilling.formLabel.label9")),u.Db(6),u.tc("ngForOf",t.numberOfPassengersList),u.Db(2),u.tc("ngClass",u.xc(147,Sp,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.travellingDate?null:t.formGroup.controls.travellingDate.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.travellingDate?null:t.formGroup.controls.travellingDate.invalid))),u.Db(2),u.Pc(u.nc(159,123,"formFilling.formLabel.label10")),u.Db(4),u.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.travellingDate?null:t.formGroup.controls.travellingDate.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.travellingDate?null:t.formGroup.controls.travellingDate.errors)),u.Db(2),u.uc("placeholder",u.nc(166,125,"formFilling.placeholder.label9")),u.tc("value",t.dateFormatTravelDate)("minDate",t.travelStartDate),u.Db(6),u.tc("disabled",t.formGroup.invalid),u.Db(1),u.Pc(u.nc(172,127,"formFilling.buttons.button1")))},directives:[b.y,b.r,b.j,D.m,D.o,V.b,k.b,b.d,b.q,b.h,b.m,b.l,b.w,wt.a,D.n,Lt.d,O.a,Et.j],pipes:[I.d],encapsulation:2}),Tp),data:{title:"formFilling.pageTitle.label2",breadcrumb:"Form Filling Service"}},{path:h.q.FF_PAYMENT_CONFIRMATION,component:(Op=function(e){s(a,e);var t=c(a);function a(e,n,i){var r;return p(this,a),(r=t.call(this)).baseService=e,r.activatedRoute=n,r.dialog=i,r.successPaymentData={},r.currencyCode=r.sessionService.currencyCode||"",r.alreadyConfirm="",r.requestComplete=!1,r}return f(a,[{key:"ngOnInit",value:function(){this.sessionService.updateJwtFF(this.sessionService.jwtToken),this.confirmPaymentFF()}},{key:"confirmPaymentFF",value:function(){var e,t;return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function a(){var n,i,r,o,s,l,c;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=this.sessionService.tenent,i=this.sessionService.countryCode,r=null===(e=this.activatedRoute.snapshot.queryParams)||void 0===e?void 0:e.TransactionId,o=null===(t=this.activatedRoute.snapshot.queryParams)||void 0===t?void 0:t.PaymentStatus,s=JSON.parse(this.sessionService.ffApplicantDetails),l={missionCode:n,countryCode:i,loginUser:s.email,urn:s.urn,bankReferenceNo:r,requestReferenceNo:s.requestRefNo,amount:s.totalAmount,currency:s.currency,isFormFillingService:!0},a.next=5,this.httpService.payloadPost(h.c.api.confirmSevicePayment,l).toPromise().then(function(e){return e}).catch(function(e){return e});case 5:(c=a.sent)&&null==c.error?(c.transactionId=r,c.transactionAmount=s.totalAmount,this.sessionService.ffPaymentDetails=c,this.commonService.routeToFFTransactionSummary()):("False"==o||c.error&&c.error.code)&&(this.requestComplete=!0,this.successPaymentData={PaymentStatus:"False"});case 7:case"end":return a.stop()}},a,this)}))}},{key:"showErrorMsgPopup",value:function(e,t){var a=this;try{var n=this.dialog.open(di,{data:e});n.afterClosed().subscribe(function(e){return Object(g.b)(a,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:1069===t&&(this.utilityService.startNgxUiSpinner(),this.utilityService.stopNgxUiSpinner());case 1:case"end":return e.stop()}},e,this)}))}),this.router.events.subscribe(function(){n.close()})}catch(i){throw i}}}]),a}(kt.a),Op.\u0275fac=function(e){return new(e||Op)(u.Qb(ge),u.Qb(v.a),u.Qb(za.b))},Op.\u0275cmp=u.Kb({type:Op,selectors:[["app-ff-payment-confirmation"]],features:[u.Ab],decls:1,vars:1,consts:[["class","container py-15 py-md-30",4,"ngIf"],[1,"container","py-15","py-md-30"],[4,"ngIf"],["class","form-card mb-20 mb-sm-50",4,"ngIf"],[1,"form-card","mb-20","mb-sm-50"],[1,"c-brand-grey-para","fs-sm-18","mb-8"]],template:function(e,t){1&e&&u.Mc(0,Vp,2,1,"section",0),2&e&&u.tc("ngIf",t.requestComplete)},directives:[D.o,C.a],pipes:[I.d],encapsulation:2}),Op),data:{title:"formFilling.pageTitle.label3",breadcrumb:"Payment Confirmation"}},{path:h.q.FF_TRANSACTION_SUMMARY,component:(Ap=function(e){s(a,e);var t=c(a);function a(e){var n;return p(this,a),(n=t.call(this)).baseService=e,n.ffServiceForApplicant=n.sessionService.ffServiceForApplicant,n}return f(a,[{key:"ngOnInit",value:function(){this.ffPaymentDetails=this.sessionService.ffPaymentDetails,this.utilityService.pushDataLayerGA({event:"thank_you_page",eventCategory:"booking_sucessful",eventAction:"visa_application_successful",entry_point:"",payment_gateway_name:"",order_no:this.ffPaymentDetails.orderNumber})}}]),a}(kt.a),Ap.\u0275fac=function(e){return new(e||Ap)(u.Qb(ge))},Ap.\u0275cmp=u.Kb({type:Ap,selectors:[["app-ff-transaction-summary"]],features:[u.Ab],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"mt-10",2,"color","rgb(42 71 102)"],[1,"c-brand-grey-para","fs-sm-18","mb-8"]],template:function(e,t){1&e&&u.Mc(0,kp,10,10,"section",0),2&e&&u.tc("ngIf",t.ffPaymentDetails)},directives:[D.o],pipes:[I.d],encapsulation:2}),Ap),data:{title:"formFilling.pageTitle.label4",breadcrumb:"Payment Summary"}},{path:h.q.ON_BOARDING,component:pe,data:{title:"onBoarding.pageTitle"}},{path:h.q.LOGIN,component:it,data:{title:"login.pageTitle"}},{path:h.q.FORGOT_PASSWORD,component:St,data:{title:"forogotpassword.pageTitle"}},{path:h.q.ACTIVATE_EMAIL,component:Ct,data:{title:"activate mail"}},{path:h.q.RESETPASSWORD,component:Ps,data:{title:"resetpassword.pageTitle"}},{path:h.q.RESEND_EMAIL_ACTIVATION,component:qu,data:{title:"resendemailactivation.pageTitle"}},{path:h.q.RESEND_EMAIL_ACTIVATION,component:qu,data:{title:"resendemailactivation.pageTitle"}},{path:h.q.TMI_OAB_Login,component:Xd,data:{title:"TMI OAB Login"}},{path:h.q.APPOINTMENT_VERIFICATION,component:ul,data:{title:"appointmentverification.pageTitle"}},{path:"",redirectTo:h.q.LOGIN,pathMatch:"full"}]},{path:"",canActivate:[It],children:[{path:h.q.APPLICATION_DETAIL,component:Ha,data:{title:"eligibilityCriteria.pageTitle"}},{path:h.q.APPLICATION_DETAILS,component:pd,data:{title:"eligibilityCriteria.pageTitle"}},{path:h.q.REVIEW_AND_PAY,component:Ka.a,data:{title:"reviewAndPayment.pageTitle"}},{path:h.q.DASHBOARD,component:ui,data:{title:"dashboard.pageTitle"}},{path:h.q.YOUR_DETAILS,component:Ki,data:{title:"applicantInformation.pageTitle"}},{path:h.q.PAYMENT_CONFIRMATION,component:Mr,data:{title:"paymentConfirmation.pageTitle"}},{path:h.q.BOOK_APPOINTMENT,component:Vo,data:{title:"bookAppointment.pageTitle"}},{path:h.q.SERVICES,component:ds,data:{title:"services.pageTitle"}},{path:h.q.COURIER_ADDRESS,component:jd,data:{title:"courierAddressDetails.pageTitle"}},{path:h.q.POSTAL_INFORMATION,component:$s,data:{title:"postalInformation.pageTitle"}},{path:h.q.TRAVEL_MEDICAL_INSURANCE,component:Au,data:{title:"travelMedicalInformation.pageTitle"}},{path:h.q.UPDATE_CATEGORY,component:Pu,data:{title:"updateCategory.pageTitle"}},{path:h.q.VAYD_ADDRESS,component:wm,data:{title:"VaydAddress.pageTitle"}},{path:"",redirectTo:h.q.DASHBOARD,pathMatch:"full"}]},{path:h.q.NOT_FOUND,component:_s,data:{title:"notFound.pageTitle"}},{path:"",redirectTo:h.q.LOGIN,pathMatch:"full"},{path:"**",redirectTo:h.q.NOT_FOUND,pathMatch:"full"}]},{path:"**",redirectTo:"",pathMatch:"full"}],Mp=((wp=function e(){p(this,e)}).\u0275fac=function(e){return new(e||wp)},wp.\u0275mod=u.Ob({type:wp}),wp.\u0275inj=u.Nb({imports:[[v.g.forRoot(xp,{scrollPositionRestoration:"top",useHash:!1,onSameUrlNavigation:"reload"})],v.g]}),wp),Ep=i("pLZG"),Wp=i("/uUt"),Pp=i("IzEk"),Fp=function(e){return{minute:e}},_p=((Np=function(e){s(a,e);var t=c(a);function a(e,n,i,r,o){var s;return p(this,a),(s=t.call(this)).data=e,s.dialog=n,s.dialogRef=i,s.idle=r,s.changeRef=o,s.showCancel=!1,s.displayMin="2",s}return f(a,[{key:"ngOnInit",value:function(){var e=this;setTimeout(function(){e.displayMin="1"},6e4),this.clearTimeout=setTimeout(function(){e.dialogRef.close(!1),e.dialog.open(bs,{disableClose:!0})},12e4)}},{key:"closeModal",value:function(e){e||this.commonService.logoutAndRouteToLogin(),this.dialogRef.close(e)}},{key:"ngOnDestroy",value:function(){clearInterval(this.clearTimeout)}}]),a}(S.a)).\u0275fac=function(e){return new(e||Np)(u.Qb(za.a),u.Qb(za.b),u.Qb(za.h),u.Qb(ps.b),u.Qb(u.h))},Np.\u0275cmp=u.Kb({type:Np,selectors:[["app-session-management"]],inputs:{showCancel:"showCancel"},features:[u.Ab],decls:24,vars:16,consts:[[1,"mat-modal-delete-document"],[1,"position-absolute","top-10","right-10"],["mat-dialog-close","",1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"my-20"],[1,"d-block"],[1,"row"],[1,"col-12","col-sm"],["mat-stroked-button","","type","button",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mt-15",3,"click"],["mat-raised-button","","type","button",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","mt-15",3,"click"]],template:function(e,t){1&e&&(u.Wb(0,"div",0),u.Wb(1,"div",1),u.Wb(2,"button",2),u.hc("click",function(){return t.closeModal(!0)}),u.Rb(3,"img",3),u.Vb(),u.Vb(),u.Wb(4,"h4"),u.Wb(5,"span"),u.Oc(6),u.mc(7,"translate"),u.Vb(),u.Vb(),u.Rb(8,"hr",4),u.Wb(9,"mat-dialog-content"),u.Wb(10,"span"),u.Oc(11),u.mc(12,"translate"),u.Vb(),u.Vb(),u.Rb(13,"hr",4),u.Wb(14,"mat-dialog-actions",5),u.Wb(15,"div",6),u.Wb(16,"div",7),u.Wb(17,"button",8),u.hc("click",function(){return t.closeModal(!1)}),u.Oc(18),u.mc(19,"translate"),u.Vb(),u.Vb(),u.Wb(20,"div",7),u.Wb(21,"button",9),u.hc("click",function(){return t.closeModal(!0)}),u.Oc(22),u.mc(23,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.Db(3),u.vc("src","",t.getGlobalImagePath,"/close-btn.png",u.Hc),u.Db(3),u.Pc(u.nc(7,5,"commonSections.headerLabel.label3")),u.Db(5),u.Pc(u.oc(12,7,"commonSections.pageDetails.para1",u.xc(14,Fp,t.displayMin))),u.Db(7),u.Qc(" ",u.nc(19,10,"commonSections.buttons.button2")," "),u.Db(4),u.Qc(" ",u.nc(23,12,"commonSections.buttons.button1")," "))},directives:[za.d,za.f,za.c,O.a],pipes:[I.d],encapsulation:2}),Np),Rp=i("4h0v"),Gp=i("BU3v");function Up(e,t){if(1&e&&(u.Wb(0,"div",1),u.Wb(1,"span",2),u.Oc(2),u.Vb(),u.Rb(3,"i",3),u.Vb()),2&e){var a=u.lc();u.tc("ngClass",null!=a.receivedMessage&&a.receivedMessage.isError?"alert alert-info":"alert alert-primary"),u.Db(2),u.Pc(null==a.receivedMessage?null:a.receivedMessage.message)}}var Bp,jp=((Bp=function(){function e(){p(this,e),this.showMessage=!1}return f(e,[{key:"ngOnChanges",value:function(){var e=this;this.showMessage=!0,setTimeout(function(){e.showMessage=!1},5e3)}}]),e}()).\u0275fac=function(e){return new(e||Bp)},Bp.\u0275cmp=u.Kb({type:Bp,selectors:[["app-notification"]],inputs:{receivedMessage:"receivedMessage"},features:[u.Bb],decls:1,vars:1,consts:[["class","border-0 border-brand-blue border-top-4 fade fixed-top pr-35 rounded-0 show z-index-1090","role","alert",3,"ngClass",4,"ngIf"],["role","alert",1,"border-0","border-brand-blue","border-top-4","fade","fixed-top","pr-35","rounded-0","show","z-index-1090",3,"ngClass"],[1,"c-brand-blue"],["data-dismiss","alert",1,"c-brand-blue","fa","fa-times-circle-o","fs-25","position-absolute","right-8","top-10","cursor-pointer"]],template:function(e,t){1&e&&u.Mc(0,Up,4,2,"div",0),2&e&&u.tc("ngIf",!(null==t.receivedMessage||!t.receivedMessage.message)&&t.showMessage)},directives:[D.o,D.m],encapsulation:2}),Bp);function Yp(e,t){if(1&e){var a=u.Xb();u.Wb(0,"a",9),u.hc("click",function(){return u.Fc(a),u.lc().routeToDashboard()}),u.Rb(1,"img",10),u.Vb()}if(2&e){var n=u.lc();u.Db(1),u.uc("src",null==n.sessionService.resourceGroupData?null:n.sessionService.resourceGroupData.embassylogolink,u.Hc)}}function Qp(e,t){if(1&e){var a=u.Xb();u.Wb(0,"a",9),u.hc("click",function(){return u.Fc(a),u.lc().routeToDashboard()}),u.Rb(1,"img",11),u.Vb()}if(2&e){var n=u.lc();u.Db(1),u.vc("src","",n.getGlobalImagePath,"/vfs-global-logo.png",u.Hc)}}function qp(e,t){if(1&e){var a=u.Xb();u.Wb(0,"a",17),u.hc("click",function(){u.Fc(a);var e=t.$implicit;return u.lc(3).languageSelection(e.code)}),u.Oc(1),u.Vb()}if(2&e){var n=t.$implicit;u.Db(1),u.Pc(n.languagename)}}var Hp=function(){return[]};function Kp(e,t){if(1&e&&(u.Wb(0,"div",15),u.Mc(1,qp,2,1,"a",16),u.Vb()),2&e){var a=u.lc(2);u.Db(1),u.tc("ngForOf",a.allowedLanguages||u.wc(1,Hp))}}function zp(e,t){if(1&e&&(u.Wb(0,"div",12),u.Wb(1,"button",13),u.Oc(2),u.Vb(),u.Mc(3,Kp,2,2,"div",14),u.Vb()),2&e){var a=u.lc();u.Db(1),u.tc("ngClass",(null==a.allowedLanguages?null:a.allowedLanguages.length)>0?"btn border dropdown-toggle":"btn border"),u.Db(1),u.Qc(" ",a.currentLanguage," "),u.Db(1),u.tc("ngIf",(null==a.allowedLanguages?null:a.allowedLanguages.length)>0)}}function $p(e,t){1&e&&u.Rb(0,"button",18)}function Zp(e,t){if(1&e){var a=u.Xb();u.Wb(0,"div",19),u.Wb(1,"ul",20),u.Wb(2,"li",21),u.Wb(3,"a",22),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Wb(6,"div",23),u.Wb(7,"a",24),u.hc("click",function(){return u.Fc(a),u.lc().routeToDashboard()}),u.Oc(8),u.mc(9,"translate"),u.Vb(),u.Rb(10,"div",25),u.Wb(11,"a",26),u.hc("click",function(){return u.Fc(a),u.lc().logout()}),u.Oc(12),u.mc(13,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()}2&e&&(u.Db(4),u.Qc(" ",u.nc(5,3,"header.headerLabel.label1")," "),u.Db(4),u.Pc(u.nc(9,5,"header.headerLabel.label2")),u.Db(4),u.Qc(" ",u.nc(13,7,"header.headerLabel.label3")," "))}function Jp(e,t){if(1&e){var a=u.Xb();u.Wb(0,"div",19),u.Wb(1,"ul",20),u.Wb(2,"li",21),u.Wb(3,"a",27),u.hc("click",function(){return u.Fc(a),u.lc().logout()}),u.Oc(4),u.mc(5,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb()}2&e&&(u.Db(4),u.Qc(" ",u.nc(5,1,"header.headerLabel.label13")," "))}var Xp=function(e){return{"active cursor-pointer":e}},eb=function(e){return{active:e}};function tb(e,t){if(1&e){var a=u.Xb();u.Ub(0),u.Wb(1,"li",33),u.hc("click",function(){u.Fc(a);var e=t.index;return u.lc(2).checkAndNavigateToModule(e+1)}),u.Wb(2,"a",34),u.Wb(3,"span",35),u.Oc(4),u.Vb(),u.Wb(5,"span",36),u.Oc(6,"\u2713"),u.Vb(),u.Wb(7,"span",37),u.Oc(8),u.mc(9,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Tb()}if(2&e){var n=t.$implicit,i=t.index,r=u.lc(2);u.Db(1),u.tc("ngClass",u.xc(6,Xp,r.cmpltdFieldIdx>=i||r.currentModuleIdx===i)),u.Db(1),u.tc("ngClass",u.xc(8,eb,r.cmpltdFieldIdx>=i)),u.Db(2),u.Pc(i+1),u.Db(4),u.Pc(u.nc(9,4,null==n?null:n.displayName))}}function ab(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"li",38),u.Wb(2,"span",39),u.Oc(3),u.mc(4,"translate"),u.Vb(),u.Rb(5,"br"),u.Wb(6,"span",40),u.Oc(7),u.mc(8,"number"),u.Vb(),u.Vb(),u.Tb()),2&e){var a=u.lc(2);u.Db(3),u.Pc(u.nc(4,3,"header.headerLabel.label15")),u.Db(4),u.Rc("",a.currencyCode&&"null"!=a.currencyCode?a.currencyCode:""," ",u.oc(8,5,a.cartAmount,"1.2-2"),"")}}function nb(e,t){if(1&e&&(u.Wb(0,"div",28),u.Wb(1,"div",29),u.Wb(2,"ul",30),u.Mc(3,tb,10,10,"ng-container",31),u.Mc(4,ab,9,8,"ng-container",32),u.Vb(),u.Vb(),u.Vb()),2&e){var a=u.lc();u.Db(3),u.tc("ngForOf",a.headerData)("ngForTrackBy",a.trackByFn),u.Db(1),u.tc("ngIf",a.cartAmount&&"0"!=a.cartAmount)}}var ib,rb,ob,sb=((rb=function(e){s(a,e);var t=c(a);function a(e){var n,i;return p(this,a),(n=t.call(this)).contentfulService=e,n.isUserLoggedIn=!1,n.headerData=[],n.sendMessage={},n.isDraftVisible=!1,n.currentModuleIdx=-1,n.embassylogolink=(null===(i=n.sessionService.resourceGroupData)||void 0===i?void 0:i.embassylogolink)||null,n.isvfsLogoDisabled=n.sessionService.isVFSLogoDisabled,n.currencyCode="",n.cartAmount="",n.cmpltdFieldIdx=0,n.currentLanguage="",n.subs.sink=n.router.events.subscribe(function(e){n.currentLanguage="tl"==window.location.pathname.split("/")[2]?"Filipino":Gp.a.getName(window.location.pathname.split("/")[2])}),n}return f(a,[{key:"ngOnInit",value:function(){this.registerLoginEvent(),this.trackCurrentModule(),this.handleAlertBar(),this.subscribeNavigationEnd(),this.totalFees()}},{key:"totalFees",value:function(){var e=this;this.subs.sink=this.dataShareService.cartAmount.subscribe(function(t){e.cartAmount=t,e.currencyCode=e.sessionService.currencyCode||""})}},{key:"checkAndNavigateToModule",value:function(e){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.sessionService.applicantAplhaId){e.next=3;break}return e.abrupt("return");case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}},e,this,[[0,5]])}))}},{key:"getApplicationIdx",value:function(e){var t=this;try{if(!e)return;return this.headerData.findIndex(function(a){return t.utilityService.strictCompare(a.logicalName,e)})}catch(a){throw a}}},{key:"onSuccessfulLogin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:try{this.loadNavbar(),this.registerSchemaChange(),this.isUserLoggedIn="boolean"!=typeof e?Boolean(JSON.parse(e)):Boolean(e)}catch(a){console.log(a)}case 1:case"end":return t.stop()}},t,this)}))}},{key:"loadNavbar",value:function(){try{var e=this.extractHeaderData(this.sessionService.getAllModulesSchema());e||this.sessionService.updateLoginStatus(!1),this.headerData=e}catch(t){throw t}}},{key:"registerSchemaChange",value:function(){var e=this;this.subs.sink=this.sessionService.appSchema$.subscribe(function(){e.loadNavbar()})}},{key:"extractHeaderData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(function(e){return Object({displayName:e.displayName,routeUrl:e.routeUrl,logicalName:e.logicalName,displayPosition:e.displayPosition})})}},{key:"logout",value:function(){this.utilityService.pushDataLayerGA({dl_event:"dashboard_page",dl_category:"Dashboard Page",dl_action:"Sign Out",dl_label:"cta_click"}),this.dataShareService.cartAmount.next(""),this.commonService.logoutAndRouteToLogin()}},{key:"registerLoginEvent",value:function(){var e=this;this.subs.sink=this.sessionService.isLoggedIn.subscribe(function(t){var a="boolean"!=typeof t?Boolean(JSON.parse(t)):Boolean(t);a?e.onSuccessfulLogin(a):e.isUserLoggedIn=!1})}},{key:"viewButton",get:function(){try{return this.isDraftVisible&&!this.isDashboard&&this.utilityService.strictCompare(this.router.url.indexOf(h.q.REVIEW_AND_PAY),-1)&&this.utilityService.strictCompare(this.router.url.indexOf(h.q.DOCUMENT_UPLOAD),-1)&&this.utilityService.strictCompare(this.router.url.indexOf(h.q.PAYMENT_GATEWAY),-1)&&this.utilityService.strictCompare(this.router.url.indexOf(h.q.PAYMENT_CONFIRMATION),-1)}catch(e){return!1}}},{key:"trackCurrentModule",value:function(){var e=this;this.subs.sink=this.coreSessionService.currentModule$.pipe(Object(Wp.a)()).subscribe(function(t){e.isDraftVisible=!1,t&&t.hasOwnProperty("displayPosition")&&(e.isDraftVisible=e.utilityService.strictCompare(h.c.SAVE_AS_DRAFT_EXCEPTION_LIST.indexOf(t.logicalName),-1),e.setCurrentModuleIdx(null==t?void 0:t.logicalName))})}},{key:"setCurrentModuleIdx",value:function(e){try{this.currentModuleIdx=this.getApplicationIdx(e)}catch(t){console.log(t)}}},{key:"handleAlertBar",value:function(){var e=this;this.sendMessage={},this.subs.sink=this.commonService.showAlertBar$.subscribe(function(t){e.sendMessage=t})}},{key:"setCmpltdFieldIdx",value:function(e){this.cmpltdFieldIdx=e}},{key:"routeToDashboard",value:function(){this.isUserLoggedIn?(this.commonService.setSessionValues(null,null,null,null,null),this.sessionService.applicationStatus="",this.setCmpltdFieldIdx(0),this.commonService.stopTimeOut(),this.commonService.routeToDashboard()):this.commonService.routeToLogin()}},{key:"viewHeader",get:function(){try{return!!(this.isUserLoggedIn&&this.headerData&&!this.isDashboard&&this.headerData.length>0&&this.utilityService.strictCompare(h.c.NAVBAR_EXCEPTION_LIST.indexOf(this.router.url),-1))}catch(e){return console.log(e),!1}}},{key:"showDropDown",get:function(){var e=this;try{return this.sessionService.loginStatus&&!h.c.DROP_DOWN_EXCLUDE_ROUTE.some(function(t){return e.router.url.indexOf(t)>=0})}catch(t){return console.log(t),!1}}},{key:"showLanguageDropdown",get:function(){try{return!this.sessionService.loginStatus}catch(e){return console.log(e),!1}}},{key:"isDashboard",get:function(){try{return this.router.url.indexOf(h.q.DASHBOARD)>-1||this.router.url.indexOf(h.q.ADDITIONAL_DOCUMENT)>-1||this.router.url.indexOf(h.q.PAYMENT_CONFIRMATION)>-1||this.router.url.indexOf(h.q.REVIEW_APPLICATION)>-1||this.router.url.indexOf(h.q.NOT_FOUND)>-1||this.router.url.indexOf(h.q.UPDATE_CATEGORY)>-1}catch(e){console.log(h.d.INVALID_URL)}}},{key:"subscribeNavigationEnd",value:function(){var e=this;try{this.subs.sink=this.router.events.pipe(Object(Ep.a)(function(e){return e instanceof v.c}),Object(Wp.a)()).subscribe(function(t){t instanceof v.c&&e.handleTitleHighlight(t.url)})}catch(t){console.log(t)}}},{key:"languageSelection",value:function(e){var t="/"+this.sessionService.countryCode+"/"+e+"/"+this.sessionService.tenent+"/"+h.q.LOGIN;this.utilityService.handleCaptcha(),this.contentfulService.getResourceGroup(e),this.isPtFlow?window.location.replace(t):this.router.navigateByUrl(t)}},{key:"allowedLanguages",get:function(){return this.sessionService.appMissionLanguage}},{key:"handleTitleHighlight",value:function(e){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a,n,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=h.c.NAVBAR_EXCEPTION_LIST,n=e.split("/").pop(),this.utilityService.strictCompare(a.indexOf(n),-1)&&this.sessionService.loginStatus){t.next=4;break}return t.abrupt("return");case 4:return i=this.getApplicationIdx(this.sessionService.completedModuleName),t.abrupt("return",(this.setCmpltdFieldIdx(i),this.utilityService.strictCompare(n,"services")&&this.setCurrentModuleIdx(h.f.SERVICES),void(this.utilityService.strictCompare(n,"review-pay")&&this.setCurrentModuleIdx(h.f.REVIEW_PAYMENT))));case 8:t.prev=8,t.t0=t.catch(0),Object(Fs.a)(t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])}))}},{key:"saveApplicationAsDraft",value:function(){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{this.routeToDashboard()}catch(t){console.log("Error Status: ".concat(t.status,"\nMessage: ").concat(t.message))}case 1:case"end":return e.stop()}},e,this)}))}}]),a}(S.a)).\u0275fac=function(e){return new(e||rb)(u.Qb(ve.a))},rb.\u0275cmp=u.Kb({type:rb,selectors:[["header"]],features:[u.Ab],decls:11,vars:8,consts:[[1,"navbar"],[1,"container","navbar-expand-sm"],["class","navbar-brand cursor-pointer",3,"click",4,"ngIf"],[1,"ml-auto"],["class","dropdown",4,"ngIf"],["class","navbar-toggler","type","button","data-toggle","collapse","data-target",".navbarToggle","aria-expanded","false",4,"ngIf"],["class","collapse navbar-collapse navbarToggle",4,"ngIf"],[3,"receivedMessage"],["class","steps",4,"ngIf"],[1,"navbar-brand","cursor-pointer",3,"click"],["alt","LIFT VFS Global",2,"width","120px",3,"src"],["alt","LIFT VFS Global",3,"src"],[1,"dropdown"],["type","button","id","dropdownMenuButton","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",3,"ngClass"],["class","dropdown-menu","aria-labelledby","dropdownMenuButton",4,"ngIf"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu"],["class","dropdown-item","href","javascript:void(0);",3,"click",4,"ngFor","ngForOf"],["href","javascript:void(0);",1,"dropdown-item",3,"click"],["type","button","data-toggle","collapse","data-target",".navbarToggle","aria-expanded","false",1,"navbar-toggler"],[1,"collapse","navbar-collapse","navbarToggle"],[1,"navbar-nav","ml-auto","align-items-sm-center"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle","c-brand-orange"],["aria-labelledby","navbarDropdown",1,"dropdown-menu","dropdown-menu-right","mb-15","cursor-pointer"],[1,"dropdown-item",3,"click"],[1,"dropdown-divider"],[1,"dropdown-item","bg-brand-orange","text-white","cursor-pointer","c-inherit",3,"click"],[1,"nav-link","c-inherit","cursor-pointer",3,"click"],[1,"steps"],[1,"container"],[1,"steps-nav","navbar-nav","navbar-expand-lg"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"nav-item",3,"ngClass","click"],[1,"nav-link",3,"ngClass"],[1,"sr-num"],[1,"check-mark"],[1,"name","text-wrap"],[1,"nav-item","total-amt"],[1,"c-brand-grey-para","fs-13","fs-lg-inherit"],[1,"c-brand-green","fs-13","fs-lg-inherit","text-overflow"]],template:function(e,t){1&e&&(u.Wb(0,"div",0),u.Wb(1,"div",1),u.Mc(2,Yp,2,1,"a",2),u.Mc(3,Qp,2,1,"a",2),u.Rb(4,"span",3),u.Mc(5,zp,4,3,"div",4),u.Mc(6,$p,1,0,"button",5),u.Mc(7,Zp,14,9,"div",6),u.Mc(8,Jp,6,3,"div",6),u.Vb(),u.Vb(),u.Rb(9,"app-notification",7),u.Mc(10,nb,5,3,"div",8)),2&e&&(u.Db(2),u.tc("ngIf",t.sessionService.isVFSLogoDisabled),u.Db(1),u.tc("ngIf",!t.sessionService.isVFSLogoDisabled),u.Db(2),u.tc("ngIf",t.showLanguageDropdown),u.Db(1),u.tc("ngIf",t.showDropDown),u.Db(1),u.tc("ngIf",t.showDropDown&&!t.isDashboard),u.Db(1),u.tc("ngIf",t.showDropDown&&t.isDashboard),u.Db(1),u.tc("receivedMessage",t.sendMessage),u.Db(1),u.tc("ngIf",t.viewHeader))},directives:[Lt.f,D.o,jp,D.m,D.n],pipes:[I.d,D.f],encapsulation:2}),rb),lb=((ib=function(){function e(){p(this,e)}return f(e,[{key:"onKeyDown",value:function(e){if(!y.a.localReload&&(116===(e.which||e.keyCode)||82===e.keyCode&&e.ctrlKey))return e.preventDefault(),!1;if(8===e.keyCode||8===e.which||"Backspace"===e.code){var t=!0,a=e.target;if(!a.disabled&&!e.target.readOnly)if(a.isContentEditable)t=!1;else if("INPUT"===a.nodeName){var n=a.type;n&&(n=n.toLowerCase()),["text","password","file","search","email","number","date","color","datetime","datetime-local","month","range","search","tel","time","url","week"].indexOf(n)>-1&&(t=!1)}else"TEXTAREA"===a.nodeName&&(t=!1);if(t)return e.preventDefault(),!1}}}]),e}()).\u0275fac=function(e){return new(e||ib)},ib.\u0275dir=u.Lb({type:ib,selectors:[["","appKeydown",""]],hostBindings:function(e,t){1&e&&u.hc("keydown",function(e){return t.onKeyDown(e)},!1,u.Dc)}}),ib),cb=i("gren"),ub=i("kiQV"),db=((ob=function(){function e(t){p(this,e),this.utilityService=t,this.version=ub.version}return f(e,[{key:"ngOnInit",value:function(){this.currentYear=this.utilityService.momentInstance().year()}}]),e}()).\u0275fac=function(e){return new(e||ob)(u.Qb(ye.a))},ob.\u0275cmp=u.Kb({type:ob,selectors:[["footer"]],decls:3,vars:5,consts:[[1,"container","c-brand-grey-para","py-15"]],template:function(e,t){1&e&&(u.Wb(0,"div",0),u.Oc(1),u.mc(2,"translate"),u.Vb()),2&e&&(u.Db(1),u.Sc(" AR-",t.version," \xa9 ",t.currentYear," ",u.nc(2,3,"footer.pageDetails.para1")," "))},pipes:[I.d],encapsulation:2}),ob);function mb(e,t){1&e&&u.Rb(0,"footer",3)}var pb,bb,fb,vb,gb,hb,yb=function(e){return{"logged-in":e}},Sb=((pb=function(e){s(a,e);var t=c(a);function a(e,n,i,r,o,s,l,c,u,d,m,b,f){var v;return p(this,a),(v=t.call(this)).sessionService=e,v.router=n,v.commonService=i,v.idle=r,v.element=o,v.changeRef=s,v.dialog=l,v.utilityService=c,v.translate=u,v.renderer=d,v.activatedRoute=m,v.contentfulService=b,v.meta=f,v.count=0,v.initAppFundamentals(),v.meta.addTag({name:"google-site-verification",content:y.a.contentForMetaTag}),v}return f(a,[{key:"ngAfterViewInit",value:function(){var e=this.renderer.selectRootElement("#loader");this.renderer.setStyle(e,"display","none")}},{key:"ngOnInit",value:function(){this.utilityService.setTitle();var e="boolean"!=typeof this.sessionService.loginStatus?Boolean(JSON.parse(this.sessionService.loginStatus)):Boolean(this.sessionService.loginStatus),t=window.location.pathname;e&&!y.a.localReload&&-1===t.indexOf(h.q.PAYMENT_CONFIRMATION)&&this.commonService.logoutAndRouteToLogin()}},{key:"initAppFundamentals",value:function(){try{this.utilityService.handleCaptcha(),y.a.production&&(this.utilityService.appendScriptForCookies(),this.utilityService.appendGaTrackingCode()),this.sessionService.loginStatus||this.sessionService.clearSession(),this.subscribeNavigationEnd(),this.registerLoginEvent(),this.initializeErrors(),this.commonService.loadClientIp(),this.contentfulService.loadCaptchaRoute()}catch(e){this.logger.error(e)}}},{key:"subscribeNavigationEnd",value:function(){var e=this;try{this.subs.sink=this.router.events.pipe(Object(Ep.a)(function(e){return e instanceof v.c}),Object(Wp.a)()).subscribe(function(t){var a;if(t instanceof v.c){(null===(a=t.url.split("/")[4])||void 0===a?void 0:a.includes(h.q.PAYMENT_CONFIRMATION))?e.translate.use(e.sessionService.appLanguageCode||y.a.defaultLang):(e.translate.use(t.url.split("/")[2]),e.translate.get("culturecode").subscribe(function(t){t&&(e.sessionService.appCultureCode=t)}),e.translate.addLangs([t.url.split("/")[2]])),y.a.localReload||e.utilityService.disableBrowserBack(),y.a.production&&e.utilityService.fireGAEvent(),e.utilityService.closeAllDialog(),e.urlValidation(t.url);var n=e.utilityService.getChild(e.activatedRoute);e.subs.sink=n.data.subscribe(function(t){e.utilityService.translationTitleService(t.title)})}})}catch(t){console.log(t)}}},{key:"urlValidation",value:function(e){var t=this;if(e.split("/")[2]&&e.length>=3)if(this.sessionService.getLoggedEmail()){if(e.split("/")[3]!==this.sessionService.tenent||e.split("/")[1]!==this.sessionService.countryCode||e.split("/")[2]!==this.sessionService.appLanguageCode){if(e.split("/")[4].includes(h.q.PAYMENT_CONFIRMATION)){var a="".concat(this.sessionService.countryCode,"/").concat(this.sessionService.appLanguageCode,"/").concat(this.sessionService.tenent,"/").concat(e.split("/")[4]);return setTimeout(function(){t.translate.use(t.sessionService.appLanguageCode||y.a.defaultLang)},1e3),void this.router.navigateByUrl(a)}return void this.commonService.routeToDashboard()}}else this.sessionService.tenent=e.split("/")[3],this.sessionService.countryCode=e.split("/")[1],this.sessionService.appLanguageCode=e.split("/")[2]}},{key:"initializeErrors",value:function(){var e=this;this.subs.sink=this.sessionService.getErrors().pipe(Object(Pp.a)(1)).subscribe(function(t){e.openUnauthorizedPop()})}},{key:"registerLoginEvent",value:function(){var e=this;this.subs.sink=this.sessionService.isLoggedIn.subscribe(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];("boolean"!=typeof t?Boolean(JSON.parse(t)):Boolean(t))&&e.sessionStarts()})}},{key:"setNavBarClassStatus",get:function(){try{var e=this.router.url.split("/").pop();return!!e&&this.utilityService.strictCompare(h.c.NAVBAR_EXCEPTION_LIST.indexOf(e),-1)&&!!this.sessionService.loginStatus}catch(t){return console.log(t),!1}}},{key:"sessionStarts",value:function(){var e=this;this.idle.setIdle(y.a.sessionTime),this.idle.setInterrupts([new ps.a(this.element.nativeElement,"keydown DOMMouseScroll mousewheel mousedown touchstart touchmove scroll")]),this.idleOnTimeout$=this.idle.onIdleStart.subscribe(function(){e.count++,1===e.count&&e.sessionService.getJWT()&&e.openSessionPopup()}),this.reset()}},{key:"reset",value:function(){this.idle.watch()}},{key:"refreshUserState",value:function(){this.idle.isIdling()||this.reset()}},{key:"openSessionPopup",value:function(){var e=this;this.dialog.open(_p,{disableClose:!0}).afterClosed().subscribe(function(t){t?(e.count=0,e.reset(),e.changeRef.markForCheck()):(e.count=0,e.idle.stop(),e.idle.ngOnDestroy(),e.changeRef.markForCheck(),e.idleOnTimeout$.unsubscribe())},function(t){e.count=0,e.idle.stop(),e.idle.ngOnDestroy(),e.changeRef.markForCheck(),e.idleOnTimeout$.unsubscribe()})}},{key:"openUnauthorizedPop",value:function(){var e=this,t=this.dialog.open(ms);this.utilityService.stopNgxUiSpinner(),this.subs.sink=t.afterClosed().subscribe(function(t){!0===t&&e.commonService.logoutAndRouteToLogin()})}}]),a}(Rp.a)).\u0275fac=function(e){return new(e||pb)(u.Qb(fe.a),u.Qb(v.f),u.Qb(Dt.a),u.Qb(ps.b),u.Qb(u.l),u.Qb(u.h),u.Qb(za.b),u.Qb(ye.a),u.Qb(I.e),u.Qb(u.F),u.Qb(v.a),u.Qb(ve.a),u.Qb(l.c))},pb.\u0275cmp=u.Kb({type:pb,selectors:[["app-root"]],hostBindings:function(e,t){1&e&&u.hc("mousemove",function(){return t.refreshUserState()},!1,u.Ec)},features:[u.Ab],decls:5,vars:4,consts:[[1,"header-main","bg-white","fixed-top",3,"ngClass"],["appKeydown","",1,"clearfix","main-container"],["class","footer-bottom mt-auto",4,"ngIf"],[1,"footer-bottom","mt-auto"]],template:function(e,t){1&e&&(u.Rb(0,"header",0),u.Wb(1,"div",1),u.Rb(2,"router-outlet"),u.Vb(),u.Mc(3,mb,1,0,"footer",2),u.Rb(4,"ngx-ui-loader")),2&e&&(u.tc("ngClass",u.xc(2,yb,t.setNavBarClassStatus)),u.Db(3),u.tc("ngIf","undefined"!==(null==t.sessionService?null:t.sessionService.tenent)))},directives:[sb,D.m,lb,v.h,D.o,cb.d,db],encapsulation:2}),pb),Cb=i("R1ws"),Db=i("iadO"),Ib=i("WJ5W"),Vb=i("NFeN"),kb=[Db.c,Vb.b,k.c,A.b,O.b,wt.b,Mt.b,Db.c,Et.i,wt.b,k.c,he.c,C.c,bn.b,za.g,an.c,Ib.a,V.d,Lt.a],Ab=((bb=function e(){p(this,e)}).\u0275fac=function(e){return new(e||bb)},bb.\u0275mod=u.Ob({type:bb}),bb.\u0275inj=u.Nb({imports:[[D.c].concat(kb),Db.c,Vb.b,k.c,A.b,O.b,wt.b,Mt.b,Db.c,Et.i,wt.b,k.c,he.c,C.c,bn.b,za.g,an.c,Ib.a,V.d,Lt.a]}),bb),Ob=i("r3oX"),Tb=[b.k,b.v,D.c,Ab,xt.b,Ob.a,mi.b],Lb=((fb=function e(){p(this,e)}).\u0275fac=function(e){return new(e||fb)},fb.\u0275mod=u.Ob({type:fb}),fb.\u0275inj=u.Nb({providers:[{provide:Lt.c,useClass:Wt.g}],imports:[[Tb,I.c.forChild(),Lt.e],b.k,b.v,D.c,Ab,xt.b,Ob.a,mi.b,I.c]}),fb),wb=i("Yt5x"),Nb=i("Cfvw"),xb=i("vkgz"),Mb=i("JIr8"),Eb=i("I65S"),Wb=((vb=function(){function e(t,a,n,i){var r=this;p(this,e),this.sessionService=t,this.commonService=a,this.logger=n,this.utilityService=i,this.responseCacheMap=new Map,this.postReqBodyMap=new Map,this.captchaAttempt=0;try{this.subscriptions$=this.sessionService.isLoggedIn.subscribe(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!("boolean"!=typeof e?Boolean(JSON.parse(e)):Boolean(e))&&r.subscriptions$&&(r.responseCacheMap=new Map,r.postReqBodyMap=new Map)})}catch(o){console.log(o)}}return f(e,[{key:"intercept",value:function(e,t){var a=this.responseCacheMap.get(e.urlWithParams);if(this.utilityService.strictCompare(e.method,h.c.HTTP_METHODS.GET)){if(a)return Object(Eb.of)(a)}else if(this.utilityService.strictCompare(e.method,h.c.HTTP_METHODS.POST)&&a){if(e.url.indexOf(h.c.api.appointmentFees)>-1&&this.sessionService.updateFees)return this.getDataFromApi(e,t);var n=JSON.parse(JSON.stringify(e.body));if(this.postReqBodyMap.get(JSON.stringify(n)))return Object(Eb.of)(a)}return Object(Nb.a)(this.addCaptchaPayload(e,t))}},{key:"addCaptchaPayload",value:function(e,t){return Object(g.b)(this,void 0,void 0,regeneratorRuntime.mark(function a(){var n,i,o,s,l;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if((n=this.sessionService.captchaConfiguration.find(function(t){return e.url.includes(t.api_url)}))&&"v3"===this.sessionService.captchaMode){a.next=3;break}return a.abrupt("return",this.getDataFromApi(e,t));case 3:return a.next=5,this.utilityService.executeCapctha(n.action);case 5:return i=a.sent,this.utilityService.strictCompare(e.method,h.c.HTTP_METHODS.GET)&&(o=(o=(o=e.params).append(n.captcha_key,i)).append("captcha_version",this.sessionService.captchaMode),e=e.clone({params:o})),this.utilityService.strictCompare(e.method,h.c.HTTP_METHODS.POST)&&(l=e.detectContentTypeHeader(),e=e.clone("application/x-www-form-urlencoded;charset=UTF-8"===l?{body:e.body.append(n.captcha_key,i).append("captcha_version",this.sessionService.captchaMode)}:{body:Object.assign(Object.assign({},e.body),(s={},r(s,n.captcha_key,i),r(s,"captcha_version",this.sessionService.captchaMode),s))})),a.abrupt("return",this.getDataFromApi(e,t));case 9:case"end":return a.stop()}},a,this)}))}},{key:"getDataFromApi",value:function(e,t){var a=this;try{return t.handle(this.modifyRequest(e)).pipe(Object(xb.a)(function(t){t instanceof Ou.i&&a.cacheResponse(e,t)}),Object(tn.a)(function(e){return a.modifyResponse(e)}),Object(Mb.a)(function(e){return a.handleError(e)})).toPromise()}catch(n){this.logger.error(n)}}},{key:"modifyRequest",value:function(e){e.body&&(e=this.modifyDateFormat(e));var t=e.headers.set("route",window.location.pathname.split("/").slice(1,4).join("/")),a=[h.c.api.loadNationality,h.c.api.masterGender,h.c.api.masterPassportType,h.c.api.masterCourierType,h.c.api.masterCourierSercProvider,h.c.api.masterMission,h.c.api.masterCountry].find(function(t){return e.urlWithParams.indexOf(t)>-1});return e.clone({headers:t,url:a?"".concat(e.url,"/").concat(this.sessionService.appCultureCode):e.url})}},{key:"modifyDateFormat",value:function(e){try{var t=e.clone(),a=this.modifyDateHelper(t.body);return t=t.clone({body:a})}catch(n){return e}}},{key:"modifyDateHelper",value:function(e){try{if("object"==typeof e)for(var t=0,n=Object.keys(e);t<n.length;t++){var i=n[t];if(Array.isArray(e[i])){var r,o=a(e[i]);try{for(o.s();!(r=o.n()).done;){var s=r.value;this.modifyDateHelper(s)}}catch(l){o.e(l)}finally{o.f()}}else"object"==typeof e[i]&&this.isNgbDateObject(e[i])&&(e[i]=this.commonService.constructDate(e[i],Ro.a.D_M_Y_SLASH))}return e}catch(c){throw c}}},{key:"isNgbDateObject",value:function(e){try{return!(!e.hasOwnProperty(Ro.b.month)||!e.hasOwnProperty(Ro.b.year))}catch(t){return!1}}},{key:"modifyResponse",value:function(e){try{this.sessionService.captchaMode="v3";var t=e,a=e;return e&&e.hasOwnProperty("body")&&a.url.indexOf(h.c.api.masterGender)>-1&&(t=e.clone({body:e.body.genders})),e&&e.hasOwnProperty("body")&&a.url.indexOf(h.c.api.masterPassportType)>-1&&(t=e.clone({body:e.body.passportTypes})),e&&e.hasOwnProperty("body")&&a.url.indexOf(h.c.api.masterCourierType)>-1&&(t=e.clone({body:e.body.courierTypes})),e&&e.hasOwnProperty("body")&&a.url.indexOf(h.c.api.masterCourierSercProvider)>-1&&(t=e.clone({body:e.body.courierServiceProviders})),e&&e.hasOwnProperty("body")&&a.url.indexOf(h.c.api.masterState)>-1&&(t=e.clone({body:e.body.states})),this.logger.log("Response: ",t),this.checkForErrorObject(t),t}catch(n){return e}}},{key:"checkForErrorObject",value:function(e){var t=e;if(t.body&&t.body.hasOwnProperty("error")){var a=t.body.error.code;4002===a&&(this.commonService.onResponsesAlertBar({statusCode:a,isError:!0}),this.commonService.logoutAndRouteToLogin())}}},{key:"handleError",value:function(e){if(e instanceof Ou.e){var t=e.url;if(this.sessionService.captchaConfiguration.some(function(e){return t.indexOf(e)>=0})&&this.captchaAttempt<3&&y.a.captchaFallbackEnabled)return this.captchaAttempt++,this.sessionService.captchaMode="v2",Object(Fs.a)(e);if(this.logger.error("Error occured: ",e),e.error instanceof ErrorEvent)return Object(Fs.a)(e);if(!t.includes("logout")&&[400,401,403,429,500,502,504,0].indexOf(e.status)>-1){var a=e.status;return 403!==e.status&&400!==e.status||this.commonService.routeToNotFound(),this.commonService.onResponsesAlertBar({statusCode:a,isError:!0}),this.utilityService.stopNgxUiSpinner(),Object(Fs.a)(e)}return Object(Fs.a)(e)}return Object(Fs.a)(e)}},{key:"cacheResponse",value:function(e,t){try{var a=!1;if(this.utilityService.strictCompare(e.method,h.c.HTTP_METHODS.GET))for(var n=["/master/",h.c.api.vasByVac,h.c.api.appointmentSlots],i=0,r=n;i<r.length;i++){var o=r[i];e.urlWithParams.indexOf(o)>-1&&!this.responseCacheMap.has(e.urlWithParams)&&(e.urlWithParams.endsWith(h.c.api.masterGender)?this.responseCacheMap.set(e.urlWithParams,t.clone({body:t.body.genders})):e.urlWithParams.endsWith(h.c.api.masterPassportType)?this.responseCacheMap.set(e.urlWithParams,t.clone({body:t.body.passportTypes})):e.urlWithParams.endsWith(h.c.api.masterCourierType)?this.responseCacheMap.set(e.urlWithParams,t.clone({body:t.body.courierTypes})):e.urlWithParams.endsWith(h.c.api.masterCourierSercProvider)?this.responseCacheMap.set(e.urlWithParams,t.clone({body:t.body.courierServiceProviders})):e.urlWithParams.indexOf(h.c.api.masterState)>-1?this.responseCacheMap.set(e.urlWithParams,t.clone({body:t.body.states})):this.responseCacheMap.set(e.urlWithParams,t),a=!0)}else if(this.utilityService.strictCompare(e.method,h.c.HTTP_METHODS.POST))for(var s=[h.c.api.appointmentFees],l=0,c=s;l<c.length;l++){var u=c[l];if(e.urlWithParams.indexOf(u)>-1){this.responseCacheMap.set(e.urlWithParams,t);var d=JSON.parse(JSON.stringify(e.body));this.postReqBodyMap.set(JSON.stringify(d),t),a=!0}}return a}catch(m){console.log(m)}}}]),e}()).\u0275fac=function(e){return new(e||vb)(u.dc(fe.a),u.dc(Dt.a),u.dc(em.b),u.dc(ye.a))},vb.\u0275prov=u.Mb({token:vb,factory:vb.\u0275fac,providedIn:"root"}),vb),Pb={bgsColor:"#40543b",fgsColor:"rgba(12,11,11,0.95)",fgsSize:40,logoSize:50,pbColor:"red",hasProgressBar:!1},Fb=i("FbN+"),_b=i("PN1e"),Rb=i("ogxq"),Gb=i("VjyN"),Ub=((gb=function(){function e(t){p(this,e),this.httpClient=t,this.cdaClient=Object(Gb.createClient)(y.a.contentful)}return f(e,[{key:"getTranslation",value:function(){var e=this,t=localStorage.getItem("app_mission_language");t&&JSON.parse(t);var a,n,i=window.location.pathname.split("/");if(a="",window.location.pathname.split("/").indexOf("confirmation")>-1&&(a=localStorage.getItem("app_language_code")||""),a=a||i[2],n=["".concat(i[3]," > ").concat(a," > ").concat(i[1]),"".concat(i[3]," > ").concat(a)],a&&n.push(a),n.push("vfs"),y.a.localtranslation){var r=y.a.defaultLang;this.cultureCode=y.a.defaultCultureCode;var o=this.localLoad(r);return Object(Nb.a)(o)}return Object(Nb.a)(this.cdaClient.getEntries({content_type:"i18n","fields.locale":n.join("&")}).then(function(t){var n;if((null===(n=t.items)||void 0===n?void 0:n.length)>0)return e.cultureCode=t.items[0].fields.languageJson.culturecode||y.a.defaultCultureCode,t.items[0].fields.languageJson;var i=a||"en";return e.cultureCode=y.a.defaultCultureCode,e.localLoad(i)},function(t){var n=a||"en";return e.cultureCode=y.a.defaultCultureCode,e.localLoad(n)}))}},{key:"localLoad",value:function(e){var t=this;return new Promise(function(a,n){t.httpClient.get("_angular/assets/i18n/".concat(e,".json")).subscribe(function(e){a(e)})})}},{key:"cultureCode",set:function(e){localStorage.setItem(h.x,e)}}]),e}()).\u0275fac=function(e){return new(e||gb)(u.dc(Ou.c))},gb.\u0275prov=u.Mb({token:gb,factory:gb.\u0275fac,providedIn:"root"}),gb),Bb=i("LRne"),jb=i("5+tZ"),Yb=i("dkDA"),Qb=i("3E0/"),qb=i("kgNN"),Hb=i("LjYc"),Kb=i("2XTe"),zb=((hb=function(){function e(){p(this,e)}return f(e,[{key:"intercept",value:function(e,t){var a=e.url,n=e.method;return Object(Bb.a)(null).pipe(Object(jb.a)(function(){switch(!0){case a.endsWith(h.c.schema.onBoarding)&&"GET"===n:return i(Kb.onBoarding);case a.endsWith(h.c.schema.forgotPassword)&&"GET"===n:return i(Kb.forgotPassword);case a.endsWith(h.c.schema.login)&&"GET"===n:return i(Kb.login);case a.endsWith(h.c.schema.postLogin)&&"GET"===n:return i(Kb[h.c.SCHEMA.DEFAULT]);case a.match(h.c.api.documentUpload)&&"POST"===n:return i({status:200,message:"success"});case a.endsWith(h.c.data.passportDetails)&&"GET"===n:return i(Hb.passportDetailsData);case a.endsWith("country-code")&&"GET"===n:return i(Hb.countryCodes);case a.endsWith("salutations")&&"GET"===n:return i(Hb.salutations);case a.endsWith("passport-type")&&"GET"===n:return i(Hb.passportType);case a.endsWith("place-of-issue")&&"GET"===n:return i(Hb.placeOfIssue);case a.endsWith("country-of-issue")&&"GET"===n:return i(Hb.countryOfIssue);case a.endsWith("province")&&"GET"===n:return i(Hb.province);case a.endsWith("accomodation")&&"GET"===n:return i([]);case a.endsWith("district")&&"GET"===n:return i(Hb.otherDistricts);case a.endsWith("subDistrict")&&"GET"===n:return i([]);case a.endsWith("district/1")&&"GET"===n:return i(Hb.otherDistricts);case a.endsWith("district/2")&&"GET"===n:return i(Hb.angThongDistricts);case a.endsWith("fingerPrintCollected")&&"GET"===n:return i(Hb.yesNoValue);default:return t.handle(e)}})).pipe(Object(Yb.a)()).pipe(Object(Qb.a)(500)).pipe(Object(qb.a)());function i(e){return Object(Bb.a)(new Ou.i({status:200,body:e}))}}}]),e}()).\u0275fac=function(e){return new(e||hb)},hb.\u0275prov=u.Mb({token:hb,factory:hb.\u0275fac,providedIn:"root"}),hb),$b={provide:Ou.a,useClass:zb,multi:!0},Zb={apiEndPoint:y.a.apiEndPoint,applicationType:y.a.applicationType,getParamsType:y.a.getParamsType};Er.b.registerPlugins([_b.a,Rb.a]);var Jb,Xb=((Jb=function e(t){p(this,e),wb.a.setInjector(t)}).\u0275fac=function(e){return new(e||Jb)(u.dc(u.s))},Jb.\u0275mod=u.Ob({type:Jb,bootstrap:[Sb]}),Jb.\u0275inj=u.Nb({providers:[$b,{provide:Ou.a,useClass:Wb,multi:!0},{provide:u.d,useFactory:function(e){return function(){return e.getMissionLanguage()}},deps:[ve.a],multi:!0},{provide:Et.d,useValue:"en-GB"},D.e],imports:[[l.a,b.k,b.v,Mp,Cb.c,Cb.b,Ou.d,Lt.e,I.c.forRoot({loader:{provide:I.b,useClass:Ub,deps:[Ou.c]}}),xt.b,Lb,mi.b,cb.b.forRoot(Pb),cb.a.forRoot({showForeground:!0}),Fb.a.forRoot(),Wt.f.forRoot(Zb),Er.b,em.a.forRoot({level:em.c.ERROR,serverLogLevel:y.a.serverLogLevel,disableConsoleLogging:y.a.disableConsoleLogging})]]}),Jb);y.a.production&&(Object(u.U)(),window&&(window.console.log=window.console.warn=window.console.info=window.console.error=function(){})),l.e().bootstrapModule(Xb).catch(function(e){return console.error(e)})},zn8P:function(e,t){function a(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id="zn8P"}},[[0,0,5]]])}();